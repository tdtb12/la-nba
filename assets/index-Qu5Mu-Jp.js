(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function $b(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var np={exports:{}},dc={};var r0;function C1(){if(r0)return dc;r0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:s,type:r,key:m,ref:l!==void 0?l:null,props:h}}return dc.Fragment=t,dc.jsx=n,dc.jsxs=n,dc}var a0;function R1(){return a0||(a0=1,np.exports=C1()),np.exports}var w=R1(),ip={exports:{}},Gt={};var o0;function N1(){if(o0)return Gt;o0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.iterator;function O(j){return j===null||typeof j!="object"?null:(j=I&&j[I]||j["@@iterator"],typeof j=="function"?j:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Q={};function st(j,lt,yt){this.props=j,this.context=lt,this.refs=Q,this.updater=yt||q}st.prototype.isReactComponent={},st.prototype.setState=function(j,lt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,lt,"setState")},st.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function at(){}at.prototype=st.prototype;function ot(j,lt,yt){this.props=j,this.context=lt,this.refs=Q,this.updater=yt||q}var pt=ot.prototype=new at;pt.constructor=ot,H(pt,st.prototype),pt.isPureReactComponent=!0;var xt=Array.isArray;function Rt(){}var V={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function P(j,lt,yt){var _t=yt.ref;return{$$typeof:s,type:j,key:lt,ref:_t!==void 0?_t:null,props:yt}}function G(j,lt){return P(j.type,lt,j.props)}function F(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function K(j){var lt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(yt){return lt[yt]})}var k=/\/+/g;function It(j,lt){return typeof j=="object"&&j!==null&&j.key!=null?K(""+j.key):lt.toString(36)}function Jt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Rt,Rt):(j.status="pending",j.then(function(lt){j.status==="pending"&&(j.status="fulfilled",j.value=lt)},function(lt){j.status==="pending"&&(j.status="rejected",j.reason=lt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function nt(j,lt,yt,_t,Et){var At=typeof j;(At==="undefined"||At==="boolean")&&(j=null);var qt=!1;if(j===null)qt=!0;else switch(At){case"bigint":case"string":case"number":qt=!0;break;case"object":switch(j.$$typeof){case s:case t:qt=!0;break;case A:return qt=j._init,nt(qt(j._payload),lt,yt,_t,Et)}}if(qt)return Et=Et(j),qt=_t===""?"."+It(j,0):_t,xt(Et)?(yt="",qt!=null&&(yt=qt.replace(k,"$&/")+"/"),nt(Et,lt,yt,"",function(fs){return fs})):Et!=null&&(F(Et)&&(Et=G(Et,yt+(Et.key==null||j&&j.key===Et.key?"":(""+Et.key).replace(k,"$&/")+"/")+qt)),lt.push(Et)),1;qt=0;var Ee=_t===""?".":_t+":";if(xt(j))for(var Re=0;Re<j.length;Re++)_t=j[Re],At=Ee+It(_t,Re),qt+=nt(_t,lt,yt,At,Et);else if(Re=O(j),typeof Re=="function")for(j=Re.call(j),Re=0;!(_t=j.next()).done;)_t=_t.value,At=Ee+It(_t,Re++),qt+=nt(_t,lt,yt,At,Et);else if(At==="object"){if(typeof j.then=="function")return nt(Jt(j),lt,yt,_t,Et);throw lt=String(j),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return qt}function vt(j,lt,yt){if(j==null)return j;var _t=[],Et=0;return nt(j,_t,"","",function(At){return lt.call(yt,At,Et++)}),_t}function gt(j){if(j._status===-1){var lt=j._result;lt=lt(),lt.then(function(yt){(j._status===0||j._status===-1)&&(j._status=1,j._result=yt)},function(yt){(j._status===0||j._status===-1)&&(j._status=2,j._result=yt)}),j._status===-1&&(j._status=0,j._result=lt)}if(j._status===1)return j._result.default;throw j._result}var Tt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},bt={map:vt,forEach:function(j,lt,yt){vt(j,function(){lt.apply(this,arguments)},yt)},count:function(j){var lt=0;return vt(j,function(){lt++}),lt},toArray:function(j){return vt(j,function(lt){return lt})||[]},only:function(j){if(!F(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Gt.Activity=C,Gt.Children=bt,Gt.Component=st,Gt.Fragment=n,Gt.Profiler=l,Gt.PureComponent=ot,Gt.StrictMode=r,Gt.Suspense=y,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return V.H.useMemoCache(j)}},Gt.cache=function(j){return function(){return j.apply(null,arguments)}},Gt.cacheSignal=function(){return null},Gt.cloneElement=function(j,lt,yt){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var _t=H({},j.props),Et=j.key;if(lt!=null)for(At in lt.key!==void 0&&(Et=""+lt.key),lt)!M.call(lt,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&lt.ref===void 0||(_t[At]=lt[At]);var At=arguments.length-2;if(At===1)_t.children=yt;else if(1<At){for(var qt=Array(At),Ee=0;Ee<At;Ee++)qt[Ee]=arguments[Ee+2];_t.children=qt}return P(j.type,Et,_t)},Gt.createContext=function(j){return j={$$typeof:m,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:h,_context:j},j},Gt.createElement=function(j,lt,yt){var _t,Et={},At=null;if(lt!=null)for(_t in lt.key!==void 0&&(At=""+lt.key),lt)M.call(lt,_t)&&_t!=="key"&&_t!=="__self"&&_t!=="__source"&&(Et[_t]=lt[_t]);var qt=arguments.length-2;if(qt===1)Et.children=yt;else if(1<qt){for(var Ee=Array(qt),Re=0;Re<qt;Re++)Ee[Re]=arguments[Re+2];Et.children=Ee}if(j&&j.defaultProps)for(_t in qt=j.defaultProps,qt)Et[_t]===void 0&&(Et[_t]=qt[_t]);return P(j,At,Et)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(j){return{$$typeof:v,render:j}},Gt.isValidElement=F,Gt.lazy=function(j){return{$$typeof:A,_payload:{_status:-1,_result:j},_init:gt}},Gt.memo=function(j,lt){return{$$typeof:b,type:j,compare:lt===void 0?null:lt}},Gt.startTransition=function(j){var lt=V.T,yt={};V.T=yt;try{var _t=j(),Et=V.S;Et!==null&&Et(yt,_t),typeof _t=="object"&&_t!==null&&typeof _t.then=="function"&&_t.then(Rt,Tt)}catch(At){Tt(At)}finally{lt!==null&&yt.types!==null&&(lt.types=yt.types),V.T=lt}},Gt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Gt.use=function(j){return V.H.use(j)},Gt.useActionState=function(j,lt,yt){return V.H.useActionState(j,lt,yt)},Gt.useCallback=function(j,lt){return V.H.useCallback(j,lt)},Gt.useContext=function(j){return V.H.useContext(j)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(j,lt){return V.H.useDeferredValue(j,lt)},Gt.useEffect=function(j,lt){return V.H.useEffect(j,lt)},Gt.useEffectEvent=function(j){return V.H.useEffectEvent(j)},Gt.useId=function(){return V.H.useId()},Gt.useImperativeHandle=function(j,lt,yt){return V.H.useImperativeHandle(j,lt,yt)},Gt.useInsertionEffect=function(j,lt){return V.H.useInsertionEffect(j,lt)},Gt.useLayoutEffect=function(j,lt){return V.H.useLayoutEffect(j,lt)},Gt.useMemo=function(j,lt){return V.H.useMemo(j,lt)},Gt.useOptimistic=function(j,lt){return V.H.useOptimistic(j,lt)},Gt.useReducer=function(j,lt,yt){return V.H.useReducer(j,lt,yt)},Gt.useRef=function(j){return V.H.useRef(j)},Gt.useState=function(j){return V.H.useState(j)},Gt.useSyncExternalStore=function(j,lt,yt){return V.H.useSyncExternalStore(j,lt,yt)},Gt.useTransition=function(){return V.H.useTransition()},Gt.version="19.2.3",Gt}var l0;function eg(){return l0||(l0=1,ip.exports=N1()),ip.exports}var B=eg();const Sp=$b(B);var sp={exports:{}},mc={},rp={exports:{}},ap={};var u0;function I1(){return u0||(u0=1,(function(s){function t(nt,vt){var gt=nt.length;nt.push(vt);t:for(;0<gt;){var Tt=gt-1>>>1,bt=nt[Tt];if(0<l(bt,vt))nt[Tt]=vt,nt[gt]=bt,gt=Tt;else break t}}function n(nt){return nt.length===0?null:nt[0]}function r(nt){if(nt.length===0)return null;var vt=nt[0],gt=nt.pop();if(gt!==vt){nt[0]=gt;t:for(var Tt=0,bt=nt.length,j=bt>>>1;Tt<j;){var lt=2*(Tt+1)-1,yt=nt[lt],_t=lt+1,Et=nt[_t];if(0>l(yt,gt))_t<bt&&0>l(Et,yt)?(nt[Tt]=Et,nt[_t]=gt,Tt=_t):(nt[Tt]=yt,nt[lt]=gt,Tt=lt);else if(_t<bt&&0>l(Et,gt))nt[Tt]=Et,nt[_t]=gt,Tt=_t;else break t}}return vt}function l(nt,vt){var gt=nt.sortIndex-vt.sortIndex;return gt!==0?gt:nt.id-vt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,v=m.now();s.unstable_now=function(){return m.now()-v}}var y=[],b=[],A=1,C=null,I=3,O=!1,q=!1,H=!1,Q=!1,st=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function pt(nt){for(var vt=n(b);vt!==null;){if(vt.callback===null)r(b);else if(vt.startTime<=nt)r(b),vt.sortIndex=vt.expirationTime,t(y,vt);else break;vt=n(b)}}function xt(nt){if(H=!1,pt(nt),!q)if(n(y)!==null)q=!0,Rt||(Rt=!0,K());else{var vt=n(b);vt!==null&&Jt(xt,vt.startTime-nt)}}var Rt=!1,V=-1,M=5,P=-1;function G(){return Q?!0:!(s.unstable_now()-P<M)}function F(){if(Q=!1,Rt){var nt=s.unstable_now();P=nt;var vt=!0;try{t:{q=!1,H&&(H=!1,at(V),V=-1),O=!0;var gt=I;try{e:{for(pt(nt),C=n(y);C!==null&&!(C.expirationTime>nt&&G());){var Tt=C.callback;if(typeof Tt=="function"){C.callback=null,I=C.priorityLevel;var bt=Tt(C.expirationTime<=nt);if(nt=s.unstable_now(),typeof bt=="function"){C.callback=bt,pt(nt),vt=!0;break e}C===n(y)&&r(y),pt(nt)}else r(y);C=n(y)}if(C!==null)vt=!0;else{var j=n(b);j!==null&&Jt(xt,j.startTime-nt),vt=!1}}break t}finally{C=null,I=gt,O=!1}vt=void 0}}finally{vt?K():Rt=!1}}}var K;if(typeof ot=="function")K=function(){ot(F)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,It=k.port2;k.port1.onmessage=F,K=function(){It.postMessage(null)}}else K=function(){st(F,0)};function Jt(nt,vt){V=st(function(){nt(s.unstable_now())},vt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(nt){nt.callback=null},s.unstable_forceFrameRate=function(nt){0>nt||125<nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<nt?Math.floor(1e3/nt):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(nt){switch(I){case 1:case 2:case 3:var vt=3;break;default:vt=I}var gt=I;I=vt;try{return nt()}finally{I=gt}},s.unstable_requestPaint=function(){Q=!0},s.unstable_runWithPriority=function(nt,vt){switch(nt){case 1:case 2:case 3:case 4:case 5:break;default:nt=3}var gt=I;I=nt;try{return vt()}finally{I=gt}},s.unstable_scheduleCallback=function(nt,vt,gt){var Tt=s.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Tt+gt:Tt):gt=Tt,nt){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=gt+bt,nt={id:A++,callback:vt,priorityLevel:nt,startTime:gt,expirationTime:bt,sortIndex:-1},gt>Tt?(nt.sortIndex=gt,t(b,nt),n(y)===null&&nt===n(b)&&(H?(at(V),V=-1):H=!0,Jt(xt,gt-Tt))):(nt.sortIndex=bt,t(y,nt),q||O||(q=!0,Rt||(Rt=!0,K()))),nt},s.unstable_shouldYield=G,s.unstable_wrapCallback=function(nt){var vt=I;return function(){var gt=I;I=vt;try{return nt.apply(this,arguments)}finally{I=gt}}}})(ap)),ap}var c0;function D1(){return c0||(c0=1,rp.exports=I1()),rp.exports}var op={exports:{}},Un={};var h0;function L1(){if(h0)return Un;h0=1;var s=eg();function t(y){var b="https://react.dev/errors/"+y;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)b+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,b,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:y,containerInfo:b,implementation:A}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,b){if(y==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Un.createPortal=function(y,b){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return h(y,b,null,A)},Un.flushSync=function(y){var b=m.T,A=r.p;try{if(m.T=null,r.p=2,y)return y()}finally{m.T=b,r.p=A,r.d.f()}},Un.preconnect=function(y,b){typeof y=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,r.d.C(y,b))},Un.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Un.preinit=function(y,b){if(typeof y=="string"&&b&&typeof b.as=="string"){var A=b.as,C=v(A,b.crossOrigin),I=typeof b.integrity=="string"?b.integrity:void 0,O=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;A==="style"?r.d.S(y,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:C,integrity:I,fetchPriority:O}):A==="script"&&r.d.X(y,{crossOrigin:C,integrity:I,fetchPriority:O,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Un.preinitModule=function(y,b){if(typeof y=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var A=v(b.as,b.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&r.d.M(y)},Un.preload=function(y,b){if(typeof y=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var A=b.as,C=v(A,b.crossOrigin);r.d.L(y,A,{crossOrigin:C,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Un.preloadModule=function(y,b){if(typeof y=="string")if(b){var A=v(b.as,b.crossOrigin);r.d.m(y,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:A,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else r.d.m(y)},Un.requestFormReset=function(y){r.d.r(y)},Un.unstable_batchedUpdates=function(y,b){return y(b)},Un.useFormState=function(y,b,A){return m.H.useFormState(y,b,A)},Un.useFormStatus=function(){return m.H.useHostTransitionStatus()},Un.version="19.2.3",Un}var f0;function tx(){if(f0)return op.exports;f0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),op.exports=L1(),op.exports}var d0;function M1(){if(d0)return mc;d0=1;var s=D1(),t=eg(),n=tx();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function m(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(r(188))}function b(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(r(188));return i!==e?null:e}for(var o=e,c=i;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return y(p),e;if(g===c)return y(p),i;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=p,c=g;else{for(var T=!1,N=p.child;N;){if(N===o){T=!0,o=p,c=g;break}if(N===c){T=!0,c=p,o=g;break}N=N.sibling}if(!T){for(N=g.child;N;){if(N===o){T=!0,o=g,c=p;break}if(N===c){T=!0,c=g,o=p;break}N=N.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:i}function A(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=A(e),i!==null)return i;e=e.sibling}return null}var C=Object.assign,I=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),xt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var k=Symbol.for("react.client.reference");function It(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case st:return"Profiler";case Q:return"StrictMode";case xt:return"Suspense";case Rt:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case ot:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case pt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:It(e.type)||"Memo";case M:i=e._payload,e=e._init;try{return It(e(i))}catch{}}return null}var Jt=Array.isArray,nt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Tt=[],bt=-1;function j(e){return{current:e}}function lt(e){0>bt||(e.current=Tt[bt],Tt[bt]=null,bt--)}function yt(e,i){bt++,Tt[bt]=e.current,e.current=i}var _t=j(null),Et=j(null),At=j(null),qt=j(null);function Ee(e,i){switch(yt(At,i),yt(Et,e),yt(_t,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Rv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Rv(i),e=Nv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(_t),yt(_t,e)}function Re(){lt(_t),lt(Et),lt(At)}function fs(e){e.memoizedState!==null&&yt(qt,e);var i=_t.current,o=Nv(i,e.type);i!==o&&(yt(Et,e),yt(_t,o))}function js(e){Et.current===e&&(lt(_t),lt(Et)),qt.current===e&&(lt(qt),uc._currentValue=gt)}var Hi,Us;function qi(e){if(Hi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Hi=i&&i[1]||"",Us=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hi+e+Us}var ra=!1;function Bs(e,i){if(!e||ra)return"";ra=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(rt){var et=rt}Reflect.construct(e,[],dt)}else{try{dt.call()}catch(rt){et=rt}e.call(dt.prototype)}}else{try{throw Error()}catch(rt){et=rt}(dt=e())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(rt){if(rt&&et&&typeof rt.stack=="string")return[rt.stack,et.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],N=g[1];if(T&&N){var U=T.split(`
`),$=N.split(`
`);for(p=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;if(c===U.length||p===$.length)for(c=U.length-1,p=$.length-1;1<=c&&0<=p&&U[c]!==$[p];)p--;for(;1<=c&&0<=p;c--,p--)if(U[c]!==$[p]){if(c!==1||p!==1)do if(c--,p--,0>p||U[c]!==$[p]){var ut=`
`+U[c].replace(" at new "," at ");return e.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",e.displayName)),ut}while(1<=c&&0<=p);break}}}finally{ra=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?qi(o):""}function gr(e,i){switch(e.tag){case 26:case 27:case 5:return qi(e.type);case 16:return qi("Lazy");case 13:return e.child!==i&&i!==null?qi("Suspense Fallback"):qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return Bs(e.type,!1);case 11:return Bs(e.type.render,!1);case 1:return Bs(e.type,!0);case 31:return qi("Activity");default:return""}}function Fs(e){try{var i="",o=null;do i+=gr(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ge=Object.prototype.hasOwnProperty,Ze=s.unstable_scheduleCallback,Gi=s.unstable_cancelCallback,ll=s.unstable_shouldYield,co=s.unstable_requestPaint,Nn=s.unstable_now,_r=s.unstable_getCurrentPriorityLevel,yr=s.unstable_ImmediatePriority,aa=s.unstable_UserBlockingPriority,ds=s.unstable_NormalPriority,Ru=s.unstable_LowPriority,ho=s.unstable_IdlePriority,fo=s.log,ul=s.unstable_setDisableYieldValue,ti=null,Je=null;function Zn(e){if(typeof fo=="function"&&ul(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(ti,e)}catch{}}var je=Math.clz32?Math.clz32:cl,Hs=Math.log,oa=Math.LN2;function cl(e){return e>>>=0,e===0?32:31-(Hs(e)/oa|0)|0}var bi=256,qs=262144,Ue=4194304;function Zi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ki(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var p=0,g=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var N=c&134217727;return N!==0?(c=N&~g,c!==0?p=Zi(c):(T&=N,T!==0?p=Zi(T):o||(o=N&~e,o!==0&&(p=Zi(o))))):(N=c&~g,N!==0?p=Zi(N):T!==0?p=Zi(T):o||(o=c&~e,o!==0&&(p=Zi(o)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:p}function xi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Nu(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hl(){var e=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),e}function Qi(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function ms(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Iu(e,i,o,c,p,g){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var N=e.entanglements,U=e.expirationTimes,$=e.hiddenUpdates;for(o=T&~o;0<o;){var ut=31-je(o),dt=1<<ut;N[ut]=0,U[ut]=-1;var et=$[ut];if(et!==null)for($[ut]=null,ut=0;ut<et.length;ut++){var rt=et[ut];rt!==null&&(rt.lane&=-536870913)}o&=~dt}c!==0&&vr(e,c,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(T&~i))}function vr(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-je(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function mo(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-je(o),p=1<<c;p&i|e[c]&i&&(e[c]|=i),o&=~p}}function po(e,i){var o=i&-i;return o=(o&42)!==0?1:_n(o),(o&(e.suspendedLanes|i))!==0?0:o}function _n(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Lt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function go(){var e=vt.p;return e!==0?e:(e=window.event,e===void 0?32:Jv(e.type))}function ei(e,i){var o=vt.p;try{return vt.p=e,i()}finally{vt.p=o}}var ni=Math.random().toString(36).slice(2),Be="__reactFiber$"+ni,Ke="__reactProps$"+ni,wi="__reactContainer$"+ni,Ei="__reactEvents$"+ni,fl="__reactListeners$"+ni,dl="__reactHandles$"+ni,ml="__reactResources$"+ni,Yi="__reactMarker$"+ni;function la(e){delete e[Be],delete e[Ke],delete e[Ei],delete e[fl],delete e[dl]}function Ti(e){var i=e[Be];if(i)return i;for(var o=e.parentNode;o;){if(i=o[wi]||o[Be]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Pv(e);e!==null;){if(o=e[Be])return o;e=Pv(e)}return i}e=o,o=e.parentNode}return null}function ii(e){if(e=e[Be]||e[wi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function yn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Xi(e){var i=e[ml];return i||(i=e[ml]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Qe(e){e[Yi]=!0}var _o=new Set,yo={};function Wi(e,i){si(e,i),si(e+"Capture",i)}function si(e,i){for(yo[e]=i,e=0;e<i.length;e++)_o.add(i[e])}var ps=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ua={},ca={};function Gs(e){return Ge.call(ca,e)?!0:Ge.call(ua,e)?!1:ps.test(e)?ca[e]=!0:(ua[e]=!0,!1)}function Wt(e,i,o){if(Gs(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function $t(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Me(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function br(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Nt(e){if(!e._valueTracker){var i=Kn(e)?"checked":"value";e._valueTracker=br(e,i,""+e[i])}}function ve(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Kn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ji=/[\n"\\]/g;function Ne(e){return e.replace(Ji,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(e,i,o,c,p,g,T,N){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ke(i)):e.value!==""+ke(i)&&(e.value=""+ke(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?Si(e,T,ke(i)):o!=null?Si(e,T,ke(o)):c!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+ke(N):e.removeAttribute("name")}function xr(e,i,o,c,p,g,T,N){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){Nt(e);return}o=o!=null?""+ke(o):"",i=i!=null?""+ke(i):o,N||i===e.value||(e.value=i),e.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=N?e.checked:!!c,e.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),Nt(e)}function Si(e,i,o){i==="number"&&ri(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function be(e,i,o,c){if(e=e.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=i.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&c&&(e[o].defaultSelected=!0)}else{for(o=""+ke(o),i=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function $i(e,i,o){if(i!=null&&(i=""+ke(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+ke(o):""}function ai(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(r(92));if(Jt(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=ke(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),Nt(e)}function nn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gs(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||fa.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function wr(e,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&o[p]!==c&&gs(e,p,c)}else for(var g in i)i.hasOwnProperty(g)&&gs(e,g,i[g])}function Zs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Er=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(e){return ts.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var da=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qs=null,zt=null;function vn(e){var i=ii(e);if(i&&(e=i.stateNode)){var o=e[Ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(ha(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ne(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var p=c[Ke]||null;if(!p)throw Error(r(90));ha(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&ve(c)}break t;case"textarea":$i(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&be(e,!!o.multiple,i,!1)}}}var fe=!1;function _s(e,i,o){if(fe)return e(i,o);fe=!0;try{var c=e(i);return c}finally{if(fe=!1,(Qs!==null||zt!==null)&&(zh(),Qs&&(i=Qs,e=zt,zt=Qs=null,vn(i),e)))for(i=0;i<e.length;i++)vn(e[i])}}function Qn(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Ke]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(Pn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){ys=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{ys=!1}var oi=null,vs=null,Oe=null;function Ai(){if(Oe)return Oe;var e,i=vs,o=i.length,c,p="value"in oi?oi.value:oi.textContent,g=p.length;for(e=0;e<o&&i[e]===p[e];e++);var T=o-e;for(c=1;c<=T&&i[o-c]===p[g-c];c++);return Oe=p.slice(e,1<c?1-c:void 0)}function Ys(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function es(){return!0}function Ci(){return!1}function sn(e){function i(o,c,p,g,T){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(o=e[N],this[N]=o?o(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?es:Ci,this.isPropagationStopped=Ci,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),i}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=sn(Ri),bs=C({},Ri,{view:0,detail:0}),Xt=sn(bs),Xs,bn,Vn,Tr=C({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vn&&(Vn&&e.type==="mousemove"?(Xs=e.screenX-Vn.screenX,bn=e.screenY-Vn.screenY):bn=Xs=0,Vn=e),Xs)},movementY:function(e){return"movementY"in e?e.movementY:bn}}),vo=sn(Tr),xs=C({},Tr,{dataTransfer:0}),pl=sn(xs),bo=C({},bs,{relatedTarget:0}),Sr=sn(bo),xo=C({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),ma=sn(xo),pa=C({},Ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yn=sn(pa),gl=C({},Ri,{data:0}),Ni=sn(gl),Ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ga(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Eo[e])?!!i[e]:!1}function Ws(){return ga}var xn=C({},bs,{key:function(e){if(e.key){var i=Ii[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),To=sn(xn),_l=C({},Tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=sn(_l),f=C({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),x=sn(f),S=C({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=sn(S),W=C({},Tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),it=sn(W),wt=C({},Ri,{newState:0,oldState:0}),Bt=sn(wt),ue=[9,13,27,32],ce=Pn&&"CompositionEvent"in window,Ie=null;Pn&&"documentMode"in document&&(Ie=document.documentMode);var li=Pn&&"TextEvent"in window&&!Ie,ui=Pn&&(!ce||Ie&&8<Ie&&11>=Ie),Xn=" ",Di=!1;function Ar(e,i){switch(e){case"keyup":return ue.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function Li(e,i){switch(e){case"compositionend":return Cr(i);case"keypress":return i.which!==32?null:(Di=!0,Xn);case"textInput":return e=i.data,e===Xn&&Di?null:e;default:return null}}function ya(e,i){if(_a)return e==="compositionend"||!ce&&Ar(e,i)?(e=Ai(),Oe=vs=oi=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ui&&i.locale!=="ko"?null:i.data;default:return null}}var bd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function is(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!bd[e.type]:i==="textarea"}function eh(e,i,o,c){Qs?zt?zt.push(c):zt=[c]:Qs=c,i=Gh(i,"onChange"),0<i.length&&(o=new ns("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var ss=null,So=null;function Ao(e){wv(e,0)}function Co(e){var i=yn(e);if(ve(i))return e}function Ro(e,i){if(e==="change")return i}var nh=!1;if(Pn){var rs;if(Pn){var va="oninput"in document;if(!va){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),va=typeof ih.oninput=="function"}rs=va}else rs=!1;nh=rs&&(!document.documentMode||9<document.documentMode)}function yl(){ss&&(ss.detachEvent("onpropertychange",sh),So=ss=null)}function sh(e){if(e.propertyName==="value"&&Co(So)){var i=[];eh(i,So,e,On(e)),_s(Ao,i)}}function Es(e,i,o){e==="focusin"?(yl(),ss=i,So=o,ss.attachEvent("onpropertychange",sh)):e==="focusout"&&yl()}function xd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Co(So)}function ba(e,i){if(e==="click")return Co(i)}function wd(e,i){if(e==="input"||e==="change")return Co(i)}function Ts(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var wn=typeof Object.is=="function"?Object.is:Ts;function xa(e,i){if(wn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Ge.call(i,p)||!wn(e[p],i[p]))return!1}return!0}function vl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function No(e,i){var o=vl(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=vl(o)}}function bl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?bl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Io(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ri(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=ri(e.document)}return i}function Js(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var xl=Pn&&"documentMode"in document&&11>=document.documentMode,$s=null,wl=null,Do=null,wa=!1;function rh(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;wa||$s==null||$s!==ri(c)||(c=$s,"selectionStart"in c&&Js(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Do&&xa(Do,c)||(Do=c,c=Gh(wl,"onSelect"),0<c.length&&(i=new ns("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=$s)))}function tr(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var Ea={animationend:tr("Animation","AnimationEnd"),animationiteration:tr("Animation","AnimationIteration"),animationstart:tr("Animation","AnimationStart"),transitionrun:tr("Transition","TransitionRun"),transitionstart:tr("Transition","TransitionStart"),transitioncancel:tr("Transition","TransitionCancel"),transitionend:tr("Transition","TransitionEnd")},El={},ah={};Pn&&(ah=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function En(e){if(El[e])return El[e];if(!Ea[e])return e;var i=Ea[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in ah)return El[e]=i[o];return e}var Lo=En("animationend"),oh=En("animationiteration"),Mo=En("animationstart"),Ed=En("transitionrun"),lh=En("transitionstart"),Td=En("transitioncancel"),Ta=En("transitionend"),uh=new Map,er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");er.push("scrollEnd");function ci(e,i){uh.set(e,i),Wi(i,[e])}var ko=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},hi=[],zn=0,Tl=0;function Oo(){for(var e=zn,i=Tl=zn=0;i<e;){var o=hi[i];hi[i++]=null;var c=hi[i];hi[i++]=null;var p=hi[i];hi[i++]=null;var g=hi[i];if(hi[i++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&Sa(o,p,g)}}function nr(e,i,o,c){hi[zn++]=e,hi[zn++]=i,hi[zn++]=o,hi[zn++]=c,Tl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Du(e,i,o,c){return nr(e,i,o,c),Po(e)}function as(e,i){return nr(e,null,null,i),Po(e)}function Sa(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&i!==null&&(p=31-je(o),e=g.hiddenUpdates,c=e[p],c===null?e[p]=[i]:c.push(i),i.lane=o|536870912),g):null}function Po(e){if(50<nc)throw nc=0,Am=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Rr={};function Sd(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,i,o,c){return new Sd(e,i,o,c)}function Sl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function os(e,i){var o=e.alternate;return o===null?(o=jn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Lu(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Vo(e,i,o,c,p,g){var T=0;if(c=e,typeof e=="function")Sl(e)&&(T=1);else if(typeof e=="string")T=p1(e,o,_t.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case P:return e=jn(31,o,i,p),e.elementType=P,e.lanes=g,e;case H:return Nr(o.children,p,g,i);case Q:T=8,p|=24;break;case st:return e=jn(12,o,i,p|2),e.elementType=st,e.lanes=g,e;case xt:return e=jn(13,o,i,p),e.elementType=xt,e.lanes=g,e;case Rt:return e=jn(19,o,i,p),e.elementType=Rt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:T=10;break t;case at:T=9;break t;case pt:T=11;break t;case V:T=14;break t;case M:T=16,c=null;break t}T=29,o=Error(r(130,e===null?"null":typeof e,"")),c=null}return i=jn(T,o,i,p),i.elementType=e,i.type=c,i.lanes=g,i}function Nr(e,i,o,c){return e=jn(7,e,c,i),e.lanes=o,e}function Al(e,i,o){return e=jn(6,e,null,i),e.lanes=o,e}function Mu(e){var i=jn(18,null,null,0);return i.stateNode=e,i}function ku(e,i,o){return i=jn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var a=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=a.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Fs(i)},a.set(e,i),i)}return{value:e,source:i,stack:Fs(i)}}var d=[],_=0,E=null,R=0,z=[],X=0,tt=null,ft=1,St="";function Ot(e,i){d[_++]=R,d[_++]=E,E=e,R=i}function Qt(e,i,o){z[X++]=ft,z[X++]=St,z[X++]=tt,tt=e;var c=ft;e=St;var p=32-je(c)-1;c&=~(1<<p),o+=1;var g=32-je(i)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,ft=1<<32-je(i)+p|o<<p|c,St=g+e}else ft=1<<g|o<<p|c,St=e}function mn(e){e.return!==null&&(Ot(e,1),Qt(e,1,0))}function Ye(e){for(;e===E;)E=d[--_],d[_]=null,R=d[--_],d[_]=null;for(;e===tt;)tt=z[--X],z[X]=null,St=z[--X],z[X]=null,ft=z[--X],z[X]=null}function Wn(e,i){z[X++]=ft,z[X++]=St,z[X++]=tt,ft=i.id,St=i.overflow,tt=e}var de=null,me=null,te=!1,ir=null,fi=!1,Cl=Error(r(519));function sr(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(u(i,e)),Cl}function Ou(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Be]=e,i[Ke]=c,o){case"dialog":ne("cancel",i),ne("close",i);break;case"iframe":case"object":case"embed":ne("load",i);break;case"video":case"audio":for(o=0;o<sc.length;o++)ne(sc[o],i);break;case"source":ne("error",i);break;case"img":case"image":case"link":ne("error",i),ne("load",i);break;case"details":ne("toggle",i);break;case"input":ne("invalid",i),xr(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ne("invalid",i);break;case"textarea":ne("invalid",i),ai(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Av(i.textContent,o)?(c.popover!=null&&(ne("beforetoggle",i),ne("toggle",i)),c.onScroll!=null&&ne("scroll",i),c.onScrollEnd!=null&&ne("scrollend",i),c.onClick!=null&&(i.onclick=kn),i=!0):i=!1,i||sr(e,!0)}function Fe(e){for(de=e.return;de;)switch(de.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:de=de.return}}function Ss(e){if(e!==de)return!1;if(!te)return Fe(e),te=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Bm(e.type,e.memoizedProps)),o=!o),o&&me&&sr(e),Fe(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));me=Ov(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));me=Ov(e)}else i===27?(i=me,ja(e.type)?(e=Zm,Zm=null,me=e):me=i):me=de?us(e.stateNode.nextSibling):null;return!0}function Ir(){me=de=null,te=!1}function Pu(){var e=ir;return e!==null&&(gi===null?gi=e:gi.push.apply(gi,e),ir=null),e}function zo(e){ir===null?ir=[e]:ir.push(e)}var jo=j(null),rr=null,As=null;function Aa(e,i,o){yt(jo,i._currentValue),i._currentValue=o}function Dr(e){e._currentValue=jo.current,lt(jo)}function Ad(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function Cd(e,i,o,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;t:for(;g!==null;){var N=g;g=p;for(var U=0;U<i.length;U++)if(N.context===i[U]){g.lanes|=o,N=g.alternate,N!==null&&(N.lanes|=o),Ad(g.return,o,e),c||(T=null);break t}g=N.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Ad(T,o,e),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===e){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Rl(e,i,o,c){e=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var N=p.type;wn(p.pendingProps.value,T.value)||(e!==null?e.push(N):e=[N])}}else if(p===qt.current){if(T=p.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(uc):e=[uc])}p=p.return}e!==null&&Cd(i,e,o,c),i.flags|=262144}function ch(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Uo(e){rr=e,As=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function In(e){return h_(rr,e)}function hh(e,i){return rr===null&&Uo(e),h_(e,i)}function h_(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},As===null){if(e===null)throw Error(r(308));As=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else As=As.next=i;return o}var hT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},fT=s.unstable_scheduleCallback,dT=s.unstable_NormalPriority,rn={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new hT,data:new Map,refCount:0}}function Vu(e){e.refCount--,e.refCount===0&&fT(dT,function(){e.controller.abort()})}var zu=null,Nd=0,Nl=0,Il=null;function mT(e,i){if(zu===null){var o=zu=[];Nd=0,Nl=Lm(),Il={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Nd++,i.then(f_,f_),i}function f_(){if(--Nd===0&&zu!==null){Il!==null&&(Il.status="fulfilled");var e=zu;zu=null,Nl=0,Il=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function pT(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var d_=nt.S;nt.S=function(e,i){Xy=Nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&mT(e,i),d_!==null&&d_(e,i)};var Bo=j(null);function Id(){var e=Bo.current;return e!==null?e:De.pooledCache}function fh(e,i){i===null?yt(Bo,Bo.current):yt(Bo,i.pool)}function m_(){var e=Id();return e===null?null:{parent:rn._currentValue,pool:e}}var Dl=Error(r(460)),Dd=Error(r(474)),dh=Error(r(542)),mh={then:function(){}};function p_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function g_(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(kn,kn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,y_(e),e;default:if(typeof i.status=="string")i.then(kn,kn);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,y_(e),e}throw Ho=i,Dl}}function Fo(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ho=o,Dl):o}}var Ho=null;function __(){if(Ho===null)throw Error(r(459));var e=Ho;return Ho=null,e}function y_(e){if(e===Dl||e===dh)throw Error(r(483))}var Ll=null,ju=0;function ph(e){var i=ju;return ju+=1,Ll===null&&(Ll=[]),g_(Ll,e,i)}function Uu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function gh(e,i){throw i.$$typeof===I?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function v_(e){function i(Y,Z){if(e){var J=Y.deletions;J===null?(Y.deletions=[Z],Y.flags|=16):J.push(Z)}}function o(Y,Z){if(!e)return null;for(;Z!==null;)i(Y,Z),Z=Z.sibling;return null}function c(Y){for(var Z=new Map;Y!==null;)Y.key!==null?Z.set(Y.key,Y):Z.set(Y.index,Y),Y=Y.sibling;return Z}function p(Y,Z){return Y=os(Y,Z),Y.index=0,Y.sibling=null,Y}function g(Y,Z,J){return Y.index=J,e?(J=Y.alternate,J!==null?(J=J.index,J<Z?(Y.flags|=67108866,Z):J):(Y.flags|=67108866,Z)):(Y.flags|=1048576,Z)}function T(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function N(Y,Z,J,ct){return Z===null||Z.tag!==6?(Z=Al(J,Y.mode,ct),Z.return=Y,Z):(Z=p(Z,J),Z.return=Y,Z)}function U(Y,Z,J,ct){var Vt=J.type;return Vt===H?ut(Y,Z,J.props.children,ct,J.key):Z!==null&&(Z.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===M&&Fo(Vt)===Z.type)?(Z=p(Z,J.props),Uu(Z,J),Z.return=Y,Z):(Z=Vo(J.type,J.key,J.props,null,Y.mode,ct),Uu(Z,J),Z.return=Y,Z)}function $(Y,Z,J,ct){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==J.containerInfo||Z.stateNode.implementation!==J.implementation?(Z=ku(J,Y.mode,ct),Z.return=Y,Z):(Z=p(Z,J.children||[]),Z.return=Y,Z)}function ut(Y,Z,J,ct,Vt){return Z===null||Z.tag!==7?(Z=Nr(J,Y.mode,ct,Vt),Z.return=Y,Z):(Z=p(Z,J),Z.return=Y,Z)}function dt(Y,Z,J){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Al(""+Z,Y.mode,J),Z.return=Y,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return J=Vo(Z.type,Z.key,Z.props,null,Y.mode,J),Uu(J,Z),J.return=Y,J;case q:return Z=ku(Z,Y.mode,J),Z.return=Y,Z;case M:return Z=Fo(Z),dt(Y,Z,J)}if(Jt(Z)||K(Z))return Z=Nr(Z,Y.mode,J,null),Z.return=Y,Z;if(typeof Z.then=="function")return dt(Y,ph(Z),J);if(Z.$$typeof===ot)return dt(Y,hh(Y,Z),J);gh(Y,Z)}return null}function et(Y,Z,J,ct){var Vt=Z!==null?Z.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Vt!==null?null:N(Y,Z,""+J,ct);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return J.key===Vt?U(Y,Z,J,ct):null;case q:return J.key===Vt?$(Y,Z,J,ct):null;case M:return J=Fo(J),et(Y,Z,J,ct)}if(Jt(J)||K(J))return Vt!==null?null:ut(Y,Z,J,ct,null);if(typeof J.then=="function")return et(Y,Z,ph(J),ct);if(J.$$typeof===ot)return et(Y,Z,hh(Y,J),ct);gh(Y,J)}return null}function rt(Y,Z,J,ct,Vt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Y=Y.get(J)||null,N(Z,Y,""+ct,Vt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case O:return Y=Y.get(ct.key===null?J:ct.key)||null,U(Z,Y,ct,Vt);case q:return Y=Y.get(ct.key===null?J:ct.key)||null,$(Z,Y,ct,Vt);case M:return ct=Fo(ct),rt(Y,Z,J,ct,Vt)}if(Jt(ct)||K(ct))return Y=Y.get(J)||null,ut(Z,Y,ct,Vt,null);if(typeof ct.then=="function")return rt(Y,Z,J,ph(ct),Vt);if(ct.$$typeof===ot)return rt(Y,Z,J,hh(Z,ct),Vt);gh(Z,ct)}return null}function Mt(Y,Z,J,ct){for(var Vt=null,pe=null,kt=Z,Yt=Z=0,re=null;kt!==null&&Yt<J.length;Yt++){kt.index>Yt?(re=kt,kt=null):re=kt.sibling;var ge=et(Y,kt,J[Yt],ct);if(ge===null){kt===null&&(kt=re);break}e&&kt&&ge.alternate===null&&i(Y,kt),Z=g(ge,Z,Yt),pe===null?Vt=ge:pe.sibling=ge,pe=ge,kt=re}if(Yt===J.length)return o(Y,kt),te&&Ot(Y,Yt),Vt;if(kt===null){for(;Yt<J.length;Yt++)kt=dt(Y,J[Yt],ct),kt!==null&&(Z=g(kt,Z,Yt),pe===null?Vt=kt:pe.sibling=kt,pe=kt);return te&&Ot(Y,Yt),Vt}for(kt=c(kt);Yt<J.length;Yt++)re=rt(kt,Y,Yt,J[Yt],ct),re!==null&&(e&&re.alternate!==null&&kt.delete(re.key===null?Yt:re.key),Z=g(re,Z,Yt),pe===null?Vt=re:pe.sibling=re,pe=re);return e&&kt.forEach(function(qa){return i(Y,qa)}),te&&Ot(Y,Yt),Vt}function jt(Y,Z,J,ct){if(J==null)throw Error(r(151));for(var Vt=null,pe=null,kt=Z,Yt=Z=0,re=null,ge=J.next();kt!==null&&!ge.done;Yt++,ge=J.next()){kt.index>Yt?(re=kt,kt=null):re=kt.sibling;var qa=et(Y,kt,ge.value,ct);if(qa===null){kt===null&&(kt=re);break}e&&kt&&qa.alternate===null&&i(Y,kt),Z=g(qa,Z,Yt),pe===null?Vt=qa:pe.sibling=qa,pe=qa,kt=re}if(ge.done)return o(Y,kt),te&&Ot(Y,Yt),Vt;if(kt===null){for(;!ge.done;Yt++,ge=J.next())ge=dt(Y,ge.value,ct),ge!==null&&(Z=g(ge,Z,Yt),pe===null?Vt=ge:pe.sibling=ge,pe=ge);return te&&Ot(Y,Yt),Vt}for(kt=c(kt);!ge.done;Yt++,ge=J.next())ge=rt(kt,Y,Yt,ge.value,ct),ge!==null&&(e&&ge.alternate!==null&&kt.delete(ge.key===null?Yt:ge.key),Z=g(ge,Z,Yt),pe===null?Vt=ge:pe.sibling=ge,pe=ge);return e&&kt.forEach(function(A1){return i(Y,A1)}),te&&Ot(Y,Yt),Vt}function Ae(Y,Z,J,ct){if(typeof J=="object"&&J!==null&&J.type===H&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case O:t:{for(var Vt=J.key;Z!==null;){if(Z.key===Vt){if(Vt=J.type,Vt===H){if(Z.tag===7){o(Y,Z.sibling),ct=p(Z,J.props.children),ct.return=Y,Y=ct;break t}}else if(Z.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===M&&Fo(Vt)===Z.type){o(Y,Z.sibling),ct=p(Z,J.props),Uu(ct,J),ct.return=Y,Y=ct;break t}o(Y,Z);break}else i(Y,Z);Z=Z.sibling}J.type===H?(ct=Nr(J.props.children,Y.mode,ct,J.key),ct.return=Y,Y=ct):(ct=Vo(J.type,J.key,J.props,null,Y.mode,ct),Uu(ct,J),ct.return=Y,Y=ct)}return T(Y);case q:t:{for(Vt=J.key;Z!==null;){if(Z.key===Vt)if(Z.tag===4&&Z.stateNode.containerInfo===J.containerInfo&&Z.stateNode.implementation===J.implementation){o(Y,Z.sibling),ct=p(Z,J.children||[]),ct.return=Y,Y=ct;break t}else{o(Y,Z);break}else i(Y,Z);Z=Z.sibling}ct=ku(J,Y.mode,ct),ct.return=Y,Y=ct}return T(Y);case M:return J=Fo(J),Ae(Y,Z,J,ct)}if(Jt(J))return Mt(Y,Z,J,ct);if(K(J)){if(Vt=K(J),typeof Vt!="function")throw Error(r(150));return J=Vt.call(J),jt(Y,Z,J,ct)}if(typeof J.then=="function")return Ae(Y,Z,ph(J),ct);if(J.$$typeof===ot)return Ae(Y,Z,hh(Y,J),ct);gh(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Z!==null&&Z.tag===6?(o(Y,Z.sibling),ct=p(Z,J),ct.return=Y,Y=ct):(o(Y,Z),ct=Al(J,Y.mode,ct),ct.return=Y,Y=ct),T(Y)):o(Y,Z)}return function(Y,Z,J,ct){try{ju=0;var Vt=Ae(Y,Z,J,ct);return Ll=null,Vt}catch(kt){if(kt===Dl||kt===dh)throw kt;var pe=jn(29,kt,null,Y.mode);return pe.lanes=ct,pe.return=Y,pe}}}var qo=v_(!0),b_=v_(!1),Ca=!1;function Ld(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Na(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(_e&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=Po(e),Sa(e,null,o),i}return nr(e,c,i,o),Po(e)}function Bu(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,mo(e,o)}}function kd(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?p=g=i:g=g.next=i}else p=g=i;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var Od=!1;function Fu(){if(Od){var e=Il;if(e!==null)throw e}}function Hu(e,i,o,c){Od=!1;var p=e.updateQueue;Ca=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var U=N,$=U.next;U.next=null,T===null?g=$:T.next=$,T=U;var ut=e.alternate;ut!==null&&(ut=ut.updateQueue,N=ut.lastBaseUpdate,N!==T&&(N===null?ut.firstBaseUpdate=$:N.next=$,ut.lastBaseUpdate=U))}if(g!==null){var dt=p.baseState;T=0,ut=$=U=null,N=g;do{var et=N.lane&-536870913,rt=et!==N.lane;if(rt?(se&et)===et:(c&et)===et){et!==0&&et===Nl&&(Od=!0),ut!==null&&(ut=ut.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var Mt=e,jt=N;et=i;var Ae=o;switch(jt.tag){case 1:if(Mt=jt.payload,typeof Mt=="function"){dt=Mt.call(Ae,dt,et);break t}dt=Mt;break t;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=jt.payload,et=typeof Mt=="function"?Mt.call(Ae,dt,et):Mt,et==null)break t;dt=C({},dt,et);break t;case 2:Ca=!0}}et=N.callback,et!==null&&(e.flags|=64,rt&&(e.flags|=8192),rt=p.callbacks,rt===null?p.callbacks=[et]:rt.push(et))}else rt={lane:et,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ut===null?($=ut=rt,U=dt):ut=ut.next=rt,T|=et;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;rt=N,N=rt.next,rt.next=null,p.lastBaseUpdate=rt,p.shared.pending=null}}while(!0);ut===null&&(U=dt),p.baseState=U,p.firstBaseUpdate=$,p.lastBaseUpdate=ut,g===null&&(p.shared.lanes=0),ka|=T,e.lanes=T,e.memoizedState=dt}}function x_(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function w_(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)x_(o[e],i)}var Ml=j(null),_h=j(0);function E_(e,i){e=Ur,yt(_h,e),yt(Ml,i),Ur=e|i.baseLanes}function Pd(){yt(_h,Ur),yt(Ml,Ml.current)}function Vd(){Ur=_h.current,lt(Ml),lt(_h)}var Mi=j(null),ls=null;function Ia(e){var i=e.alternate;yt($e,$e.current&1),yt(Mi,e),ls===null&&(i===null||Ml.current!==null||i.memoizedState!==null)&&(ls=e)}function zd(e){yt($e,$e.current),yt(Mi,e),ls===null&&(ls=e)}function T_(e){e.tag===22?(yt($e,$e.current),yt(Mi,e),ls===null&&(ls=e)):Da()}function Da(){yt($e,$e.current),yt(Mi,Mi.current)}function ki(e){lt(Mi),ls===e&&(ls=null),lt($e)}var $e=j(0);function yh(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||qm(o)||Gm(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Lr=0,Kt=null,Te=null,an=null,vh=!1,kl=!1,Go=!1,bh=0,qu=0,Ol=null,gT=0;function Xe(){throw Error(r(321))}function jd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!wn(e[o],i[o]))return!1;return!0}function Ud(e,i,o,c,p,g){return Lr=g,Kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,nt.H=e===null||e.memoizedState===null?oy:em,Go=!1,g=o(c,p),Go=!1,kl&&(g=A_(i,o,c,p)),S_(e),g}function S_(e){nt.H=Ku;var i=Te!==null&&Te.next!==null;if(Lr=0,an=Te=Kt=null,vh=!1,qu=0,Ol=null,i)throw Error(r(300));e===null||on||(e=e.dependencies,e!==null&&ch(e)&&(on=!0))}function A_(e,i,o,c){Kt=e;var p=0;do{if(kl&&(Ol=null),qu=0,kl=!1,25<=p)throw Error(r(301));if(p+=1,an=Te=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}nt.H=ly,g=i(o,c)}while(kl);return g}function _T(){var e=nt.H,i=e.useState()[0];return i=typeof i.then=="function"?Gu(i):i,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(Kt.flags|=1024),i}function Bd(){var e=bh!==0;return bh=0,e}function Fd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function Hd(e){if(vh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}vh=!1}Lr=0,an=Te=Kt=null,kl=!1,qu=bh=0,Ol=null}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Kt.memoizedState=an=e:an=an.next=e,an}function tn(){if(Te===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var i=an===null?Kt.memoizedState:an.next;if(i!==null)an=i,Te=e;else{if(e===null)throw Kt.alternate===null?Error(r(467)):Error(r(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},an===null?Kt.memoizedState=an=e:an=an.next=e}return an}function xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gu(e){var i=qu;return qu+=1,Ol===null&&(Ol=[]),e=g_(Ol,e,i),i=Kt,(an===null?i.memoizedState:an.next)===null&&(i=i.alternate,nt.H=i===null||i.memoizedState===null?oy:em),e}function wh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gu(e);if(e.$$typeof===ot)return In(e)}throw Error(r(438,String(e)))}function qd(e){var i=null,o=Kt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Kt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=xh(),Kt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=G;return i.index++,o}function Mr(e,i){return typeof i=="function"?i(e):i}function Eh(e){var i=tn();return Gd(i,Te,e)}function Gd(e,i,o){var c=e.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=e.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}i.baseQueue=p=g,c.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{i=p.next;var N=T=null,U=null,$=i,ut=!1;do{var dt=$.lane&-536870913;if(dt!==$.lane?(se&dt)===dt:(Lr&dt)===dt){var et=$.revertLane;if(et===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),dt===Nl&&(ut=!0);else if((Lr&et)===et){$=$.next,et===Nl&&(ut=!0);continue}else dt={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},U===null?(N=U=dt,T=g):U=U.next=dt,Kt.lanes|=et,ka|=et;dt=$.action,Go&&o(g,dt),g=$.hasEagerState?$.eagerState:o(g,dt)}else et={lane:dt,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},U===null?(N=U=et,T=g):U=U.next=et,Kt.lanes|=dt,ka|=dt;$=$.next}while($!==null&&$!==i);if(U===null?T=g:U.next=N,!wn(g,e.memoizedState)&&(on=!0,ut&&(o=Il,o!==null)))throw o;e.memoizedState=g,e.baseState=T,e.baseQueue=U,c.lastRenderedState=g}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Zd(e){var i=tn(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var c=o.dispatch,p=o.pending,g=i.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do g=e(g,T.action),T=T.next;while(T!==p);wn(g,i.memoizedState)||(on=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function C_(e,i,o){var c=Kt,p=tn(),g=te;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=i();var T=!wn((Te||p).memoizedState,o);if(T&&(p.memoizedState=o,on=!0),p=p.queue,Yd(I_.bind(null,c,p,e),[e]),p.getSnapshot!==i||T||an!==null&&an.memoizedState.tag&1){if(c.flags|=2048,Pl(9,{destroy:void 0},N_.bind(null,c,p,o,i),null),De===null)throw Error(r(349));g||(Lr&127)!==0||R_(c,i,o)}return o}function R_(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Kt.updateQueue,i===null?(i=xh(),Kt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function N_(e,i,o,c){i.value=o,i.getSnapshot=c,D_(i)&&L_(e)}function I_(e,i,o){return o(function(){D_(i)&&L_(e)})}function D_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!wn(e,o)}catch{return!0}}function L_(e){var i=as(e,2);i!==null&&_i(i,e,2)}function Kd(e){var i=Jn();if(typeof e=="function"){var o=e;if(e=o(),Go){Zn(!0);try{o()}finally{Zn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:e},i}function M_(e,i,o,c){return e.baseState=o,Gd(e,Te,typeof c=="function"?c:Mr)}function yT(e,i,o,c,p){if(Ah(e))throw Error(r(485));if(e=i.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};nt.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,k_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function k_(e,i){var o=i.action,c=i.payload,p=e.state;if(i.isTransition){var g=nt.T,T={};nt.T=T;try{var N=o(p,c),U=nt.S;U!==null&&U(T,N),O_(e,i,N)}catch($){Qd(e,i,$)}finally{g!==null&&T.types!==null&&(g.types=T.types),nt.T=g}}else try{g=o(p,c),O_(e,i,g)}catch($){Qd(e,i,$)}}function O_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){P_(e,i,c)},function(c){return Qd(e,i,c)}):P_(e,i,o)}function P_(e,i,o){i.status="fulfilled",i.value=o,V_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,k_(e,o)))}function Qd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,V_(i),i=i.next;while(i!==c)}e.action=null}function V_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function z_(e,i){return i}function j_(e,i){if(te){var o=De.formState;if(o!==null){t:{var c=Kt;if(te){if(me){e:{for(var p=me,g=fi;p.nodeType!==8;){if(!g){p=null;break e}if(p=us(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){me=us(p.nextSibling),c=p.data==="F!";break t}}sr(c)}c=!1}c&&(i=o[0])}}return o=Jn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z_,lastRenderedState:i},o.queue=c,o=sy.bind(null,Kt,c),c.dispatch=o,c=Kd(!1),g=tm.bind(null,Kt,!1,c.queue),c=Jn(),p={state:i,dispatch:null,action:e,pending:null},c.queue=p,o=yT.bind(null,Kt,p,g,o),p.dispatch=o,c.memoizedState=e,[i,o,!1]}function U_(e){var i=tn();return B_(i,Te,e)}function B_(e,i,o){if(i=Gd(e,i,z_)[0],e=Eh(Mr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Gu(i)}catch(T){throw T===Dl?dh:T}else c=i;i=tn();var p=i.queue,g=p.dispatch;return o!==i.memoizedState&&(Kt.flags|=2048,Pl(9,{destroy:void 0},vT.bind(null,p,o),null)),[c,g,e]}function vT(e,i){e.action=i}function F_(e){var i=tn(),o=Te;if(o!==null)return B_(i,o,e);tn(),i=i.memoizedState,o=tn();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function Pl(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Kt.updateQueue,i===null&&(i=xh(),Kt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function H_(){return tn().memoizedState}function Th(e,i,o,c){var p=Jn();Kt.flags|=e,p.memoizedState=Pl(1|i,{destroy:void 0},o,c===void 0?null:c)}function Sh(e,i,o,c){var p=tn();c=c===void 0?null:c;var g=p.memoizedState.inst;Te!==null&&c!==null&&jd(c,Te.memoizedState.deps)?p.memoizedState=Pl(i,g,o,c):(Kt.flags|=e,p.memoizedState=Pl(1|i,g,o,c))}function q_(e,i){Th(8390656,8,e,i)}function Yd(e,i){Sh(2048,8,e,i)}function bT(e){Kt.flags|=4;var i=Kt.updateQueue;if(i===null)i=xh(),Kt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function G_(e){var i=tn().memoizedState;return bT({ref:i,nextImpl:e}),function(){if((_e&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Z_(e,i){return Sh(4,2,e,i)}function K_(e,i){return Sh(4,4,e,i)}function Q_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Y_(e,i,o){o=o!=null?o.concat([e]):null,Sh(4,4,Q_.bind(null,i,e),o)}function Xd(){}function X_(e,i){var o=tn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&jd(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function W_(e,i){var o=tn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&jd(i,c[1]))return c[0];if(c=e(),Go){Zn(!0);try{e()}finally{Zn(!1)}}return o.memoizedState=[c,i],c}function Wd(e,i,o){return o===void 0||(Lr&1073741824)!==0&&(se&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=Jy(),Kt.lanes|=e,ka|=e,o)}function J_(e,i,o,c){return wn(o,i)?o:Ml.current!==null?(e=Wd(e,o,c),wn(e,i)||(on=!0),e):(Lr&42)===0||(Lr&1073741824)!==0&&(se&261930)===0?(on=!0,e.memoizedState=o):(e=Jy(),Kt.lanes|=e,ka|=e,i)}function $_(e,i,o,c,p){var g=vt.p;vt.p=g!==0&&8>g?g:8;var T=nt.T,N={};nt.T=N,tm(e,!1,i,o);try{var U=p(),$=nt.S;if($!==null&&$(N,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ut=pT(U,c);Zu(e,i,ut,Vi(e))}else Zu(e,i,c,Vi(e))}catch(dt){Zu(e,i,{then:function(){},status:"rejected",reason:dt},Vi())}finally{vt.p=g,T!==null&&N.types!==null&&(T.types=N.types),nt.T=T}}function xT(){}function Jd(e,i,o,c){if(e.tag!==5)throw Error(r(476));var p=ty(e).queue;$_(e,p,i,gt,o===null?xT:function(){return ey(e),o(c)})}function ty(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:gt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ey(e){var i=ty(e);i.next===null&&(i=e.alternate.memoizedState),Zu(e,i.next.queue,{},Vi())}function $d(){return In(uc)}function ny(){return tn().memoizedState}function iy(){return tn().memoizedState}function wT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Vi();e=Ra(o);var c=Na(i,e,o);c!==null&&(_i(c,i,o),Bu(c,i,o)),i={cache:Rd()},e.payload=i;return}i=i.return}}function ET(e,i,o){var c=Vi();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ah(e)?ry(i,o):(o=Du(e,i,o,c),o!==null&&(_i(o,e,c),ay(o,i,c)))}function sy(e,i,o){var c=Vi();Zu(e,i,o,c)}function Zu(e,i,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ah(e))ry(i,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,N=g(T,o);if(p.hasEagerState=!0,p.eagerState=N,wn(N,T))return nr(e,i,p,0),De===null&&Oo(),!1}catch{}if(o=Du(e,i,p,c),o!==null)return _i(o,e,c),ay(o,i,c),!0}return!1}function tm(e,i,o,c){if(c={lane:2,revertLane:Lm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ah(e)){if(i)throw Error(r(479))}else i=Du(e,o,c,2),i!==null&&_i(i,e,2)}function Ah(e){var i=e.alternate;return e===Kt||i!==null&&i===Kt}function ry(e,i){kl=vh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function ay(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,mo(e,o)}}var Ku={readContext:In,use:wh,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Ku.useEffectEvent=Xe;var oy={readContext:In,use:wh,useCallback:function(e,i){return Jn().memoizedState=[e,i===void 0?null:i],e},useContext:In,useEffect:q_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,Th(4194308,4,Q_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return Th(4194308,4,e,i)},useInsertionEffect:function(e,i){Th(4,2,e,i)},useMemo:function(e,i){var o=Jn();i=i===void 0?null:i;var c=e();if(Go){Zn(!0);try{e()}finally{Zn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=Jn();if(o!==void 0){var p=o(i);if(Go){Zn(!0);try{o(i)}finally{Zn(!1)}}}else p=i;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=ET.bind(null,Kt,e),[c.memoizedState,e]},useRef:function(e){var i=Jn();return e={current:e},i.memoizedState=e},useState:function(e){e=Kd(e);var i=e.queue,o=sy.bind(null,Kt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Xd,useDeferredValue:function(e,i){var o=Jn();return Wd(o,e,i)},useTransition:function(){var e=Kd(!1);return e=$_.bind(null,Kt,e.queue,!0,!1),Jn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Kt,p=Jn();if(te){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),De===null)throw Error(r(349));(se&127)!==0||R_(c,i,o)}p.memoizedState=o;var g={value:o,getSnapshot:i};return p.queue=g,q_(I_.bind(null,c,g,e),[e]),c.flags|=2048,Pl(9,{destroy:void 0},N_.bind(null,c,g,o,i),null),o},useId:function(){var e=Jn(),i=De.identifierPrefix;if(te){var o=St,c=ft;o=(c&~(1<<32-je(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=bh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=gT++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:$d,useFormState:j_,useActionState:j_,useOptimistic:function(e){var i=Jn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=tm.bind(null,Kt,!0,o),o.dispatch=i,[e,i]},useMemoCache:qd,useCacheRefresh:function(){return Jn().memoizedState=wT.bind(null,Kt)},useEffectEvent:function(e){var i=Jn(),o={impl:e};return i.memoizedState=o,function(){if((_e&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},em={readContext:In,use:wh,useCallback:X_,useContext:In,useEffect:Yd,useImperativeHandle:Y_,useInsertionEffect:Z_,useLayoutEffect:K_,useMemo:W_,useReducer:Eh,useRef:H_,useState:function(){return Eh(Mr)},useDebugValue:Xd,useDeferredValue:function(e,i){var o=tn();return J_(o,Te.memoizedState,e,i)},useTransition:function(){var e=Eh(Mr)[0],i=tn().memoizedState;return[typeof e=="boolean"?e:Gu(e),i]},useSyncExternalStore:C_,useId:ny,useHostTransitionStatus:$d,useFormState:U_,useActionState:U_,useOptimistic:function(e,i){var o=tn();return M_(o,Te,e,i)},useMemoCache:qd,useCacheRefresh:iy};em.useEffectEvent=G_;var ly={readContext:In,use:wh,useCallback:X_,useContext:In,useEffect:Yd,useImperativeHandle:Y_,useInsertionEffect:Z_,useLayoutEffect:K_,useMemo:W_,useReducer:Zd,useRef:H_,useState:function(){return Zd(Mr)},useDebugValue:Xd,useDeferredValue:function(e,i){var o=tn();return Te===null?Wd(o,e,i):J_(o,Te.memoizedState,e,i)},useTransition:function(){var e=Zd(Mr)[0],i=tn().memoizedState;return[typeof e=="boolean"?e:Gu(e),i]},useSyncExternalStore:C_,useId:ny,useHostTransitionStatus:$d,useFormState:F_,useActionState:F_,useOptimistic:function(e,i){var o=tn();return Te!==null?M_(o,Te,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:qd,useCacheRefresh:iy};ly.useEffectEvent=G_;function nm(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:C({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var im={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Vi(),p=Ra(c);p.payload=i,o!=null&&(p.callback=o),i=Na(e,p,c),i!==null&&(_i(i,e,c),Bu(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Vi(),p=Ra(c);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=Na(e,p,c),i!==null&&(_i(i,e,c),Bu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Vi(),c=Ra(o);c.tag=2,i!=null&&(c.callback=i),i=Na(e,c,o),i!==null&&(_i(i,e,o),Bu(i,e,o))}};function uy(e,i,o,c,p,g,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,T):i.prototype&&i.prototype.isPureReactComponent?!xa(o,c)||!xa(p,g):!0}function cy(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&im.enqueueReplaceState(i,i.state,null)}function Zo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=C({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}function hy(e){ko(e)}function fy(e){console.error(e)}function dy(e){ko(e)}function Ch(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function my(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sm(e,i,o){return o=Ra(o),o.tag=3,o.payload={element:null},o.callback=function(){Ch(e,i)},o}function py(e){return e=Ra(e),e.tag=3,e}function gy(e,i,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;e.payload=function(){return p(g)},e.callback=function(){my(i,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){my(i,o,c),typeof p!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function TT(e,i,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Rl(i,o,p,!0),o=Mi.current,o!==null){switch(o.tag){case 31:case 13:return ls===null?jh():o.alternate===null&&We===0&&(We=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===mh?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Nm(e,c,p)),!1;case 22:return o.flags|=65536,c===mh?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Nm(e,c,p)),!1}throw Error(r(435,o.tag))}return Nm(e,c,p),jh(),!1}if(te)return i=Mi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==Cl&&(e=Error(r(422),{cause:c}),zo(u(e,o)))):(c!==Cl&&(i=Error(r(423),{cause:c}),zo(u(i,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=u(c,o),p=sm(e.stateNode,c,p),kd(e,p),We!==4&&(We=2)),!1;var g=Error(r(520),{cause:c});if(g=u(g,o),ec===null?ec=[g]:ec.push(g),We!==4&&(We=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=sm(o.stateNode,c,e),kd(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Oa===null||!Oa.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=py(p),gy(p,e,o,c),kd(o,p),!1}o=o.return}while(o!==null);return!1}var rm=Error(r(461)),on=!1;function Dn(e,i,o,c){i.child=e===null?b_(i,null,o,c):qo(i,e.child,o,c)}function _y(e,i,o,c,p){o=o.render;var g=i.ref;if("ref"in c){var T={};for(var N in c)N!=="ref"&&(T[N]=c[N])}else T=c;return Uo(i),c=Ud(e,i,o,T,g,p),N=Bd(),e!==null&&!on?(Fd(e,i,p),kr(e,i,p)):(te&&N&&mn(i),i.flags|=1,Dn(e,i,c,p),i.child)}function yy(e,i,o,c,p){if(e===null){var g=o.type;return typeof g=="function"&&!Sl(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,vy(e,i,g,c,p)):(e=Vo(o.type,null,c,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!dm(e,p)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:xa,o(T,c)&&e.ref===i.ref)return kr(e,i,p)}return i.flags|=1,e=os(g,c),e.ref=i.ref,e.return=i,i.child=e}function vy(e,i,o,c,p){if(e!==null){var g=e.memoizedProps;if(xa(g,c)&&e.ref===i.ref)if(on=!1,i.pendingProps=c=g,dm(e,p))(e.flags&131072)!==0&&(on=!0);else return i.lanes=e.lanes,kr(e,i,p)}return am(e,i,o,c,p)}function by(e,i,o,c){var p=c.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=i.child=e.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,i.child=null;return xy(e,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&fh(i,g!==null?g.cachePool:null),g!==null?E_(i,g):Pd(),T_(i);else return c=i.lanes=536870912,xy(e,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(fh(i,g.cachePool),E_(i,g),Da(),i.memoizedState=null):(e!==null&&fh(i,null),Pd(),Da());return Dn(e,i,p,o),i.child}function Qu(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function xy(e,i,o,c,p){var g=Id();return g=g===null?null:{parent:rn._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},e!==null&&fh(i,null),Pd(),T_(i),e!==null&&Rl(e,i,c,!0),i.childLanes=p,null}function Rh(e,i){return i=Ih({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function wy(e,i,o){return qo(i,e.child,null,o),e=Rh(i,i.pendingProps),e.flags|=2,ki(i),i.memoizedState=null,e}function ST(e,i,o){var c=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(te){if(c.mode==="hidden")return e=Rh(i,c),i.lanes=536870912,Qu(null,e);if(zd(i),(e=me)?(e=kv(e,fi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:tt!==null?{id:ft,overflow:St}:null,retryLane:536870912,hydrationErrors:null},o=Mu(e),o.return=i,i.child=o,de=i,me=null)):e=null,e===null)throw sr(i);return i.lanes=536870912,null}return Rh(i,c)}var g=e.memoizedState;if(g!==null){var T=g.dehydrated;if(zd(i),p)if(i.flags&256)i.flags&=-257,i=wy(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(on||Rl(e,i,o,!1),p=(o&e.childLanes)!==0,on||p){if(c=De,c!==null&&(T=po(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,as(e,T),_i(c,e,T),rm;jh(),i=wy(e,i,o)}else e=g.treeContext,me=us(T.nextSibling),de=i,te=!0,ir=null,fi=!1,e!==null&&Wn(i,e),i=Rh(i,c),i.flags|=4096;return i}return e=os(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Nh(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function am(e,i,o,c,p){return Uo(i),o=Ud(e,i,o,c,void 0,p),c=Bd(),e!==null&&!on?(Fd(e,i,p),kr(e,i,p)):(te&&c&&mn(i),i.flags|=1,Dn(e,i,o,p),i.child)}function Ey(e,i,o,c,p,g){return Uo(i),i.updateQueue=null,o=A_(i,c,o,p),S_(e),c=Bd(),e!==null&&!on?(Fd(e,i,g),kr(e,i,g)):(te&&c&&mn(i),i.flags|=1,Dn(e,i,o,g),i.child)}function Ty(e,i,o,c,p){if(Uo(i),i.stateNode===null){var g=Rr,T=o.contextType;typeof T=="object"&&T!==null&&(g=In(T)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=im,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Ld(i),T=o.contextType,g.context=typeof T=="object"&&T!==null?In(T):Rr,g.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(nm(i,o,T,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&im.enqueueReplaceState(g,g.state,null),Hu(i,c,g,p),Fu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var N=i.memoizedProps,U=Zo(o,N);g.props=U;var $=g.context,ut=o.contextType;T=Rr,typeof ut=="object"&&ut!==null&&(T=In(ut));var dt=o.getDerivedStateFromProps;ut=typeof dt=="function"||typeof g.getSnapshotBeforeUpdate=="function",N=i.pendingProps!==N,ut||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N||$!==T)&&cy(i,g,c,T),Ca=!1;var et=i.memoizedState;g.state=et,Hu(i,c,g,p),Fu(),$=i.memoizedState,N||et!==$||Ca?(typeof dt=="function"&&(nm(i,o,dt,c),$=i.memoizedState),(U=Ca||uy(i,o,U,c,et,$,T))?(ut||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=$),g.props=c,g.state=$,g.context=T,c=U):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Md(e,i),T=i.memoizedProps,ut=Zo(o,T),g.props=ut,dt=i.pendingProps,et=g.context,$=o.contextType,U=Rr,typeof $=="object"&&$!==null&&(U=In($)),N=o.getDerivedStateFromProps,($=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==dt||et!==U)&&cy(i,g,c,U),Ca=!1,et=i.memoizedState,g.state=et,Hu(i,c,g,p),Fu();var rt=i.memoizedState;T!==dt||et!==rt||Ca||e!==null&&e.dependencies!==null&&ch(e.dependencies)?(typeof N=="function"&&(nm(i,o,N,c),rt=i.memoizedState),(ut=Ca||uy(i,o,ut,c,et,rt,U)||e!==null&&e.dependencies!==null&&ch(e.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,rt,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,rt,U)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&et===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&et===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=rt),g.props=c,g.state=rt,g.context=U,c=ut):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&et===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&et===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,Nh(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=qo(i,e.child,null,p),i.child=qo(i,null,o,p)):Dn(e,i,o,p),i.memoizedState=g.state,e=i.child):e=kr(e,i,p),e}function Sy(e,i,o,c){return Ir(),i.flags|=256,Dn(e,i,o,c),i.child}var om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lm(e){return{baseLanes:e,cachePool:m_()}}function um(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Pi),e}function Ay(e,i,o){var c=i.pendingProps,p=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=e!==null&&e.memoizedState===null?!1:($e.current&2)!==0),T&&(p=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(te){if(p?Ia(i):Da(),(e=me)?(e=kv(e,fi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:tt!==null?{id:ft,overflow:St}:null,retryLane:536870912,hydrationErrors:null},o=Mu(e),o.return=i,i.child=o,de=i,me=null)):e=null,e===null)throw sr(i);return Gm(e)?i.lanes=32:i.lanes=536870912,null}var N=c.children;return c=c.fallback,p?(Da(),p=i.mode,N=Ih({mode:"hidden",children:N},p),c=Nr(c,p,o,null),N.return=i,c.return=i,N.sibling=c,i.child=N,c=i.child,c.memoizedState=lm(o),c.childLanes=um(e,T,o),i.memoizedState=om,Qu(null,c)):(Ia(i),cm(i,N))}var U=e.memoizedState;if(U!==null&&(N=U.dehydrated,N!==null)){if(g)i.flags&256?(Ia(i),i.flags&=-257,i=hm(e,i,o)):i.memoizedState!==null?(Da(),i.child=e.child,i.flags|=128,i=null):(Da(),N=c.fallback,p=i.mode,c=Ih({mode:"visible",children:c.children},p),N=Nr(N,p,o,null),N.flags|=2,c.return=i,N.return=i,c.sibling=N,i.child=c,qo(i,e.child,null,o),c=i.child,c.memoizedState=lm(o),c.childLanes=um(e,T,o),i.memoizedState=om,i=Qu(null,c));else if(Ia(i),Gm(N)){if(T=N.nextSibling&&N.nextSibling.dataset,T)var $=T.dgst;T=$,c=Error(r(419)),c.stack="",c.digest=T,zo({value:c,source:null,stack:null}),i=hm(e,i,o)}else if(on||Rl(e,i,o,!1),T=(o&e.childLanes)!==0,on||T){if(T=De,T!==null&&(c=po(T,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,as(e,c),_i(T,e,c),rm;qm(N)||jh(),i=hm(e,i,o)}else qm(N)?(i.flags|=192,i.child=e.child,i=null):(e=U.treeContext,me=us(N.nextSibling),de=i,te=!0,ir=null,fi=!1,e!==null&&Wn(i,e),i=cm(i,c.children),i.flags|=4096);return i}return p?(Da(),N=c.fallback,p=i.mode,U=e.child,$=U.sibling,c=os(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,$!==null?N=os($,N):(N=Nr(N,p,o,null),N.flags|=2),N.return=i,c.return=i,c.sibling=N,i.child=c,Qu(null,c),c=i.child,N=e.child.memoizedState,N===null?N=lm(o):(p=N.cachePool,p!==null?(U=rn._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=m_(),N={baseLanes:N.baseLanes|o,cachePool:p}),c.memoizedState=N,c.childLanes=um(e,T,o),i.memoizedState=om,Qu(e.child,c)):(Ia(i),o=e.child,e=o.sibling,o=os(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=o,i.memoizedState=null,o)}function cm(e,i){return i=Ih({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ih(e,i){return e=jn(22,e,null,i),e.lanes=0,e}function hm(e,i,o){return qo(i,e.child,null,o),e=cm(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Cy(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Ad(e.return,i,o)}function fm(e,i,o,c,p,g){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=p,T.treeForkCount=g)}function Ry(e,i,o){var c=i.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var T=$e.current,N=(T&2)!==0;if(N?(T=T&1|2,i.flags|=128):T&=1,yt($e,T),Dn(e,i,c,o),c=te?R:0,!N&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cy(e,o,i);else if(e.tag===19)Cy(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)e=o.alternate,e!==null&&yh(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),fm(i,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&yh(e)===null){i.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}fm(i,!0,o,null,g,c);break;case"together":fm(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function kr(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),ka|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Rl(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,o=os(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=os(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function dm(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ch(e)))}function AT(e,i,o){switch(i.tag){case 3:Ee(i,i.stateNode.containerInfo),Aa(i,rn,e.memoizedState.cache),Ir();break;case 27:case 5:fs(i);break;case 4:Ee(i,i.stateNode.containerInfo);break;case 10:Aa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ia(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Ay(e,i,o):(Ia(i),e=kr(e,i,o),e!==null?e.sibling:null);Ia(i);break;case 19:var p=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Rl(e,i,o,!1),c=(o&i.childLanes)!==0),p){if(c)return Ry(e,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),yt($e,$e.current),c)break;return null;case 22:return i.lanes=0,by(e,i,o,i.pendingProps);case 24:Aa(i,rn,e.memoizedState.cache)}return kr(e,i,o)}function Ny(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)on=!0;else{if(!dm(e,o)&&(i.flags&128)===0)return on=!1,AT(e,i,o);on=(e.flags&131072)!==0}else on=!1,te&&(i.flags&1048576)!==0&&Qt(i,R,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=Fo(i.elementType),i.type=e,typeof e=="function")Sl(e)?(c=Zo(e,c),i.tag=1,i=Ty(null,i,e,c,o)):(i.tag=0,i=am(null,i,e,c,o));else{if(e!=null){var p=e.$$typeof;if(p===pt){i.tag=11,i=_y(null,i,e,c,o);break t}else if(p===V){i.tag=14,i=yy(null,i,e,c,o);break t}}throw i=It(e)||e,Error(r(306,i,""))}}return i;case 0:return am(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,p=Zo(c,i.pendingProps),Ty(e,i,c,p,o);case 3:t:{if(Ee(i,i.stateNode.containerInfo),e===null)throw Error(r(387));c=i.pendingProps;var g=i.memoizedState;p=g.element,Md(e,i),Hu(i,c,null,o);var T=i.memoizedState;if(c=T.cache,Aa(i,rn,c),c!==g.cache&&Cd(i,[rn],o,!0),Fu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Sy(e,i,c,o);break t}else if(c!==p){p=u(Error(r(424)),i),zo(p),i=Sy(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,me=us(e.firstChild),de=i,te=!0,ir=null,fi=!0,o=b_(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ir(),c===p){i=kr(e,i,o);break t}Dn(e,i,c,o)}i=i.child}return i;case 26:return Nh(e,i),e===null?(o=Uv(i.type,null,i.pendingProps,null))?i.memoizedState=o:te||(o=i.type,e=i.pendingProps,c=Zh(At.current).createElement(o),c[Be]=i,c[Ke]=e,Ln(c,o,e),Qe(c),i.stateNode=c):i.memoizedState=Uv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return fs(i),e===null&&te&&(c=i.stateNode=Vv(i.type,i.pendingProps,At.current),de=i,fi=!0,p=me,ja(i.type)?(Zm=p,me=us(c.firstChild)):me=p),Dn(e,i,i.pendingProps.children,o),Nh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&te&&((p=c=me)&&(c=n1(c,i.type,i.pendingProps,fi),c!==null?(i.stateNode=c,de=i,me=us(c.firstChild),fi=!1,p=!0):p=!1),p||sr(i)),fs(i),p=i.type,g=i.pendingProps,T=e!==null?e.memoizedProps:null,c=g.children,Bm(p,g)?c=null:T!==null&&Bm(p,T)&&(i.flags|=32),i.memoizedState!==null&&(p=Ud(e,i,_T,null,null,o),uc._currentValue=p),Nh(e,i),Dn(e,i,c,o),i.child;case 6:return e===null&&te&&((e=o=me)&&(o=i1(o,i.pendingProps,fi),o!==null?(i.stateNode=o,de=i,me=null,e=!0):e=!1),e||sr(i)),null;case 13:return Ay(e,i,o);case 4:return Ee(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=qo(i,null,c,o):Dn(e,i,c,o),i.child;case 11:return _y(e,i,i.type,i.pendingProps,o);case 7:return Dn(e,i,i.pendingProps,o),i.child;case 8:return Dn(e,i,i.pendingProps.children,o),i.child;case 12:return Dn(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Aa(i,i.type,c.value),Dn(e,i,c.children,o),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Uo(i),p=In(p),c=c(p),i.flags|=1,Dn(e,i,c,o),i.child;case 14:return yy(e,i,i.type,i.pendingProps,o);case 15:return vy(e,i,i.type,i.pendingProps,o);case 19:return Ry(e,i,o);case 31:return ST(e,i,o);case 22:return by(e,i,o,i.pendingProps);case 24:return Uo(i),c=In(rn),e===null?(p=Id(),p===null&&(p=De,g=Rd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),i.memoizedState={parent:c,cache:p},Ld(i),Aa(i,rn,p)):((e.lanes&o)!==0&&(Md(e,i),Hu(i,null,null,o),Fu()),p=e.memoizedState,g=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Aa(i,rn,c)):(c=g.cache,Aa(i,rn,c),c!==p.cache&&Cd(i,[rn],o,!0))),Dn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Or(e){e.flags|=4}function mm(e,i,o,c,p){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(nv())e.flags|=8192;else throw Ho=mh,Dd}else e.flags&=-16777217}function Iy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gv(i))if(nv())e.flags|=8192;else throw Ho=mh,Dd}function Dh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?hl():536870912,e.lanes|=i,Ul|=i)}function Yu(e,i){if(!te)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Pe(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function CT(e,i,o){var c=i.pendingProps;switch(Ye(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(i),null;case 1:return Pe(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Dr(rn),Re(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ss(i)?Or(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pu())),Pe(i),null;case 26:var p=i.type,g=i.memoizedState;return e===null?(Or(i),g!==null?(Pe(i),Iy(i,g)):(Pe(i),mm(i,p,null,c,o))):g?g!==e.memoizedState?(Or(i),Pe(i),Iy(i,g)):(Pe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&Or(i),Pe(i),mm(i,p,e,c,o)),null;case 27:if(js(i),o=At.current,p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Or(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Pe(i),null}e=_t.current,Ss(i)?Ou(i):(e=Vv(p,c,o),i.stateNode=e,Or(i))}return Pe(i),null;case 5:if(js(i),p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Or(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Pe(i),null}if(g=_t.current,Ss(i))Ou(i);else{var T=Zh(At.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}g[Be]=i,g[Ke]=c;t:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break t;for(;T.sibling===null;){if(T.return===null||T.return===i)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=g;t:switch(Ln(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Or(i)}}return Pe(i),mm(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Or(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(e=At.current,Ss(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,p=de,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[Be]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Av(e.nodeValue,o)),e||sr(i,!0)}else e=Zh(e).createTextNode(c),e[Be]=i,i.stateNode=e}return Pe(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=Ss(i),o!==null){if(e===null){if(!c)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Be]=i}else Ir(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),e=!1}else o=Pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(ki(i),i):(ki(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Pe(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Ss(i),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Be]=i}else Ir(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),p=!1}else p=Pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(ki(i),i):(ki(i),null)}return ki(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),Dh(i,i.updateQueue),Pe(i),null);case 4:return Re(),e===null&&Pm(i.stateNode.containerInfo),Pe(i),null;case 10:return Dr(i.type),Pe(i),null;case 19:if(lt($e),c=i.memoizedState,c===null)return Pe(i),null;if(p=(i.flags&128)!==0,g=c.rendering,g===null)if(p)Yu(c,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=yh(e),g!==null){for(i.flags|=128,Yu(c,!1),e=g.updateQueue,i.updateQueue=e,Dh(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)Lu(o,e),o=o.sibling;return yt($e,$e.current&1|2),te&&Ot(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&Nn()>Ph&&(i.flags|=128,p=!0,Yu(c,!1),i.lanes=4194304)}else{if(!p)if(e=yh(g),e!==null){if(i.flags|=128,p=!0,e=e.updateQueue,i.updateQueue=e,Dh(i,e),Yu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!te)return Pe(i),null}else 2*Nn()-c.renderingStartTime>Ph&&o!==536870912&&(i.flags|=128,p=!0,Yu(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(e=c.last,e!==null?e.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Nn(),e.sibling=null,o=$e.current,yt($e,p?o&1|2:o&1),te&&Ot(i,c.treeForkCount),e):(Pe(i),null);case 22:case 23:return ki(i),Vd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Pe(i),i.subtreeFlags&6&&(i.flags|=8192)):Pe(i),o=i.updateQueue,o!==null&&Dh(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&lt(Bo),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Dr(rn),Pe(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function RT(e,i){switch(Ye(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Dr(rn),Re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return js(i),null;case 31:if(i.memoizedState!==null){if(ki(i),i.alternate===null)throw Error(r(340));Ir()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(ki(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ir()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return lt($e),null;case 4:return Re(),null;case 10:return Dr(i.type),null;case 22:case 23:return ki(i),Vd(),e!==null&&lt(Bo),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Dr(rn),null;case 25:return null;default:return null}}function Dy(e,i){switch(Ye(i),i.tag){case 3:Dr(rn),Re();break;case 26:case 27:case 5:js(i);break;case 4:Re();break;case 31:i.memoizedState!==null&&ki(i);break;case 13:ki(i);break;case 19:lt($e);break;case 10:Dr(i.type);break;case 22:case 23:ki(i),Vd(),e!==null&&lt(Bo);break;case 24:Dr(rn)}}function Xu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&e)===e){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==p)}}catch(N){we(i,i.return,N)}}function La(e,i,o){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&e)===e){var T=c.inst,N=T.destroy;if(N!==void 0){T.destroy=void 0,p=i;var U=o,$=N;try{$()}catch(ut){we(p,U,ut)}}}c=c.next}while(c!==g)}}catch(ut){we(i,i.return,ut)}}function Ly(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{w_(i,o)}catch(c){we(e,e.return,c)}}}function My(e,i,o){o.props=Zo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){we(e,i,c)}}function Wu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(p){we(e,i,p)}}function ar(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){we(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){we(e,i,p)}else o.current=null}function ky(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){we(e,e.return,p)}}function pm(e,i,o){try{var c=e.stateNode;XT(c,e.type,o,i),c[Ke]=i}catch(p){we(e,e.return,p)}}function Oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ja(e.type)||e.tag===4}function gm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ja(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _m(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=kn));else if(c!==4&&(c===27&&ja(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(_m(e,i,o),e=e.sibling;e!==null;)_m(e,i,o),e=e.sibling}function Lh(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&ja(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Lh(e,i,o),e=e.sibling;e!==null;)Lh(e,i,o),e=e.sibling}function Py(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Ln(i,c,o),i[Be]=e,i[Ke]=o}catch(g){we(e,e.return,g)}}var Pr=!1,ln=!1,ym=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function NT(e,i){if(e=e.containerInfo,jm=$h,e=Io(e),Js(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,N=-1,U=-1,$=0,ut=0,dt=e,et=null;e:for(;;){for(var rt;dt!==o||p!==0&&dt.nodeType!==3||(N=T+p),dt!==g||c!==0&&dt.nodeType!==3||(U=T+c),dt.nodeType===3&&(T+=dt.nodeValue.length),(rt=dt.firstChild)!==null;)et=dt,dt=rt;for(;;){if(dt===e)break e;if(et===o&&++$===p&&(N=T),et===g&&++ut===c&&(U=T),(rt=dt.nextSibling)!==null)break;dt=et,et=dt.parentNode}dt=rt}o=N===-1||U===-1?null:{start:N,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Um={focusedElem:e,selectionRange:o},$h=!1,Tn=i;Tn!==null;)if(i=Tn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Tn=e;else for(;Tn!==null;){switch(i=Tn,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)p=e[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Mt=Zo(o.type,p);e=c.getSnapshotBeforeUpdate(Mt,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(jt){we(o,o.return,jt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Hm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Tn=e;break}Tn=i.return}}function zy(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:zr(e,o),c&4&&Xu(5,o);break;case 1:if(zr(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(T){we(o,o.return,T)}else{var p=Zo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){we(o,o.return,T)}}c&64&&Ly(o),c&512&&Wu(o,o.return);break;case 3:if(zr(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{w_(e,i)}catch(T){we(o,o.return,T)}}break;case 27:i===null&&c&4&&Py(o);case 26:case 5:zr(e,o),i===null&&c&4&&ky(o),c&512&&Wu(o,o.return);break;case 12:zr(e,o);break;case 31:zr(e,o),c&4&&By(e,o);break;case 13:zr(e,o),c&4&&Fy(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=zT.bind(null,o),s1(e,o))));break;case 22:if(c=o.memoizedState!==null||Pr,!c){i=i!==null&&i.memoizedState!==null||ln,p=Pr;var g=ln;Pr=c,(ln=i)&&!g?jr(e,o,(o.subtreeFlags&8772)!==0):zr(e,o),Pr=p,ln=g}break;case 30:break;default:zr(e,o)}}function jy(e){var i=e.alternate;i!==null&&(e.alternate=null,jy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&la(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,di=!1;function Vr(e,i,o){for(o=o.child;o!==null;)Uy(e,i,o),o=o.sibling}function Uy(e,i,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(ti,o)}catch{}switch(o.tag){case 26:ln||ar(o,i),Vr(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ln||ar(o,i);var c=Ve,p=di;ja(o.type)&&(Ve=o.stateNode,di=!1),Vr(e,i,o),ac(o.stateNode),Ve=c,di=p;break;case 5:ln||ar(o,i);case 6:if(c=Ve,p=di,Ve=null,Vr(e,i,o),Ve=c,di=p,Ve!==null)if(di)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(o.stateNode)}catch(g){we(o,i,g)}else try{Ve.removeChild(o.stateNode)}catch(g){we(o,i,g)}break;case 18:Ve!==null&&(di?(e=Ve,Lv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Ql(e)):Lv(Ve,o.stateNode));break;case 4:c=Ve,p=di,Ve=o.stateNode.containerInfo,di=!0,Vr(e,i,o),Ve=c,di=p;break;case 0:case 11:case 14:case 15:La(2,o,i),ln||La(4,o,i),Vr(e,i,o);break;case 1:ln||(ar(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&My(o,i,c)),Vr(e,i,o);break;case 21:Vr(e,i,o);break;case 22:ln=(c=ln)||o.memoizedState!==null,Vr(e,i,o),ln=c;break;default:Vr(e,i,o)}}function By(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ql(e)}catch(o){we(i,i.return,o)}}}function Fy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ql(e)}catch(o){we(i,i.return,o)}}function IT(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Vy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Vy),i;default:throw Error(r(435,e.tag))}}function Mh(e,i){var o=IT(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var p=jT.bind(null,e,c);c.then(p,p)}})}function mi(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=e,T=i,N=T;t:for(;N!==null;){switch(N.tag){case 27:if(ja(N.type)){Ve=N.stateNode,di=!1;break t}break;case 5:Ve=N.stateNode,di=!1;break t;case 3:case 4:Ve=N.stateNode.containerInfo,di=!0;break t}N=N.return}if(Ve===null)throw Error(r(160));Uy(g,T,p),Ve=null,di=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Hy(i,e),i=i.sibling}var Cs=null;function Hy(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mi(i,e),pi(e),c&4&&(La(3,e,e.return),Xu(3,e),La(5,e,e.return));break;case 1:mi(i,e),pi(e),c&512&&(ln||o===null||ar(o,o.return)),c&64&&Pr&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=Cs;if(mi(i,e),pi(e),c&512&&(ln||o===null||ar(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Yi]||g[Be]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Ln(g,c,o),g[Be]=e,Qe(g),c=g;break t;case"link":var T=Hv("link","href",p).get(c+(o.href||""));if(T){for(var N=0;N<T.length;N++)if(g=T[N],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(N,1);break e}}g=p.createElement(c),Ln(g,c,o),p.head.appendChild(g);break;case"meta":if(T=Hv("meta","content",p).get(c+(o.content||""))){for(N=0;N<T.length;N++)if(g=T[N],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(N,1);break e}}g=p.createElement(c),Ln(g,c,o),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[Be]=e,Qe(g),c=g}e.stateNode=c}else qv(p,e.type,e.stateNode);else e.stateNode=Fv(p,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?qv(p,e.type,e.stateNode):Fv(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&pm(e,e.memoizedProps,o.memoizedProps)}break;case 27:mi(i,e),pi(e),c&512&&(ln||o===null||ar(o,o.return)),o!==null&&c&4&&pm(e,e.memoizedProps,o.memoizedProps);break;case 5:if(mi(i,e),pi(e),c&512&&(ln||o===null||ar(o,o.return)),e.flags&32){p=e.stateNode;try{nn(p,"")}catch(Mt){we(e,e.return,Mt)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,pm(e,p,o!==null?o.memoizedProps:p)),c&1024&&(ym=!0);break;case 6:if(mi(i,e),pi(e),c&4){if(e.stateNode===null)throw Error(r(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Mt){we(e,e.return,Mt)}}break;case 3:if(Yh=null,p=Cs,Cs=Kh(i.containerInfo),mi(i,e),Cs=p,pi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Ql(i.containerInfo)}catch(Mt){we(e,e.return,Mt)}ym&&(ym=!1,qy(e));break;case 4:c=Cs,Cs=Kh(e.stateNode.containerInfo),mi(i,e),pi(e),Cs=c;break;case 12:mi(i,e),pi(e);break;case 31:mi(i,e),pi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Mh(e,c)));break;case 13:mi(i,e),pi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Oh=Nn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Mh(e,c)));break;case 22:p=e.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,$=Pr,ut=ln;if(Pr=$||p,ln=ut||U,mi(i,e),ln=ut,Pr=$,pi(e),c&8192)t:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||U||Pr||ln||Ko(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(g=U.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{N=U.stateNode;var dt=U.memoizedProps.style,et=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;N.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(Mt){we(U,U.return,Mt)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(Mt){we(U,U.return,Mt)}}}else if(i.tag===18){if(o===null){U=i;try{var rt=U.stateNode;p?Mv(rt,!0):Mv(U.stateNode,!1)}catch(Mt){we(U,U.return,Mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Mh(e,o))));break;case 19:mi(i,e),pi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Mh(e,c)));break;case 30:break;case 21:break;default:mi(i,e),pi(e)}}function pi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(Oy(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,g=gm(e);Lh(e,g,p);break;case 5:var T=o.stateNode;o.flags&32&&(nn(T,""),o.flags&=-33);var N=gm(e);Lh(e,N,T);break;case 3:case 4:var U=o.stateNode.containerInfo,$=gm(e);_m(e,$,U);break;default:throw Error(r(161))}}catch(ut){we(e,e.return,ut)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function zr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zy(e,i.alternate,i),i=i.sibling}function Ko(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:La(4,i,i.return),Ko(i);break;case 1:ar(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&My(i,i.return,o),Ko(i);break;case 27:ac(i.stateNode);case 26:case 5:ar(i,i.return),Ko(i);break;case 22:i.memoizedState===null&&Ko(i);break;case 30:Ko(i);break;default:Ko(i)}e=e.sibling}}function jr(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=e,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:jr(p,g,o),Xu(4,g);break;case 1:if(jr(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch($){we(c,c.return,$)}if(c=g,p=c.updateQueue,p!==null){var N=c.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)x_(U[p],N)}catch($){we(c,c.return,$)}}o&&T&64&&Ly(g),Wu(g,g.return);break;case 27:Py(g);case 26:case 5:jr(p,g,o),o&&c===null&&T&4&&ky(g),Wu(g,g.return);break;case 12:jr(p,g,o);break;case 31:jr(p,g,o),o&&T&4&&By(p,g);break;case 13:jr(p,g,o),o&&T&4&&Fy(p,g);break;case 22:g.memoizedState===null&&jr(p,g,o),Wu(g,g.return);break;case 30:break;default:jr(p,g,o)}i=i.sibling}}function vm(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Vu(o))}function bm(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Vu(e))}function Rs(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Gy(e,i,o,c),i=i.sibling}function Gy(e,i,o,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Rs(e,i,o,c),p&2048&&Xu(9,i);break;case 1:Rs(e,i,o,c);break;case 3:Rs(e,i,o,c),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Vu(e)));break;case 12:if(p&2048){Rs(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,T=g.id,N=g.onPostCommit;typeof N=="function"&&N(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){we(i,i.return,U)}}else Rs(e,i,o,c);break;case 31:Rs(e,i,o,c);break;case 13:Rs(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?Rs(e,i,o,c):Ju(e,i):g._visibility&2?Rs(e,i,o,c):(g._visibility|=2,Vl(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),p&2048&&vm(T,i);break;case 24:Rs(e,i,o,c),p&2048&&bm(i.alternate,i);break;default:Rs(e,i,o,c)}}function Vl(e,i,o,c,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,T=i,N=o,U=c,$=T.flags;switch(T.tag){case 0:case 11:case 15:Vl(g,T,N,U,p),Xu(8,T);break;case 23:break;case 22:var ut=T.stateNode;T.memoizedState!==null?ut._visibility&2?Vl(g,T,N,U,p):Ju(g,T):(ut._visibility|=2,Vl(g,T,N,U,p)),p&&$&2048&&vm(T.alternate,T);break;case 24:Vl(g,T,N,U,p),p&&$&2048&&bm(T.alternate,T);break;default:Vl(g,T,N,U,p)}i=i.sibling}}function Ju(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,p=c.flags;switch(c.tag){case 22:Ju(o,c),p&2048&&vm(c.alternate,c);break;case 24:Ju(o,c),p&2048&&bm(c.alternate,c);break;default:Ju(o,c)}i=i.sibling}}var $u=8192;function zl(e,i,o){if(e.subtreeFlags&$u)for(e=e.child;e!==null;)Zy(e,i,o),e=e.sibling}function Zy(e,i,o){switch(e.tag){case 26:zl(e,i,o),e.flags&$u&&e.memoizedState!==null&&g1(o,Cs,e.memoizedState,e.memoizedProps);break;case 5:zl(e,i,o);break;case 3:case 4:var c=Cs;Cs=Kh(e.stateNode.containerInfo),zl(e,i,o),Cs=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=$u,$u=16777216,zl(e,i,o),$u=c):zl(e,i,o));break;default:zl(e,i,o)}}function Ky(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function tc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Tn=c,Yy(c,e)}Ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qy(e),e=e.sibling}function Qy(e){switch(e.tag){case 0:case 11:case 15:tc(e),e.flags&2048&&La(9,e,e.return);break;case 3:tc(e);break;case 12:tc(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,kh(e)):tc(e);break;default:tc(e)}}function kh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Tn=c,Yy(c,e)}Ky(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:La(8,i,i.return),kh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,kh(i));break;default:kh(i)}e=e.sibling}}function Yy(e,i){for(;Tn!==null;){var o=Tn;switch(o.tag){case 0:case 11:case 15:La(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Vu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Tn=c;else t:for(o=e;Tn!==null;){c=Tn;var p=c.sibling,g=c.return;if(jy(c),c===o){Tn=null;break t}if(p!==null){p.return=g,Tn=p;break t}Tn=g}}}var DT={getCacheForType:function(e){var i=In(rn),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return In(rn).controller.signal}},LT=typeof WeakMap=="function"?WeakMap:Map,_e=0,De=null,ee=null,se=0,xe=0,Oi=null,Ma=!1,jl=!1,xm=!1,Ur=0,We=0,ka=0,Qo=0,wm=0,Pi=0,Ul=0,ec=null,gi=null,Em=!1,Oh=0,Xy=0,Ph=1/0,Vh=null,Oa=null,pn=0,Pa=null,Bl=null,Br=0,Tm=0,Sm=null,Wy=null,nc=0,Am=null;function Vi(){return(_e&2)!==0&&se!==0?se&-se:nt.T!==null?Lm():go()}function Jy(){if(Pi===0)if((se&536870912)===0||te){var e=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),Pi=e}else Pi=536870912;return e=Mi.current,e!==null&&(e.flags|=32),Pi}function _i(e,i,o){(e===De&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(Fl(e,0),Va(e,se,Pi,!1)),ms(e,o),((_e&2)===0||e!==De)&&(e===De&&((_e&2)===0&&(Qo|=o),We===4&&Va(e,se,Pi,!1)),or(e))}function $y(e,i,o){if((_e&6)!==0)throw Error(r(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||xi(e,i),p=c?OT(e,i):Rm(e,i,!0),g=c;do{if(p===0){jl&&!c&&Va(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!MT(o)){p=Rm(e,i,!1),g=!1;continue}if(p===2){if(g=i,e.errorRecoveryDisabledLanes&g)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var N=e;p=ec;var U=N.current.memoizedState.isDehydrated;if(U&&(Fl(N,T).flags|=256),T=Rm(N,T,!1),T!==2){if(xm&&!U){N.errorRecoveryDisabledLanes|=g,Qo|=g,p=4;break t}g=gi,gi=p,g!==null&&(gi===null?gi=g:gi.push.apply(gi,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){Fl(e,0),Va(e,i,0,!0);break}t:{switch(c=e,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Va(c,i,Pi,!Ma);break t;case 2:gi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(p=Oh+300-Nn(),10<p)){if(Va(c,i,Pi,!Ma),Ki(c,0,!0)!==0)break t;Br=i,c.timeoutHandle=Iv(tv.bind(null,c,o,gi,Vh,Em,i,Pi,Qo,Ul,Ma,g,"Throttled",-0,0),p);break t}tv(c,o,gi,Vh,Em,i,Pi,Qo,Ul,Ma,g,null,-0,0)}}break}while(!0);or(e)}function tv(e,i,o,c,p,g,T,N,U,$,ut,dt,et,rt){if(e.timeoutHandle=-1,dt=i.subtreeFlags,dt&8192||(dt&16785408)===16785408){dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},Zy(i,g,dt);var Mt=(g&62914560)===g?Oh-Nn():(g&4194048)===g?Xy-Nn():0;if(Mt=_1(dt,Mt),Mt!==null){Br=g,e.cancelPendingCommit=Mt(lv.bind(null,e,i,g,o,c,p,T,N,U,ut,dt,null,et,rt)),Va(e,g,T,!$);return}}lv(e,i,g,o,c,p,T,N,U)}function MT(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!wn(g(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Va(e,i,o,c){i&=~wm,i&=~Qo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var p=i;0<p;){var g=31-je(p),T=1<<g;c[g]=-1,p&=~T}o!==0&&vr(e,o,i)}function zh(){return(_e&6)===0?(ic(0),!1):!0}function Cm(){if(ee!==null){if(xe===0)var e=ee.return;else e=ee,As=rr=null,Hd(e),Ll=null,ju=0,e=ee;for(;e!==null;)Dy(e.alternate,e),e=e.return;ee=null}}function Fl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,$T(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Br=0,Cm(),De=e,ee=o=os(e.current,null),se=i,xe=0,Oi=null,Ma=!1,jl=xi(e,i),xm=!1,Ul=Pi=wm=Qo=ka=We=0,gi=ec=null,Em=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var p=31-je(c),g=1<<p;i|=e[p],c&=~g}return Ur=i,Oo(),o}function ev(e,i){Kt=null,nt.H=Ku,i===Dl||i===dh?(i=__(),xe=3):i===Dd?(i=__(),xe=4):xe=i===rm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Oi=i,ee===null&&(We=1,Ch(e,u(i,e.current)))}function nv(){var e=Mi.current;return e===null?!0:(se&4194048)===se?ls===null:(se&62914560)===se||(se&536870912)!==0?e===ls:!1}function iv(){var e=nt.H;return nt.H=Ku,e===null?Ku:e}function sv(){var e=nt.A;return nt.A=DT,e}function jh(){We=4,Ma||(se&4194048)!==se&&Mi.current!==null||(jl=!0),(ka&134217727)===0&&(Qo&134217727)===0||De===null||Va(De,se,Pi,!1)}function Rm(e,i,o){var c=_e;_e|=2;var p=iv(),g=sv();(De!==e||se!==i)&&(Vh=null,Fl(e,i)),i=!1;var T=We;t:do try{if(xe!==0&&ee!==null){var N=ee,U=Oi;switch(xe){case 8:Cm(),T=6;break t;case 3:case 2:case 9:case 6:Mi.current===null&&(i=!0);var $=xe;if(xe=0,Oi=null,Hl(e,N,U,$),o&&jl){T=0;break t}break;default:$=xe,xe=0,Oi=null,Hl(e,N,U,$)}}kT(),T=We;break}catch(ut){ev(e,ut)}while(!0);return i&&e.shellSuspendCounter++,As=rr=null,_e=c,nt.H=p,nt.A=g,ee===null&&(De=null,se=0,Oo()),T}function kT(){for(;ee!==null;)rv(ee)}function OT(e,i){var o=_e;_e|=2;var c=iv(),p=sv();De!==e||se!==i?(Vh=null,Ph=Nn()+500,Fl(e,i)):jl=xi(e,i);t:do try{if(xe!==0&&ee!==null){i=ee;var g=Oi;e:switch(xe){case 1:xe=0,Oi=null,Hl(e,i,g,1);break;case 2:case 9:if(p_(g)){xe=0,Oi=null,av(i);break}i=function(){xe!==2&&xe!==9||De!==e||(xe=7),or(e)},g.then(i,i);break t;case 3:xe=7;break t;case 4:xe=5;break t;case 7:p_(g)?(xe=0,Oi=null,av(i)):(xe=0,Oi=null,Hl(e,i,g,7));break;case 5:var T=null;switch(ee.tag){case 26:T=ee.memoizedState;case 5:case 27:var N=ee;if(T?Gv(T):N.stateNode.complete){xe=0,Oi=null;var U=N.sibling;if(U!==null)ee=U;else{var $=N.return;$!==null?(ee=$,Uh($)):ee=null}break e}}xe=0,Oi=null,Hl(e,i,g,5);break;case 6:xe=0,Oi=null,Hl(e,i,g,6);break;case 8:Cm(),We=6;break t;default:throw Error(r(462))}}PT();break}catch(ut){ev(e,ut)}while(!0);return As=rr=null,nt.H=c,nt.A=p,_e=o,ee!==null?0:(De=null,se=0,Oo(),We)}function PT(){for(;ee!==null&&!ll();)rv(ee)}function rv(e){var i=Ny(e.alternate,e,Ur);e.memoizedProps=e.pendingProps,i===null?Uh(e):ee=i}function av(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=Ey(o,i,i.pendingProps,i.type,void 0,se);break;case 11:i=Ey(o,i,i.pendingProps,i.type.render,i.ref,se);break;case 5:Hd(i);default:Dy(o,i),i=ee=Lu(i,Ur),i=Ny(o,i,Ur)}e.memoizedProps=e.pendingProps,i===null?Uh(e):ee=i}function Hl(e,i,o,c){As=rr=null,Hd(i),Ll=null,ju=0;var p=i.return;try{if(TT(e,p,i,o,se)){We=1,Ch(e,u(o,e.current)),ee=null;return}}catch(g){if(p!==null)throw ee=p,g;We=1,Ch(e,u(o,e.current)),ee=null;return}i.flags&32768?(te||c===1?e=!0:jl||(se&536870912)!==0?e=!1:(Ma=e=!0,(c===2||c===9||c===3||c===6)&&(c=Mi.current,c!==null&&c.tag===13&&(c.flags|=16384))),ov(i,e)):Uh(i)}function Uh(e){var i=e;do{if((i.flags&32768)!==0){ov(i,Ma);return}e=i.return;var o=CT(i.alternate,i,Ur);if(o!==null){ee=o;return}if(i=i.sibling,i!==null){ee=i;return}ee=i=e}while(i!==null);We===0&&(We=5)}function ov(e,i){do{var o=RT(e.alternate,e);if(o!==null){o.flags&=32767,ee=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){ee=e;return}ee=e=o}while(e!==null);We=6,ee=null}function lv(e,i,o,c,p,g,T,N,U){e.cancelPendingCommit=null;do Bh();while(pn!==0);if((_e&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(g=i.lanes|i.childLanes,g|=Tl,Iu(e,o,g,T,N,U),e===De&&(ee=De=null,se=0),Bl=i,Pa=e,Br=o,Tm=g,Sm=p,Wy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,UT(ds,function(){return dv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=nt.T,nt.T=null,p=vt.p,vt.p=2,T=_e,_e|=4;try{NT(e,i,o)}finally{_e=T,vt.p=p,nt.T=c}}pn=1,uv(),cv(),hv()}}function uv(){if(pn===1){pn=0;var e=Pa,i=Bl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=nt.T,nt.T=null;var c=vt.p;vt.p=2;var p=_e;_e|=4;try{Hy(i,e);var g=Um,T=Io(e.containerInfo),N=g.focusedElem,U=g.selectionRange;if(T!==N&&N&&N.ownerDocument&&bl(N.ownerDocument.documentElement,N)){if(U!==null&&Js(N)){var $=U.start,ut=U.end;if(ut===void 0&&(ut=$),"selectionStart"in N)N.selectionStart=$,N.selectionEnd=Math.min(ut,N.value.length);else{var dt=N.ownerDocument||document,et=dt&&dt.defaultView||window;if(et.getSelection){var rt=et.getSelection(),Mt=N.textContent.length,jt=Math.min(U.start,Mt),Ae=U.end===void 0?jt:Math.min(U.end,Mt);!rt.extend&&jt>Ae&&(T=Ae,Ae=jt,jt=T);var Y=No(N,jt),Z=No(N,Ae);if(Y&&Z&&(rt.rangeCount!==1||rt.anchorNode!==Y.node||rt.anchorOffset!==Y.offset||rt.focusNode!==Z.node||rt.focusOffset!==Z.offset)){var J=dt.createRange();J.setStart(Y.node,Y.offset),rt.removeAllRanges(),jt>Ae?(rt.addRange(J),rt.extend(Z.node,Z.offset)):(J.setEnd(Z.node,Z.offset),rt.addRange(J))}}}}for(dt=[],rt=N;rt=rt.parentNode;)rt.nodeType===1&&dt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<dt.length;N++){var ct=dt[N];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}$h=!!jm,Um=jm=null}finally{_e=p,vt.p=c,nt.T=o}}e.current=i,pn=2}}function cv(){if(pn===2){pn=0;var e=Pa,i=Bl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=nt.T,nt.T=null;var c=vt.p;vt.p=2;var p=_e;_e|=4;try{zy(e,i.alternate,i)}finally{_e=p,vt.p=c,nt.T=o}}pn=3}}function hv(){if(pn===4||pn===3){pn=0,co();var e=Pa,i=Bl,o=Br,c=Wy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pn=5:(pn=0,Bl=Pa=null,fv(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Oa=null),Lt(o),i=i.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(ti,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=nt.T,p=vt.p,vt.p=2,nt.T=null;try{for(var g=e.onRecoverableError,T=0;T<c.length;T++){var N=c[T];g(N.value,{componentStack:N.stack})}}finally{nt.T=i,vt.p=p}}(Br&3)!==0&&Bh(),or(e),p=e.pendingLanes,(o&261930)!==0&&(p&42)!==0?e===Am?nc++:(nc=0,Am=e):nc=0,ic(0)}}function fv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Vu(i)))}function Bh(){return uv(),cv(),hv(),dv()}function dv(){if(pn!==5)return!1;var e=Pa,i=Tm;Tm=0;var o=Lt(Br),c=nt.T,p=vt.p;try{vt.p=32>o?32:o,nt.T=null,o=Sm,Sm=null;var g=Pa,T=Br;if(pn=0,Bl=Pa=null,Br=0,(_e&6)!==0)throw Error(r(331));var N=_e;if(_e|=4,Qy(g.current),Gy(g,g.current,T,o),_e=N,ic(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(ti,g)}catch{}return!0}finally{vt.p=p,nt.T=c,fv(e,i)}}function mv(e,i,o){i=u(o,i),i=sm(e.stateNode,i,2),e=Na(e,i,2),e!==null&&(ms(e,2),or(e))}function we(e,i,o){if(e.tag===3)mv(e,e,o);else for(;i!==null;){if(i.tag===3){mv(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Oa===null||!Oa.has(c))){e=u(o,e),o=py(2),c=Na(i,o,2),c!==null&&(gy(o,c,i,e),ms(c,2),or(c));break}}i=i.return}}function Nm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new LT;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(o)||(xm=!0,p.add(o),e=VT.bind(null,e,i,o),i.then(e,e))}function VT(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,De===e&&(se&o)===o&&(We===4||We===3&&(se&62914560)===se&&300>Nn()-Oh?(_e&2)===0&&Fl(e,0):wm|=o,Ul===se&&(Ul=0)),or(e)}function pv(e,i){i===0&&(i=hl()),e=as(e,i),e!==null&&(ms(e,i),or(e))}function zT(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),pv(e,o)}function jT(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),pv(e,o)}function UT(e,i){return Ze(e,i)}var Fh=null,ql=null,Im=!1,Hh=!1,Dm=!1,za=0;function or(e){e!==ql&&e.next===null&&(ql===null?Fh=ql=e:ql=ql.next=e),Hh=!0,Im||(Im=!0,FT())}function ic(e,i){if(!Dm&&Hh){Dm=!0;do for(var o=!1,c=Fh;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,N=c.pingedLanes;g=(1<<31-je(42|e)+1)-1,g&=p&~(T&~N),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,vv(c,g))}else g=se,g=Ki(c,c===De?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||xi(c,g)||(o=!0,vv(c,g));c=c.next}while(o);Dm=!1}}function BT(){gv()}function gv(){Hh=Im=!1;var e=0;za!==0&&JT()&&(e=za);for(var i=Nn(),o=null,c=Fh;c!==null;){var p=c.next,g=_v(c,i);g===0?(c.next=null,o===null?Fh=p:o.next=p,p===null&&(ql=o)):(o=c,(e!==0||(g&3)!==0)&&(Hh=!0)),c=p}pn!==0&&pn!==5||ic(e),za!==0&&(za=0)}function _v(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var T=31-je(g),N=1<<T,U=p[T];U===-1?((N&o)===0||(N&c)!==0)&&(p[T]=Nu(N,i)):U<=i&&(e.expiredLanes|=N),g&=~N}if(i=De,o=se,o=Ki(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Gi(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||xi(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&Gi(c),Lt(o)){case 2:case 8:o=aa;break;case 32:o=ds;break;case 268435456:o=ho;break;default:o=ds}return c=yv.bind(null,e),o=Ze(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&Gi(c),e.callbackPriority=2,e.callbackNode=null,2}function yv(e,i){if(pn!==0&&pn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Bh()&&e.callbackNode!==o)return null;var c=se;return c=Ki(e,e===De?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:($y(e,c,i),_v(e,Nn()),e.callbackNode!=null&&e.callbackNode===o?yv.bind(null,e):null)}function vv(e,i){if(Bh())return null;$y(e,i,!0)}function FT(){t1(function(){(_e&6)!==0?Ze(yr,BT):gv()})}function Lm(){if(za===0){var e=Nl;e===0&&(e=bi,bi<<=1,(bi&261888)===0&&(bi=256)),za=e}return za}function bv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ks(""+e)}function xv(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function HT(e,i,o,c,p){if(i==="submit"&&o&&o.stateNode===p){var g=bv((p[Ke]||null).action),T=c.submitter;T&&(i=(i=T[Ke]||null)?bv(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var N=new ns("action","action",null,c,p);e.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(za!==0){var U=T?xv(p,T):new FormData(p);Jd(o,{pending:!0,data:U,method:p.method,action:g},null,U)}}else typeof g=="function"&&(N.preventDefault(),U=T?xv(p,T):new FormData(p),Jd(o,{pending:!0,data:U,method:p.method,action:g},g,U))},currentTarget:p}]})}}for(var Mm=0;Mm<er.length;Mm++){var km=er[Mm],qT=km.toLowerCase(),GT=km[0].toUpperCase()+km.slice(1);ci(qT,"on"+GT)}ci(Lo,"onAnimationEnd"),ci(oh,"onAnimationIteration"),ci(Mo,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(Ed,"onTransitionRun"),ci(lh,"onTransitionStart"),ci(Td,"onTransitionCancel"),ci(Ta,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sc));function wv(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],p=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var T=c.length-1;0<=T;T--){var N=c[T],U=N.instance,$=N.currentTarget;if(N=N.listener,U!==g&&p.isPropagationStopped())break t;g=N,p.currentTarget=$;try{g(p)}catch(ut){ko(ut)}p.currentTarget=null,g=U}else for(T=0;T<c.length;T++){if(N=c[T],U=N.instance,$=N.currentTarget,N=N.listener,U!==g&&p.isPropagationStopped())break t;g=N,p.currentTarget=$;try{g(p)}catch(ut){ko(ut)}p.currentTarget=null,g=U}}}}function ne(e,i){var o=i[Ei];o===void 0&&(o=i[Ei]=new Set);var c=e+"__bubble";o.has(c)||(Ev(i,e,2,!1),o.add(c))}function Om(e,i,o){var c=0;i&&(c|=4),Ev(o,e,c,i)}var qh="_reactListening"+Math.random().toString(36).slice(2);function Pm(e){if(!e[qh]){e[qh]=!0,_o.forEach(function(o){o!=="selectionchange"&&(ZT.has(o)||Om(o,!1,e),Om(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[qh]||(i[qh]=!0,Om("selectionchange",!1,i))}}function Ev(e,i,o,c){switch(Jv(i)){case 2:var p=b1;break;case 8:p=x1;break;default:p=Wm}o=p.bind(null,i,o,e),p=void 0,!ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(i,o,{capture:!0,passive:p}):e.addEventListener(i,o,!0):p!==void 0?e.addEventListener(i,o,{passive:p}):e.addEventListener(i,o,!1)}function Vm(e,i,o,c,p){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var N=c.stateNode.containerInfo;if(N===p)break;if(T===4)for(T=c.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;N!==null;){if(T=Ti(N),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){c=g=T;continue t}N=N.parentNode}}c=c.return}_s(function(){var $=g,ut=On(o),dt=[];t:{var et=uh.get(e);if(et!==void 0){var rt=ns,Mt=e;switch(e){case"keypress":if(Ys(o)===0)break t;case"keydown":case"keyup":rt=To;break;case"focusin":Mt="focus",rt=Sr;break;case"focusout":Mt="blur",rt=Sr;break;case"beforeblur":case"afterblur":rt=Sr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=pl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=x;break;case Lo:case oh:case Mo:rt=ma;break;case Ta:rt=D;break;case"scroll":case"scrollend":rt=Xt;break;case"wheel":rt=it;break;case"copy":case"cut":case"paste":rt=Yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=ws;break;case"toggle":case"beforetoggle":rt=Bt}var jt=(i&4)!==0,Ae=!jt&&(e==="scroll"||e==="scrollend"),Y=jt?et!==null?et+"Capture":null:et;jt=[];for(var Z=$,J;Z!==null;){var ct=Z;if(J=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||J===null||Y===null||(ct=Qn(Z,Y),ct!=null&&jt.push(rc(Z,ct,J))),Ae)break;Z=Z.return}0<jt.length&&(et=new rt(et,Mt,null,o,ut),dt.push({event:et,listeners:jt}))}}if((i&7)===0){t:{if(et=e==="mouseover"||e==="pointerover",rt=e==="mouseout"||e==="pointerout",et&&o!==da&&(Mt=o.relatedTarget||o.fromElement)&&(Ti(Mt)||Mt[wi]))break t;if((rt||et)&&(et=ut.window===ut?ut:(et=ut.ownerDocument)?et.defaultView||et.parentWindow:window,rt?(Mt=o.relatedTarget||o.toElement,rt=$,Mt=Mt?Ti(Mt):null,Mt!==null&&(Ae=h(Mt),jt=Mt.tag,Mt!==Ae||jt!==5&&jt!==27&&jt!==6)&&(Mt=null)):(rt=null,Mt=$),rt!==Mt)){if(jt=vo,ct="onMouseLeave",Y="onMouseEnter",Z="mouse",(e==="pointerout"||e==="pointerover")&&(jt=ws,ct="onPointerLeave",Y="onPointerEnter",Z="pointer"),Ae=rt==null?et:yn(rt),J=Mt==null?et:yn(Mt),et=new jt(ct,Z+"leave",rt,o,ut),et.target=Ae,et.relatedTarget=J,ct=null,Ti(ut)===$&&(jt=new jt(Y,Z+"enter",Mt,o,ut),jt.target=J,jt.relatedTarget=Ae,ct=jt),Ae=ct,rt&&Mt)e:{for(jt=KT,Y=rt,Z=Mt,J=0,ct=Y;ct;ct=jt(ct))J++;ct=0;for(var Vt=Z;Vt;Vt=jt(Vt))ct++;for(;0<J-ct;)Y=jt(Y),J--;for(;0<ct-J;)Z=jt(Z),ct--;for(;J--;){if(Y===Z||Z!==null&&Y===Z.alternate){jt=Y;break e}Y=jt(Y),Z=jt(Z)}jt=null}else jt=null;rt!==null&&Tv(dt,et,rt,jt,!1),Mt!==null&&Ae!==null&&Tv(dt,Ae,Mt,jt,!0)}}t:{if(et=$?yn($):window,rt=et.nodeName&&et.nodeName.toLowerCase(),rt==="select"||rt==="input"&&et.type==="file")var pe=Ro;else if(is(et))if(nh)pe=wd;else{pe=xd;var kt=Es}else rt=et.nodeName,!rt||rt.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?$&&Zs($.elementType)&&(pe=Ro):pe=ba;if(pe&&(pe=pe(e,$))){eh(dt,pe,o,ut);break t}kt&&kt(e,et,$),e==="focusout"&&$&&et.type==="number"&&$.memoizedProps.value!=null&&Si(et,"number",et.value)}switch(kt=$?yn($):window,e){case"focusin":(is(kt)||kt.contentEditable==="true")&&($s=kt,wl=$,Do=null);break;case"focusout":Do=wl=$s=null;break;case"mousedown":wa=!0;break;case"contextmenu":case"mouseup":case"dragend":wa=!1,rh(dt,o,ut);break;case"selectionchange":if(xl)break;case"keydown":case"keyup":rh(dt,o,ut)}var Yt;if(ce)t:{switch(e){case"compositionstart":var re="onCompositionStart";break t;case"compositionend":re="onCompositionEnd";break t;case"compositionupdate":re="onCompositionUpdate";break t}re=void 0}else _a?Ar(e,o)&&(re="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(re="onCompositionStart");re&&(ui&&o.locale!=="ko"&&(_a||re!=="onCompositionStart"?re==="onCompositionEnd"&&_a&&(Yt=Ai()):(oi=ut,vs="value"in oi?oi.value:oi.textContent,_a=!0)),kt=Gh($,re),0<kt.length&&(re=new Ni(re,e,null,o,ut),dt.push({event:re,listeners:kt}),Yt?re.data=Yt:(Yt=Cr(o),Yt!==null&&(re.data=Yt)))),(Yt=li?Li(e,o):ya(e,o))&&(re=Gh($,"onBeforeInput"),0<re.length&&(kt=new Ni("onBeforeInput","beforeinput",null,o,ut),dt.push({event:kt,listeners:re}),kt.data=Yt)),HT(dt,e,$,o,ut)}wv(dt,i)})}function rc(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Gh(e,i){for(var o=i+"Capture",c=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Qn(e,o),p!=null&&c.unshift(rc(e,p,g)),p=Qn(e,i),p!=null&&c.push(rc(e,p,g))),e.tag===3)return c;e=e.return}return[]}function KT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tv(e,i,o,c,p){for(var g=i._reactName,T=[];o!==null&&o!==c;){var N=o,U=N.alternate,$=N.stateNode;if(N=N.tag,U!==null&&U===c)break;N!==5&&N!==26&&N!==27||$===null||(U=$,p?($=Qn(o,g),$!=null&&T.unshift(rc(o,$,U))):p||($=Qn(o,g),$!=null&&T.push(rc(o,$,U)))),o=o.return}T.length!==0&&e.push({event:i,listeners:T})}var QT=/\r\n?/g,YT=/\u0000|\uFFFD/g;function Sv(e){return(typeof e=="string"?e:""+e).replace(QT,`
`).replace(YT,"")}function Av(e,i){return i=Sv(i),Sv(e)===i}function Se(e,i,o,c,p,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||nn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&nn(e,""+c);break;case"className":$t(e,"class",c);break;case"tabIndex":$t(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":$t(e,o,c);break;case"style":wr(e,c,g);break;case"data":if(i!=="object"){$t(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Ks(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Se(e,i,"name",p.name,p,null),Se(e,i,"formEncType",p.formEncType,p,null),Se(e,i,"formMethod",p.formMethod,p,null),Se(e,i,"formTarget",p.formTarget,p,null)):(Se(e,i,"encType",p.encType,p,null),Se(e,i,"method",p.method,p,null),Se(e,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Ks(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=kn);break;case"onScroll":c!=null&&ne("scroll",e);break;case"onScrollEnd":c!=null&&ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Ks(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":ne("beforetoggle",e),ne("toggle",e),Wt(e,"popover",c);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Wt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Er.get(o)||o,Wt(e,o,c))}}function zm(e,i,o,c,p,g){switch(o){case"style":wr(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"children":typeof c=="string"?nn(e,c):(typeof c=="number"||typeof c=="bigint")&&nn(e,""+c);break;case"onScroll":c!=null&&ne("scroll",e);break;case"onScrollEnd":c!=null&&ne("scrollend",e);break;case"onClick":c!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),g=e[Ke]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,p);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Wt(e,o,c)}}}function Ln(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",e),ne("load",e);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Se(e,i,g,T,o,null)}}p&&Se(e,i,"srcSet",o.srcSet,o,null),c&&Se(e,i,"src",o.src,o,null);return;case"input":ne("invalid",e);var N=g=T=p=null,U=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var ut=o[c];if(ut!=null)switch(c){case"name":p=ut;break;case"type":T=ut;break;case"checked":U=ut;break;case"defaultChecked":$=ut;break;case"value":g=ut;break;case"defaultValue":N=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,i));break;default:Se(e,i,c,ut,o,null)}}xr(e,g,N,U,$,T,p,!1);return;case"select":ne("invalid",e),c=T=g=null;for(p in o)if(o.hasOwnProperty(p)&&(N=o[p],N!=null))switch(p){case"value":g=N;break;case"defaultValue":T=N;break;case"multiple":c=N;default:Se(e,i,p,N,o,null)}i=g,o=T,e.multiple=!!c,i!=null?be(e,!!c,i,!1):o!=null&&be(e,!!c,o,!0);return;case"textarea":ne("invalid",e),g=p=c=null;for(T in o)if(o.hasOwnProperty(T)&&(N=o[T],N!=null))switch(T){case"value":c=N;break;case"defaultValue":p=N;break;case"children":g=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:Se(e,i,T,N,o,null)}ai(e,c,p,g);return;case"option":for(U in o)o.hasOwnProperty(U)&&(c=o[U],c!=null)&&(U==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Se(e,i,U,c,o,null));return;case"dialog":ne("beforetoggle",e),ne("toggle",e),ne("cancel",e),ne("close",e);break;case"iframe":case"object":ne("load",e);break;case"video":case"audio":for(c=0;c<sc.length;c++)ne(sc[c],e);break;case"image":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"embed":case"source":case"link":ne("error",e),ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Se(e,i,$,c,o,null)}return;default:if(Zs(i)){for(ut in o)o.hasOwnProperty(ut)&&(c=o[ut],c!==void 0&&zm(e,i,ut,c,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(c=o[N],c!=null&&Se(e,i,N,c,o,null))}function XT(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,N=null,U=null,$=null,ut=null;for(rt in o){var dt=o[rt];if(o.hasOwnProperty(rt)&&dt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":U=dt;default:c.hasOwnProperty(rt)||Se(e,i,rt,null,c,dt)}}for(var et in c){var rt=c[et];if(dt=o[et],c.hasOwnProperty(et)&&(rt!=null||dt!=null))switch(et){case"type":g=rt;break;case"name":p=rt;break;case"checked":$=rt;break;case"defaultChecked":ut=rt;break;case"value":T=rt;break;case"defaultValue":N=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,i));break;default:rt!==dt&&Se(e,i,et,rt,c,dt)}}ha(e,T,N,U,$,ut,g,p);return;case"select":rt=T=N=et=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":rt=U;default:c.hasOwnProperty(g)||Se(e,i,g,null,c,U)}for(p in c)if(g=c[p],U=o[p],c.hasOwnProperty(p)&&(g!=null||U!=null))switch(p){case"value":et=g;break;case"defaultValue":N=g;break;case"multiple":T=g;default:g!==U&&Se(e,i,p,g,c,U)}i=N,o=T,c=rt,et!=null?be(e,!!o,et,!1):!!c!=!!o&&(i!=null?be(e,!!o,i,!0):be(e,!!o,o?[]:"",!1));return;case"textarea":rt=et=null;for(N in o)if(p=o[N],o.hasOwnProperty(N)&&p!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Se(e,i,N,null,c,p)}for(T in c)if(p=c[T],g=o[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":et=p;break;case"defaultValue":rt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&Se(e,i,T,p,c,g)}$i(e,et,rt);return;case"option":for(var Mt in o)et=o[Mt],o.hasOwnProperty(Mt)&&et!=null&&!c.hasOwnProperty(Mt)&&(Mt==="selected"?e.selected=!1:Se(e,i,Mt,null,c,et));for(U in c)et=c[U],rt=o[U],c.hasOwnProperty(U)&&et!==rt&&(et!=null||rt!=null)&&(U==="selected"?e.selected=et&&typeof et!="function"&&typeof et!="symbol":Se(e,i,U,et,c,rt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in o)et=o[jt],o.hasOwnProperty(jt)&&et!=null&&!c.hasOwnProperty(jt)&&Se(e,i,jt,null,c,et);for($ in c)if(et=c[$],rt=o[$],c.hasOwnProperty($)&&et!==rt&&(et!=null||rt!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,i));break;default:Se(e,i,$,et,c,rt)}return;default:if(Zs(i)){for(var Ae in o)et=o[Ae],o.hasOwnProperty(Ae)&&et!==void 0&&!c.hasOwnProperty(Ae)&&zm(e,i,Ae,void 0,c,et);for(ut in c)et=c[ut],rt=o[ut],!c.hasOwnProperty(ut)||et===rt||et===void 0&&rt===void 0||zm(e,i,ut,et,c,rt);return}}for(var Y in o)et=o[Y],o.hasOwnProperty(Y)&&et!=null&&!c.hasOwnProperty(Y)&&Se(e,i,Y,null,c,et);for(dt in c)et=c[dt],rt=o[dt],!c.hasOwnProperty(dt)||et===rt||et==null&&rt==null||Se(e,i,dt,et,c,rt)}function Cv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,T=p.initiatorType,N=p.duration;if(g&&N&&Cv(T)){for(T=0,N=p.responseEnd,c+=1;c<o.length;c++){var U=o[c],$=U.startTime;if($>N)break;var ut=U.transferSize,dt=U.initiatorType;ut&&Cv(dt)&&(U=U.responseEnd,T+=ut*(U<N?1:(N-$)/(U-$)))}if(--c,i+=8*(g+T)/(p.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jm=null,Um=null;function Zh(e){return e.nodeType===9?e:e.ownerDocument}function Rv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Bm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fm=null;function JT(){var e=window.event;return e&&e.type==="popstate"?e===Fm?!1:(Fm=e,!0):(Fm=null,!1)}var Iv=typeof setTimeout=="function"?setTimeout:void 0,$T=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(e){return Dv.resolve(null).then(e).catch(e1)}:Iv;function e1(e){setTimeout(function(){throw e})}function ja(e){return e==="head"}function Lv(e,i){var o=i,c=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(p),Ql(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")ac(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,ac(o);for(var g=o.firstChild;g;){var T=g.nextSibling,N=g.nodeName;g[Yi]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&ac(e.ownerDocument.body);o=p}while(o);Ql(i)}function Mv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function Hm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hm(o),la(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function n1(e,i,o,c){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Yi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=us(e.nextSibling),e===null)break}return null}function i1(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=us(e.nextSibling),e===null))return null;return e}function kv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=us(e.nextSibling),e===null))return null;return e}function qm(e){return e.data==="$?"||e.data==="$~"}function Gm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function s1(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function us(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Zm=null;function Ov(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return us(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function Pv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function Vv(e,i,o){switch(i=Zh(o),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ac(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);la(e)}var cs=new Map,zv=new Set;function Kh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fr=vt.d;vt.d={f:r1,r:a1,D:o1,C:l1,L:u1,m:c1,X:f1,S:h1,M:d1};function r1(){var e=Fr.f(),i=zh();return e||i}function a1(e){var i=ii(e);i!==null&&i.tag===5&&i.type==="form"?ey(i):Fr.r(e)}var Gl=typeof document>"u"?null:document;function jv(e,i,o){var c=Gl;if(c&&typeof i=="string"&&i){var p=Ne(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),zv.has(p)||(zv.add(p),e={rel:e,crossOrigin:o,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),Ln(i,"link",e),Qe(i),c.head.appendChild(i)))}}function o1(e){Fr.D(e),jv("dns-prefetch",e,null)}function l1(e,i){Fr.C(e,i),jv("preconnect",e,i)}function u1(e,i,o){Fr.L(e,i,o);var c=Gl;if(c&&e&&i){var p='link[rel="preload"][as="'+Ne(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ne(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ne(o.imageSizes)+'"]')):p+='[href="'+Ne(e)+'"]';var g=p;switch(i){case"style":g=Zl(e);break;case"script":g=Kl(e)}cs.has(g)||(e=C({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),cs.set(g,e),c.querySelector(p)!==null||i==="style"&&c.querySelector(oc(g))||i==="script"&&c.querySelector(lc(g))||(i=c.createElement("link"),Ln(i,"link",e),Qe(i),c.head.appendChild(i)))}}function c1(e,i){Fr.m(e,i);var o=Gl;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Ne(c)+'"][href="'+Ne(e)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Kl(e)}if(!cs.has(g)&&(e=C({rel:"modulepreload",href:e},i),cs.set(g,e),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lc(g)))return}c=o.createElement("link"),Ln(c,"link",e),Qe(c),o.head.appendChild(c)}}}function h1(e,i,o){Fr.S(e,i,o);var c=Gl;if(c&&e){var p=Xi(c).hoistableStyles,g=Zl(e);i=i||"default";var T=p.get(g);if(!T){var N={loading:0,preload:null};if(T=c.querySelector(oc(g)))N.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},o),(o=cs.get(g))&&Km(e,o);var U=T=c.createElement("link");Qe(U),Ln(U,"link",e),U._p=new Promise(function($,ut){U.onload=$,U.onerror=ut}),U.addEventListener("load",function(){N.loading|=1}),U.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Qh(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:N},p.set(g,T)}}}function f1(e,i){Fr.X(e,i);var o=Gl;if(o&&e){var c=Xi(o).hoistableScripts,p=Kl(e),g=c.get(p);g||(g=o.querySelector(lc(p)),g||(e=C({src:e,async:!0},i),(i=cs.get(p))&&Qm(e,i),g=o.createElement("script"),Qe(g),Ln(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function d1(e,i){Fr.M(e,i);var o=Gl;if(o&&e){var c=Xi(o).hoistableScripts,p=Kl(e),g=c.get(p);g||(g=o.querySelector(lc(p)),g||(e=C({src:e,async:!0,type:"module"},i),(i=cs.get(p))&&Qm(e,i),g=o.createElement("script"),Qe(g),Ln(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Uv(e,i,o,c){var p=(p=At.current)?Kh(p):null;if(!p)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Zl(o.href),o=Xi(p).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Zl(o.href);var g=Xi(p).hoistableStyles,T=g.get(e);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,T),(g=p.querySelector(oc(e)))&&!g._p&&(T.instance=g,T.state.loading=5),cs.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cs.set(e,o),g||m1(p,e,o,T.state))),i&&c===null)throw Error(r(528,""));return T}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Kl(o),o=Xi(p).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Zl(e){return'href="'+Ne(e)+'"'}function oc(e){return'link[rel="stylesheet"]['+e+"]"}function Bv(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function m1(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Ln(i,"link",o),Qe(i),e.head.appendChild(i))}function Kl(e){return'[src="'+Ne(e)+'"]'}function lc(e){return"script[async]"+e}function Fv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Ne(o.href)+'"]');if(c)return i.instance=c,Qe(c),c;var p=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Qe(c),Ln(c,"style",p),Qh(c,o.precedence,e),i.instance=c;case"stylesheet":p=Zl(o.href);var g=e.querySelector(oc(p));if(g)return i.state.loading|=4,i.instance=g,Qe(g),g;c=Bv(o),(p=cs.get(p))&&Km(c,p),g=(e.ownerDocument||e).createElement("link"),Qe(g);var T=g;return T._p=new Promise(function(N,U){T.onload=N,T.onerror=U}),Ln(g,"link",c),i.state.loading|=4,Qh(g,o.precedence,e),i.instance=g;case"script":return g=Kl(o.src),(p=e.querySelector(lc(g)))?(i.instance=p,Qe(p),p):(c=o,(p=cs.get(g))&&(c=C({},o),Qm(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Qe(p),Ln(p,"link",c),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Qh(c,o.precedence,e));return i.instance}function Qh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var N=c[T];if(N.dataset.precedence===i)g=N;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Km(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Qm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Yh=null;function Hv(e,i,o){if(Yh===null){var c=new Map,p=Yh=new Map;p.set(o,c)}else p=Yh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var g=o[p];if(!(g[Yi]||g[Be]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=e+T;var N=c.get(T);N?N.push(g):c.set(T,[g])}}return c}function qv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function p1(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Gv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function g1(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Zl(c.href),g=i.querySelector(oc(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Xh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=g,Qe(g);return}g=i.ownerDocument||i,c=Bv(c),(p=cs.get(p))&&Km(c,p),g=g.createElement("link"),Qe(g);var T=g;T._p=new Promise(function(N,U){T.onload=N,T.onerror=U}),Ln(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Xh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Ym=0;function _1(e,i){return e.stylesheets&&e.count===0&&Jh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Jh(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Ym===0&&(Ym=62500*WT());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jh(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Ym?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wh=null;function Jh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wh=new Map,i.forEach(y1,e),Wh=null,Xh.call(e))}function y1(e,i){if(!(i.state.loading&4)){var o=Wh.get(e);if(o)var c=o.get(null);else{o=new Map,Wh.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}p=i.instance,T=p.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,p),o.set(T,p),this.count++,c=Xh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var uc={$$typeof:ot,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function v1(e,i,o,c,p,g,T,N,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.hiddenUpdates=Qi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Zv(e,i,o,c,p,g,T,N,U,$,ut,dt){return e=new v1(e,i,o,T,U,$,ut,dt,N),i=1,g===!0&&(i|=24),g=jn(3,null,null,i),e.current=g,g.stateNode=e,i=Rd(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},Ld(g),e}function Kv(e){return e?(e=Rr,e):Rr}function Qv(e,i,o,c,p,g){p=Kv(p),c.context===null?c.context=p:c.pendingContext=p,c=Ra(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Na(e,c,i),o!==null&&(_i(o,e,i),Bu(o,e,i))}function Yv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Xm(e,i){Yv(e,i),(e=e.alternate)&&Yv(e,i)}function Xv(e){if(e.tag===13||e.tag===31){var i=as(e,67108864);i!==null&&_i(i,e,67108864),Xm(e,67108864)}}function Wv(e){if(e.tag===13||e.tag===31){var i=Vi();i=_n(i);var o=as(e,i);o!==null&&_i(o,e,i),Xm(e,i)}}var $h=!0;function b1(e,i,o,c){var p=nt.T;nt.T=null;var g=vt.p;try{vt.p=2,Wm(e,i,o,c)}finally{vt.p=g,nt.T=p}}function x1(e,i,o,c){var p=nt.T;nt.T=null;var g=vt.p;try{vt.p=8,Wm(e,i,o,c)}finally{vt.p=g,nt.T=p}}function Wm(e,i,o,c){if($h){var p=Jm(c);if(p===null)Vm(e,i,c,tf,o),$v(e,c);else if(E1(p,e,i,o,c))c.stopPropagation();else if($v(e,c),i&4&&-1<w1.indexOf(e)){for(;p!==null;){var g=ii(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Zi(g.pendingLanes);if(T!==0){var N=g;for(N.pendingLanes|=2,N.entangledLanes|=2;T;){var U=1<<31-je(T);N.entanglements[1]|=U,T&=~U}or(g),(_e&6)===0&&(Ph=Nn()+500,ic(0))}}break;case 31:case 13:N=as(g,2),N!==null&&_i(N,g,2),zh(),Xm(g,2)}if(g=Jm(c),g===null&&Vm(e,i,c,tf,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else Vm(e,i,c,null,o)}}function Jm(e){return e=On(e),$m(e)}var tf=null;function $m(e){if(tf=null,e=Ti(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=m(i),e!==null)return e;e=null}else if(o===31){if(e=v(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return tf=e,null}function Jv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case yr:return 2;case aa:return 8;case ds:case Ru:return 32;case ho:return 268435456;default:return 32}default:return 32}}var tp=!1,Ua=null,Ba=null,Fa=null,cc=new Map,hc=new Map,Ha=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(e,i){switch(e){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":cc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(i.pointerId)}}function fc(e,i,o,c,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},i!==null&&(i=ii(i),i!==null&&Xv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function E1(e,i,o,c,p){switch(i){case"focusin":return Ua=fc(Ua,e,i,o,c,p),!0;case"dragenter":return Ba=fc(Ba,e,i,o,c,p),!0;case"mouseover":return Fa=fc(Fa,e,i,o,c,p),!0;case"pointerover":var g=p.pointerId;return cc.set(g,fc(cc.get(g)||null,e,i,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,hc.set(g,fc(hc.get(g)||null,e,i,o,c,p)),!0}return!1}function t0(e){var i=Ti(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=m(o),i!==null){e.blockedOn=i,ei(e.priority,function(){Wv(o)});return}}else if(i===31){if(i=v(o),i!==null){e.blockedOn=i,ei(e.priority,function(){Wv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ef(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Jm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);da=c,o.target.dispatchEvent(c),da=null}else return i=ii(o),i!==null&&Xv(i),e.blockedOn=o,!1;i.shift()}return!0}function e0(e,i,o){ef(e)&&o.delete(i)}function T1(){tp=!1,Ua!==null&&ef(Ua)&&(Ua=null),Ba!==null&&ef(Ba)&&(Ba=null),Fa!==null&&ef(Fa)&&(Fa=null),cc.forEach(e0),hc.forEach(e0)}function nf(e,i){e.blockedOn===i&&(e.blockedOn=null,tp||(tp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,T1)))}var sf=null;function n0(e){sf!==e&&(sf=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){sf===e&&(sf=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],p=e[i+2];if(typeof c!="function"){if($m(c||o)===null)continue;break}var g=ii(o);g!==null&&(e.splice(i,3),i-=3,Jd(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Ql(e){function i(U){return nf(U,e)}Ua!==null&&nf(Ua,e),Ba!==null&&nf(Ba,e),Fa!==null&&nf(Fa,e),cc.forEach(i),hc.forEach(i);for(var o=0;o<Ha.length;o++){var c=Ha[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ha.length&&(o=Ha[0],o.blockedOn===null);)t0(o),o.blockedOn===null&&Ha.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],T=p[Ke]||null;if(typeof g=="function")T||n0(o);else if(T){var N=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[Ke]||null)N=T.formAction;else if($m(p)!==null)continue}else N=T.action;typeof N=="function"?o[c+1]=N:(o.splice(c,3),c-=3),n0(o)}}}function i0(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function ep(e){this._internalRoot=e}rf.prototype.render=ep.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,c=Vi();Qv(o,c,e,i,null,null)},rf.prototype.unmount=ep.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Qv(e.current,2,null,e,null,null),zh(),i[wi]=null}};function rf(e){this._internalRoot=e}rf.prototype.unstable_scheduleHydration=function(e){if(e){var i=go();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Ha.length&&i!==0&&i<Ha[o].priority;o++);Ha.splice(o,0,e),o===0&&t0(e)}};var s0=t.version;if(s0!=="19.2.3")throw Error(r(527,s0,"19.2.3"));vt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=b(i),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var S1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:nt,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{ti=af.inject(S1),Je=af}catch{}}return mc.createRoot=function(e,i){if(!l(e))throw Error(r(299));var o=!1,c="",p=hy,g=fy,T=dy;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=Zv(e,1,!1,null,null,o,c,null,p,g,T,i0),e[wi]=i.current,Pm(e),new ep(i)},mc.hydrateRoot=function(e,i,o){if(!l(e))throw Error(r(299));var c=!1,p="",g=hy,T=fy,N=dy,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),i=Zv(e,1,!0,i,o??null,c,p,U,g,T,N,i0),i.context=Kv(null),o=i.current,c=Vi(),c=_n(c),p=Ra(c),p.callback=null,Na(o,p,c),o=c,i.current.lanes=o,ms(i,o),or(i),e[wi]=i.current,Pm(e),new rf(i)},mc.version="19.2.3",mc}var m0;function k1(){if(m0)return sp.exports;m0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),sp.exports=M1(),sp.exports}var O1=k1();var p0="popstate";function P1(s={}){function t(r,l){let{pathname:h,search:m,hash:v}=r.location;return Ap("",{pathname:h,search:m,hash:v},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Cc(l)}return z1(t,n,null,s)}function ze(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function hs(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function V1(){return Math.random().toString(36).substring(2,10)}function g0(s,t){return{usr:s.state,key:s.key,idx:t}}function Ap(s,t,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?mu(t):t,state:n,key:t&&t.key||r||V1()}}function Cc({pathname:s="/",search:t="",hash:n=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function mu(s){let t={};if(s){let n=s.indexOf("#");n>=0&&(t.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function z1(s,t,n,r={}){let{window:l=document.defaultView,v5Compat:h=!1}=r,m=l.history,v="POP",y=null,b=A();b==null&&(b=0,m.replaceState({...m.state,idx:b},""));function A(){return(m.state||{idx:null}).idx}function C(){v="POP";let Q=A(),st=Q==null?null:Q-b;b=Q,y&&y({action:v,location:H.location,delta:st})}function I(Q,st){v="PUSH";let at=Ap(H.location,Q,st);b=A()+1;let ot=g0(at,b),pt=H.createHref(at);try{m.pushState(ot,"",pt)}catch(xt){if(xt instanceof DOMException&&xt.name==="DataCloneError")throw xt;l.location.assign(pt)}h&&y&&y({action:v,location:H.location,delta:1})}function O(Q,st){v="REPLACE";let at=Ap(H.location,Q,st);b=A();let ot=g0(at,b),pt=H.createHref(at);m.replaceState(ot,"",pt),h&&y&&y({action:v,location:H.location,delta:0})}function q(Q){return j1(Q)}let H={get action(){return v},get location(){return s(l,m)},listen(Q){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(p0,C),y=Q,()=>{l.removeEventListener(p0,C),y=null}},createHref(Q){return t(l,Q)},createURL:q,encodeLocation(Q){let st=q(Q);return{pathname:st.pathname,search:st.search,hash:st.hash}},push:I,replace:O,go(Q){return m.go(Q)}};return H}function j1(s,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ze(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Cc(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ex(s,t,n="/"){return U1(s,t,n,!1)}function U1(s,t,n,r){let l=typeof t=="string"?mu(t):t,h=Xr(l.pathname||"/",n);if(h==null)return null;let m=nx(s);B1(m);let v=null;for(let y=0;v==null&&y<m.length;++y){let b=J1(h);v=X1(m[y],b,r)}return v}function nx(s,t=[],n=[],r="",l=!1){let h=(m,v,y=l,b)=>{let A={relativePath:b===void 0?m.path||"":b,caseSensitive:m.caseSensitive===!0,childrenIndex:v,route:m};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(r)&&y)return;ze(A.relativePath.startsWith(r),`Absolute route path "${A.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(r.length)}let C=Kr([r,A.relativePath]),I=n.concat(A);m.children&&m.children.length>0&&(ze(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),nx(m.children,t,I,C,y)),!(m.path==null&&!m.index)&&t.push({path:C,score:Q1(C,m.index),routesMeta:I})};return s.forEach((m,v)=>{if(m.path===""||!m.path?.includes("?"))h(m,v);else for(let y of ix(m.path))h(m,v,!0,y)}),t}function ix(s){let t=s.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(r.length===0)return l?[h,""]:[h];let m=ix(r.join("/")),v=[];return v.push(...m.map(y=>y===""?h:[h,y].join("/"))),l&&v.push(...m),v.map(y=>s.startsWith("/")&&y===""?"/":y)}function B1(s){s.sort((t,n)=>t.score!==n.score?n.score-t.score:Y1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var F1=/^:[\w-]+$/,H1=3,q1=2,G1=1,Z1=10,K1=-2,_0=s=>s==="*";function Q1(s,t){let n=s.split("/"),r=n.length;return n.some(_0)&&(r+=K1),t&&(r+=q1),n.filter(l=>!_0(l)).reduce((l,h)=>l+(F1.test(h)?H1:h===""?G1:Z1),r)}function Y1(s,t){return s.length===t.length&&s.slice(0,-1).every((r,l)=>r===t[l])?s[s.length-1]-t[t.length-1]:0}function X1(s,t,n=!1){let{routesMeta:r}=s,l={},h="/",m=[];for(let v=0;v<r.length;++v){let y=r[v],b=v===r.length-1,A=h==="/"?t:t.slice(h.length)||"/",C=Af({path:y.relativePath,caseSensitive:y.caseSensitive,end:b},A),I=y.route;if(!C&&b&&n&&!r[r.length-1].route.index&&(C=Af({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},A)),!C)return null;Object.assign(l,C.params),m.push({params:l,pathname:Kr([h,C.pathname]),pathnameBase:nS(Kr([h,C.pathnameBase])),route:I}),C.pathnameBase!=="/"&&(h=Kr([h,C.pathnameBase]))}return m}function Af(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=W1(s.path,s.caseSensitive,s.end),l=t.match(n);if(!l)return null;let h=l[0],m=h.replace(/(.)\/+$/,"$1"),v=l.slice(1);return{params:r.reduce((b,{paramName:A,isOptional:C},I)=>{if(A==="*"){let q=v[I]||"";m=h.slice(0,h.length-q.length).replace(/(.)\/+$/,"$1")}const O=v[I];return C&&!O?b[A]=void 0:b[A]=(O||"").replace(/%2F/g,"/"),b},{}),pathname:h,pathnameBase:m,pattern:s}}function W1(s,t=!1,n=!0){hs(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,v,y)=>(r.push({paramName:v,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function J1(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hs(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Xr(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var sx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$1=s=>sx.test(s);function tS(s,t="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?mu(s):s,h;if(n)if($1(n))h=n;else{if(n.includes("//")){let m=n;n=n.replace(/\/\/+/g,"/"),hs(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${n}`)}n.startsWith("/")?h=y0(n.substring(1),"/"):h=y0(n,t)}else h=t;return{pathname:h,search:iS(r),hash:sS(l)}}function y0(s,t){let n=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function lp(s,t,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eS(s){return s.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ng(s){let t=eS(s);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ig(s,t,n,r=!1){let l;typeof s=="string"?l=mu(s):(l={...s},ze(!l.pathname||!l.pathname.includes("?"),lp("?","pathname","search",l)),ze(!l.pathname||!l.pathname.includes("#"),lp("#","pathname","hash",l)),ze(!l.search||!l.search.includes("#"),lp("#","search","hash",l)));let h=s===""||l.pathname==="",m=h?"/":l.pathname,v;if(m==null)v=n;else{let C=t.length-1;if(!r&&m.startsWith("..")){let I=m.split("/");for(;I[0]==="..";)I.shift(),C-=1;l.pathname=I.join("/")}v=C>=0?t[C]:"/"}let y=tS(l,v),b=m&&m!=="/"&&m.endsWith("/"),A=(h||m===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(b||A)&&(y.pathname+="/"),y}var Kr=s=>s.join("/").replace(/\/\/+/g,"/"),nS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),iS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,sS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,rS=class{constructor(s,t,n,r=!1){this.status=s,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function aS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function oS(s){return s.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var rx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ax(s,t){let n=s;if(typeof n!="string"||!sx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,l=!1;if(rx)try{let h=new URL(window.location.href),m=n.startsWith("//")?new URL(h.protocol+n):new URL(n),v=Xr(m.pathname,t);m.origin===h.origin&&v!=null?n=v+m.search+m.hash:l=!0}catch{hs(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ox=["POST","PUT","PATCH","DELETE"];new Set(ox);var lS=["GET",...ox];new Set(lS);var pu=B.createContext(null);pu.displayName="DataRouter";var Zf=B.createContext(null);Zf.displayName="DataRouterState";var uS=B.createContext(!1),lx=B.createContext({isTransitioning:!1});lx.displayName="ViewTransition";var cS=B.createContext(new Map);cS.displayName="Fetchers";var hS=B.createContext(null);hS.displayName="Await";var Ui=B.createContext(null);Ui.displayName="Navigation";var zc=B.createContext(null);zc.displayName="Location";var zs=B.createContext({outlet:null,matches:[],isDataRoute:!1});zs.displayName="Route";var sg=B.createContext(null);sg.displayName="RouteError";var ux="REACT_ROUTER_ERROR",fS="REDIRECT",dS="ROUTE_ERROR_RESPONSE";function mS(s){if(s.startsWith(`${ux}:${fS}:{`))try{let t=JSON.parse(s.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function pS(s){if(s.startsWith(`${ux}:${dS}:{`))try{let t=JSON.parse(s.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new rS(t.status,t.statusText,t.data)}catch{}}function gS(s,{relative:t}={}){ze(gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=B.useContext(Ui),{hash:l,pathname:h,search:m}=jc(s,{relative:t}),v=h;return n!=="/"&&(v=h==="/"?n:Kr([n,h])),r.createHref({pathname:v,search:m,hash:l})}function gu(){return B.useContext(zc)!=null}function mr(){return ze(gu(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(zc).location}var cx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hx(s){B.useContext(Ui).static||B.useLayoutEffect(s)}function Bi(){let{isDataRoute:s}=B.useContext(zs);return s?NS():_S()}function _S(){ze(gu(),"useNavigate() may be used only in the context of a <Router> component.");let s=B.useContext(pu),{basename:t,navigator:n}=B.useContext(Ui),{matches:r}=B.useContext(zs),{pathname:l}=mr(),h=JSON.stringify(ng(r)),m=B.useRef(!1);return hx(()=>{m.current=!0}),B.useCallback((y,b={})=>{if(hs(m.current,cx),!m.current)return;if(typeof y=="number"){n.go(y);return}let A=ig(y,JSON.parse(h),l,b.relative==="path");s==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:Kr([t,A.pathname])),(b.replace?n.replace:n.push)(A,b.state,b)},[t,n,h,l,s])}B.createContext(null);function Kf(){let{matches:s}=B.useContext(zs),t=s[s.length-1];return t?t.params:{}}function jc(s,{relative:t}={}){let{matches:n}=B.useContext(zs),{pathname:r}=mr(),l=JSON.stringify(ng(n));return B.useMemo(()=>ig(s,JSON.parse(l),r,t==="path"),[s,l,r,t])}function yS(s,t){return fx(s,t)}function fx(s,t,n,r,l){ze(gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=B.useContext(Ui),{matches:m}=B.useContext(zs),v=m[m.length-1],y=v?v.params:{},b=v?v.pathname:"/",A=v?v.pathnameBase:"/",C=v&&v.route;{let at=C&&C.path||"";mx(b,!C||at.endsWith("*")||at.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${at}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${at}"> to <Route path="${at==="/"?"*":`${at}/*`}">.`)}let I=mr(),O;if(t){let at=typeof t=="string"?mu(t):t;ze(A==="/"||at.pathname?.startsWith(A),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${at.pathname}" was given in the \`location\` prop.`),O=at}else O=I;let q=O.pathname||"/",H=q;if(A!=="/"){let at=A.replace(/^\//,"").split("/");H="/"+q.replace(/^\//,"").split("/").slice(at.length).join("/")}let Q=ex(s,{pathname:H});hs(C||Q!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),hs(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let st=ES(Q&&Q.map(at=>Object.assign({},at,{params:Object.assign({},y,at.params),pathname:Kr([A,h.encodeLocation?h.encodeLocation(at.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:at.pathname]),pathnameBase:at.pathnameBase==="/"?A:Kr([A,h.encodeLocation?h.encodeLocation(at.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:at.pathnameBase])})),m,n,r,l);return t&&st?B.createElement(zc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},st):st}function vS(){let s=RS(),t=aS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},h={padding:"2px 4px",backgroundColor:r},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:h},"ErrorBoundary")," or"," ",B.createElement("code",{style:h},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:l},n):null,m)}var bS=B.createElement(vS,null),dx=class extends B.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=pS(s.digest);n&&(s=n)}let t=s!==void 0?B.createElement(zs.Provider,{value:this.props.routeContext},B.createElement(sg.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?B.createElement(xS,{error:s},t):t}};dx.contextType=uS;var up=new WeakMap;function xS({children:s,error:t}){let{basename:n}=B.useContext(Ui);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=mS(t.digest);if(r){let l=up.get(t);if(l)throw l;let h=ax(r.location,n);if(rx&&!up.get(t))if(h.isExternal||r.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const m=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:r.replace}));throw up.set(t,m),m}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return s}function wS({routeContext:s,match:t,children:n}){let r=B.useContext(pu);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(zs.Provider,{value:s},n)}function ES(s,t=[],n=null,r=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let h=s,m=n?.errors;if(m!=null){let A=h.findIndex(C=>C.route.id&&m?.[C.route.id]!==void 0);ze(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),h=h.slice(0,Math.min(h.length,A+1))}let v=!1,y=-1;if(n)for(let A=0;A<h.length;A++){let C=h[A];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(y=A),C.route.id){let{loaderData:I,errors:O}=n,q=C.route.loader&&!I.hasOwnProperty(C.route.id)&&(!O||O[C.route.id]===void 0);if(C.route.lazy||q){v=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}let b=n&&r?(A,C)=>{r(A,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:oS(n.matches),errorInfo:C})}:void 0;return h.reduceRight((A,C,I)=>{let O,q=!1,H=null,Q=null;n&&(O=m&&C.route.id?m[C.route.id]:void 0,H=C.route.errorElement||bS,v&&(y<0&&I===0?(mx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,Q=null):y===I&&(q=!0,Q=C.route.hydrateFallbackElement||null)));let st=t.concat(h.slice(0,I+1)),at=()=>{let ot;return O?ot=H:q?ot=Q:C.route.Component?ot=B.createElement(C.route.Component,null):C.route.element?ot=C.route.element:ot=A,B.createElement(wS,{match:C,routeContext:{outlet:A,matches:st,isDataRoute:n!=null},children:ot})};return n&&(C.route.ErrorBoundary||C.route.errorElement||I===0)?B.createElement(dx,{location:n.location,revalidation:n.revalidation,component:H,error:O,children:at(),routeContext:{outlet:null,matches:st,isDataRoute:!0},onError:b}):at()},null)}function rg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TS(s){let t=B.useContext(pu);return ze(t,rg(s)),t}function SS(s){let t=B.useContext(Zf);return ze(t,rg(s)),t}function AS(s){let t=B.useContext(zs);return ze(t,rg(s)),t}function ag(s){let t=AS(s),n=t.matches[t.matches.length-1];return ze(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function CS(){return ag("useRouteId")}function RS(){let s=B.useContext(sg),t=SS("useRouteError"),n=ag("useRouteError");return s!==void 0?s:t.errors?.[n]}function NS(){let{router:s}=TS("useNavigate"),t=ag("useNavigate"),n=B.useRef(!1);return hx(()=>{n.current=!0}),B.useCallback(async(l,h={})=>{hs(n.current,cx),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:t,...h}))},[s,t])}var v0={};function mx(s,t,n){!t&&!v0[s]&&(v0[s]=!0,hs(!1,n))}B.memo(IS);function IS({routes:s,future:t,state:n,onError:r}){return fx(s,void 0,n,r,t)}function DS({to:s,replace:t,state:n,relative:r}){ze(gu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=B.useContext(Ui);hs(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=B.useContext(zs),{pathname:m}=mr(),v=Bi(),y=ig(s,ng(h),m,r==="path"),b=JSON.stringify(y);return B.useEffect(()=>{v(JSON.parse(b),{replace:t,state:n,relative:r})},[v,b,r,t,n]),null}function Ns(s){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LS({basename:s="/",children:t=null,location:n,navigationType:r="POP",navigator:l,static:h=!1,unstable_useTransitions:m}){ze(!gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=s.replace(/^\/*/,"/"),y=B.useMemo(()=>({basename:v,navigator:l,static:h,unstable_useTransitions:m,future:{}}),[v,l,h,m]);typeof n=="string"&&(n=mu(n));let{pathname:b="/",search:A="",hash:C="",state:I=null,key:O="default"}=n,q=B.useMemo(()=>{let H=Xr(b,v);return H==null?null:{location:{pathname:H,search:A,hash:C,state:I,key:O},navigationType:r}},[v,b,A,C,I,O,r]);return hs(q!=null,`<Router basename="${v}"> is not able to match the URL "${b}${A}${C}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:B.createElement(Ui.Provider,{value:y},B.createElement(zc.Provider,{children:t,value:q}))}function MS({children:s,location:t}){return yS(Cp(s),t)}function Cp(s,t=[]){let n=[];return B.Children.forEach(s,(r,l)=>{if(!B.isValidElement(r))return;let h=[...t,l];if(r.type===B.Fragment){n.push.apply(n,Cp(r.props.children,h));return}ze(r.type===Ns,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let m={id:r.props.id||h.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(m.children=Cp(r.props.children,h)),n.push(m)}),n}var mf="get",pf="application/x-www-form-urlencoded";function Qf(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function kS(s){return Qf(s)&&s.tagName.toLowerCase()==="button"}function OS(s){return Qf(s)&&s.tagName.toLowerCase()==="form"}function PS(s){return Qf(s)&&s.tagName.toLowerCase()==="input"}function VS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function zS(s,t){return s.button===0&&(!t||t==="_self")&&!VS(s)}var of=null;function jS(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var US=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(s){return s!=null&&!US.has(s)?(hs(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pf}"`),null):s}function BS(s,t){let n,r,l,h,m;if(OS(s)){let v=s.getAttribute("action");r=v?Xr(v,t):null,n=s.getAttribute("method")||mf,l=cp(s.getAttribute("enctype"))||pf,h=new FormData(s)}else if(kS(s)||PS(s)&&(s.type==="submit"||s.type==="image")){let v=s.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||v.getAttribute("action");if(r=y?Xr(y,t):null,n=s.getAttribute("formmethod")||v.getAttribute("method")||mf,l=cp(s.getAttribute("formenctype"))||cp(v.getAttribute("enctype"))||pf,h=new FormData(v,s),!jS()){let{name:b,type:A,value:C}=s;if(A==="image"){let I=b?`${b}.`:"";h.append(`${I}x`,"0"),h.append(`${I}y`,"0")}else b&&h.append(b,C)}}else{if(Qf(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mf,r=null,l=pf,m=s}return h&&l==="text/plain"&&(m=h,h=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:h,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function og(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function FS(s,t,n,r){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:t&&Xr(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function HS(s,t){if(s.id in t)return t[s.id];try{let n=await import(s.module);return t[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function GS(s,t,n){let r=await Promise.all(s.map(async l=>{let h=t.routes[l.route.id];if(h){let m=await HS(h,n);return m.links?m.links():[]}return[]}));return YS(r.flat(1).filter(qS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function b0(s,t,n,r,l,h){let m=(y,b)=>n[b]?y.route.id!==n[b].route.id:!0,v=(y,b)=>n[b].pathname!==y.pathname||n[b].route.path?.endsWith("*")&&n[b].params["*"]!==y.params["*"];return h==="assets"?t.filter((y,b)=>m(y,b)||v(y,b)):h==="data"?t.filter((y,b)=>{let A=r.routes[y.route.id];if(!A||!A.hasLoader)return!1;if(m(y,b)||v(y,b))return!0;if(y.route.shouldRevalidate){let C=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function ZS(s,t,{includeHydrateFallback:n}={}){return KS(s.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function KS(s){return[...new Set(s)]}function QS(s){let t={},n=Object.keys(s).sort();for(let r of n)t[r]=s[r];return t}function YS(s,t){let n=new Set;return new Set(t),s.reduce((r,l)=>{let h=JSON.stringify(QS(l));return n.has(h)||(n.add(h),r.push({key:h,link:l})),r},[])}function px(){let s=B.useContext(pu);return og(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function XS(){let s=B.useContext(Zf);return og(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var lg=B.createContext(void 0);lg.displayName="FrameworkContext";function gx(){let s=B.useContext(lg);return og(s,"You must render this element inside a <HydratedRouter> element"),s}function WS(s,t){let n=B.useContext(lg),[r,l]=B.useState(!1),[h,m]=B.useState(!1),{onFocus:v,onBlur:y,onMouseEnter:b,onMouseLeave:A,onTouchStart:C}=t,I=B.useRef(null);B.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let H=st=>{st.forEach(at=>{m(at.isIntersecting)})},Q=new IntersectionObserver(H,{threshold:.5});return I.current&&Q.observe(I.current),()=>{Q.disconnect()}}},[s]),B.useEffect(()=>{if(r){let H=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(H)}}},[r]);let O=()=>{l(!0)},q=()=>{l(!1),m(!1)};return n?s!=="intent"?[h,I,{}]:[h,I,{onFocus:pc(v,O),onBlur:pc(y,q),onMouseEnter:pc(b,O),onMouseLeave:pc(A,q),onTouchStart:pc(C,O)}]:[!1,I,{}]}function pc(s,t){return n=>{s&&s(n),n.defaultPrevented||t(n)}}function JS({page:s,...t}){let{router:n}=px(),r=B.useMemo(()=>ex(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?B.createElement(tA,{page:s,matches:r,...t}):null}function $S(s){let{manifest:t,routeModules:n}=gx(),[r,l]=B.useState([]);return B.useEffect(()=>{let h=!1;return GS(s,t,n).then(m=>{h||l(m)}),()=>{h=!0}},[s,t,n]),r}function tA({page:s,matches:t,...n}){let r=mr(),{future:l,manifest:h,routeModules:m}=gx(),{basename:v}=px(),{loaderData:y,matches:b}=XS(),A=B.useMemo(()=>b0(s,t,b,h,r,"data"),[s,t,b,h,r]),C=B.useMemo(()=>b0(s,t,b,h,r,"assets"),[s,t,b,h,r]),I=B.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let H=new Set,Q=!1;if(t.forEach(at=>{let ot=h.routes[at.route.id];!ot||!ot.hasLoader||(!A.some(pt=>pt.route.id===at.route.id)&&at.route.id in y&&m[at.route.id]?.shouldRevalidate||ot.hasClientLoader?Q=!0:H.add(at.route.id))}),H.size===0)return[];let st=FS(s,v,l.unstable_trailingSlashAwareDataRequests,"data");return Q&&H.size>0&&st.searchParams.set("_routes",t.filter(at=>H.has(at.route.id)).map(at=>at.route.id).join(",")),[st.pathname+st.search]},[v,l.unstable_trailingSlashAwareDataRequests,y,r,h,A,t,s,m]),O=B.useMemo(()=>ZS(C,h),[C,h]),q=$S(C);return B.createElement(B.Fragment,null,I.map(H=>B.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),O.map(H=>B.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),q.map(({key:H,link:Q})=>B.createElement("link",{key:H,nonce:n.nonce,...Q})))}function eA(...s){return t=>{s.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var nA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nA&&(window.__reactRouterVersion="7.12.0")}catch{}function iA({basename:s,children:t,unstable_useTransitions:n,window:r}){let l=B.useRef();l.current==null&&(l.current=P1({window:r,v5Compat:!0}));let h=l.current,[m,v]=B.useState({action:h.action,location:h.location}),y=B.useCallback(b=>{n===!1?v(b):B.startTransition(()=>v(b))},[n]);return B.useLayoutEffect(()=>h.listen(y),[h,y]),B.createElement(LS,{basename:s,children:t,location:m.location,navigationType:m.action,navigator:h,unstable_useTransitions:n})}var _x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yx=B.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:l,reloadDocument:h,replace:m,state:v,target:y,to:b,preventScrollReset:A,viewTransition:C,unstable_defaultShouldRevalidate:I,...O},q){let{basename:H,unstable_useTransitions:Q}=B.useContext(Ui),st=typeof b=="string"&&_x.test(b),at=ax(b,H);b=at.to;let ot=gS(b,{relative:l}),[pt,xt,Rt]=WS(r,O),V=oA(b,{replace:m,state:v,target:y,preventScrollReset:A,relative:l,viewTransition:C,unstable_defaultShouldRevalidate:I,unstable_useTransitions:Q});function M(G){t&&t(G),G.defaultPrevented||V(G)}let P=B.createElement("a",{...O,...Rt,href:at.absoluteURL||ot,onClick:at.isExternal||h?t:M,ref:eA(q,xt),target:y,"data-discover":!st&&n==="render"?"true":void 0});return pt&&!st?B.createElement(B.Fragment,null,P,B.createElement(JS,{page:ot})):P});yx.displayName="Link";var sA=B.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:l=!1,style:h,to:m,viewTransition:v,children:y,...b},A){let C=jc(m,{relative:b.relative}),I=mr(),O=B.useContext(Zf),{navigator:q,basename:H}=B.useContext(Ui),Q=O!=null&&fA(C)&&v===!0,st=q.encodeLocation?q.encodeLocation(C).pathname:C.pathname,at=I.pathname,ot=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(at=at.toLowerCase(),ot=ot?ot.toLowerCase():null,st=st.toLowerCase()),ot&&H&&(ot=Xr(ot,H)||ot);const pt=st!=="/"&&st.endsWith("/")?st.length-1:st.length;let xt=at===st||!l&&at.startsWith(st)&&at.charAt(pt)==="/",Rt=ot!=null&&(ot===st||!l&&ot.startsWith(st)&&ot.charAt(st.length)==="/"),V={isActive:xt,isPending:Rt,isTransitioning:Q},M=xt?t:void 0,P;typeof r=="function"?P=r(V):P=[r,xt?"active":null,Rt?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let G=typeof h=="function"?h(V):h;return B.createElement(yx,{...b,"aria-current":M,className:P,ref:A,style:G,to:m,viewTransition:v},typeof y=="function"?y(V):y)});sA.displayName="NavLink";var rA=B.forwardRef(({discover:s="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:l,state:h,method:m=mf,action:v,onSubmit:y,relative:b,preventScrollReset:A,viewTransition:C,unstable_defaultShouldRevalidate:I,...O},q)=>{let{unstable_useTransitions:H}=B.useContext(Ui),Q=cA(),st=hA(v,{relative:b}),at=m.toLowerCase()==="get"?"get":"post",ot=typeof v=="string"&&_x.test(v),pt=xt=>{if(y&&y(xt),xt.defaultPrevented)return;xt.preventDefault();let Rt=xt.nativeEvent.submitter,V=Rt?.getAttribute("formmethod")||m,M=()=>Q(Rt||xt.currentTarget,{fetcherKey:t,method:V,navigate:n,replace:l,state:h,relative:b,preventScrollReset:A,viewTransition:C,unstable_defaultShouldRevalidate:I});H&&n!==!1?B.startTransition(()=>M()):M()};return B.createElement("form",{ref:q,method:at,action:st,onSubmit:r?y:pt,...O,"data-discover":!ot&&s==="render"?"true":void 0})});rA.displayName="Form";function aA(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vx(s){let t=B.useContext(pu);return ze(t,aA(s)),t}function oA(s,{target:t,replace:n,state:r,preventScrollReset:l,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:y}={}){let b=Bi(),A=mr(),C=jc(s,{relative:h});return B.useCallback(I=>{if(zS(I,t)){I.preventDefault();let O=n!==void 0?n:Cc(A)===Cc(C),q=()=>b(s,{replace:O,state:r,preventScrollReset:l,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:v});y?B.startTransition(()=>q()):q()}},[A,b,C,n,r,t,s,l,h,m,v,y])}var lA=0,uA=()=>`__${String(++lA)}__`;function cA(){let{router:s}=vx("useSubmit"),{basename:t}=B.useContext(Ui),n=CS(),r=s.fetch,l=s.navigate;return B.useCallback(async(h,m={})=>{let{action:v,method:y,encType:b,formData:A,body:C}=BS(h,t);if(m.navigate===!1){let I=m.fetcherKey||uA();await r(I,n,m.action||v,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:A,body:C,formMethod:m.method||y,formEncType:m.encType||b,flushSync:m.flushSync})}else await l(m.action||v,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:A,body:C,formMethod:m.method||y,formEncType:m.encType||b,replace:m.replace,state:m.state,fromRouteId:n,flushSync:m.flushSync,viewTransition:m.viewTransition})},[r,l,t,n])}function hA(s,{relative:t}={}){let{basename:n}=B.useContext(Ui),r=B.useContext(zs);ze(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),h={...jc(s||".",{relative:t})},m=mr();if(s==null){h.search=m.search;let v=new URLSearchParams(h.search),y=v.getAll("index");if(y.some(A=>A==="")){v.delete("index"),y.filter(C=>C).forEach(C=>v.append("index",C));let A=v.toString();h.search=A?`?${A}`:""}}return(!s||s===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:Kr([n,h.pathname])),Cc(h)}function fA(s,{relative:t}={}){let n=B.useContext(lx);ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vx("useViewTransitionState"),l=jc(s,{relative:t});if(!n.isTransitioning)return!1;let h=Xr(n.currentLocation.pathname,r)||n.currentLocation.pathname,m=Xr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Af(l.pathname,m)!=null||Af(l.pathname,h)!=null}var dA=tx();const mA=()=>{};var x0={};const bx=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},pA=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[n++];t[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[n++],m=s[n++],v=s[n++],y=((l&7)<<18|(h&63)<<12|(m&63)<<6|v&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const h=s[n++],m=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return t.join("")},xx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const h=s[l],m=l+1<s.length,v=m?s[l+1]:0,y=l+2<s.length,b=y?s[l+2]:0,A=h>>2,C=(h&3)<<4|v>>4;let I=(v&15)<<2|b>>6,O=b&63;y||(O=64,m||(I=64)),r.push(n[A],n[C],n[I],n[O])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(bx(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):pA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const h=n[s.charAt(l++)],v=l<s.length?n[s.charAt(l)]:0;++l;const b=l<s.length?n[s.charAt(l)]:64;++l;const C=l<s.length?n[s.charAt(l)]:64;if(++l,h==null||v==null||b==null||C==null)throw new gA;const I=h<<2|v>>4;if(r.push(I),b!==64){const O=v<<4&240|b>>2;if(r.push(O),C!==64){const q=b<<6&192|C;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class gA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _A=function(s){const t=bx(s);return xx.encodeByteArray(t,!0)},Cf=function(s){return _A(s).replace(/\./g,"")},wx=function(s){try{return xx.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vA=()=>yA().__FIREBASE_DEFAULTS__,bA=()=>{if(typeof process>"u"||typeof x0>"u")return;const s=x0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},xA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&wx(s[1]);return t&&JSON.parse(t)},Yf=()=>{try{return mA()||vA()||bA()||xA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ex=s=>Yf()?.emulatorHosts?.[s],wA=s=>{const t=Ex(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Tx=()=>Yf()?.config,Sx=s=>Yf()?.[`_${s}`];class EA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function _u(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ax(s){return(await fetch(s,{credentials:"include"})).ok}function TA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Cf(JSON.stringify(n)),Cf(JSON.stringify(m)),""].join(".")}const bc={};function SA(){const s={prod:[],emulator:[]};for(const t of Object.keys(bc))bc[t]?s.emulator.push(t):s.prod.push(t);return s}function AA(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let w0=!1;function Cx(s,t){if(typeof window>"u"||typeof document>"u"||!_u(window.location.host)||bc[s]===t||bc[s]||w0)return;bc[s]=t;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",h=SA().prod.length>0;function m(){const I=document.getElementById(r);I&&I.remove()}function v(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,O){I.setAttribute("width","24"),I.setAttribute("id",O),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function b(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{w0=!0,m()},I}function A(I,O){I.setAttribute("id",O),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function C(){const I=AA(r),O=n("text"),q=document.getElementById(O)||document.createElement("span"),H=n("learnmore"),Q=document.getElementById(H)||document.createElement("a"),st=n("preprendIcon"),at=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ot=I.element;v(ot),A(Q,H);const pt=b();y(at,st),ot.append(at,q,Q,pt),document.body.appendChild(ot)}h?(q.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function RA(){const s=Yf()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function DA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LA(){const s=Gn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function MA(){return!RA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kA(){try{return typeof indexedDB=="object"}catch{return!1}}function OA(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const PA="FirebaseError";class na extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=PA,Object.setPrototypeOf(this,na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uc.prototype.create)}}class Uc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],m=h?VA(h,r):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new na(l,v,r)}}function VA(s,t){return s.replace(zA,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const zA=/\{\$([^}]+)}/g;function jA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function $o(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const h=s[l],m=t[l];if(E0(h)&&E0(m)){if(!$o(h,m))return!1}else if(h!==m)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function E0(s){return s!==null&&typeof s=="object"}function Bc(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function UA(s,t){const n=new BA(s,t);return n.subscribe.bind(n)}class BA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FA(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=hp),l.error===void 0&&(l.error=hp),l.complete===void 0&&(l.complete=hp);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FA(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function hp(){}function dn(s){return s&&s._delegate?s._delegate:s}class tl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Yo="[DEFAULT]";class HA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new EA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GA(t))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(t=Yo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yo){return this.instances.has(t)}getOptions(t=Yo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[h,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);r===v&&m.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const h=this.instances.get(r);return h&&t(h,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qA(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Yo){return this.component?this.component.multipleInstances?t:Yo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qA(s){return s===Yo?void 0:s}function GA(s){return s.instantiationMode==="EAGER"}class ZA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new HA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var ae;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ae||(ae={}));const KA={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},QA=ae.INFO,YA={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},XA=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=YA[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ug{constructor(t){this.name=t,this._logLevel=QA,this._logHandler=XA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const WA=(s,t)=>t.some(n=>s instanceof n);let T0,S0;function JA(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $A(){return S0||(S0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rx=new WeakMap,Rp=new WeakMap,Nx=new WeakMap,fp=new WeakMap,cg=new WeakMap;function t2(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{n(Xa(s.result)),l()},m=()=>{r(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",m)});return t.then(n=>{n instanceof IDBCursor&&Rx.set(n,s)}).catch(()=>{}),cg.set(t,s),t}function e2(s){if(Rp.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{n(),l()},m=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});Rp.set(s,t)}let Np={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return Rp.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Nx.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xa(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function n2(s){Np=s(Np)}function i2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(dp(this),t,...n);return Nx.set(r,t.sort?t.sort():[t]),Xa(r)}:$A().includes(s)?function(...t){return s.apply(dp(this),t),Xa(Rx.get(this))}:function(...t){return Xa(s.apply(dp(this),t))}}function s2(s){return typeof s=="function"?i2(s):(s instanceof IDBTransaction&&e2(s),WA(s,JA())?new Proxy(s,Np):s)}function Xa(s){if(s instanceof IDBRequest)return t2(s);if(fp.has(s))return fp.get(s);const t=s2(s);return t!==s&&(fp.set(s,t),cg.set(t,s)),t}const dp=s=>cg.get(s);function r2(s,t,{blocked:n,upgrade:r,blocking:l,terminated:h}={}){const m=indexedDB.open(s,t),v=Xa(m);return r&&m.addEventListener("upgradeneeded",y=>{r(Xa(m.result),y.oldVersion,y.newVersion,Xa(m.transaction),y)}),n&&m.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),v.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",b=>l(b.oldVersion,b.newVersion,b))}).catch(()=>{}),v}const a2=["get","getKey","getAll","getAllKeys","count"],o2=["put","add","delete","clear"],mp=new Map;function A0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(mp.get(t))return mp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=o2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||a2.includes(n)))return;const h=async function(m,...v){const y=this.transaction(m,l?"readwrite":"readonly");let b=y.store;return r&&(b=b.index(v.shift())),(await Promise.all([b[n](...v),l&&y.done]))[0]};return mp.set(t,h),h}n2(s=>({...s,get:(t,n,r)=>A0(t,n)||s.get(t,n,r),has:(t,n)=>!!A0(t,n)||s.has(t,n)}));class l2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function u2(s){return s.getComponent()?.type==="VERSION"}const Ip="@firebase/app",C0="0.14.6";const Wr=new ug("@firebase/app"),c2="@firebase/app-compat",h2="@firebase/analytics-compat",f2="@firebase/analytics",d2="@firebase/app-check-compat",m2="@firebase/app-check",p2="@firebase/auth",g2="@firebase/auth-compat",_2="@firebase/database",y2="@firebase/data-connect",v2="@firebase/database-compat",b2="@firebase/functions",x2="@firebase/functions-compat",w2="@firebase/installations",E2="@firebase/installations-compat",T2="@firebase/messaging",S2="@firebase/messaging-compat",A2="@firebase/performance",C2="@firebase/performance-compat",R2="@firebase/remote-config",N2="@firebase/remote-config-compat",I2="@firebase/storage",D2="@firebase/storage-compat",L2="@firebase/firestore",M2="@firebase/ai",k2="@firebase/firestore-compat",O2="firebase",P2="12.6.0";const Dp="[DEFAULT]",V2={[Ip]:"fire-core",[c2]:"fire-core-compat",[f2]:"fire-analytics",[h2]:"fire-analytics-compat",[m2]:"fire-app-check",[d2]:"fire-app-check-compat",[p2]:"fire-auth",[g2]:"fire-auth-compat",[_2]:"fire-rtdb",[y2]:"fire-data-connect",[v2]:"fire-rtdb-compat",[b2]:"fire-fn",[x2]:"fire-fn-compat",[w2]:"fire-iid",[E2]:"fire-iid-compat",[T2]:"fire-fcm",[S2]:"fire-fcm-compat",[A2]:"fire-perf",[C2]:"fire-perf-compat",[R2]:"fire-rc",[N2]:"fire-rc-compat",[I2]:"fire-gcs",[D2]:"fire-gcs-compat",[L2]:"fire-fst",[k2]:"fire-fst-compat",[M2]:"fire-vertex","fire-js":"fire-js",[O2]:"fire-js-all"};const Rf=new Map,z2=new Map,Lp=new Map;function R0(s,t){try{s.container.addComponent(t)}catch(n){Wr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function su(s){const t=s.name;if(Lp.has(t))return Wr.debug(`There were multiple attempts to register component ${t}.`),!1;Lp.set(t,s);for(const n of Rf.values())R0(n,s);for(const n of z2.values())R0(n,s);return!0}function hg(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Is(s){return s==null?!1:s.settings!==void 0}const j2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wa=new Uc("app","Firebase",j2);class U2{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}const yu=P2;function Ix(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:Dp,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Wa.create("bad-app-name",{appName:String(l)});if(n||(n=Tx()),!n)throw Wa.create("no-options");const h=Rf.get(l);if(h){if($o(n,h.options)&&$o(r,h.config))return h;throw Wa.create("duplicate-app",{appName:l})}const m=new ZA(l);for(const y of Lp.values())m.addComponent(y);const v=new U2(n,r,m);return Rf.set(l,v),v}function Dx(s=Dp){const t=Rf.get(s);if(!t&&s===Dp&&Tx())return Ix();if(!t)throw Wa.create("no-app",{appName:s});return t}function Ja(s,t,n){let r=V2[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const m=[`Unable to register library "${r}" with version "${t}":`];l&&m.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wr.warn(m.join(" "));return}su(new tl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const B2="firebase-heartbeat-database",F2=1,Rc="firebase-heartbeat-store";let pp=null;function Lx(){return pp||(pp=r2(B2,F2,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Rc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Wa.create("idb-open",{originalErrorMessage:s.message})})),pp}async function H2(s){try{const n=(await Lx()).transaction(Rc),r=await n.objectStore(Rc).get(Mx(s));return await n.done,r}catch(t){if(t instanceof na)Wr.warn(t.message);else{const n=Wa.create("idb-get",{originalErrorMessage:t?.message});Wr.warn(n.message)}}}async function N0(s,t){try{const r=(await Lx()).transaction(Rc,"readwrite");await r.objectStore(Rc).put(t,Mx(s)),await r.done}catch(n){if(n instanceof na)Wr.warn(n.message);else{const r=Wa.create("idb-set",{originalErrorMessage:n?.message});Wr.warn(r.message)}}}function Mx(s){return`${s.name}!${s.options.appId}`}const q2=1024,G2=30;class Z2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>G2){const l=Y2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=I0(),{heartbeatsToSend:n,unsentEntries:r}=K2(this._heartbeatsCache.heartbeats),l=Cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wr.warn(t),""}}}function I0(){return new Date().toISOString().substring(0,10)}function K2(s,t=q2){const n=[];let r=s.slice();for(const l of s){const h=n.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),D0(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),D0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Q2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kA()?OA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await H2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return N0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return N0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function D0(s){return Cf(JSON.stringify({version:2,heartbeats:s})).length}function Y2(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function X2(s){su(new tl("platform-logger",t=>new l2(t),"PRIVATE")),su(new tl("heartbeat",t=>new Z2(t),"PRIVATE")),Ja(Ip,C0,s),Ja(Ip,C0,"esm2020"),Ja("fire-js","")}X2("");function kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W2=kx,Ox=new Uc("auth","Firebase",kx());const Nf=new ug("@firebase/auth");function J2(s,...t){Nf.logLevel<=ae.WARN&&Nf.warn(`Auth (${yu}): ${s}`,...t)}function gf(s,...t){Nf.logLevel<=ae.ERROR&&Nf.error(`Auth (${yu}): ${s}`,...t)}function fr(s,...t){throw dg(s,...t)}function Ls(s,...t){return dg(s,...t)}function fg(s,t,n){const r={...W2(),[t]:n};return new Uc("auth","Firebase",r).create(t,{appName:s.name})}function Jo(s){return fg(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $2(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&fr(s,"argument-error"),fg(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dg(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Ox.create(s,...t)}function Ft(s,t,...n){if(!s)throw dg(t,...n)}function Gr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw gf(t),new Error(t)}function Jr(s,t){s||Gr(t)}function Mp(){return typeof self<"u"&&self.location?.href||""}function tC(){return L0()==="http:"||L0()==="https:"}function L0(){return typeof self<"u"&&self.location?.protocol||null}function eC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tC()||IA()||"connection"in navigator)?navigator.onLine:!0}function nC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Fc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Jr(n>t,"Short delay should be less than long delay!"),this.isMobile=CA()||DA()}get(){return eC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mg(s,t){Jr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Px{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const iC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rC=new Fc(3e4,6e4);function pg(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function vu(s,t,n,r,l={}){return Vx(s,l,async()=>{let h={},m={};r&&(t==="GET"?m=r:h={body:JSON.stringify(r)});const v=Bc({key:s.config.apiKey,...m}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const b={method:t,headers:y,...h};return NA()||(b.referrerPolicy="no-referrer"),s.emulatorConfig&&_u(s.emulatorConfig.host)&&(b.credentials="include"),Px.fetch()(await zx(s,s.config.apiHost,n,v),b)})}async function Vx(s,t,n){s._canInitEmulator=!1;const r={...iC,...t};try{const l=new oC(s),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw lf(s,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const v=h.ok?m.errorMessage:m.error.message,[y,b]=v.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(s,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw lf(s,"email-already-in-use",m);if(y==="USER_DISABLED")throw lf(s,"user-disabled",m);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw fg(s,A,b);fr(s,A)}}catch(l){if(l instanceof na)throw l;fr(s,"network-request-failed",{message:String(l)})}}async function aC(s,t,n,r,l={}){const h=await vu(s,t,n,r,l);return"mfaPendingCredential"in h&&fr(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function zx(s,t,n,r){const l=`${t}${n}?${r}`,h=s,m=h.config.emulator?mg(s.config,l):`${s.config.apiScheme}://${l}`;return sC.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}class oC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ls(this.auth,"network-request-failed")),rC.get())})}}function lf(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ls(s,t,r);return l.customData._tokenResponse=n,l}async function lC(s,t){return vu(s,"POST","/v1/accounts:delete",t)}async function If(s,t){return vu(s,"POST","/v1/accounts:lookup",t)}function xc(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uC(s,t=!1){const n=dn(s),r=await n.getIdToken(t),l=gg(r);Ft(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h?.sign_in_provider;return{claims:l,token:r,authTime:xc(gp(l.auth_time)),issuedAtTime:xc(gp(l.iat)),expirationTime:xc(gp(l.exp)),signInProvider:m||null,signInSecondFactor:h?.sign_in_second_factor||null}}function gp(s){return Number(s)*1e3}function gg(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return gf("JWT malformed, contained fewer than 3 sections"),null;try{const l=wx(n);return l?JSON.parse(l):(gf("Failed to decode base64 JWT payload"),null)}catch(l){return gf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function M0(s){const t=gg(s);return Ft(t,"internal-error"),Ft(typeof t.exp<"u","internal-error"),Ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nc(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof na&&cC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function cC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class hC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class kp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Df(s){const t=s.auth,n=await s.getIdToken(),r=await Nc(s,If(t,{idToken:n}));Ft(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?jx(l.providerUserInfo):[],m=dC(s.providerData,h),v=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!m?.length,b=v?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new kp(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(s,A)}async function fC(s){const t=dn(s);await Df(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function dC(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function jx(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function mC(s,t){const n=await Vx(s,{},async()=>{const r=Bc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,m=await zx(s,l,"/v1/token",`key=${h}`),v=await s._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:v,body:r};return s.emulatorConfig&&_u(s.emulatorConfig.host)&&(y.credentials="include"),Px.fetch()(m,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pC(s,t){return vu(s,"POST","/v2/accounts:revokeToken",pg(s,t))}class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ft(t.idToken,"internal-error"),Ft(typeof t.idToken<"u","internal-error"),Ft(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):M0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ft(t.length!==0,"internal-error");const n=M0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:h}=await mC(t,n);this.updateTokensAndExpiration(r,l,Number(h))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:h}=n,m=new tu;return r&&(Ft(typeof r=="string","internal-error",{appName:t}),m.refreshToken=r),l&&(Ft(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),h&&(Ft(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return Gr("not implemented")}}function Ga(s,t){Ft(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Ds{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new hC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new kp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Nc(this,this.stsTokenManager.getToken(this.auth,t));return Ft(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return uC(this,t)}reload(){return fC(this)}_assign(t){this!==t&&(Ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ds({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Is(this.auth.app))return Promise.reject(Jo(this.auth));const t=await this.getIdToken();return await Nc(this,lC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,m=n.photoURL??void 0,v=n.tenantId??void 0,y=n._redirectEventId??void 0,b=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:C,emailVerified:I,isAnonymous:O,providerData:q,stsTokenManager:H}=n;Ft(C&&H,t,"internal-error");const Q=tu.fromJSON(this.name,H);Ft(typeof C=="string",t,"internal-error"),Ga(r,t.name),Ga(l,t.name),Ft(typeof I=="boolean",t,"internal-error"),Ft(typeof O=="boolean",t,"internal-error"),Ga(h,t.name),Ga(m,t.name),Ga(v,t.name),Ga(y,t.name),Ga(b,t.name),Ga(A,t.name);const st=new Ds({uid:C,auth:t,email:l,emailVerified:I,displayName:r,isAnonymous:O,photoURL:m,phoneNumber:h,tenantId:v,stsTokenManager:Q,createdAt:b,lastLoginAt:A});return q&&Array.isArray(q)&&(st.providerData=q.map(at=>({...at}))),y&&(st._redirectEventId=y),st}static async _fromIdTokenResponse(t,n,r=!1){const l=new tu;l.updateFromServerResponse(n);const h=new Ds({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Df(h),h}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];Ft(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?jx(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!h?.length,v=new tu;v.updateFromIdToken(r);const y=new Ds({uid:l.localId,auth:t,stsTokenManager:v,isAnonymous:m}),b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new kp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,b),y}}const k0=new Map;function Zr(s){Jr(s instanceof Function,"Expected a class definition");let t=k0.get(s);return t?(Jr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,k0.set(s,t),t)}class Ux{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Ux.type="NONE";const O0=Ux;function _f(s,t,n){return`firebase:${s}:${t}:${n}`}class eu{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:h}=this.auth;this.fullUserKey=_f(this.userKey,l.apiKey,h),this.fullPersistenceKey=_f("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await If(this.auth,{idToken:t}).catch(()=>{});return n?Ds._fromGetAccountInfoResponse(this.auth,n,t):null}return Ds._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new eu(Zr(O0),t,r);const l=(await Promise.all(n.map(async b=>{if(await b._isAvailable())return b}))).filter(b=>b);let h=l[0]||Zr(O0);const m=_f(r,t.config.apiKey,t.name);let v=null;for(const b of n)try{const A=await b._get(m);if(A){let C;if(typeof A=="string"){const I=await If(t,{idToken:A}).catch(()=>{});if(!I)break;C=await Ds._fromGetAccountInfoResponse(t,I,A)}else C=Ds._fromJSON(t,A);b!==h&&(v=C),h=b;break}}catch{}const y=l.filter(b=>b._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new eu(h,t,r):(h=y[0],v&&await h._set(m,v.toJSON()),await Promise.all(n.map(async b=>{if(b!==h)try{await b._remove(m)}catch{}})),new eu(h,t,r))}}function P0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zx(t))return"Blackberry";if(Kx(t))return"Webos";if(Fx(t))return"Safari";if((t.includes("chrome/")||Hx(t))&&!t.includes("edge/"))return"Chrome";if(Gx(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function Bx(s=Gn()){return/firefox\//i.test(s)}function Fx(s=Gn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Hx(s=Gn()){return/crios\//i.test(s)}function qx(s=Gn()){return/iemobile/i.test(s)}function Gx(s=Gn()){return/android/i.test(s)}function Zx(s=Gn()){return/blackberry/i.test(s)}function Kx(s=Gn()){return/webos/i.test(s)}function _g(s=Gn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function gC(s=Gn()){return _g(s)&&!!window.navigator?.standalone}function _C(){return LA()&&document.documentMode===10}function Qx(s=Gn()){return _g(s)||Gx(s)||Kx(s)||Zx(s)||/windows phone/i.test(s)||qx(s)}function Yx(s,t=[]){let n;switch(s){case"Browser":n=P0(Gn());break;case"Worker":n=`${P0(Gn())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${yu}/${r}`}class yC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=h=>new Promise((m,v)=>{try{const y=t(h);m(y)}catch(y){v(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function vC(s,t={}){return vu(s,"GET","/v2/passwordPolicy",pg(s,t))}const bC=6;class xC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??bC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class wC{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new yC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ox,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await If(this,{idToken:t}),r=await Ds._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Is(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,m=r?._redirectEventId,v=await this.tryRedirectSignIn(t);(!h||h===m)&&v?.user&&(r=v.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Df(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=nC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Is(this.app))return Promise.reject(Jo(this));const n=t?dn(t):null;return n&&Ft(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Is(this.app)?Promise.reject(Jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Is(this.app)?Promise.reject(Jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vC(this),n=new xC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Uc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zr(t)||this._popupRedirectResolver;Ft(n,this,"argument-error"),this.redirectPersistenceManager=await eu.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let m=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(v,this,"internal-error"),v.then(()=>{m||h(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,r,l);return()=>{m=!0,y()}}else{const y=t.addObserver(n);return()=>{m=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Yx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Is(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&J2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Xf(s){return dn(s)}class V0{constructor(t){this.auth=t,this.observer=null,this.addObserver=UA(n=>this.observer=n)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EC(s){yg=s}function TC(s){return yg.loadJS(s)}function SC(){return yg.gapiScript}function AC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function CC(s,t){const n=hg(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if($o(h,t??{}))return l;fr(l,"already-initialized")}return n.initialize({options:t})}function RC(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function NC(s,t,n){const r=Xf(s);Ft(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,h=Xx(t),{host:m,port:v}=IC(t),y=v===null?"":`:${v}`,b={url:`${h}//${m}${y}/`},A=Object.freeze({host:m,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Ft(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ft($o(b,r.config.emulator)&&$o(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=b,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,_u(m)?(Ax(`${h}//${m}${y}`),Cx("Auth",!0)):DC()}function Xx(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function IC(s){const t=Xx(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const h=l[1];return{host:h,port:z0(r.substr(h.length+1))}}else{const[h,m]=r.split(":");return{host:h,port:z0(m)}}}function z0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function DC(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Wx{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(t){return Gr("not implemented")}_linkToIdToken(t,n){return Gr("not implemented")}_getReauthenticationResolver(t){return Gr("not implemented")}}async function nu(s,t){return aC(s,"POST","/v1/accounts:signInWithIdp",pg(s,t))}const LC="http://localhost";class el extends Wx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new el(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...h}=n;if(!r||!l)return null;const m=new el(r,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const n=this.buildRequest();return nu(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,nu(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,nu(t,n)}buildRequest(){const t={requestUri:LC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Bc(n)}return t}}class vg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Hc extends vg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Za extends Hc{constructor(){super("facebook.com")}static credential(t){return el._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Za.credentialFromTaggedObject(t)}static credentialFromError(t){return Za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Za.credential(t.oauthAccessToken)}catch{return null}}}Za.FACEBOOK_SIGN_IN_METHOD="facebook.com";Za.PROVIDER_ID="facebook.com";class qr extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return el._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";class Ka extends Hc{constructor(){super("github.com")}static credential(t){return el._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ka.credentialFromTaggedObject(t)}static credentialFromError(t){return Ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ka.credential(t.oauthAccessToken)}catch{return null}}}Ka.GITHUB_SIGN_IN_METHOD="github.com";Ka.PROVIDER_ID="github.com";class Qa extends Hc{constructor(){super("twitter.com")}static credential(t,n){return el._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Qa.credentialFromTaggedObject(t)}static credentialFromError(t){return Qa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Qa.credential(n,r)}catch{return null}}}Qa.TWITTER_SIGN_IN_METHOD="twitter.com";Qa.PROVIDER_ID="twitter.com";class ru{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const h=await Ds._fromIdTokenResponse(t,r,l),m=j0(r);return new ru({user:h,providerId:m,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=j0(r);return new ru({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function j0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Lf extends na{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new Lf(t,n,r,l)}}function Jx(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(s,h,t,r):h})}async function MC(s,t,n=!1){const r=await Nc(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return ru._forOperation(s,"link",r)}async function kC(s,t,n=!1){const{auth:r}=s;if(Is(r.app))return Promise.reject(Jo(r));const l="reauthenticate";try{const h=await Nc(s,Jx(r,l,t,s),n);Ft(h.idToken,r,"internal-error");const m=gg(h.idToken);Ft(m,r,"internal-error");const{sub:v}=m;return Ft(s.uid===v,r,"user-mismatch"),ru._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&fr(r,"user-mismatch"),h}}async function OC(s,t,n=!1){if(Is(s.app))return Promise.reject(Jo(s));const r="signIn",l=await Jx(s,r,t),h=await ru._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(h.user),h}function PC(s,t,n,r){return dn(s).onIdTokenChanged(t,n,r)}function VC(s,t,n){return dn(s).beforeAuthStateChanged(t,n)}function zC(s,t,n,r){return dn(s).onAuthStateChanged(t,n,r)}function jC(s){return dn(s).signOut()}const Mf="__sak";class $x{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const UC=1e3,BC=10;class tw extends $x{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((m,v,y)=>{this.notifyListeners(m,y)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(r);!n&&this.localCache[r]===m||this.notifyListeners(r,m)},h=this.storage.getItem(r);_C()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,BC):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}tw.type="LOCAL";const FC=tw;class ew extends $x{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ew.type="SESSION";const nw=ew;function HC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new Wf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:h}=n.data,m=this.handlersMap[l];if(!m?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const v=Array.from(m).map(async b=>b(n.origin,h)),y=await HC(v);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];function bg(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class qC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((v,y)=>{const b=bg("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);m={messageChannel:l,onMessage(C){const I=C;if(I.data.eventId===b)switch(I.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(I.data.response);break;default:clearTimeout(A),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:b,data:n},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}function ur(){return window}function GC(s){ur().location.href=s}function iw(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function ZC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KC(){return navigator?.serviceWorker?.controller||null}function QC(){return iw()?self:null}const sw="firebaseLocalStorageDb",YC=1,kf="firebaseLocalStorage",rw="fbase_key";class qc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jf(s,t){return s.transaction([kf],t?"readwrite":"readonly").objectStore(kf)}function XC(){const s=indexedDB.deleteDatabase(sw);return new qc(s).toPromise()}function Op(){const s=indexedDB.open(sw,YC);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(kf,{keyPath:rw})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(kf)?t(r):(r.close(),await XC(),t(await Op()))})})}async function U0(s,t,n){const r=Jf(s,!0).put({[rw]:t,value:n});return new qc(r).toPromise()}async function WC(s,t){const n=Jf(s,!1).get(t),r=await new qc(n).toPromise();return r===void 0?null:r.value}function B0(s,t){const n=Jf(s,!0).delete(t);return new qc(n).toPromise()}const JC=800,$C=3;class aw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>$C)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(QC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZC(),!this.activeServiceWorker)return;this.sender=new qC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Op();return await U0(t,Mf,"1"),await B0(t,Mf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>WC(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>B0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Jf(l,!1).getAll();return new qc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aw.type="LOCAL";const tR=aw;new Fc(3e4,6e4);function ow(s,t){return t?Zr(t):(Ft(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class xg extends Wx{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nu(t,this._buildIdpRequest())}_linkToIdToken(t,n){return nu(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return nu(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function eR(s){return OC(s.auth,new xg(s),s.bypassAuthState)}function nR(s){const{auth:t,user:n}=s;return Ft(n,t,"internal-error"),kC(n,new xg(s),s.bypassAuthState)}async function iR(s){const{auth:t,user:n}=s;return Ft(n,t,"internal-error"),MC(n,new xg(s),s.bypassAuthState)}class lw{constructor(t,n,r,l,h=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:h,error:m,type:v}=t;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(y))}catch(b){this.reject(b)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eR;case"linkViaPopup":case"linkViaRedirect":return iR;case"reauthViaPopup":case"reauthViaRedirect":return nR;default:fr(this.auth,"internal-error")}}resolve(t){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sR=new Fc(2e3,1e4);async function rR(s,t,n){if(Is(s.app))return Promise.reject(Ls(s,"operation-not-supported-in-this-environment"));const r=Xf(s);$2(s,t,vg);const l=ow(r,n);return new Xo(r,"signInViaPopup",t,l).executeNotNull()}class Xo extends lw{constructor(t,n,r,l,h){super(t,n,l,h),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ft(t,this.auth,"internal-error"),t}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const t=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sR.get())};t()}}Xo.currentPopupAction=null;const aR="pendingRedirect",yf=new Map;class oR extends lw{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=yf.get(this.auth._key());if(!t){try{const r=await lR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}yf.set(this.auth._key(),t)}return this.bypassAuthState||yf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lR(s,t){const n=hR(t),r=cR(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function uR(s,t){yf.set(s._key(),t)}function cR(s){return Zr(s._redirectPersistence)}function hR(s){return _f(aR,s.config.apiKey,s.name)}async function fR(s,t,n=!1){if(Is(s.app))return Promise.reject(Jo(s));const r=Xf(s),l=ow(r,t),m=await new oR(r,l,n).execute();return m&&!n&&(delete m.user._redirectEventId,await r._persistUserIfCurrent(m.user),await r._setRedirectUser(null,t)),m}const dR=600*1e3;class mR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!uw(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ls(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dR&&this.cachedEventUids.clear(),this.cachedEventUids.has(F0(t))}saveEventToCache(t){this.cachedEventUids.add(F0(t)),this.lastProcessedEventTime=Date.now()}}function F0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function uw({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function pR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uw(s);default:return!1}}async function gR(s,t={}){return vu(s,"GET","/v1/projects",t)}const _R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yR=/^https?/;async function vR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await gR(s);for(const n of t)try{if(bR(n))return}catch{}fr(s,"unauthorized-domain")}function bR(s){const t=Mp(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const m=new URL(s);return m.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&m.hostname===r}if(!yR.test(n))return!1;if(_R.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const xR=new Fc(3e4,6e4);function H0(){const s=ur().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function wR(s){return new Promise((t,n)=>{function r(){H0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{H0(),n(Ls(s,"network-request-failed"))},timeout:xR.get()})}if(ur().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ur().gapi?.load)r();else{const l=AC("iframefcb");return ur()[l]=()=>{gapi.load?r():n(Ls(s,"network-request-failed"))},TC(`${SC()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw vf=null,t})}let vf=null;function ER(s){return vf=vf||wR(s),vf}const TR=new Fc(5e3,15e3),SR="__/auth/iframe",AR="emulator/auth/iframe",CR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NR(s){const t=s.config;Ft(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?mg(t,AR):`https://${s.config.authDomain}/${SR}`,r={apiKey:t.apiKey,appName:s.name,v:yu},l=RR.get(s.config.apiHost);l&&(r.eid=l);const h=s._getFrameworks();return h.length&&(r.fw=h.join(",")),`${n}?${Bc(r).slice(1)}`}async function IR(s){const t=await ER(s),n=ur().gapi;return Ft(n,s,"internal-error"),t.open({where:document.body,url:NR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CR,dontclear:!0},r=>new Promise(async(l,h)=>{await r.restyle({setHideOnLeave:!1});const m=Ls(s,"network-request-failed"),v=ur().setTimeout(()=>{h(m)},TR.get());function y(){ur().clearTimeout(v),l(r)}r.ping(y).then(y,()=>{h(m)})}))}const DR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LR=500,MR=600,kR="_blank",OR="http://localhost";class q0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PR(s,t,n,r=LR,l=MR){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-r)/2,0).toString();let v="";const y={...DR,width:r.toString(),height:l.toString(),top:h,left:m},b=Gn().toLowerCase();n&&(v=Hx(b)?kR:n),Bx(b)&&(t=t||OR,y.scrollbars="yes");const A=Object.entries(y).reduce((I,[O,q])=>`${I}${O}=${q},`,"");if(gC(b)&&v!=="_self")return VR(t||"",v),new q0(null);const C=window.open(t||"",v,A);Ft(C,s,"popup-blocked");try{C.focus()}catch{}return new q0(C)}function VR(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const zR="__/auth/handler",jR="emulator/auth/handler",UR=encodeURIComponent("fac");async function G0(s,t,n,r,l,h){Ft(s.config.authDomain,s,"auth-domain-config-required"),Ft(s.config.apiKey,s,"invalid-api-key");const m={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:yu,eventId:l};if(t instanceof vg){t.setDefaultLanguage(s.languageCode),m.providerId=t.providerId||"",jA(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,C]of Object.entries({}))m[A]=C}if(t instanceof Hc){const A=t.getScopes().filter(C=>C!=="");A.length>0&&(m.scopes=A.join(","))}s.tenantId&&(m.tid=s.tenantId);const v=m;for(const A of Object.keys(v))v[A]===void 0&&delete v[A];const y=await s._getAppCheckToken(),b=y?`#${UR}=${encodeURIComponent(y)}`:"";return`${BR(s)}?${Bc(v).slice(1)}${b}`}function BR({config:s}){return s.emulator?mg(s,jR):`https://${s.authDomain}/${zR}`}const _p="webStorageSupport";class FR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nw,this._completeRedirectFn=fR,this._overrideRedirectResult=uR}async _openPopup(t,n,r,l){Jr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await G0(t,n,r,Mp(),l);return PR(t,h,bg())}async _openRedirect(t,n,r,l){await this._originValidation(t);const h=await G0(t,n,r,Mp(),l);return GC(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Jr(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await IR(t),r=new mR(t);return n.register("authEvent",l=>(Ft(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(_p,{type:_p},l=>{const h=l?.[0]?.[_p];h!==void 0&&n(!!h),fr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Qx()||Fx()||_g()}}const HR=FR;var Z0="@firebase/auth",K0="1.12.0";class qR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function GR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZR(s){su(new tl("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:v}=r.options;Ft(m&&!m.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:m,authDomain:v,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yx(s)},b=new wC(r,l,h,y);return RC(b,n),b},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),su(new tl("auth-internal",t=>{const n=Xf(t.getProvider("auth").getImmediate());return(r=>new qR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ja(Z0,K0,GR(s)),Ja(Z0,K0,"esm2020")}const KR=300,QR=Sx("authIdTokenMaxAge")||KR;let Q0=null;const YR=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QR)return;const l=n?.token;Q0!==l&&(Q0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function XR(s=Dx()){const t=hg(s,"auth");if(t.isInitialized())return t.getImmediate();const n=CC(s,{popupRedirectResolver:HR,persistence:[tR,FC,nw]}),r=Sx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const m=YR(h.toString());VC(n,m,()=>m(n.currentUser)),PC(n,v=>m(v))}}const l=Ex("auth");return l&&NC(n,`http://${l}`),n}function WR(){return document.getElementsByTagName("head")?.[0]??document}EC({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const h=Ls("internal-error");h.customData=l,n(h)},r.type="text/javascript",r.charset="UTF-8",WR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZR("Browser");var JR="firebase",$R="12.7.0";Ja(JR,$R,"app");var Y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $a,cw;(function(){var s;function t(V,M){function P(){}P.prototype=M.prototype,V.F=M.prototype,V.prototype=new P,V.prototype.constructor=V,V.D=function(G,F,K){for(var k=Array(arguments.length-2),It=2;It<arguments.length;It++)k[It-2]=arguments[It];return M.prototype[F].apply(G,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,M,P){P||(P=0);const G=Array(16);if(typeof M=="string")for(var F=0;F<16;++F)G[F]=M.charCodeAt(P++)|M.charCodeAt(P++)<<8|M.charCodeAt(P++)<<16|M.charCodeAt(P++)<<24;else for(F=0;F<16;++F)G[F]=M[P++]|M[P++]<<8|M[P++]<<16|M[P++]<<24;M=V.g[0],P=V.g[1],F=V.g[2];let K=V.g[3],k;k=M+(K^P&(F^K))+G[0]+3614090360&4294967295,M=P+(k<<7&4294967295|k>>>25),k=K+(F^M&(P^F))+G[1]+3905402710&4294967295,K=M+(k<<12&4294967295|k>>>20),k=F+(P^K&(M^P))+G[2]+606105819&4294967295,F=K+(k<<17&4294967295|k>>>15),k=P+(M^F&(K^M))+G[3]+3250441966&4294967295,P=F+(k<<22&4294967295|k>>>10),k=M+(K^P&(F^K))+G[4]+4118548399&4294967295,M=P+(k<<7&4294967295|k>>>25),k=K+(F^M&(P^F))+G[5]+1200080426&4294967295,K=M+(k<<12&4294967295|k>>>20),k=F+(P^K&(M^P))+G[6]+2821735955&4294967295,F=K+(k<<17&4294967295|k>>>15),k=P+(M^F&(K^M))+G[7]+4249261313&4294967295,P=F+(k<<22&4294967295|k>>>10),k=M+(K^P&(F^K))+G[8]+1770035416&4294967295,M=P+(k<<7&4294967295|k>>>25),k=K+(F^M&(P^F))+G[9]+2336552879&4294967295,K=M+(k<<12&4294967295|k>>>20),k=F+(P^K&(M^P))+G[10]+4294925233&4294967295,F=K+(k<<17&4294967295|k>>>15),k=P+(M^F&(K^M))+G[11]+2304563134&4294967295,P=F+(k<<22&4294967295|k>>>10),k=M+(K^P&(F^K))+G[12]+1804603682&4294967295,M=P+(k<<7&4294967295|k>>>25),k=K+(F^M&(P^F))+G[13]+4254626195&4294967295,K=M+(k<<12&4294967295|k>>>20),k=F+(P^K&(M^P))+G[14]+2792965006&4294967295,F=K+(k<<17&4294967295|k>>>15),k=P+(M^F&(K^M))+G[15]+1236535329&4294967295,P=F+(k<<22&4294967295|k>>>10),k=M+(F^K&(P^F))+G[1]+4129170786&4294967295,M=P+(k<<5&4294967295|k>>>27),k=K+(P^F&(M^P))+G[6]+3225465664&4294967295,K=M+(k<<9&4294967295|k>>>23),k=F+(M^P&(K^M))+G[11]+643717713&4294967295,F=K+(k<<14&4294967295|k>>>18),k=P+(K^M&(F^K))+G[0]+3921069994&4294967295,P=F+(k<<20&4294967295|k>>>12),k=M+(F^K&(P^F))+G[5]+3593408605&4294967295,M=P+(k<<5&4294967295|k>>>27),k=K+(P^F&(M^P))+G[10]+38016083&4294967295,K=M+(k<<9&4294967295|k>>>23),k=F+(M^P&(K^M))+G[15]+3634488961&4294967295,F=K+(k<<14&4294967295|k>>>18),k=P+(K^M&(F^K))+G[4]+3889429448&4294967295,P=F+(k<<20&4294967295|k>>>12),k=M+(F^K&(P^F))+G[9]+568446438&4294967295,M=P+(k<<5&4294967295|k>>>27),k=K+(P^F&(M^P))+G[14]+3275163606&4294967295,K=M+(k<<9&4294967295|k>>>23),k=F+(M^P&(K^M))+G[3]+4107603335&4294967295,F=K+(k<<14&4294967295|k>>>18),k=P+(K^M&(F^K))+G[8]+1163531501&4294967295,P=F+(k<<20&4294967295|k>>>12),k=M+(F^K&(P^F))+G[13]+2850285829&4294967295,M=P+(k<<5&4294967295|k>>>27),k=K+(P^F&(M^P))+G[2]+4243563512&4294967295,K=M+(k<<9&4294967295|k>>>23),k=F+(M^P&(K^M))+G[7]+1735328473&4294967295,F=K+(k<<14&4294967295|k>>>18),k=P+(K^M&(F^K))+G[12]+2368359562&4294967295,P=F+(k<<20&4294967295|k>>>12),k=M+(P^F^K)+G[5]+4294588738&4294967295,M=P+(k<<4&4294967295|k>>>28),k=K+(M^P^F)+G[8]+2272392833&4294967295,K=M+(k<<11&4294967295|k>>>21),k=F+(K^M^P)+G[11]+1839030562&4294967295,F=K+(k<<16&4294967295|k>>>16),k=P+(F^K^M)+G[14]+4259657740&4294967295,P=F+(k<<23&4294967295|k>>>9),k=M+(P^F^K)+G[1]+2763975236&4294967295,M=P+(k<<4&4294967295|k>>>28),k=K+(M^P^F)+G[4]+1272893353&4294967295,K=M+(k<<11&4294967295|k>>>21),k=F+(K^M^P)+G[7]+4139469664&4294967295,F=K+(k<<16&4294967295|k>>>16),k=P+(F^K^M)+G[10]+3200236656&4294967295,P=F+(k<<23&4294967295|k>>>9),k=M+(P^F^K)+G[13]+681279174&4294967295,M=P+(k<<4&4294967295|k>>>28),k=K+(M^P^F)+G[0]+3936430074&4294967295,K=M+(k<<11&4294967295|k>>>21),k=F+(K^M^P)+G[3]+3572445317&4294967295,F=K+(k<<16&4294967295|k>>>16),k=P+(F^K^M)+G[6]+76029189&4294967295,P=F+(k<<23&4294967295|k>>>9),k=M+(P^F^K)+G[9]+3654602809&4294967295,M=P+(k<<4&4294967295|k>>>28),k=K+(M^P^F)+G[12]+3873151461&4294967295,K=M+(k<<11&4294967295|k>>>21),k=F+(K^M^P)+G[15]+530742520&4294967295,F=K+(k<<16&4294967295|k>>>16),k=P+(F^K^M)+G[2]+3299628645&4294967295,P=F+(k<<23&4294967295|k>>>9),k=M+(F^(P|~K))+G[0]+4096336452&4294967295,M=P+(k<<6&4294967295|k>>>26),k=K+(P^(M|~F))+G[7]+1126891415&4294967295,K=M+(k<<10&4294967295|k>>>22),k=F+(M^(K|~P))+G[14]+2878612391&4294967295,F=K+(k<<15&4294967295|k>>>17),k=P+(K^(F|~M))+G[5]+4237533241&4294967295,P=F+(k<<21&4294967295|k>>>11),k=M+(F^(P|~K))+G[12]+1700485571&4294967295,M=P+(k<<6&4294967295|k>>>26),k=K+(P^(M|~F))+G[3]+2399980690&4294967295,K=M+(k<<10&4294967295|k>>>22),k=F+(M^(K|~P))+G[10]+4293915773&4294967295,F=K+(k<<15&4294967295|k>>>17),k=P+(K^(F|~M))+G[1]+2240044497&4294967295,P=F+(k<<21&4294967295|k>>>11),k=M+(F^(P|~K))+G[8]+1873313359&4294967295,M=P+(k<<6&4294967295|k>>>26),k=K+(P^(M|~F))+G[15]+4264355552&4294967295,K=M+(k<<10&4294967295|k>>>22),k=F+(M^(K|~P))+G[6]+2734768916&4294967295,F=K+(k<<15&4294967295|k>>>17),k=P+(K^(F|~M))+G[13]+1309151649&4294967295,P=F+(k<<21&4294967295|k>>>11),k=M+(F^(P|~K))+G[4]+4149444226&4294967295,M=P+(k<<6&4294967295|k>>>26),k=K+(P^(M|~F))+G[11]+3174756917&4294967295,K=M+(k<<10&4294967295|k>>>22),k=F+(M^(K|~P))+G[2]+718787259&4294967295,F=K+(k<<15&4294967295|k>>>17),k=P+(K^(F|~M))+G[9]+3951481745&4294967295,V.g[0]=V.g[0]+M&4294967295,V.g[1]=V.g[1]+(F+(k<<21&4294967295|k>>>11))&4294967295,V.g[2]=V.g[2]+F&4294967295,V.g[3]=V.g[3]+K&4294967295}r.prototype.v=function(V,M){M===void 0&&(M=V.length);const P=M-this.blockSize,G=this.C;let F=this.h,K=0;for(;K<M;){if(F==0)for(;K<=P;)l(this,V,K),K+=this.blockSize;if(typeof V=="string"){for(;K<M;)if(G[F++]=V.charCodeAt(K++),F==this.blockSize){l(this,G),F=0;break}}else for(;K<M;)if(G[F++]=V[K++],F==this.blockSize){l(this,G),F=0;break}}this.h=F,this.o+=M},r.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var M=1;M<V.length-8;++M)V[M]=0;M=this.o*8;for(var P=V.length-8;P<V.length;++P)V[P]=M&255,M/=256;for(this.v(V),V=Array(16),M=0,P=0;P<4;++P)for(let G=0;G<32;G+=8)V[M++]=this.g[P]>>>G&255;return V};function h(V,M){var P=v;return Object.prototype.hasOwnProperty.call(P,V)?P[V]:P[V]=M(V)}function m(V,M){this.h=M;const P=[];let G=!0;for(let F=V.length-1;F>=0;F--){const K=V[F]|0;G&&K==M||(P[F]=K,G=!1)}this.g=P}var v={};function y(V){return-128<=V&&V<128?h(V,function(M){return new m([M|0],M<0?-1:0)}):new m([V|0],V<0?-1:0)}function b(V){if(isNaN(V)||!isFinite(V))return C;if(V<0)return Q(b(-V));const M=[];let P=1;for(let G=0;V>=P;G++)M[G]=V/P|0,P*=4294967296;return new m(M,0)}function A(V,M){if(V.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(V.charAt(0)=="-")return Q(A(V.substring(1),M));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=b(Math.pow(M,8));let G=C;for(let K=0;K<V.length;K+=8){var F=Math.min(8,V.length-K);const k=parseInt(V.substring(K,K+F),M);F<8?(F=b(Math.pow(M,F)),G=G.j(F).add(b(k))):(G=G.j(P),G=G.add(b(k)))}return G}var C=y(0),I=y(1),O=y(16777216);s=m.prototype,s.m=function(){if(H(this))return-Q(this).m();let V=0,M=1;for(let P=0;P<this.g.length;P++){const G=this.i(P);V+=(G>=0?G:4294967296+G)*M,M*=4294967296}return V},s.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(q(this))return"0";if(H(this))return"-"+Q(this).toString(V);const M=b(Math.pow(V,6));var P=this;let G="";for(;;){const F=pt(P,M).g;P=st(P,F.j(M));let K=((P.g.length>0?P.g[0]:P.h)>>>0).toString(V);if(P=F,q(P))return K+G;for(;K.length<6;)K="0"+K;G=K+G}},s.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function q(V){if(V.h!=0)return!1;for(let M=0;M<V.g.length;M++)if(V.g[M]!=0)return!1;return!0}function H(V){return V.h==-1}s.l=function(V){return V=st(this,V),H(V)?-1:q(V)?0:1};function Q(V){const M=V.g.length,P=[];for(let G=0;G<M;G++)P[G]=~V.g[G];return new m(P,~V.h).add(I)}s.abs=function(){return H(this)?Q(this):this},s.add=function(V){const M=Math.max(this.g.length,V.g.length),P=[];let G=0;for(let F=0;F<=M;F++){let K=G+(this.i(F)&65535)+(V.i(F)&65535),k=(K>>>16)+(this.i(F)>>>16)+(V.i(F)>>>16);G=k>>>16,K&=65535,k&=65535,P[F]=k<<16|K}return new m(P,P[P.length-1]&-2147483648?-1:0)};function st(V,M){return V.add(Q(M))}s.j=function(V){if(q(this)||q(V))return C;if(H(this))return H(V)?Q(this).j(Q(V)):Q(Q(this).j(V));if(H(V))return Q(this.j(Q(V)));if(this.l(O)<0&&V.l(O)<0)return b(this.m()*V.m());const M=this.g.length+V.g.length,P=[];for(var G=0;G<2*M;G++)P[G]=0;for(G=0;G<this.g.length;G++)for(let F=0;F<V.g.length;F++){const K=this.i(G)>>>16,k=this.i(G)&65535,It=V.i(F)>>>16,Jt=V.i(F)&65535;P[2*G+2*F]+=k*Jt,at(P,2*G+2*F),P[2*G+2*F+1]+=K*Jt,at(P,2*G+2*F+1),P[2*G+2*F+1]+=k*It,at(P,2*G+2*F+1),P[2*G+2*F+2]+=K*It,at(P,2*G+2*F+2)}for(V=0;V<M;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=M;V<2*M;V++)P[V]=0;return new m(P,0)};function at(V,M){for(;(V[M]&65535)!=V[M];)V[M+1]+=V[M]>>>16,V[M]&=65535,M++}function ot(V,M){this.g=V,this.h=M}function pt(V,M){if(q(M))throw Error("division by zero");if(q(V))return new ot(C,C);if(H(V))return M=pt(Q(V),M),new ot(Q(M.g),Q(M.h));if(H(M))return M=pt(V,Q(M)),new ot(Q(M.g),M.h);if(V.g.length>30){if(H(V)||H(M))throw Error("slowDivide_ only works with positive integers.");for(var P=I,G=M;G.l(V)<=0;)P=xt(P),G=xt(G);var F=Rt(P,1),K=Rt(G,1);for(G=Rt(G,2),P=Rt(P,2);!q(G);){var k=K.add(G);k.l(V)<=0&&(F=F.add(P),K=k),G=Rt(G,1),P=Rt(P,1)}return M=st(V,F.j(M)),new ot(F,M)}for(F=C;V.l(M)>=0;){for(P=Math.max(1,Math.floor(V.m()/M.m())),G=Math.ceil(Math.log(P)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),K=b(P),k=K.j(M);H(k)||k.l(V)>0;)P-=G,K=b(P),k=K.j(M);q(K)&&(K=I),F=F.add(K),V=st(V,k)}return new ot(F,V)}s.B=function(V){return pt(this,V).h},s.and=function(V){const M=Math.max(this.g.length,V.g.length),P=[];for(let G=0;G<M;G++)P[G]=this.i(G)&V.i(G);return new m(P,this.h&V.h)},s.or=function(V){const M=Math.max(this.g.length,V.g.length),P=[];for(let G=0;G<M;G++)P[G]=this.i(G)|V.i(G);return new m(P,this.h|V.h)},s.xor=function(V){const M=Math.max(this.g.length,V.g.length),P=[];for(let G=0;G<M;G++)P[G]=this.i(G)^V.i(G);return new m(P,this.h^V.h)};function xt(V){const M=V.g.length+1,P=[];for(let G=0;G<M;G++)P[G]=V.i(G)<<1|V.i(G-1)>>>31;return new m(P,V.h)}function Rt(V,M){const P=M>>5;M%=32;const G=V.g.length-P,F=[];for(let K=0;K<G;K++)F[K]=M>0?V.i(K+P)>>>M|V.i(K+P+1)<<32-M:V.i(K+P);return new m(F,V.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cw=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=b,m.fromString=A,$a=m}).apply(typeof Y0<"u"?Y0:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hw,gc,fw,bf,Pp,dw,mw,pw;(function(){var s,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var x=0;x<f.length;++x){var S=f[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function l(f,x){if(x)t:{var S=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var W=f[D];if(!(W in S))break t;S=S[W]}f=f[f.length-1],D=S[f],x=x(D),x!=D&&x!=null&&t(S,f,{configurable:!0,writable:!0,value:x})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(x){var S=[],D;for(D in x)Object.prototype.hasOwnProperty.call(x,D)&&S.push([D,x[D]]);return S}});var h=h||{},m=this||self;function v(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function y(f,x,S){return f.call.apply(f.bind,arguments)}function b(f,x,S){return b=y,b.apply(null,arguments)}function A(f,x){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function C(f,x){function S(){}S.prototype=x.prototype,f.Z=x.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(D,W,it){for(var wt=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)wt[Bt-2]=arguments[Bt];return x.prototype[W].apply(D,wt)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function O(f){const x=f.length;if(x>0){const S=Array(x);for(let D=0;D<x;D++)S[D]=f[D];return S}return[]}function q(f,x){for(let D=1;D<arguments.length;D++){const W=arguments[D];var S=typeof W;if(S=S!="object"?S:W?Array.isArray(W)?"array":S:"null",S=="array"||S=="object"&&typeof W.length=="number"){S=f.length||0;const it=W.length||0;f.length=S+it;for(let wt=0;wt<it;wt++)f[S+wt]=W[wt]}else f.push(W)}}class H{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function Q(f){m.setTimeout(()=>{throw f},0)}function st(){var f=V;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class at{constructor(){this.h=this.g=null}add(x,S){const D=ot.get();D.set(x,S),this.h?this.h.next=D:this.g=D,this.h=D}}var ot=new H(()=>new pt,f=>f.reset());class pt{constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let xt,Rt=!1,V=new at,M=()=>{const f=Promise.resolve(void 0);xt=()=>{f.then(P)}};function P(){for(var f;f=st();){try{f.h.call(f.g)}catch(S){Q(S)}var x=ot;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}Rt=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var K=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};m.addEventListener("test",S,x),m.removeEventListener("test",S,x)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function It(f,x){F.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}C(It,F),It.prototype.init=function(f,x){const S=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(S=="mouseover"?x=f.fromElement:S=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&It.Z.h.call(this)},It.prototype.h=function(){It.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Jt="closure_listenable_"+(Math.random()*1e6|0),nt=0;function vt(f,x,S,D,W){this.listener=f,this.proxy=null,this.src=x,this.type=S,this.capture=!!D,this.ha=W,this.key=++nt,this.da=this.fa=!1}function gt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Tt(f,x,S){for(const D in f)x.call(S,f[D],D,f)}function bt(f,x){for(const S in f)x.call(void 0,f[S],S,f)}function j(f){const x={};for(const S in f)x[S]=f[S];return x}const lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(f,x){let S,D;for(let W=1;W<arguments.length;W++){D=arguments[W];for(S in D)f[S]=D[S];for(let it=0;it<lt.length;it++)S=lt[it],Object.prototype.hasOwnProperty.call(D,S)&&(f[S]=D[S])}}function _t(f){this.src=f,this.g={},this.h=0}_t.prototype.add=function(f,x,S,D,W){const it=f.toString();f=this.g[it],f||(f=this.g[it]=[],this.h++);const wt=At(f,x,D,W);return wt>-1?(x=f[wt],S||(x.fa=!1)):(x=new vt(x,this.src,it,!!D,W),x.fa=S,f.push(x)),x};function Et(f,x){const S=x.type;if(S in f.g){var D=f.g[S],W=Array.prototype.indexOf.call(D,x,void 0),it;(it=W>=0)&&Array.prototype.splice.call(D,W,1),it&&(gt(x),f.g[S].length==0&&(delete f.g[S],f.h--))}}function At(f,x,S,D){for(let W=0;W<f.length;++W){const it=f[W];if(!it.da&&it.listener==x&&it.capture==!!S&&it.ha==D)return W}return-1}var qt="closure_lm_"+(Math.random()*1e6|0),Ee={};function Re(f,x,S,D,W){if(Array.isArray(x)){for(let it=0;it<x.length;it++)Re(f,x[it],S,D,W);return null}return S=Fs(S),f&&f[Jt]?f.J(x,S,v(D)?!!D.capture:!1,W):fs(f,x,S,!1,D,W)}function fs(f,x,S,D,W,it){if(!x)throw Error("Invalid event type");const wt=v(W)?!!W.capture:!!W;let Bt=Bs(f);if(Bt||(f[qt]=Bt=new _t(f)),S=Bt.add(x,S,D,wt,it),S.proxy)return S;if(D=js(),S.proxy=D,D.src=f,D.listener=S,f.addEventListener)K||(W=wt),W===void 0&&(W=!1),f.addEventListener(x.toString(),D,W);else if(f.attachEvent)f.attachEvent(qi(x.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function js(){function f(S){return x.call(f.src,f.listener,S)}const x=ra;return f}function Hi(f,x,S,D,W){if(Array.isArray(x))for(var it=0;it<x.length;it++)Hi(f,x[it],S,D,W);else D=v(D)?!!D.capture:!!D,S=Fs(S),f&&f[Jt]?(f=f.i,it=String(x).toString(),it in f.g&&(x=f.g[it],S=At(x,S,D,W),S>-1&&(gt(x[S]),Array.prototype.splice.call(x,S,1),x.length==0&&(delete f.g[it],f.h--)))):f&&(f=Bs(f))&&(x=f.g[x.toString()],f=-1,x&&(f=At(x,S,D,W)),(S=f>-1?x[f]:null)&&Us(S))}function Us(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[Jt])Et(x.i,f);else{var S=f.type,D=f.proxy;x.removeEventListener?x.removeEventListener(S,D,f.capture):x.detachEvent?x.detachEvent(qi(S),D):x.addListener&&x.removeListener&&x.removeListener(D),(S=Bs(x))?(Et(S,f),S.h==0&&(S.src=null,x[qt]=null)):gt(f)}}}function qi(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function ra(f,x){if(f.da)f=!0;else{x=new It(x,this);const S=f.listener,D=f.ha||f.src;f.fa&&Us(f),f=S.call(D,x)}return f}function Bs(f){return f=f[qt],f instanceof _t?f:null}var gr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fs(f){return typeof f=="function"?f:(f[gr]||(f[gr]=function(x){return f.handleEvent(x)}),f[gr])}function Ge(){G.call(this),this.i=new _t(this),this.M=this,this.G=null}C(Ge,G),Ge.prototype[Jt]=!0,Ge.prototype.removeEventListener=function(f,x,S,D){Hi(this,f,x,S,D)};function Ze(f,x){var S,D=f.G;if(D)for(S=[];D;D=D.G)S.push(D);if(f=f.M,D=x.type||x,typeof x=="string")x=new F(x,f);else if(x instanceof F)x.target=x.target||f;else{var W=x;x=new F(D,f),yt(x,W)}W=!0;let it,wt;if(S)for(wt=S.length-1;wt>=0;wt--)it=x.g=S[wt],W=Gi(it,D,!0,x)&&W;if(it=x.g=f,W=Gi(it,D,!0,x)&&W,W=Gi(it,D,!1,x)&&W,S)for(wt=0;wt<S.length;wt++)it=x.g=S[wt],W=Gi(it,D,!1,x)&&W}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const S=f.g[x];for(let D=0;D<S.length;D++)gt(S[D]);delete f.g[x],f.h--}}this.G=null},Ge.prototype.J=function(f,x,S,D){return this.i.add(String(f),x,!1,S,D)},Ge.prototype.K=function(f,x,S,D){return this.i.add(String(f),x,!0,S,D)};function Gi(f,x,S,D){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let W=!0;for(let it=0;it<x.length;++it){const wt=x[it];if(wt&&!wt.da&&wt.capture==S){const Bt=wt.listener,ue=wt.ha||wt.src;wt.fa&&Et(f.i,wt),W=Bt.call(ue,D)!==!1&&W}}return W&&!D.defaultPrevented}function ll(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:m.setTimeout(f,x||0)}function co(f){f.g=ll(()=>{f.g=null,f.i&&(f.i=!1,co(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class Nn extends G{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(f){G.call(this),this.h=f,this.g={}}C(_r,G);var yr=[];function aa(f){Tt(f.g,function(x,S){this.g.hasOwnProperty(S)&&Us(x)},f),f.g={}}_r.prototype.N=function(){_r.Z.N.call(this),aa(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=m.JSON.stringify,Ru=m.JSON.parse,ho=class{stringify(f){return m.JSON.stringify(f,void 0)}parse(f){return m.JSON.parse(f,void 0)}};function fo(){}function ul(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Je(){F.call(this,"d")}C(Je,F);function Zn(){F.call(this,"c")}C(Zn,F);var je={},Hs=null;function oa(){return Hs=Hs||new Ge}je.Ia="serverreachability";function cl(f){F.call(this,je.Ia,f)}C(cl,F);function bi(f){const x=oa();Ze(x,new cl(x))}je.STAT_EVENT="statevent";function qs(f,x){F.call(this,je.STAT_EVENT,f),this.stat=x}C(qs,F);function Ue(f){const x=oa();Ze(x,new qs(x,f))}je.Ja="timingevent";function Zi(f,x){F.call(this,je.Ja,f),this.size=x}C(Zi,F);function Ki(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){f()},x)}function xi(){this.g=!0}xi.prototype.ua=function(){this.g=!1};function Nu(f,x,S,D,W,it){f.info(function(){if(f.g)if(it){var wt="",Bt=it.split("&");for(let ce=0;ce<Bt.length;ce++){var ue=Bt[ce].split("=");if(ue.length>1){const Ie=ue[0];ue=ue[1];const li=Ie.split("_");wt=li.length>=2&&li[1]=="type"?wt+(Ie+"="+ue+"&"):wt+(Ie+"=redacted&")}}}else wt=null;else wt=it;return"XMLHTTP REQ ("+D+") [attempt "+W+"]: "+x+`
`+S+`
`+wt})}function hl(f,x,S,D,W,it,wt){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+W+"]: "+x+`
`+S+`
`+it+" "+wt})}function Qi(f,x,S,D){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Iu(f,S)+(D?" "+D:"")})}function ms(f,x){f.info(function(){return"TIMEOUT: "+x})}xi.prototype.info=function(){};function Iu(f,x){if(!f.g)return x;if(!x)return null;try{const it=JSON.parse(x);if(it){for(f=0;f<it.length;f++)if(Array.isArray(it[f])){var S=it[f];if(!(S.length<2)){var D=S[1];if(Array.isArray(D)&&!(D.length<1)){var W=D[0];if(W!="noop"&&W!="stop"&&W!="close")for(let wt=1;wt<D.length;wt++)D[wt]=""}}}}return ds(it)}catch{return x}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function _n(){}C(_n,fo),_n.prototype.g=function(){return new XMLHttpRequest},po=new _n;function Lt(f){return encodeURIComponent(String(f))}function go(f){var x=1;f=f.split(":");const S=[];for(;x>0&&f.length;)S.push(f.shift()),x--;return f.length&&S.push(f.join(":")),S}function ei(f,x,S,D){this.j=f,this.i=x,this.l=S,this.S=D||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Be={},Ke={};function wi(f,x,S){f.M=1,f.A=ve(Me(x)),f.u=S,f.R=!0,Ei(f,null)}function Ei(f,x){f.F=Date.now(),Yi(f),f.B=Me(f.A);var S=f.B,D=f.S;Array.isArray(D)||(D=[String(D)]),Zs(S.i,"t",D),f.C=0,S=f.j.L,f.h=new ni,f.g=Eo(f.j,S?x:null,!f.u),f.P>0&&(f.O=new Nn(b(f.Y,f,f.g),f.P)),x=f.V,S=f.g,D=f.ba;var W="readystatechange";Array.isArray(W)||(W&&(yr[0]=W.toString()),W=yr);for(let it=0;it<W.length;it++){const wt=Re(S,W[it],D||x.handleEvent,!1,x.h||x);if(!wt)break;x.g[wt.key]=wt}x=f.J?j(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),bi(),Nu(f.i,f.v,f.B,f.l,f.S,f.u)}ei.prototype.ba=function(f){f=f.target;const x=this.O;x&&Ci(f)==3?x.j():this.Y(f)},ei.prototype.Y=function(f){try{if(f==this.g)t:{const Bt=Ci(this.g),ue=this.g.ya(),ce=this.g.ca();if(!(Bt<3)&&(Bt!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Bt!=4||ue==7||(ue==8||ce<=0?bi(3):bi(2)),Ti(this);var x=this.g.ca();this.X=x;var S=fl(this);if(this.o=x==200,hl(this.i,this.v,this.B,this.l,this.S,Bt,x),this.o){if(this.U&&!this.L){e:{if(this.g){var D,W=this.g;if((D=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(D)){var it=D;break e}}it=null}if(f=it)Qi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xi(this,f);else{this.o=!1,this.m=3,Ue(12),yn(this),ii(this);break t}}if(this.R){f=!0;let Ie;for(;!this.K&&this.C<S.length;)if(Ie=ml(this,S),Ie==Ke){Bt==4&&(this.m=4,Ue(14),f=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Be){this.m=4,Ue(15),Qi(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else Qi(this.i,this.l,Ie,null),Xi(this,Ie);if(dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||S.length!=0||this.h.h||(this.m=1,Ue(16),f=!1),this.o=this.o&&f,!f)Qi(this.i,this.l,S,"[Invalid Chunked Response]"),yn(this),ii(this);else if(S.length>0&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.aa&&!wt.P&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),xo(wt),wt.P=!0,Ue(11))}}else Qi(this.i,this.l,S,null),Xi(this,S);Bt==4&&yn(this),this.o&&!this.K&&(Bt==4?Yn(this.j,this):(this.o=!1,Yi(this)))}else Ri(this.g),x==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),yn(this),ii(this)}}}catch{}};function fl(f){if(!dl(f))return f.g.la();const x=sn(f.g);if(x==="")return"";let S="";const D=x.length,W=Ci(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return yn(f),ii(f),"";f.h.i=new m.TextDecoder}for(let it=0;it<D;it++)f.h.h=!0,S+=f.h.i.decode(x[it],{stream:!(W&&it==D-1)});return x.length=0,f.h.g+=S,f.C=0,f.h.g}function dl(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ml(f,x){var S=f.C,D=x.indexOf(`
`,S);return D==-1?Ke:(S=Number(x.substring(S,D)),isNaN(S)?Be:(D+=1,D+S>x.length?Ke:(x=x.slice(D,D+S),f.C=D+S,x)))}ei.prototype.cancel=function(){this.K=!0,yn(this)};function Yi(f){f.T=Date.now()+f.H,la(f,f.H)}function la(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ki(b(f.aa,f),x)}function Ti(f){f.D&&(m.clearTimeout(f.D),f.D=null)}ei.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ms(this.i,this.B),this.M!=2&&(bi(),Ue(17)),yn(this),this.m=2,ii(this)):la(this,this.T-f)};function ii(f){f.j.I==0||f.K||Yn(f.j,f)}function yn(f){Ti(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,aa(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function Xi(f,x){try{var S=f.j;if(S.I!=0&&(S.g==f||si(S.h,f))){if(!f.L&&si(S.h,f)&&S.I==3){try{var D=S.Ba.g.parse(x)}catch{D=null}if(Array.isArray(D)&&D.length==3){var W=D;if(W[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)pa(S),Xs(S);else break t;Sr(S),Ue(18)}}else S.xa=W[1],0<S.xa-S.K&&W[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Ki(b(S.Va,S),6e3));Wi(S.h)<=1&&S.ta&&(S.ta=void 0)}else Ni(S,11)}else if((f.L||S.g==f)&&pa(S),!k(x))for(W=S.Ba.g.parse(x),x=0;x<W.length;x++){let ce=W[x];const Ie=ce[0];if(!(Ie<=S.K))if(S.K=Ie,ce=ce[1],S.I==2)if(ce[0]=="c"){S.M=ce[1],S.ba=ce[2];const li=ce[3];li!=null&&(S.ka=li,S.j.info("VER="+S.ka));const ui=ce[4];ui!=null&&(S.za=ui,S.j.info("SVER="+S.za));const Xn=ce[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(D=1.5*Xn,S.O=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const Di=f.g;if(Di){const Ar=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var it=D.h;it.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(ps(it,it.h),it.h=null))}if(D.G){const Cr=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;Cr&&(D.wa=Cr,Nt(D.J,D.G,Cr))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),D=S;var wt=f;if(D.na=wo(D,D.L?D.ba:null,D.W),wt.L){ua(D.h,wt);var Bt=wt,ue=D.O;ue&&(Bt.H=ue),Bt.D&&(Ti(Bt),Yi(Bt)),D.g=wt}else bo(D);S.i.length>0&&Vn(S)}else ce[0]!="stop"&&ce[0]!="close"||Ni(S,7);else S.I==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Ni(S,7):Xt(S):ce[0]!="noop"&&S.l&&S.l.qa(ce),S.A=0)}}bi(4)}catch{}}var Qe=class{constructor(f,x){this.g=f,this.map=x}};function _o(f){this.l=f||10,m.PerformanceNavigationTiming?(f=m.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Wi(f){return f.h?1:f.g?f.g.size:0}function si(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function ps(f,x){f.g?f.g.add(x):f.h=x}function ua(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}_o.prototype.cancel=function(){if(this.i=ca(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ca(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const S of f.g.values())x=x.concat(S.G);return x}return O(f.i)}var Gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wt(f,x){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const D=f[S].indexOf("=");let W,it=null;D>=0?(W=f[S].substring(0,D),it=f[S].substring(D+1)):W=f[S],x(W,it?decodeURIComponent(it.replace(/\+/g," ")):"")}}}function $t(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof $t?(this.l=f.l,ke(this,f.j),this.o=f.o,this.g=f.g,Kn(this,f.u),this.h=f.h,br(this,Er(f.i)),this.m=f.m):f&&(x=String(f).match(Gs))?(this.l=!1,ke(this,x[1]||"",!0),this.o=ri(x[2]||""),this.g=ri(x[3]||"",!0),Kn(this,x[4]),this.h=ri(x[5]||"",!0),br(this,x[6]||"",!0),this.m=ri(x[7]||"")):(this.l=!1,this.i=new ai(null,this.l))}$t.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(Ji(x,ha,!0),":");var S=this.g;return(S||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Ji(x,ha,!0),"@"),f.push(Lt(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Ji(S,S.charAt(0)=="/"?Si:xr,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Ji(S,$i)),f.join("")},$t.prototype.resolve=function(f){const x=Me(this);let S=!!f.j;S?ke(x,f.j):S=!!f.o,S?x.o=f.o:S=!!f.g,S?x.g=f.g:S=f.u!=null;var D=f.h;if(S)Kn(x,f.u);else if(S=!!f.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var W=x.h.lastIndexOf("/");W!=-1&&(D=x.h.slice(0,W+1)+D)}if(W=D,W==".."||W==".")D="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){D=W.lastIndexOf("/",0)==0,W=W.split("/");const it=[];for(let wt=0;wt<W.length;){const Bt=W[wt++];Bt=="."?D&&wt==W.length&&it.push(""):Bt==".."?((it.length>1||it.length==1&&it[0]!="")&&it.pop(),D&&wt==W.length&&it.push("")):(it.push(Bt),D=!0)}D=it.join("/")}else D=W}return S?x.h=D:S=f.i.toString()!=="",S?br(x,Er(f.i)):S=!!f.m,S&&(x.m=f.m),x};function Me(f){return new $t(f)}function ke(f,x,S){f.j=S?ri(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Kn(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function br(f,x,S){x instanceof ai?(f.i=x,Ks(f.i,f.l)):(S||(x=Ji(x,be)),f.i=new ai(x,f.l))}function Nt(f,x,S){f.i.set(x,S)}function ve(f){return Nt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ri(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ji(f,x,S){return typeof f=="string"?(f=encodeURI(f).replace(x,Ne),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ne(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ha=/[#\/\?@]/g,xr=/[#\?:]/g,Si=/[#\?]/g,be=/[#\?@]/g,$i=/#/g;function ai(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function nn(f){f.g||(f.g=new Map,f.h=0,f.i&&Wt(f.i,function(x,S){f.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}s=ai.prototype,s.add=function(f,x){nn(this),this.i=null,f=ts(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(x),this.h+=1,this};function fa(f,x){nn(f),x=ts(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function gs(f,x){return nn(f),x=ts(f,x),f.g.has(x)}s.forEach=function(f,x){nn(this),this.g.forEach(function(S,D){S.forEach(function(W){f.call(x,W,D,this)},this)},this)};function wr(f,x){nn(f);let S=[];if(typeof x=="string")gs(f,x)&&(S=S.concat(f.g.get(ts(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)S=S.concat(f[x]);return S}s.set=function(f,x){return nn(this),this.i=null,f=ts(this,f),gs(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},s.get=function(f,x){return f?(f=wr(this,f),f.length>0?String(f[0]):x):x};function Zs(f,x,S){fa(f,x),S.length>0&&(f.i=null,f.g.set(ts(f,x),O(S)),f.h+=S.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let D=0;D<x.length;D++){var S=x[D];const W=Lt(S);S=wr(this,S);for(let it=0;it<S.length;it++){let wt=W;S[it]!==""&&(wt+="="+Lt(S[it])),f.push(wt)}}return this.i=f.join("&")};function Er(f){const x=new ai;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function ts(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Ks(f,x){x&&!f.j&&(nn(f),f.i=null,f.g.forEach(function(S,D){const W=D.toLowerCase();D!=W&&(fa(this,D),Zs(this,W,S))},f)),f.j=x}function kn(f,x){const S=new xi;if(m.Image){const D=new Image;D.onload=A(On,S,"TestLoadImage: loaded",!0,x,D),D.onerror=A(On,S,"TestLoadImage: error",!1,x,D),D.onabort=A(On,S,"TestLoadImage: abort",!1,x,D),D.ontimeout=A(On,S,"TestLoadImage: timeout",!1,x,D),m.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else x(!1)}function da(f,x){const S=new xi,D=new AbortController,W=setTimeout(()=>{D.abort(),On(S,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:D.signal}).then(it=>{clearTimeout(W),it.ok?On(S,"TestPingServer: ok",!0,x):On(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(W),On(S,"TestPingServer: error",!1,x)})}function On(f,x,S,D,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),D(S)}catch{}}function Qs(){this.g=new ho}function zt(f){this.i=f.Sb||null,this.h=f.ab||!1}C(zt,fo),zt.prototype.g=function(){return new vn(this.i,this.h)};function vn(f,x){Ge.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(vn,Ge),s=vn.prototype,s.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,Qn(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||m).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fe(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function fe(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}s.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?_s(this):Qn(this),this.readyState==3&&fe(this)}},s.Oa=function(f){this.g&&(this.response=this.responseText=f,_s(this))},s.Na=function(f){this.g&&(this.response=f,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Qn(f)}s.setRequestHeader=function(f,x){this.A.append(f,x)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=x.next();return f.join(`\r
`)};function Qn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Pn(f){let x="";return Tt(f,function(S,D){x+=D,x+=":",x+=S,x+=`\r
`}),x}function ys(f,x,S){t:{for(D in S){var D=!1;break t}D=!0}D||(S=Pn(S),typeof f=="string"?S!=null&&Lt(S):Nt(f,x,S))}function ie(f){Ge.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(ie,Ge);var oi=/^https?$/i,vs=["POST","PUT"];s=ie.prototype,s.Fa=function(f){this.H=f},s.ea=function(f,x,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=I(b(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(it){Oe(this,it);return}if(f=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var W in D)S.set(W,D[W]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const it of D.keys())S.set(it,D.get(it));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(it=>it.toLowerCase()=="content-type"),W=m.FormData&&f instanceof m.FormData,!(Array.prototype.indexOf.call(vs,x,void 0)>=0)||D||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,wt]of S)this.g.setRequestHeader(it,wt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(it){Oe(this,it)}};function Oe(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,Ai(f),es(f)}function Ai(f){f.A||(f.A=!0,Ze(f,"complete"),Ze(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ze(this,"complete"),Ze(this,"abort"),es(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),ie.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ys(this):this.Xa())},s.Xa=function(){Ys(this)};function Ys(f){if(f.h&&typeof h<"u"){if(f.v&&Ci(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ze(f,"readystatechange"),Ci(f)==4){f.h=!1;try{const it=f.ca();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var S;if(!(S=x)){var D;if(D=it===0){let wt=String(f.D).match(Gs)[1]||null;!wt&&m.self&&m.self.location&&(wt=m.self.location.protocol.slice(0,-1)),D=!oi.test(wt?wt.toLowerCase():"")}S=D}if(S)Ze(f,"complete"),Ze(f,"success");else{f.o=6;try{var W=Ci(f)>2?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.ca()+"]",Ai(f)}}finally{es(f)}}}}function es(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,x||Ze(f,"ready");try{S.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ci(f){return f.g?f.g.readyState:0}s.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Ru(x)}};function sn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(f){const x={};f=(f.g&&Ci(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(k(f[D]))continue;var S=go(f[D]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const it=x[W]||[];x[W]=it,it.push(S)}bt(x,function(D){return D.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(f,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||x}function bs(f){this.za=0,this.i=[],this.j=new xi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ns("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ns("baseRetryDelayMs",5e3,f),this.Za=ns("retryDelaySeedMs",1e4,f),this.Ta=ns("forwardChannelMaxRetries",2,f),this.va=ns("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(f&&f.concurrentRequestLimit),this.Ba=new Qs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=bs.prototype,s.ka=8,s.I=1,s.connect=function(f,x,S,D){Ue(0),this.W=f,this.H=x||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.J=wo(this,null,this.W),Vn(this)};function Xt(f){if(bn(f),f.I==3){var x=f.V++,S=Me(f.J);if(Nt(S,"SID",f.M),Nt(S,"RID",x),Nt(S,"TYPE","terminate"),xs(f,S),x=new ei(f,f.j,x),x.M=2,x.A=ve(Me(S)),S=!1,m.navigator&&m.navigator.sendBeacon)try{S=m.navigator.sendBeacon(x.A.toString(),"")}catch{}!S&&m.Image&&(new Image().src=x.A,S=!0),S||(x.g=Eo(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Yi(x)}Ii(f)}function Xs(f){f.g&&(xo(f),f.g.cancel(),f.g=null)}function bn(f){Xs(f),f.v&&(m.clearTimeout(f.v),f.v=null),pa(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&m.clearTimeout(f.m),f.m=null)}function Vn(f){if(!yo(f.h)&&!f.m){f.m=!0;var x=f.Ea;xt||M(),Rt||(xt(),Rt=!0),V.add(x,f),f.D=0}}function Tr(f,x){return Wi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ki(b(f.Ea,f,x),gl(f,f.D)),f.D++,!0)}s.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const W=new ei(this,this.j,f);let it=this.o;if(this.U&&(it?(it=j(it),yt(it,this.U)):it=this.U),this.u!==null||this.R||(W.J=it,it=null),this.S)t:{for(var x=0,S=0;S<this.i.length;S++){e:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(x+=D,x>4096){x=S;break t}if(x===4096||S===this.i.length-1){x=S+1;break t}}x=1e3}else x=1e3;x=pl(this,W,x),S=Me(this.J),Nt(S,"RID",f),Nt(S,"CVER",22),this.G&&Nt(S,"X-HTTP-Session-Id",this.G),xs(this,S),it&&(this.R?x="headers="+Lt(Pn(it))+"&"+x:this.u&&ys(S,this.u,it)),ps(this.h,W),this.Ra&&Nt(S,"TYPE","init"),this.S?(Nt(S,"$req",x),Nt(S,"SID","null"),W.U=!0,wi(W,S,null)):wi(W,S,x),this.I=2}}else this.I==3&&(f?vo(this,f):this.i.length==0||yo(this.h)||vo(this))};function vo(f,x){var S;x?S=x.l:S=f.V++;const D=Me(f.J);Nt(D,"SID",f.M),Nt(D,"RID",S),Nt(D,"AID",f.K),xs(f,D),f.u&&f.o&&ys(D,f.u,f.o),S=new ei(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),x&&(f.i=x.G.concat(f.i)),x=pl(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ps(f.h,S),wi(S,D,x)}function xs(f,x){f.H&&Tt(f.H,function(S,D){Nt(x,D,S)}),f.l&&Tt({},function(S,D){Nt(x,D,S)})}function pl(f,x,S){S=Math.min(f.i.length,S);const D=f.l?b(f.l.Ka,f.l,f):null;t:{var W=f.i;let Bt=-1;for(;;){const ue=["count="+S];Bt==-1?S>0?(Bt=W[0].g,ue.push("ofs="+Bt)):Bt=0:ue.push("ofs="+Bt);let ce=!0;for(let Ie=0;Ie<S;Ie++){var it=W[Ie].g;const li=W[Ie].map;if(it-=Bt,it<0)Bt=Math.max(0,W[Ie].g-100),ce=!1;else try{it="req"+it+"_"||"";try{var wt=li instanceof Map?li:Object.entries(li);for(const[ui,Xn]of wt){let Di=Xn;v(Xn)&&(Di=ds(Xn)),ue.push(it+ui+"="+encodeURIComponent(Di))}}catch(ui){throw ue.push(it+"type="+encodeURIComponent("_badmap")),ui}}catch{D&&D(li)}}if(ce){wt=ue.join("&");break t}}wt=void 0}return f=f.i.splice(0,S),x.G=f,wt}function bo(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;xt||M(),Rt||(xt(),Rt=!0),V.add(x,f),f.A=0}}function Sr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ki(b(f.Da,f),gl(f,f.A)),f.A++,!0)}s.Da=function(){if(this.v=null,ma(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ki(b(this.Wa,this),f)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),Xs(this),ma(this))};function xo(f){f.B!=null&&(m.clearTimeout(f.B),f.B=null)}function ma(f){f.g=new ei(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=Me(f.na);Nt(x,"RID","rpc"),Nt(x,"SID",f.M),Nt(x,"AID",f.K),Nt(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&Nt(x,"TO",f.ia),Nt(x,"TYPE","xmlhttp"),xs(f,x),f.u&&f.o&&ys(x,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=ve(Me(x)),S.u=null,S.R=!0,Ei(S,f)}s.Va=function(){this.C!=null&&(this.C=null,Xs(this),Sr(this),Ue(19))};function pa(f){f.C!=null&&(m.clearTimeout(f.C),f.C=null)}function Yn(f,x){var S=null;if(f.g==x){pa(f),xo(f),f.g=null;var D=2}else if(si(f.h,x))S=x.G,ua(f.h,x),D=1;else return;if(f.I!=0){if(x.o)if(D==1){S=x.u?x.u.length:0,x=Date.now()-x.F;var W=f.D;D=oa(),Ze(D,new Zi(D,S)),Vn(f)}else bo(f);else if(W=x.m,W==3||W==0&&x.X>0||!(D==1&&Tr(f,x)||D==2&&Sr(f)))switch(S&&S.length>0&&(x=f.h,x.i=x.i.concat(S)),W){case 1:Ni(f,5);break;case 4:Ni(f,10);break;case 3:Ni(f,6);break;default:Ni(f,2)}}}function gl(f,x){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*x}function Ni(f,x){if(f.j.info("Error code "+x),x==2){var S=b(f.bb,f),D=f.Ua;const W=!D;D=new $t(D||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ke(D,"https"),ve(D),W?kn(D.toString(),S):da(D.toString(),S)}else Ue(2);f.I=0,f.l&&f.l.pa(x),Ii(f),bn(f)}s.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function Ii(f){if(f.I=0,f.ja=[],f.l){const x=ca(f.h);(x.length!=0||f.i.length!=0)&&(q(f.ja,x),q(f.ja,f.i),f.h.i.length=0,O(f.i),f.i.length=0),f.l.oa()}}function wo(f,x,S){var D=S instanceof $t?Me(S):new $t(S);if(D.g!="")x&&(D.g=x+"."+D.g),Kn(D,D.u);else{var W=m.location;D=W.protocol,x=x?x+"."+W.hostname:W.hostname,W=+W.port;const it=new $t(null);D&&ke(it,D),x&&(it.g=x),W&&Kn(it,W),S&&(it.h=S),D=it}return S=f.G,x=f.wa,S&&x&&Nt(D,S,x),Nt(D,"VER",f.ka),xs(f,D),D}function Eo(f,x,S){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new ie(new zt({ab:S})):new ie(f.ma),x.Fa(f.L),x}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ga(){}s=ga.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ws(){}Ws.prototype.g=function(f,x){return new xn(f,x)};function xn(f,x){Ge.call(this),this.g=new bs(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!k(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!k(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new ws(this)}C(xn,Ge),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Xt(this.g)},xn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=ds(f),f=S);x.i.push(new Qe(x.Ya++,f)),x.I==3&&Vn(x)},xn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,xn.Z.N.call(this)};function To(f){Je.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){t:{for(const S in x){f=S;break t}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}C(To,Je);function _l(){Zn.call(this),this.status=1}C(_l,Zn);function ws(f){this.g=f}C(ws,ga),ws.prototype.ra=function(){Ze(this.g,"a")},ws.prototype.qa=function(f){Ze(this.g,new To(f))},ws.prototype.pa=function(f){Ze(this.g,new _l)},ws.prototype.oa=function(){Ze(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,pw=function(){return new Ws},mw=function(){return oa()},dw=je,Pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,bf=vr,mo.COMPLETE="complete",fw=mo,ul.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,gc=ul,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,hw=ie}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const X0="@firebase/firestore",W0="4.9.3";class Fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");let bu="12.7.0";const nl=new ug("@firebase/firestore");function Yl(){return nl.logLevel}function Dt(s,...t){if(nl.logLevel<=ae.DEBUG){const n=t.map(wg);nl.debug(`Firestore (${bu}): ${s}`,...n)}}function $r(s,...t){if(nl.logLevel<=ae.ERROR){const n=t.map(wg);nl.error(`Firestore (${bu}): ${s}`,...n)}}function il(s,...t){if(nl.logLevel<=ae.WARN){const n=t.map(wg);nl.warn(`Firestore (${bu}): ${s}`,...n)}}function wg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Ut(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,gw(s,r,n)}function gw(s,t,n){let r=`FIRESTORE (${bu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $r(r),new Error(r)}function ye(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||gw(t,l,r)}function Zt(s,t){return s}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends na{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class _w{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Fn.UNAUTHENTICATED)))}shutdown(){}}class tN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class eN{constructor(t){this.t=t,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ye(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let h=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Qr,t.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const y=h;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},v=y=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((y=>v(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?v(y):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Qr)}}),0),m()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string",31837,{l:r}),new _w(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ye(t===null||typeof t=="string",2055,{h:t}),new Fn(t)}}class nN{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iN{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new nN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Is(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ye(this.o===void 0,3512);const r=h=>{h.error!=null&&Dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,Dt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const l=h=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new J0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rN(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class $f{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=rN(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<n&&(r+=t.charAt(l[h]%62))}return r}}function oe(s,t){return s<t?-1:s>t?1:0}function Vp(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),h=t.charAt(r);if(l!==h)return yp(l)===yp(h)?oe(l,h):yp(l)?1:-1}return oe(s.length,t.length)}const aN=55296,oN=57343;function yp(s){const t=s.charCodeAt(0);return t>=aN&&t<=oN}function au(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}const $0="__name__";class lr{constructor(t,n,r){n===void 0?n=0:n>t.length&&Ut(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Ut(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return lr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof lr?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const h=lr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return oe(t.length,n.length)}static compareSegments(t,n){const r=lr.isNumericId(t),l=lr.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?lr.extractNumericId(t).compare(lr.extractNumericId(n)):Vp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $a.fromString(t.substring(4,t.length-2))}}class Le extends lr{construct(t,n,r){return new Le(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new Le(n)}static emptyPath(){return new Le([])}}const lN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends lr{construct(t,n,r){return new An(t,n,r)}static isValidIdentifier(t){return lN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$0}static keyField(){return new An([$0])}static fromServerFormat(t){const n=[];let r="",l=0;const h=()=>{if(r.length===0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let m=!1;for(;l<t.length;){const v=t[l];if(v==="\\"){if(l+1===t.length)throw new Ct(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ct(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else v==="`"?(m=!m,l++):v!=="."||m?(r+=v,l++):(h(),l++)}if(h(),m)throw new Ct(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new An(n)}static emptyPath(){return new An([])}}class Pt{constructor(t){this.path=t}static fromPath(t){return new Pt(Le.fromString(t))}static fromName(t){return new Pt(Le.fromString(t).popFirst(5))}static empty(){return new Pt(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Pt(new Le(t.slice()))}}function vw(s,t,n){if(!n)throw new Ct(ht.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function bw(s,t,n,r){if(t===!0&&r===!0)throw new Ct(ht.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function tb(s){if(!Pt.isDocumentKey(s))throw new Ct(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function eb(s){if(Pt.isDocumentKey(s))throw new Ct(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function xw(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function td(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Ut(12329,{type:typeof s})}function qn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new Ct(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(s);throw new Ct(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function fn(s,t){const n={typeString:s};return t&&(n.value=t),n}function Gc(s,t){if(!xw(s))throw new Ct(ht.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const m=s[r];if(l&&typeof m!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&m!==h.value){n=`Expected '${r}' field to equal '${h.value}'`;break}}if(n)throw new Ct(ht.INVALID_ARGUMENT,n);return!0}const nb=-62135596800,ib=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*ib);return new Ce(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<nb)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ib}_compareTo(t){return this.seconds===t.seconds?oe(this.nanoseconds,t.nanoseconds):oe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gc(t,Ce._jsonSchema))return new Ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-nb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:fn("string",Ce._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};class Ht{static fromTimestamp(t){return new Ht(t)}static min(){return new Ht(new Ce(0,0))}static max(){return new Ht(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ic=-1;function uN(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ht.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new no(l,Pt.empty(),t)}function cN(s){return new no(s.readTime,s.key,Ic)}class no{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new no(Ht.min(),Pt.empty(),Ic)}static max(){return new no(Ht.max(),Pt.empty(),Ic)}}function hN(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=Pt.comparator(s.documentKey,t.documentKey),n!==0?n:oe(s.largestBatchId,t.largestBatchId))}const fN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function xu(s){if(s.code!==ht.FAILED_PRECONDITION||s.message!==fN)throw s;Dt("LocalStore","Unexpectedly lost primary lease")}class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new mt(((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof mt?n:mt.resolve(n)}catch(n){return mt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.reject(n)}static resolve(t){return new mt(((n,r)=>{n(t)}))}static reject(t){return new mt(((n,r)=>{r(t)}))}static waitFor(t){return new mt(((n,r)=>{let l=0,h=0,m=!1;t.forEach((v=>{++l,v.next((()=>{++h,m&&h===l&&n()}),(y=>r(y)))})),m=!0,h===l&&n()}))}static or(t){let n=mt.resolve(!1);for(const r of t)n=n.next((l=>l?mt.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,h)=>{r.push(n.call(this,l,h))})),this.waitFor(r)}static mapArray(t,n){return new mt(((r,l)=>{const h=t.length,m=new Array(h);let v=0;for(let y=0;y<h;y++){const b=y;n(t[b]).next((A=>{m[b]=A,++v,v===h&&r(m)}),(A=>l(A)))}}))}static doWhile(t,n){return new mt(((r,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):r()};h()}))}}function mN(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wu(s){return s.name==="IndexedDbTransactionError"}class ed{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ed.ce=-1;const Eg=-1;function nd(s){return s==null}function Of(s){return s===0&&1/s==-1/0}function pN(s){return typeof s=="number"&&Number.isInteger(s)&&!Of(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const ww="";function gN(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=sb(t)),t=_N(s.get(n),t);return sb(t)}function _N(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const h=s.charAt(l);switch(h){case"\0":n+="";break;case ww:n+="";break;default:n+=h}}return n}function sb(s){return s+ww+""}function rb(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function lo(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function Ew(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class qe{constructor(t,n){this.comparator=t,this.root=n||Mn.EMPTY}insert(t,n){return new qe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(t){return new qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cf(this.root,t,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cf(this.root,t,this.comparator,!0)}}class cf{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?r(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Mn{constructor(t,n,r,l,h){this.key=t,this.value=n,this.color=r??Mn.RED,this.left=l??Mn.EMPTY,this.right=h??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,h){return new Mn(t??this.key,n??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const h=r(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,r),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Mn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,n,r,l,h){return this}insert(t,n,r){return new Mn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(t){this.comparator=t,this.data=new qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ab(this.data.getIterator())}getIteratorFrom(t){return new ab(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof gn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new gn(this.comparator);return n.data=t,n}}class ab{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ji{constructor(t){this.fields=t,t.sort(An.comparator)}static empty(){return new ji([])}unionWith(t){let n=new gn(An.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ji(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return au(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class Tw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Tw("Invalid base64 string: "+h):h}})(t);return new Rn(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h})(t);return new Rn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return oe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const yN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(s){if(ye(!!s,39018),typeof s=="string"){let t=0;const n=yN.exec(s);if(ye(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:en(s.seconds),nanos:en(s.nanos)}}function en(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function so(s){return typeof s=="string"?Rn.fromBase64String(s):Rn.fromUint8Array(s)}const Sw="server_timestamp",Aw="__type__",Cw="__previous_value__",Rw="__local_write_time__";function Tg(s){return(s?.mapValue?.fields||{})[Aw]?.stringValue===Sw}function id(s){const t=s.mapValue.fields[Cw];return Tg(t)?id(t):t}function Dc(s){const t=io(s.mapValue.fields[Rw].timestampValue);return new Ce(t.seconds,t.nanos)}class vN{constructor(t,n,r,l,h,m,v,y,b,A){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.longPollingOptions=y,this.useFetchStreams=b,this.isUsingEmulator=A}}const Pf="(default)";class ou{constructor(t,n){this.projectId=t,this.database=n||Pf}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Pf}isEqual(t){return t instanceof ou&&t.projectId===this.projectId&&t.database===this.database}}const Nw="__type__",bN="__max__",hf={mapValue:{}},Iw="__vector__",Vf="value";function ro(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Tg(s)?4:wN(s)?9007199254740991:xN(s)?10:11:Ut(28295,{value:s})}function dr(s,t){if(s===t)return!0;const n=ro(s);if(n!==ro(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Dc(s).isEqual(Dc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=io(l.timestampValue),v=io(h.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,h){return so(l.bytesValue).isEqual(so(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,h){return en(l.geoPointValue.latitude)===en(h.geoPointValue.latitude)&&en(l.geoPointValue.longitude)===en(h.geoPointValue.longitude)})(s,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return en(l.integerValue)===en(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=en(l.doubleValue),v=en(h.doubleValue);return m===v?Of(m)===Of(v):isNaN(m)&&isNaN(v)}return!1})(s,t);case 9:return au(s.arrayValue.values||[],t.arrayValue.values||[],dr);case 10:case 11:return(function(l,h){const m=l.mapValue.fields||{},v=h.mapValue.fields||{};if(rb(m)!==rb(v))return!1;for(const y in m)if(m.hasOwnProperty(y)&&(v[y]===void 0||!dr(m[y],v[y])))return!1;return!0})(s,t);default:return Ut(52216,{left:s})}}function Lc(s,t){return(s.values||[]).find((n=>dr(n,t)))!==void 0}function lu(s,t){if(s===t)return 0;const n=ro(s),r=ro(t);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(s.booleanValue,t.booleanValue);case 2:return(function(h,m){const v=en(h.integerValue||h.doubleValue),y=en(m.integerValue||m.doubleValue);return v<y?-1:v>y?1:v===y?0:isNaN(v)?isNaN(y)?0:-1:1})(s,t);case 3:return ob(s.timestampValue,t.timestampValue);case 4:return ob(Dc(s),Dc(t));case 5:return Vp(s.stringValue,t.stringValue);case 6:return(function(h,m){const v=so(h),y=so(m);return v.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(h,m){const v=h.split("/"),y=m.split("/");for(let b=0;b<v.length&&b<y.length;b++){const A=oe(v[b],y[b]);if(A!==0)return A}return oe(v.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,m){const v=oe(en(h.latitude),en(m.latitude));return v!==0?v:oe(en(h.longitude),en(m.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return lb(s.arrayValue,t.arrayValue);case 10:return(function(h,m){const v=h.fields||{},y=m.fields||{},b=v[Vf]?.arrayValue,A=y[Vf]?.arrayValue,C=oe(b?.values?.length||0,A?.values?.length||0);return C!==0?C:lb(b,A)})(s.mapValue,t.mapValue);case 11:return(function(h,m){if(h===hf.mapValue&&m===hf.mapValue)return 0;if(h===hf.mapValue)return 1;if(m===hf.mapValue)return-1;const v=h.fields||{},y=Object.keys(v),b=m.fields||{},A=Object.keys(b);y.sort(),A.sort();for(let C=0;C<y.length&&C<A.length;++C){const I=Vp(y[C],A[C]);if(I!==0)return I;const O=lu(v[y[C]],b[A[C]]);if(O!==0)return O}return oe(y.length,A.length)})(s.mapValue,t.mapValue);default:throw Ut(23264,{he:n})}}function ob(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return oe(s,t);const n=io(s),r=io(t),l=oe(n.seconds,r.seconds);return l!==0?l:oe(n.nanos,r.nanos)}function lb(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const h=lu(n[l],r[l]);if(h)return h}return oe(n.length,r.length)}function uu(s){return zp(s)}function zp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=io(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return so(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Pt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const h of n.values||[])l?l=!1:r+=",",r+=zp(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const m of r)h?h=!1:l+=",",l+=`${m}:${zp(n.fields[m])}`;return l+"}"})(s.mapValue):Ut(61005,{value:s})}function xf(s){switch(ro(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=id(s);return t?16+xf(t):16;case 5:return 2*s.stringValue.length;case 6:return so(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,h)=>l+xf(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return lo(r.fields,((h,m)=>{l+=h.length+xf(m)})),l})(s.mapValue);default:throw Ut(13486,{value:s})}}function ub(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function jp(s){return!!s&&"integerValue"in s}function Sg(s){return!!s&&"arrayValue"in s}function cb(s){return!!s&&"nullValue"in s}function hb(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function wf(s){return!!s&&"mapValue"in s}function xN(s){return(s?.mapValue?.fields||{})[Nw]?.stringValue===Iw}function wc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return lo(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=wc(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wc(s.arrayValue.values[n]);return t}return{...s}}function wN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===bN}class vi{constructor(t){this.value=t}static empty(){return new vi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!wf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wc(n)}setAll(t){let n=An.emptyPath(),r={},l=[];t.forEach(((m,v)=>{if(!n.isImmediateParentOf(v)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=v.popLast()}m?r[v.lastSegment()]=wc(m):l.push(v.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,r,l)}delete(t){const n=this.field(t.popLast());wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return dr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];wf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){lo(n,((l,h)=>t[l]=h));for(const l of r)delete t[l]}clone(){return new vi(wc(this.value))}}function Dw(s){const t=[];return lo(s.fields,((n,r)=>{const l=new An([n]);if(wf(r)){const h=Dw(r.mapValue).fields;if(h.length===0)t.push(l);else for(const m of h)t.push(l.child(m))}else t.push(l)})),new ji(t)}class Hn{constructor(t,n,r,l,h,m,v){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=h,this.data=m,this.documentState=v}static newInvalidDocument(t){return new Hn(t,0,Ht.min(),Ht.min(),Ht.min(),vi.empty(),0)}static newFoundDocument(t,n,r,l){return new Hn(t,1,n,Ht.min(),r,l,0)}static newNoDocument(t,n){return new Hn(t,2,n,Ht.min(),Ht.min(),vi.empty(),0)}static newUnknownDocument(t,n){return new Hn(t,3,n,Ht.min(),Ht.min(),vi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zf{constructor(t,n){this.position=t,this.inclusive=n}}function fb(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const h=t[l],m=s.position[l];if(h.field.isKeyField()?r=Pt.comparator(Pt.fromName(m.referenceValue),n.key):r=lu(m,n.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function db(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!dr(s.position[n],t.position[n]))return!1;return!0}class Mc{constructor(t,n="asc"){this.field=t,this.dir=n}}function EN(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class Lw{}class hn extends Lw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new SN(t,n,r):n==="array-contains"?new RN(t,r):n==="in"?new NN(t,r):n==="not-in"?new IN(t,r):n==="array-contains-any"?new DN(t,r):new hn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new AN(t,r):new CN(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lu(n,this.value)):n!==null&&ro(this.value)===ro(n)&&this.matchesComparison(lu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends Lw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ps(t,n)}matches(t){return Mw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mw(s){return s.op==="and"}function kw(s){return TN(s)&&Mw(s)}function TN(s){for(const t of s.filters)if(t instanceof Ps)return!1;return!0}function Up(s){if(s instanceof hn)return s.field.canonicalString()+s.op.toString()+uu(s.value);if(kw(s))return s.filters.map((t=>Up(t))).join(",");{const t=s.filters.map((n=>Up(n))).join(",");return`${s.op}(${t})`}}function Ow(s,t){return s instanceof hn?(function(r,l){return l instanceof hn&&r.op===l.op&&r.field.isEqual(l.field)&&dr(r.value,l.value)})(s,t):s instanceof Ps?(function(r,l){return l instanceof Ps&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((h,m,v)=>h&&Ow(m,l.filters[v])),!0):!1})(s,t):void Ut(19439)}function Pw(s){return s instanceof hn?(function(n){return`${n.field.canonicalString()} ${n.op} ${uu(n.value)}`})(s):s instanceof Ps?(function(n){return n.op.toString()+" {"+n.getFilters().map(Pw).join(" ,")+"}"})(s):"Filter"}class SN extends hn{constructor(t,n,r){super(t,n,r),this.key=Pt.fromName(r.referenceValue)}matches(t){const n=Pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class AN extends hn{constructor(t,n){super(t,"in",n),this.keys=Vw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class CN extends hn{constructor(t,n){super(t,"not-in",n),this.keys=Vw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Vw(s,t){return(t.arrayValue?.values||[]).map((n=>Pt.fromName(n.referenceValue)))}class RN extends hn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Sg(n)&&Lc(n.arrayValue,this.value)}}class NN extends hn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Lc(this.value.arrayValue,n)}}class IN extends hn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lc(this.value.arrayValue,n)}}class DN extends hn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Lc(this.value.arrayValue,r)))}}class LN{constructor(t,n=null,r=[],l=[],h=null,m=null,v=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=m,this.endAt=v,this.Te=null}}function mb(s,t=null,n=[],r=[],l=null,h=null,m=null){return new LN(s,t,n,r,l,h,m)}function Ag(s){const t=Zt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Up(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),nd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>uu(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>uu(r))).join(",")),t.Te=n}return t.Te}function Cg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!EN(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Ow(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!db(s.startAt,t.startAt)&&db(s.endAt,t.endAt)}function Bp(s){return Pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Eu{constructor(t,n=null,r=[],l=[],h=null,m="F",v=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=m,this.startAt=v,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MN(s,t,n,r,l,h,m,v){return new Eu(s,t,n,r,l,h,m,v)}function sd(s){return new Eu(s)}function pb(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function zw(s){return s.collectionGroup!==null}function Ec(s){const t=Zt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let v=new gn(An.comparator);return m.filters.forEach((y=>{y.getFlattenedFilters().forEach((b=>{b.isInequality()&&(v=v.add(b.field))}))})),v})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Mc(h,r))})),n.has(An.keyField().canonicalString())||t.Ie.push(new Mc(An.keyField(),r))}return t.Ie}function cr(s){const t=Zt(s);return t.Ee||(t.Ee=kN(t,Ec(s))),t.Ee}function kN(s,t){if(s.limitType==="F")return mb(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Mc(l.field,h)}));const n=s.endAt?new zf(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new zf(s.startAt.position,s.startAt.inclusive):null;return mb(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Fp(s,t){const n=s.filters.concat([t]);return new Eu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Hp(s,t,n){return new Eu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function rd(s,t){return Cg(cr(s),cr(t))&&s.limitType===t.limitType}function jw(s){return`${Ag(cr(s))}|lt:${s.limitType}`}function Xl(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>Pw(l))).join(", ")}]`),nd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>uu(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>uu(l))).join(",")),`Target(${r})`})(cr(s))}; limitType=${s.limitType})`}function ad(s,t){return t.isFoundDocument()&&(function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):Pt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,t)&&(function(r,l){for(const h of Ec(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(m,v,y){const b=fb(m,v,y);return m.inclusive?b<=0:b<0})(r.startAt,Ec(r),l)||r.endAt&&!(function(m,v,y){const b=fb(m,v,y);return m.inclusive?b>=0:b>0})(r.endAt,Ec(r),l))})(s,t)}function ON(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Uw(s){return(t,n)=>{let r=!1;for(const l of Ec(s)){const h=PN(l,t,n);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function PN(s,t,n){const r=s.field.isKeyField()?Pt.comparator(t.key,n.key):(function(h,m,v){const y=m.data.field(h),b=v.data.field(h);return y!==null&&b!==null?lu(y,b):Ut(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ut(19790,{direction:s.dir})}}class al{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){lo(this.inner,((n,r)=>{for(const[l,h]of r)t(l,h)}))}isEmpty(){return Ew(this.inner)}size(){return this.innerSize}}const VN=new qe(Pt.comparator);function ta(){return VN}const Bw=new qe(Pt.comparator);function _c(...s){let t=Bw;for(const n of s)t=t.insert(n.key,n);return t}function Fw(s){let t=Bw;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Wo(){return Tc()}function Hw(){return Tc()}function Tc(){return new al((s=>s.toString()),((s,t)=>s.isEqual(t)))}const zN=new qe(Pt.comparator),jN=new gn(Pt.comparator);function le(...s){let t=jN;for(const n of s)t=t.add(n);return t}const UN=new gn(oe);function BN(){return UN}function Rg(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(t)?"-0":t}}function qw(s){return{integerValue:""+s}}function FN(s,t){return pN(t)?qw(t):Rg(s,t)}class od{constructor(){this._=void 0}}function HN(s,t,n){return s instanceof kc?(function(l,h){const m={fields:{[Aw]:{stringValue:Sw},[Rw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Tg(h)&&(h=id(h)),h&&(m.fields[Cw]=h),{mapValue:m}})(n,t):s instanceof Oc?Zw(s,t):s instanceof Pc?Kw(s,t):(function(l,h){const m=Gw(l,h),v=gb(m)+gb(l.Ae);return jp(m)&&jp(l.Ae)?qw(v):Rg(l.serializer,v)})(s,t)}function qN(s,t,n){return s instanceof Oc?Zw(s,t):s instanceof Pc?Kw(s,t):n}function Gw(s,t){return s instanceof jf?(function(r){return jp(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class kc extends od{}class Oc extends od{constructor(t){super(),this.elements=t}}function Zw(s,t){const n=Qw(t);for(const r of s.elements)n.some((l=>dr(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Pc extends od{constructor(t){super(),this.elements=t}}function Kw(s,t){let n=Qw(t);for(const r of s.elements)n=n.filter((l=>!dr(l,r)));return{arrayValue:{values:n}}}class jf extends od{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function gb(s){return en(s.integerValue||s.doubleValue)}function Qw(s){return Sg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class GN{constructor(t,n){this.field=t,this.transform=n}}function ZN(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Oc&&l instanceof Oc||r instanceof Pc&&l instanceof Pc?au(r.elements,l.elements,dr):r instanceof jf&&l instanceof jf?dr(r.Ae,l.Ae):r instanceof kc&&l instanceof kc})(s.transform,t.transform)}class KN{constructor(t,n){this.version=t,this.transformResults=n}}class $n{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new $n}static exists(t){return new $n(void 0,t)}static updateTime(t){return new $n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ef(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class ld{}function Yw(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new ud(s.key,$n.none()):new Zc(s.key,s.data,$n.none());{const n=s.data,r=vi.empty();let l=new gn(An.comparator);for(let h of t.fields)if(!l.has(h)){let m=n.field(h);m===null&&h.length>1&&(h=h.popLast(),m=n.field(h)),m===null?r.delete(h):r.set(h,m),l=l.add(h)}return new uo(s.key,r,new ji(l.toArray()),$n.none())}}function QN(s,t,n){s instanceof Zc?(function(l,h,m){const v=l.value.clone(),y=yb(l.fieldTransforms,h,m.transformResults);v.setAll(y),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(s,t,n):s instanceof uo?(function(l,h,m){if(!Ef(l.precondition,h))return void h.convertToUnknownDocument(m.version);const v=yb(l.fieldTransforms,h,m.transformResults),y=h.data;y.setAll(Xw(l)),y.setAll(v),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(s,t,n):(function(l,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,n)}function Sc(s,t,n,r){return s instanceof Zc?(function(h,m,v,y){if(!Ef(h.precondition,m))return v;const b=h.value.clone(),A=vb(h.fieldTransforms,y,m);return b.setAll(A),m.convertToFoundDocument(m.version,b).setHasLocalMutations(),null})(s,t,n,r):s instanceof uo?(function(h,m,v,y){if(!Ef(h.precondition,m))return v;const b=vb(h.fieldTransforms,y,m),A=m.data;return A.setAll(Xw(h)),A.setAll(b),m.convertToFoundDocument(m.version,A).setHasLocalMutations(),v===null?null:v.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(s,t,n,r):(function(h,m,v){return Ef(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v})(s,t,n)}function YN(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),h=Gw(r.transform,l||null);h!=null&&(n===null&&(n=vi.empty()),n.set(r.field,h))}return n||null}function _b(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&au(r,l,((h,m)=>ZN(h,m)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Zc extends ld{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class uo extends ld{constructor(t,n,r,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Xw(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function yb(s,t,n){const r=new Map;ye(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const h=s[l],m=h.transform,v=t.data.field(h.field);r.set(h.field,qN(m,v,n[l]))}return r}function vb(s,t,n){const r=new Map;for(const l of s){const h=l.transform,m=n.data.field(l.field);r.set(l.field,HN(h,m,t))}return r}class ud extends ld{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XN extends ld{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WN{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&QN(h,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Sc(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Sc(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Hw();return this.mutations.forEach((l=>{const h=t.get(l.key),m=h.overlayedDocument;let v=this.applyToLocalView(m,h.mutatedFields);v=n.has(l.key)?null:v;const y=Yw(m,v);y!==null&&r.set(l.key,y),m.isValidDocument()||m.convertToNoDocument(Ht.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),le())}isEqual(t){return this.batchId===t.batchId&&au(this.mutations,t.mutations,((n,r)=>_b(n,r)))&&au(this.baseMutations,t.baseMutations,((n,r)=>_b(n,r)))}}class Ng{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){ye(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return zN})();const h=t.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,r[m].version);return new Ng(t,n,r,l)}}class JN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $N{constructor(t,n){this.count=t,this.unchangedNames=n}}var un,he;function tI(s){switch(s){case ht.OK:return Ut(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Ut(15467,{code:s})}}function Ww(s){if(s===void 0)return $r("GRPC error has no .code"),ht.UNKNOWN;switch(s){case un.OK:return ht.OK;case un.CANCELLED:return ht.CANCELLED;case un.UNKNOWN:return ht.UNKNOWN;case un.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case un.INTERNAL:return ht.INTERNAL;case un.UNAVAILABLE:return ht.UNAVAILABLE;case un.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case un.NOT_FOUND:return ht.NOT_FOUND;case un.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case un.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case un.ABORTED:return ht.ABORTED;case un.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case un.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case un.DATA_LOSS:return ht.DATA_LOSS;default:return Ut(39323,{code:s})}}(he=un||(un={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";function eI(){return new TextEncoder}const nI=new $a([4294967295,4294967295],0);function bb(s){const t=eI().encode(s),n=new cw;return n.update(t),new Uint8Array(n.digest())}function xb(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new $a([n,r],0),new $a([l,h],0)]}class Ig{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yc(`Invalid padding: ${n}`);if(r<0)throw new yc(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new yc(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new yc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=$a.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply($a.fromNumber(r)));return l.compare(nI)===1&&(l=new $a([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=bb(t),[r,l]=xb(n);for(let h=0;h<this.hashCount;h++){const m=this.ye(r,l,h);if(!this.we(m))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),m=new Ig(h,l,n);return r.forEach((v=>m.insert(v))),m}insert(t){if(this.ge===0)return;const n=bb(t),[r,l]=xb(n);for(let h=0;h<this.hashCount;h++){const m=this.ye(r,l,h);this.Se(m)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cd{constructor(t,n,r,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,Kc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new cd(Ht.min(),l,new qe(oe),ta(),le())}}class Kc{constructor(t,n,r,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Kc(r,n,le(),le(),le())}}class Tf{constructor(t,n,r,l){this.be=t,this.removedTargetIds=n,this.key=r,this.De=l}}class Jw{constructor(t,n){this.targetId=t,this.Ce=n}}class $w{constructor(t,n,r=Rn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class wb{constructor(){this.ve=0,this.Fe=Eb(),this.Me=Rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=le(),n=le(),r=le();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Ut(38017,{changeType:h})}})),new Kc(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=Eb()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ta(),this.Je=ff(),this.He=ff(),this.Ye=new qe(oe)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Ut(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(Bp(h))if(r===0){const m=new Pt(h.path);this.et(n,m,Hn.newNoDocument(m,Ht.min()))}else ye(r===1,20013,{expectedCount:r});else{const m=this._t(n);if(m!==r){const v=this.ut(t),y=v?this.ct(v,t,m):1;if(y!==0){this.it(n);const b=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,b)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=n;let m,v;try{m=so(r).toUint8Array()}catch(y){if(y instanceof Tw)return il("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{v=new Ig(m,l,h)}catch(y){return il(y instanceof yc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return v.ge===0?null:v}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((h=>{const m=this.Ge.ht(),v=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.mightContain(v)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,m)=>{const v=this.ot(m);if(v){if(h.current&&Bp(v.target)){const y=new Pt(v.target.path);this.It(y).has(m)||this.Et(m,y)||this.et(m,y,Hn.newNoDocument(y,t))}h.Be&&(n.set(m,h.ke()),h.qe())}}));let r=le();this.He.forEach(((h,m)=>{let v=!0;m.forEachWhile((y=>{const b=this.ot(y);return!b||b.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(r=r.add(h))})),this.je.forEach(((h,m)=>m.setReadTime(t)));const l=new cd(t,n,this.Ye,this.je,r);return this.je=ta(),this.Je=ff(),this.He=ff(),this.Ye=new qe(oe),l}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new wb,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new gn(oe),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new gn(oe),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Dt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new wb),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ff(){return new qe(Pt.comparator)}function Eb(){return new qe(Pt.comparator)}const sI={asc:"ASCENDING",desc:"DESCENDING"},rI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aI={and:"AND",or:"OR"};class oI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qp(s,t){return s.useProto3Json||nd(t)?t:{value:t}}function Uf(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function lI(s,t){return Uf(s,t.toTimestamp())}function hr(s){return ye(!!s,49232),Ht.fromTimestamp((function(n){const r=io(n);return new Ce(r.seconds,r.nanos)})(s))}function Dg(s,t){return Gp(s,t).canonicalString()}function Gp(s,t){const n=(function(l){return new Le(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function eE(s){const t=Le.fromString(s);return ye(aE(t),10190,{key:t.toString()}),t}function Zp(s,t){return Dg(s.databaseId,t.path)}function vp(s,t){const n=eE(t);if(n.get(1)!==s.databaseId.projectId)throw new Ct(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Ct(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Pt(iE(n))}function nE(s,t){return Dg(s.databaseId,t)}function uI(s){const t=eE(s);return t.length===4?Le.emptyPath():iE(t)}function Kp(s){return new Le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function iE(s){return ye(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Tb(s,t,n){return{name:Zp(s,t),fields:n.value.mapValue.fields}}function cI(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(b){return b==="NO_CHANGE"?0:b==="ADD"?1:b==="REMOVE"?2:b==="CURRENT"?3:b==="RESET"?4:Ut(39313,{state:b})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(b,A){return b.useProto3Json?(ye(A===void 0||typeof A=="string",58123),Rn.fromBase64String(A||"")):(ye(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Rn.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),m=t.targetChange.cause,v=m&&(function(b){const A=b.code===void 0?ht.UNKNOWN:Ww(b.code);return new Ct(A,b.message||"")})(m);n=new $w(r,l,h,v||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=vp(s,r.document.name),h=hr(r.document.updateTime),m=r.document.createTime?hr(r.document.createTime):Ht.min(),v=new vi({mapValue:{fields:r.document.fields}}),y=Hn.newFoundDocument(l,h,m,v),b=r.targetIds||[],A=r.removedTargetIds||[];n=new Tf(b,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=vp(s,r.document),h=r.readTime?hr(r.readTime):Ht.min(),m=Hn.newNoDocument(l,h),v=r.removedTargetIds||[];n=new Tf([],v,m.key,m)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=vp(s,r.document),h=r.removedTargetIds||[];n=new Tf([],h,l,null)}else{if(!("filter"in t))return Ut(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,m=new $N(l,h),v=r.targetId;n=new Jw(v,m)}}return n}function hI(s,t){let n;if(t instanceof Zc)n={update:Tb(s,t.key,t.value)};else if(t instanceof ud)n={delete:Zp(s,t.key)};else if(t instanceof uo)n={update:Tb(s,t.key,t.data),updateMask:bI(t.fieldMask)};else{if(!(t instanceof XN))return Ut(16599,{Vt:t.type});n={verify:Zp(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(h,m){const v=m.transform;if(v instanceof kc)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Oc)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Pc)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof jf)return{fieldPath:m.field.canonicalString(),increment:v.Ae};throw Ut(20930,{transform:m.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:lI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ut(27497)})(s,t.precondition)),n}function fI(s,t){return s&&s.length>0?(ye(t!==void 0,14353),s.map((n=>(function(l,h){let m=l.updateTime?hr(l.updateTime):hr(h);return m.isEqual(Ht.min())&&(m=hr(h)),new KN(m,l.transformResults||[])})(n,t)))):[]}function dI(s,t){return{documents:[nE(s,t.path)]}}function mI(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nE(s,l);const h=(function(b){if(b.length!==0)return rE(Ps.create(b,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const m=(function(b){if(b.length!==0)return b.map((A=>(function(I){return{field:Wl(I.field),direction:_I(I.dir)}})(A)))})(t.orderBy);m&&(n.structuredQuery.orderBy=m);const v=qp(s,t.limit);return v!==null&&(n.structuredQuery.limit=v),t.startAt&&(n.structuredQuery.startAt=(function(b){return{before:b.inclusive,values:b.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(b){return{before:!b.inclusive,values:b.position}})(t.endAt)),{ft:n,parent:l}}function pI(s){let t=uI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){ye(r===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];n.where&&(h=(function(C){const I=sE(C);return I instanceof Ps&&kw(I)?I.getFilters():[I]})(n.where));let m=[];n.orderBy&&(m=(function(C){return C.map((I=>(function(q){return new Mc(Jl(q.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(I)))})(n.orderBy));let v=null;n.limit&&(v=(function(C){let I;return I=typeof C=="object"?C.value:C,nd(I)?null:I})(n.limit));let y=null;n.startAt&&(y=(function(C){const I=!!C.before,O=C.values||[];return new zf(O,I)})(n.startAt));let b=null;return n.endAt&&(b=(function(C){const I=!C.before,O=C.values||[];return new zf(O,I)})(n.endAt)),MN(t,l,m,h,v,"F",y,b)}function gI(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function sE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jl(n.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Jl(n.unaryFilter.field);return hn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Jl(n.unaryFilter.field);return hn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Jl(n.unaryFilter.field);return hn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}})(s):s.fieldFilter!==void 0?(function(n){return hn.create(Jl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ps.create(n.compositeFilter.filters.map((r=>sE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}})(n.compositeFilter.op))})(s):Ut(30097,{filter:s})}function _I(s){return sI[s]}function yI(s){return rI[s]}function vI(s){return aI[s]}function Wl(s){return{fieldPath:s.canonicalString()}}function Jl(s){return An.fromServerFormat(s.fieldPath)}function rE(s){return s instanceof hn?(function(n){if(n.op==="=="){if(hb(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NAN"}};if(cb(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hb(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NOT_NAN"}};if(cb(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wl(n.field),op:yI(n.op),value:n.value}}})(s):s instanceof Ps?(function(n){const r=n.getFilters().map((l=>rE(l)));return r.length===1?r[0]:{compositeFilter:{op:vI(n.op),filters:r}}})(s):Ut(54877,{filter:s})}function bI(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function aE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ya{constructor(t,n,r,l,h=Ht.min(),m=Ht.min(),v=Rn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v,this.expectedCount=y}withSequenceNumber(t){return new Ya(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class xI{constructor(t){this.yt=t}}function wI(s){const t=pI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Hp(t,t.limit,"L"):t}class EI{constructor(){this.Cn=new TI}addToCollectionParentIndex(t,n){return this.Cn.add(n),mt.resolve()}getCollectionParents(t,n){return mt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return mt.resolve()}deleteFieldIndex(t,n){return mt.resolve()}deleteAllFieldIndexes(t){return mt.resolve()}createTargetIndexes(t,n){return mt.resolve()}getDocumentsMatchingTarget(t,n){return mt.resolve(null)}getIndexType(t,n){return mt.resolve(0)}getFieldIndexes(t,n){return mt.resolve([])}getNextCollectionGroupToUpdate(t){return mt.resolve(null)}getMinOffset(t,n){return mt.resolve(no.min())}getMinOffsetFromCollectionGroup(t,n){return mt.resolve(no.min())}updateCollectionGroup(t,n,r){return mt.resolve()}updateIndexEntries(t,n){return mt.resolve()}}class TI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new gn(Le.comparator),h=!l.has(r);return this.index[n]=l.add(r),h}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new gn(Le.comparator)).toArray()}}const Sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oE=41943040;class yi{static withCacheSize(t){return new yi(t,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}yi.DEFAULT_COLLECTION_PERCENTILE=10,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yi.DEFAULT=new yi(oE,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yi.DISABLED=new yi(-1,0,0);class cu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new cu(0)}static cr(){return new cu(-1)}}const Ab="LruGarbageCollector",SI=1048576;function Cb([s,t],[n,r]){const l=oe(s,n);return l===0?oe(t,r):l}class AI{constructor(t){this.Ir=t,this.buffer=new gn(Cb),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Cb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CI{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Dt(Ab,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wu(n)?Dt(Ab,"Ignoring IndexedDB error during garbage collection: ",n):await xu(n)}await this.Vr(3e5)}))}}class RI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return mt.resolve(ed.ce);const r=new AI(n);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Dt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(Sb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sb):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,l,h,m,v,y,b;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(Dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,m=Date.now(),this.nthSequenceNumber(t,l)))).next((C=>(r=C,v=Date.now(),this.removeTargets(t,r,n)))).next((C=>(h=C,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((C=>(b=Date.now(),Yl()<=ae.DEBUG&&Dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-A}ms
	Determined least recently used ${l} in `+(v-m)+`ms
	Removed ${h} targets in `+(y-v)+`ms
	Removed ${C} documents in `+(b-y)+`ms
Total Duration: ${b-A}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:C}))))}}function NI(s,t){return new RI(s,t)}class II{constructor(){this.changes=new al((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Hn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?mt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class DI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class LI{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&Sc(r.mutation,l,ji.empty(),Ce.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,le()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=le()){const l=Wo();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((h=>{let m=_c();return h.forEach(((v,y)=>{m=m.insert(v,y.overlayedDocument)})),m}))))}getOverlayedDocuments(t,n){const r=Wo();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,le())))}populateOverlays(t,n,r){const l=[];return r.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((m,v)=>{n.set(m,v)}))}))}computeViews(t,n,r,l){let h=ta();const m=Tc(),v=(function(){return Tc()})();return n.forEach(((y,b)=>{const A=r.get(b.key);l.has(b.key)&&(A===void 0||A.mutation instanceof uo)?h=h.insert(b.key,b):A!==void 0?(m.set(b.key,A.mutation.getFieldMask()),Sc(A.mutation,b,A.mutation.getFieldMask(),Ce.now())):m.set(b.key,ji.empty())})),this.recalculateAndSaveOverlays(t,h).next((y=>(y.forEach(((b,A)=>m.set(b,A))),n.forEach(((b,A)=>v.set(b,new DI(A,m.get(b)??null)))),v)))}recalculateAndSaveOverlays(t,n){const r=Tc();let l=new qe(((m,v)=>m-v)),h=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((m=>{for(const v of m)v.keys().forEach((y=>{const b=n.get(y);if(b===null)return;let A=r.get(y)||ji.empty();A=v.applyToLocalView(b,A),r.set(y,A);const C=(l.get(v.batchId)||le()).add(y);l=l.insert(v.batchId,C)}))})).next((()=>{const m=[],v=l.getReverseIterator();for(;v.hasNext();){const y=v.getNext(),b=y.key,A=y.value,C=Hw();A.forEach((I=>{if(!h.has(I)){const O=Yw(n.get(I),r.get(I));O!==null&&C.set(I,O),h=h.add(I)}})),m.push(this.documentOverlayCache.saveOverlays(t,b,C))}return mt.waitFor(m)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return(function(m){return Pt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):zw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((h=>{const m=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-h.size):mt.resolve(Wo());let v=Ic,y=h;return m.next((b=>mt.forEach(b,((A,C)=>(v<C.largestBatchId&&(v=C.largestBatchId),h.get(A)?mt.resolve():this.remoteDocumentCache.getEntry(t,A).next((I=>{y=y.insert(A,I)}))))).next((()=>this.populateOverlays(t,b,h))).next((()=>this.computeViews(t,y,b,le()))).next((A=>({batchId:v,changes:Fw(A)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Pt(n)).next((r=>{let l=_c();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const h=n.collectionGroup;let m=_c();return this.indexManager.getCollectionParents(t,h).next((v=>mt.forEach(v,(y=>{const b=(function(C,I){return new Eu(I,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(n,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,b,r,l).next((A=>{A.forEach(((C,I)=>{m=m.insert(C,I)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,h,l)))).next((m=>{h.forEach(((y,b)=>{const A=b.getKey();m.get(A)===null&&(m=m.insert(A,Hn.newInvalidDocument(A)))}));let v=_c();return m.forEach(((y,b)=>{const A=h.get(y);A!==void 0&&Sc(A.mutation,b,ji.empty(),Ce.now()),ad(n,b)&&(v=v.insert(y,b))})),v}))}}class MI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return mt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:hr(l.createTime)}})(n)),mt.resolve()}getNamedQuery(t,n){return mt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:wI(l.bundledQuery),readTime:hr(l.readTime)}})(n)),mt.resolve()}}class kI{constructor(){this.overlays=new qe(Pt.comparator),this.qr=new Map}getOverlay(t,n){return mt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Wo();return mt.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&r.set(l,h)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,h)=>{this.St(t,n,h)})),mt.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),mt.resolve()}getOverlaysForCollection(t,n,r){const l=Wo(),h=n.length+1,m=new Pt(n.child("")),v=this.overlays.getIteratorFrom(m);for(;v.hasNext();){const y=v.getNext().value,b=y.getKey();if(!n.isPrefixOf(b.path))break;b.path.length===h&&y.largestBatchId>r&&l.set(y.getKey(),y)}return mt.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let h=new qe(((b,A)=>b-A));const m=this.overlays.getIterator();for(;m.hasNext();){const b=m.getNext().value;if(b.getKey().getCollectionGroup()===n&&b.largestBatchId>r){let A=h.get(b.largestBatchId);A===null&&(A=Wo(),h=h.insert(b.largestBatchId,A)),A.set(b.getKey(),b)}}const v=Wo(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((b,A)=>v.set(b,A))),!(v.size()>=l)););return mt.resolve(v)}St(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const m=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new JN(n,r));let h=this.qr.get(n);h===void 0&&(h=le(),this.qr.set(n,h)),this.qr.set(n,h.add(r.key))}}class OI{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(t){return mt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,mt.resolve()}}class Lg{constructor(){this.Qr=new gn(Sn.$r),this.Ur=new gn(Sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Sn(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Sn(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new Pt(new Le([])),r=new Sn(n,t),l=new Sn(n,t+1),h=[];return this.Ur.forEachInRange([r,l],(m=>{this.Gr(m),h.push(m.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Pt(new Le([])),r=new Sn(n,t),l=new Sn(n,t+1);let h=le();return this.Ur.forEachInRange([r,l],(m=>{h=h.add(m.key)})),h}containsKey(t){const n=new Sn(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Sn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Pt.comparator(t.key,n.key)||oe(t.Yr,n.Yr)}static Kr(t,n){return oe(t.Yr,n.Yr)||Pt.comparator(t.key,n.key)}}class PI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gn(Sn.$r)}checkEmpty(t){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new WN(h,n,r,l);this.mutationQueue.push(m);for(const v of l)this.Zr=this.Zr.add(new Sn(v.key,h)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return mt.resolve(m)}lookupMutationBatch(t,n){return mt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.ei(r),h=l<0?0:l;return mt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?Eg:this.tr-1)}getAllMutationBatches(t){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Sn(n,0),l=new Sn(n,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,l],(m=>{const v=this.Xr(m.Yr);h.push(v)})),mt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new gn(oe);return n.forEach((l=>{const h=new Sn(l,0),m=new Sn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],(v=>{r=r.add(v.Yr)}))})),mt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let h=r;Pt.isDocumentKey(h)||(h=h.child(""));const m=new Sn(new Pt(h),0);let v=new gn(oe);return this.Zr.forEachWhile((y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===l&&(v=v.add(y.Yr)),!0)}),m),mt.resolve(this.ti(v))}ti(t){const n=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return mt.forEach(n.mutations,(l=>{const h=new Sn(l.key,n.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Sn(n,0),l=this.Zr.firstAfterOrEqual(r);return mt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,mt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class VI{constructor(t){this.ri=t,this.docs=(function(){return new qe(Pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),h=l?l.size:0,m=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return mt.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(t,n){let r=ta();return n.forEach((l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():Hn.newInvalidDocument(l))})),mt.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let h=ta();const m=n.path,v=new Pt(m.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(v);for(;y.hasNext();){const{key:b,value:{document:A}}=y.getNext();if(!m.isPrefixOf(b.path))break;b.path.length>m.length+1||hN(cN(A),r)<=0||(l.has(A.key)||ad(n,A))&&(h=h.insert(A.key,A.mutableCopy()))}return mt.resolve(h)}getAllFromCollectionGroup(t,n,r,l){Ut(9500)}ii(t,n){return mt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new zI(this)}getSize(t){return mt.resolve(this.size)}}class zI extends II{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),mt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class jI{constructor(t){this.persistence=t,this.si=new al((n=>Ag(n)),Cg),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.oi=0,this._i=new Lg,this.targetCount=0,this.ai=cu.ur()}forEachTarget(t,n){return this.si.forEach(((r,l)=>n(l))),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),mt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new cu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,mt.resolve()}updateTargetData(t,n){return this.Pr(n),mt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,n,r){let l=0;const h=[];return this.si.forEach(((m,v)=>{v.sequenceNumber<=n&&r.get(v.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)})),mt.waitFor(h).next((()=>l))}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return mt.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),mt.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((m=>{h.push(l.markPotentiallyOrphaned(t,m))})),mt.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),mt.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return mt.resolve(r)}containsKey(t,n){return mt.resolve(this._i.containsKey(n))}}class lE{constructor(t,n){this.ui={},this.overlays={},this.ci=new ed(0),this.li=!1,this.li=!0,this.hi=new OI,this.referenceDelegate=t(this),this.Pi=new jI(this),this.indexManager=new EI,this.remoteDocumentCache=(function(l){return new VI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new xI(n),this.Ii=new MI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new kI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new PI(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){Dt("MemoryPersistence","Starting transaction:",t);const l=new UI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,n){return mt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class UI extends dN{constructor(t){super(),this.currentSequenceNumber=t}}class Mg{constructor(t){this.persistence=t,this.Ri=new Lg,this.Vi=null}static mi(t){return new Mg(t)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),mt.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),mt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),mt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.fi,(r=>{const l=Pt.fromPath(r);return this.gi(t,l).next((h=>{h||n.removeEntry(l,Ht.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return mt.or([()=>mt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Bf{constructor(t,n){this.persistence=t,this.pi=new al((r=>gN(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=NI(this,n)}static mi(t,n){return new Bf(t,n)}Ei(){}di(t){return mt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return mt.forEach(this.pi,((r,l)=>this.br(t,r,l).next((h=>h?mt.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(m=>this.br(t,m,n).next((v=>{v||(r++,h.removeEntry(m,Ht.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),mt.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),mt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xf(t.data.value)),n}br(t,n,r){return mt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return mt.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class kg{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=l}static As(t,n){let r=le(),l=le();for(const h of n.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new kg(t,n.fromCache,r,l)}}class BI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class FI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MA()?8:mN(Gn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const h={result:null};return this.ys(t,n).next((m=>{h.result=m})).next((()=>{if(!h.result)return this.ws(t,n,l,r).next((m=>{h.result=m}))})).next((()=>{if(h.result)return;const m=new BI;return this.Ss(t,n,m).next((v=>{if(h.result=v,this.Vs)return this.bs(t,n,m,v.size)}))})).next((()=>h.result))}bs(t,n,r,l){return r.documentReadCount<this.fs?(Yl()<=ae.DEBUG&&Dt("QueryEngine","SDK will not create cache indexes for query:",Xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),mt.resolve()):(Yl()<=ae.DEBUG&&Dt("QueryEngine","Query:",Xl(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Yl()<=ae.DEBUG&&Dt("QueryEngine","The SDK decides to create cache indexes for query:",Xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cr(n))):mt.resolve())}ys(t,n){if(pb(n))return mt.resolve(null);let r=cr(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Hp(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const m=le(...h);return this.ps.getDocuments(t,m).next((v=>this.indexManager.getMinOffset(t,r).next((y=>{const b=this.Ds(n,v);return this.Cs(n,b,m,y.readTime)?this.ys(t,Hp(n,null,"F")):this.vs(t,b,n,y)}))))})))))}ws(t,n,r,l){return pb(n)||l.isEqual(Ht.min())?mt.resolve(null):this.ps.getDocuments(t,r).next((h=>{const m=this.Ds(n,h);return this.Cs(n,m,r,l)?mt.resolve(null):(Yl()<=ae.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Xl(n)),this.vs(t,m,n,uN(l,Ic)).next((v=>v)))}))}Ds(t,n){let r=new gn(Uw(t));return n.forEach(((l,h)=>{ad(t,h)&&(r=r.add(h))})),r}Cs(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,n,r){return Yl()<=ae.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",Xl(n)),this.ps.getDocumentsMatchingQuery(t,n,no.min(),r)}vs(t,n,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((h=>(n.forEach((m=>{h=h.insert(m.key,m)})),h)))}}const Og="LocalStore",HI=3e8;class qI{constructor(t,n,r,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new qe(oe),this.xs=new al((h=>Ag(h)),Cg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function GI(s,t,n,r){return new qI(s,t,n,r)}async function uE(s,t){const n=Zt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((h=>(l=h,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((h=>{const m=[],v=[];let y=le();for(const b of l){m.push(b.batchId);for(const A of b.mutations)y=y.add(A.key)}for(const b of h){v.push(b.batchId);for(const A of b.mutations)y=y.add(A.key)}return n.localDocuments.getDocuments(r,y).next((b=>({Ls:b,removedBatchIds:m,addedBatchIds:v})))}))}))}function ZI(s,t){const n=Zt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),h=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(v,y,b,A){const C=b.batch,I=C.keys();let O=mt.resolve();return I.forEach((q=>{O=O.next((()=>A.getEntry(y,q))).next((H=>{const Q=b.docVersions.get(q);ye(Q!==null,48541),H.version.compareTo(Q)<0&&(C.applyToRemoteDocument(H,b),H.isValidDocument()&&(H.setReadTime(b.commitVersion),A.addEntry(H)))}))})),O.next((()=>v.mutationQueue.removeMutationBatch(y,C)))})(n,r,t,h).next((()=>h.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(v){let y=le();for(let b=0;b<v.mutationResults.length;++b)v.mutationResults[b].transformResults.length>0&&(y=y.add(v.batch.mutations[b].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function cE(s){const t=Zt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function KI(s,t){const n=Zt(s),r=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const m=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const v=[];t.targetChanges.forEach(((A,C)=>{const I=l.get(C);if(!I)return;v.push(n.Pi.removeMatchingKeys(h,A.removedDocuments,C).next((()=>n.Pi.addMatchingKeys(h,A.addedDocuments,C))));let O=I.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(C)!==null?O=O.withResumeToken(Rn.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):A.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(A.resumeToken,r)),l=l.insert(C,O),(function(H,Q,st){return H.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=HI?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(I,O,A)&&v.push(n.Pi.updateTargetData(h,O))}));let y=ta(),b=le();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&v.push(n.persistence.referenceDelegate.updateLimboDocument(h,A))})),v.push(QI(h,m,t.documentUpdates).next((A=>{y=A.ks,b=A.qs}))),!r.isEqual(Ht.min())){const A=n.Pi.getLastRemoteSnapshotVersion(h).next((C=>n.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));v.push(A)}return mt.waitFor(v).next((()=>m.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,y,b))).next((()=>y))})).then((h=>(n.Ms=l,h)))}function QI(s,t,n){let r=le(),l=le();return n.forEach((h=>r=r.add(h))),t.getEntries(s,r).next((h=>{let m=ta();return n.forEach(((v,y)=>{const b=h.get(v);y.isFoundDocument()!==b.isFoundDocument()&&(l=l.add(v)),y.isNoDocument()&&y.version.isEqual(Ht.min())?(t.removeEntry(v,y.readTime),m=m.insert(v,y)):!b.isValidDocument()||y.version.compareTo(b.version)>0||y.version.compareTo(b.version)===0&&b.hasPendingWrites?(t.addEntry(y),m=m.insert(v,y)):Dt(Og,"Ignoring outdated watch update for ",v,". Current version:",b.version," Watch version:",y.version)})),{ks:m,qs:l}}))}function YI(s,t){const n=Zt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Eg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function XI(s,t){const n=Zt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,t).next((h=>h?(l=h,mt.resolve(l)):n.Pi.allocateTargetId(r).next((m=>(l=new Ya(t,m,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Qp(s,t,n){const r=Zt(s),l=r.Ms.get(t),h=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",h,(m=>r.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!wu(m))throw m;Dt(Og,`Failed to update sequence numbers for target ${t}: ${m}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Rb(s,t,n){const r=Zt(s);let l=Ht.min(),h=le();return r.persistence.runTransaction("Execute query","readwrite",(m=>(function(y,b,A){const C=Zt(y),I=C.xs.get(A);return I!==void 0?mt.resolve(C.Ms.get(I)):C.Pi.getTargetData(b,A)})(r,m,cr(t)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(m,v.targetId).next((y=>{h=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(m,t,n?l:Ht.min(),n?h:le()))).next((v=>(WI(r,ON(t),v),{documents:v,Qs:h})))))}function WI(s,t,n){let r=s.Os.get(t)||Ht.min();n.forEach(((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(t,r)}class Nb{constructor(){this.activeTargetIds=BN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JI{constructor(){this.Mo=new Nb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Nb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class $I{Oo(t){}shutdown(){}}const Ib="ConnectivityMonitor";class Db{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Dt(Ib,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Dt(Ib,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let df=null;function Yp(){return df===null?df=(function(){return 268435456+Math.round(2147483648*Math.random())})():df++,"0x"+df.toString(16)}const bp="RestConnection",tD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Pf?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,n,r,l,h){const m=Yp(),v=this.zo(t,n.toUriEncodedString());Dt(bp,`Sending RPC '${t}' ${m}:`,v,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,h);const{host:b}=new URL(v),A=_u(b);return this.Jo(t,v,y,r,A).then((C=>(Dt(bp,`Received RPC '${t}' ${m}: `,C),C)),(C=>{throw il(bp,`RPC '${t}' ${m} failed with error: `,C,"url: ",v,"request:",r),C}))}Ho(t,n,r,l,h,m){return this.Go(t,n,r,l,h)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),r&&r.headers.forEach(((l,h)=>t[h]=l))}zo(t,n){const r=tD[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class nD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Bn="WebChannelConnection";class iD extends eD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,l,h){const m=Yp();return new Promise(((v,y)=>{const b=new hw;b.setWithCredentials(!0),b.listenOnce(fw.COMPLETE,(()=>{try{switch(b.getLastErrorCode()){case bf.NO_ERROR:const C=b.getResponseJson();Dt(Bn,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(C)),v(C);break;case bf.TIMEOUT:Dt(Bn,`RPC '${t}' ${m} timed out`),y(new Ct(ht.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:const I=b.getStatus();if(Dt(Bn,`RPC '${t}' ${m} failed with status:`,I,"response text:",b.getResponseText()),I>0){let O=b.getResponseJson();Array.isArray(O)&&(O=O[0]);const q=O?.error;if(q&&q.status&&q.message){const H=(function(st){const at=st.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(at)>=0?at:ht.UNKNOWN})(q.status);y(new Ct(H,q.message))}else y(new Ct(ht.UNKNOWN,"Server responded with status "+b.getStatus()))}else y(new Ct(ht.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:t,streamId:m,h_:b.getLastErrorCode(),P_:b.getLastError()})}}finally{Dt(Bn,`RPC '${t}' ${m} completed.`)}}));const A=JSON.stringify(l);Dt(Bn,`RPC '${t}' ${m} sending request:`,l),b.send(n,"POST",A,r,15)}))}T_(t,n,r){const l=Yp(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=pw(),v=mw(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(y.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const A=h.join("");Dt(Bn,`Creating RPC '${t}' stream ${l}: ${A}`,y);const C=m.createWebChannel(A,y);this.I_(C);let I=!1,O=!1;const q=new nD({Yo:Q=>{O?Dt(Bn,`Not sending because RPC '${t}' stream ${l} is closed:`,Q):(I||(Dt(Bn,`Opening RPC '${t}' stream ${l} transport.`),C.open(),I=!0),Dt(Bn,`RPC '${t}' stream ${l} sending:`,Q),C.send(Q))},Zo:()=>C.close()}),H=(Q,st,at)=>{Q.listen(st,(ot=>{try{at(ot)}catch(pt){setTimeout((()=>{throw pt}),0)}}))};return H(C,gc.EventType.OPEN,(()=>{O||(Dt(Bn,`RPC '${t}' stream ${l} transport opened.`),q.o_())})),H(C,gc.EventType.CLOSE,(()=>{O||(O=!0,Dt(Bn,`RPC '${t}' stream ${l} transport closed`),q.a_(),this.E_(C))})),H(C,gc.EventType.ERROR,(Q=>{O||(O=!0,il(Bn,`RPC '${t}' stream ${l} transport errored. Name:`,Q.name,"Message:",Q.message),q.a_(new Ct(ht.UNAVAILABLE,"The operation could not be completed")))})),H(C,gc.EventType.MESSAGE,(Q=>{if(!O){const st=Q.data[0];ye(!!st,16349);const at=st,ot=at?.error||at[0]?.error;if(ot){Dt(Bn,`RPC '${t}' stream ${l} received error:`,ot);const pt=ot.status;let xt=(function(M){const P=un[M];if(P!==void 0)return Ww(P)})(pt),Rt=ot.message;xt===void 0&&(xt=ht.INTERNAL,Rt="Unknown error status: "+pt+" with message "+ot.message),O=!0,q.a_(new Ct(xt,Rt)),C.close()}else Dt(Bn,`RPC '${t}' stream ${l} received:`,st),q.u_(st)}})),H(v,dw.STAT_EVENT,(Q=>{Q.stat===Pp.PROXY?Dt(Bn,`RPC '${t}' stream ${l} detected buffering proxy`):Q.stat===Pp.NOPROXY&&Dt(Bn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function xp(){return typeof document<"u"?document:null}function hd(s){return new oI(s,!0)}class hE{constructor(t,n,r=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&Dt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Lb="PersistentStream";class fE{constructor(t,n,r,l,h,m,v,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=v,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new Ct(ht.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Dt(Lb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Dt(Lb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sD extends fE{constructor(t,n,r,l,h,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,m),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=cI(this.serializer,t),r=(function(h){if(!("targetChange"in h))return Ht.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Ht.min():m.readTime?hr(m.readTime):Ht.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Kp(this.serializer),n.addTarget=(function(h,m){let v;const y=m.target;if(v=Bp(y)?{documents:dI(h,y)}:{query:mI(h,y).ft},v.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){v.resumeToken=tE(h,m.resumeToken);const b=qp(h,m.expectedCount);b!==null&&(v.expectedCount=b)}else if(m.snapshotVersion.compareTo(Ht.min())>0){v.readTime=Uf(h,m.snapshotVersion.toTimestamp());const b=qp(h,m.expectedCount);b!==null&&(v.expectedCount=b)}return v})(this.serializer,t);const r=gI(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Kp(this.serializer),n.removeTarget=t,this.q_(n)}}class rD extends fE{constructor(t,n,r,l,h,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ye(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ye(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ye(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=fI(t.writeResults,t.commitTime),r=hr(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Kp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>hI(this.serializer,r)))};this.q_(n)}}class aD{}class oD extends aD{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ct(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Go(t,Gp(n,r),l,h,m))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ct(ht.UNKNOWN,h.toString())}))}Ho(t,n,r,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,v])=>this.connection.Ho(t,Gp(n,r),l,m,v,h))).catch((m=>{throw m.name==="FirebaseError"?(m.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Ct(ht.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($r(n),this.aa=!1):Dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sl="RemoteStore";class uD{constructor(t,n,r,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((m=>{r.enqueueAndForget((async()=>{ol(this)&&(Dt(sl,"Restarting streams for network reachability change."),await(async function(y){const b=Zt(y);b.Ea.add(4),await Qc(b),b.Ra.set("Unknown"),b.Ea.delete(4),await fd(b)})(this))}))})),this.Ra=new lD(r,l)}}async function fd(s){if(ol(s))for(const t of s.da)await t(!0)}async function Qc(s){for(const t of s.da)await t(!1)}function dE(s,t){const n=Zt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),jg(n)?zg(n):Tu(n).O_()&&Vg(n,t))}function Pg(s,t){const n=Zt(s),r=Tu(n);n.Ia.delete(t),r.O_()&&mE(n,t),n.Ia.size===0&&(r.O_()?r.L_():ol(n)&&n.Ra.set("Unknown"))}function Vg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ht.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Tu(s).Y_(t)}function mE(s,t){s.Va.Ue(t),Tu(s).Z_(t)}function zg(s){s.Va=new iI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Tu(s).start(),s.Ra.ua()}function jg(s){return ol(s)&&!Tu(s).x_()&&s.Ia.size>0}function ol(s){return Zt(s).Ea.size===0}function pE(s){s.Va=void 0}async function cD(s){s.Ra.set("Online")}async function hD(s){s.Ia.forEach(((t,n)=>{Vg(s,t)}))}async function fD(s,t){pE(s),jg(s)?(s.Ra.ha(t),zg(s)):s.Ra.set("Unknown")}async function dD(s,t,n){if(s.Ra.set("Online"),t instanceof $w&&t.state===2&&t.cause)try{await(async function(l,h){const m=h.cause;for(const v of h.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,m),l.Ia.delete(v),l.Va.removeTarget(v))})(s,t)}catch(r){Dt(sl,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ff(s,r)}else if(t instanceof Tf?s.Va.Ze(t):t instanceof Jw?s.Va.st(t):s.Va.tt(t),!n.isEqual(Ht.min()))try{const r=await cE(s.localStore);n.compareTo(r)>=0&&await(function(h,m){const v=h.Va.Tt(m);return v.targetChanges.forEach(((y,b)=>{if(y.resumeToken.approximateByteSize()>0){const A=h.Ia.get(b);A&&h.Ia.set(b,A.withResumeToken(y.resumeToken,m))}})),v.targetMismatches.forEach(((y,b)=>{const A=h.Ia.get(y);if(!A)return;h.Ia.set(y,A.withResumeToken(Rn.EMPTY_BYTE_STRING,A.snapshotVersion)),mE(h,y);const C=new Ya(A.target,y,b,A.sequenceNumber);Vg(h,C)})),h.remoteSyncer.applyRemoteEvent(v)})(s,n)}catch(r){Dt(sl,"Failed to raise snapshot:",r),await Ff(s,r)}}async function Ff(s,t,n){if(!wu(t))throw t;s.Ea.add(1),await Qc(s),s.Ra.set("Offline"),n||(n=()=>cE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{Dt(sl,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await fd(s)}))}function gE(s,t){return t().catch((n=>Ff(s,n,t)))}async function dd(s){const t=Zt(s),n=ao(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Eg;for(;mD(t);)try{const l=await YI(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,pD(t,l)}catch(l){await Ff(t,l)}_E(t)&&yE(t)}function mD(s){return ol(s)&&s.Ta.length<10}function pD(s,t){s.Ta.push(t);const n=ao(s);n.O_()&&n.X_&&n.ea(t.mutations)}function _E(s){return ol(s)&&!ao(s).x_()&&s.Ta.length>0}function yE(s){ao(s).start()}async function gD(s){ao(s).ra()}async function _D(s){const t=ao(s);for(const n of s.Ta)t.ea(n.mutations)}async function yD(s,t,n){const r=s.Ta.shift(),l=Ng.from(r,t,n);await gE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await dd(s)}async function vD(s,t){t&&ao(s).X_&&await(async function(r,l){if((function(m){return tI(m)&&m!==ht.ABORTED})(l.code)){const h=r.Ta.shift();ao(r).B_(),await gE(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,l))),await dd(r)}})(s,t),_E(s)&&yE(s)}async function Mb(s,t){const n=Zt(s);n.asyncQueue.verifyOperationInProgress(),Dt(sl,"RemoteStore received new credentials");const r=ol(n);n.Ea.add(3),await Qc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await fd(n)}async function bD(s,t){const n=Zt(s);t?(n.Ea.delete(2),await fd(n)):t||(n.Ea.add(2),await Qc(n),n.Ra.set("Unknown"))}function Tu(s){return s.ma||(s.ma=(function(n,r,l){const h=Zt(n);return h.sa(),new sD(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:cD.bind(null,s),t_:hD.bind(null,s),r_:fD.bind(null,s),H_:dD.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),jg(s)?zg(s):s.Ra.set("Unknown")):(await s.ma.stop(),pE(s))}))),s.ma}function ao(s){return s.fa||(s.fa=(function(n,r,l){const h=Zt(n);return h.sa(),new rD(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:gD.bind(null,s),r_:vD.bind(null,s),ta:_D.bind(null,s),na:yD.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await dd(s)):(await s.fa.stop(),s.Ta.length>0&&(Dt(sl,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ug{constructor(t,n,r,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,h){const m=Date.now()+r,v=new Ug(t,n,m,l,h);return v.start(r),v}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(s,t){if($r("AsyncQueue",`${t}: ${s}`),wu(s))return new Ct(ht.UNAVAILABLE,`${t}: ${s}`);throw s}class iu{static emptySet(t){return new iu(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Pt.comparator(n.key,r.key):(n,r)=>Pt.comparator(n.key,r.key),this.keyedMap=_c(),this.sortedSet=new qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof iu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new iu;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class kb{constructor(){this.ga=new qe(Pt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ut(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class hu{constructor(t,n,r,l,h,m,v,y,b){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=y,this.hasCachedResults=b}static fromInitialDocuments(t,n,r,l,h){const m=[];return n.forEach((v=>{m.push({type:0,doc:v})})),new hu(t,n,iu.emptySet(n),m,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class xD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class wD{constructor(){this.queries=Ob(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Zt(n),h=l.queries;l.queries=Ob(),h.forEach(((m,v)=>{for(const y of v.Sa)y.onError(r)}))})(this,new Ct(ht.ABORTED,"Firestore shutting down"))}}function Ob(){return new al((s=>jw(s)),rd)}async function Fg(s,t){const n=Zt(s);let r=3;const l=t.query;let h=n.queries.get(l);h?!h.ba()&&t.Da()&&(r=2):(h=new xD,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(m){const v=Bg(m,`Initialization of query '${Xl(t.query)}' failed`);return void t.onError(v)}n.queries.set(l,h),h.Sa.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&qg(n)}async function Hg(s,t){const n=Zt(s),r=t.query;let l=3;const h=n.queries.get(r);if(h){const m=h.Sa.indexOf(t);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ED(s,t){const n=Zt(s);let r=!1;for(const l of t){const h=l.query,m=n.queries.get(h);if(m){for(const v of m.Sa)v.Fa(l)&&(r=!0);m.wa=l}}r&&qg(n)}function TD(s,t,n){const r=Zt(s),l=r.queries.get(t);if(l)for(const h of l.Sa)h.onError(n);r.queries.delete(t)}function qg(s){s.Ca.forEach((t=>{t.next()}))}var Xp,Pb;(Pb=Xp||(Xp={})).Ma="default",Pb.Cache="cache";class Gg{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new hu(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=hu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Xp.Cache}}class vE{constructor(t){this.key=t}}class bE{constructor(t){this.key=t}}class SD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=le(),this.mutatedKeys=le(),this.eu=Uw(t),this.tu=new iu(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new kb,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,m=l,v=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,b=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,C)=>{const I=l.get(A),O=ad(this.query,C)?C:null,q=!!I&&this.mutatedKeys.has(I.key),H=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let Q=!1;I&&O?I.data.isEqual(O.data)?q!==H&&(r.track({type:3,doc:O}),Q=!0):this.su(I,O)||(r.track({type:2,doc:O}),Q=!0,(y&&this.eu(O,y)>0||b&&this.eu(O,b)<0)&&(v=!0)):!I&&O?(r.track({type:0,doc:O}),Q=!0):I&&!O&&(r.track({type:1,doc:I}),Q=!0,(y||b)&&(v=!0)),Q&&(O?(m=m.add(O),h=H?h.add(A):h.delete(A)):(m=m.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const A=this.query.limitType==="F"?m.last():m.first();m=m.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:m,iu:r,Cs:v,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const m=t.iu.ya();m.sort(((A,C)=>(function(O,q){const H=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Rt:Q})}};return H(O)-H(q)})(A.type,C.type)||this.eu(A.doc,C.doc))),this.ou(r),l=l??!1;const v=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,b=y!==this.Za;return this.Za=y,m.length!==0||b?{snapshot:new hu(this.query,t.tu,h,m,t.mutatedKeys,y===0,b,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new bE(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new vE(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=le();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return hu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zg="SyncEngine";class AD{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class CD{constructor(t){this.key=t,this.hu=!1}}class RD{constructor(t,n,r,l,h,m){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new al((v=>jw(v)),rd),this.Iu=new Map,this.Eu=new Set,this.du=new qe(Pt.comparator),this.Au=new Map,this.Ru=new Lg,this.Vu={},this.mu=new Map,this.fu=cu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ND(s,t,n=!0){const r=AE(s);let l;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await xE(r,t,n,!0),l}async function ID(s,t){const n=AE(s);await xE(n,t,!0,!1)}async function xE(s,t,n,r){const l=await XI(s.localStore,cr(t)),h=l.targetId,m=s.sharedClientState.addLocalQueryTarget(h,n);let v;return r&&(v=await DD(s,t,h,m==="current",l.resumeToken)),s.isPrimaryClient&&n&&dE(s.remoteStore,l),v}async function DD(s,t,n,r,l){s.pu=(C,I,O)=>(async function(H,Q,st,at){let ot=Q.view.ru(st);ot.Cs&&(ot=await Rb(H.localStore,Q.query,!1).then((({documents:V})=>Q.view.ru(V,ot))));const pt=at&&at.targetChanges.get(Q.targetId),xt=at&&at.targetMismatches.get(Q.targetId)!=null,Rt=Q.view.applyChanges(ot,H.isPrimaryClient,pt,xt);return zb(H,Q.targetId,Rt.au),Rt.snapshot})(s,C,I,O);const h=await Rb(s.localStore,t,!0),m=new SD(t,h.Qs),v=m.ru(h.documents),y=Kc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),b=m.applyChanges(v,s.isPrimaryClient,y);zb(s,n,b.au);const A=new AD(t,n,m);return s.Tu.set(t,A),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),b.snapshot}async function LD(s,t,n){const r=Zt(s),l=r.Tu.get(t),h=r.Iu.get(l.targetId);if(h.length>1)return r.Iu.set(l.targetId,h.filter((m=>!rd(m,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Qp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Pg(r.remoteStore,l.targetId),Wp(r,l.targetId)})).catch(xu)):(Wp(r,l.targetId),await Qp(r.localStore,l.targetId,!0))}async function MD(s,t){const n=Zt(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pg(n.remoteStore,r.targetId))}async function kD(s,t,n){const r=BD(s);try{const l=await(function(m,v){const y=Zt(m),b=Ce.now(),A=v.reduce(((O,q)=>O.add(q.key)),le());let C,I;return y.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let q=ta(),H=le();return y.Ns.getEntries(O,A).next((Q=>{q=Q,q.forEach(((st,at)=>{at.isValidDocument()||(H=H.add(st))}))})).next((()=>y.localDocuments.getOverlayedDocuments(O,q))).next((Q=>{C=Q;const st=[];for(const at of v){const ot=YN(at,C.get(at.key).overlayedDocument);ot!=null&&st.push(new uo(at.key,ot,Dw(ot.value.mapValue),$n.exists(!0)))}return y.mutationQueue.addMutationBatch(O,b,st,v)})).next((Q=>{I=Q;const st=Q.applyToLocalDocumentSet(C,H);return y.documentOverlayCache.saveOverlays(O,Q.batchId,st)}))})).then((()=>({batchId:I.batchId,changes:Fw(C)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(m,v,y){let b=m.Vu[m.currentUser.toKey()];b||(b=new qe(oe)),b=b.insert(v,y),m.Vu[m.currentUser.toKey()]=b})(r,l.batchId,n),await Yc(r,l.changes),await dd(r.remoteStore)}catch(l){const h=Bg(l,"Failed to persist write");n.reject(h)}}async function wE(s,t){const n=Zt(s);try{const r=await KI(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const m=n.Au.get(h);m&&(ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.hu=!0:l.modifiedDocuments.size>0?ye(m.hu,14607):l.removedDocuments.size>0&&(ye(m.hu,42227),m.hu=!1))})),await Yc(n,r,t)}catch(r){await xu(r)}}function Vb(s,t,n){const r=Zt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((h,m)=>{const v=m.view.va(t);v.snapshot&&l.push(v.snapshot)})),(function(m,v){const y=Zt(m);y.onlineState=v;let b=!1;y.queries.forEach(((A,C)=>{for(const I of C.Sa)I.va(v)&&(b=!0)})),b&&qg(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function OD(s,t,n){const r=Zt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),h=l&&l.key;if(h){let m=new qe(Pt.comparator);m=m.insert(h,Hn.newNoDocument(h,Ht.min()));const v=le().add(h),y=new cd(Ht.min(),new Map,new qe(oe),m,v);await wE(r,y),r.du=r.du.remove(h),r.Au.delete(t),Kg(r)}else await Qp(r.localStore,t,!1).then((()=>Wp(r,t,n))).catch(xu)}async function PD(s,t){const n=Zt(s),r=t.batch.batchId;try{const l=await ZI(n.localStore,t);TE(n,r,null),EE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yc(n,l)}catch(l){await xu(l)}}async function VD(s,t,n){const r=Zt(s);try{const l=await(function(m,v){const y=Zt(m);return y.persistence.runTransaction("Reject batch","readwrite-primary",(b=>{let A;return y.mutationQueue.lookupMutationBatch(b,v).next((C=>(ye(C!==null,37113),A=C.keys(),y.mutationQueue.removeMutationBatch(b,C)))).next((()=>y.mutationQueue.performConsistencyCheck(b))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(b,A,v))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,A))).next((()=>y.localDocuments.getDocuments(b,A)))}))})(r.localStore,t);TE(r,t,n),EE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Yc(r,l)}catch(l){await xu(l)}}function EE(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function TE(s,t,n){const r=Zt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Wp(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||SE(s,r)}))}function SE(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(Pg(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Kg(s))}function zb(s,t,n){for(const r of n)r instanceof vE?(s.Ru.addReference(r.key,t),zD(s,r)):r instanceof bE?(Dt(Zg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||SE(s,r.key)):Ut(19791,{wu:r})}function zD(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(Dt(Zg,"New document in limbo: "+n),s.Eu.add(r),Kg(s))}function Kg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new Pt(Le.fromString(t)),r=s.fu.next();s.Au.set(r,new CD(n)),s.du=s.du.insert(n,r),dE(s.remoteStore,new Ya(cr(sd(n.path)),r,"TargetPurposeLimboResolution",ed.ce))}}async function Yc(s,t,n){const r=Zt(s),l=[],h=[],m=[];r.Tu.isEmpty()||(r.Tu.forEach(((v,y)=>{m.push(r.pu(y,t,n).then((b=>{if((b||n)&&r.isPrimaryClient){const A=b?!b.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(b){l.push(b);const A=kg.As(y.targetId,b);h.push(A)}})))})),await Promise.all(m),r.Pu.H_(l),await(async function(y,b){const A=Zt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>mt.forEach(b,(I=>mt.forEach(I.Es,(O=>A.persistence.referenceDelegate.addReference(C,I.targetId,O))).next((()=>mt.forEach(I.ds,(O=>A.persistence.referenceDelegate.removeReference(C,I.targetId,O)))))))))}catch(C){if(!wu(C))throw C;Dt(Og,"Failed to update sequence numbers: "+C)}for(const C of b){const I=C.targetId;if(!C.fromCache){const O=A.Ms.get(I),q=O.snapshotVersion,H=O.withLastLimboFreeSnapshotVersion(q);A.Ms=A.Ms.insert(I,H)}}})(r.localStore,h))}async function jD(s,t){const n=Zt(s);if(!n.currentUser.isEqual(t)){Dt(Zg,"User change. New user:",t.toKey());const r=await uE(n.localStore,t);n.currentUser=t,(function(h,m){h.mu.forEach((v=>{v.forEach((y=>{y.reject(new Ct(ht.CANCELLED,m))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Yc(n,r.Ls)}}function UD(s,t){const n=Zt(s),r=n.Au.get(t);if(r&&r.hu)return le().add(r.key);{let l=le();const h=n.Iu.get(t);if(!h)return l;for(const m of h){const v=n.Tu.get(m);l=l.unionWith(v.view.nu)}return l}}function AE(s){const t=Zt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OD.bind(null,t),t.Pu.H_=ED.bind(null,t.eventManager),t.Pu.yu=TD.bind(null,t.eventManager),t}function BD(s){const t=Zt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VD.bind(null,t),t}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return GI(this.persistence,new FI,t.initialUser,this.serializer)}Cu(t){return new lE(Mg.mi,this.serializer)}Du(t){return new JI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class FD extends Hf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ye(this.persistence.referenceDelegate instanceof Bf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CI(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?yi.withCacheSize(this.cacheSizeBytes):yi.DEFAULT;return new lE((r=>Bf.mi(r,n)),this.serializer)}}class Jp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jD.bind(null,this.syncEngine),await bD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new wD})()}createDatastore(t){const n=hd(t.databaseInfo.databaseId),r=(function(h){return new iD(h)})(t.databaseInfo);return(function(h,m,v,y){return new oD(h,m,v,y)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,h,m,v){return new uD(r,l,h,m,v)})(this.localStore,this.datastore,t.asyncQueue,(n=>Vb(this.syncEngine,n,0)),(function(){return Db.v()?new Db:new $I})())}createSyncEngine(t,n){return(function(l,h,m,v,y,b,A){const C=new RD(l,h,m,v,y,b);return A&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Zt(n);Dt(sl,"RemoteStore shutting down."),r.Ea.add(5),await Qc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jp.provider={build:()=>new Jp};class Qg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$r("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const oo="FirestoreClient";class HD{constructor(t,n,r,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Fn.UNAUTHENTICATED,this.clientId=$f.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async m=>{Dt(oo,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(r,(m=>(Dt(oo,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Bg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function wp(s,t){s.asyncQueue.verifyOperationInProgress(),Dt(oo,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await uE(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function jb(s,t){s.asyncQueue.verifyOperationInProgress();const n=await qD(s);Dt(oo,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Mb(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Mb(t.remoteStore,l))),s._onlineComponents=t}async function qD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Dt(oo,"Using user provided OfflineComponentProvider");try{await wp(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ht.FAILED_PRECONDITION||l.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;il("Error using user provided cache. Falling back to memory cache: "+n),await wp(s,new Hf)}}else Dt(oo,"Using default OfflineComponentProvider"),await wp(s,new FD(void 0));return s._offlineComponents}async function CE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Dt(oo,"Using user provided OnlineComponentProvider"),await jb(s,s._uninitializedComponentsProvider._online)):(Dt(oo,"Using default OnlineComponentProvider"),await jb(s,new Jp))),s._onlineComponents}function GD(s){return CE(s).then((t=>t.syncEngine))}async function qf(s){const t=await CE(s),n=t.eventManager;return n.onListen=ND.bind(null,t.syncEngine),n.onUnlisten=LD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ID.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=MD.bind(null,t.syncEngine),n}function ZD(s,t,n={}){const r=new Qr;return s.asyncQueue.enqueueAndForget((async()=>(function(h,m,v,y,b){const A=new Qg({next:I=>{A.Nu(),m.enqueueAndForget((()=>Hg(h,C)));const O=I.docs.has(v);!O&&I.fromCache?b.reject(new Ct(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&I.fromCache&&y&&y.source==="server"?b.reject(new Ct(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(I)},error:I=>b.reject(I)}),C=new Gg(sd(v.path),A,{includeMetadataChanges:!0,qa:!0});return Fg(h,C)})(await qf(s),s.asyncQueue,t,n,r))),r.promise}function KD(s,t,n={}){const r=new Qr;return s.asyncQueue.enqueueAndForget((async()=>(function(h,m,v,y,b){const A=new Qg({next:I=>{A.Nu(),m.enqueueAndForget((()=>Hg(h,C))),I.fromCache&&y.source==="server"?b.reject(new Ct(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(I)},error:I=>b.reject(I)}),C=new Gg(v,A,{includeMetadataChanges:!0,qa:!0});return Fg(h,C)})(await qf(s),s.asyncQueue,t,n,r))),r.promise}function RE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Ub=new Map;const NE="firestore.googleapis.com",Bb=!0;class Fb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NE,this.ssl=Bb}else this.host=t.host,this.ssl=t.ssl??Bb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=oE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<SI)throw new Ct(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class md{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yw;switch(r.type){case"firstParty":return new iN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Ub.get(n);r&&(Dt("ComponentProvider","Removing Datastore"),Ub.delete(n),r.terminate())})(this),Promise.resolve()}}function IE(s,t,n,r={}){s=qn(s,md);const l=_u(t),h=s._getSettings(),m={...h,emulatorOptions:s._getEmulatorOptions()},v=`${t}:${n}`;l&&(Ax(`https://${v}`),Cx("Firestore",!0)),h.host!==NE&&h.host!==v&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:v,ssl:l,emulatorOptions:r};if(!$o(y,m)&&(s._setSettings(y),r.mockUserToken)){let b,A;if(typeof r.mockUserToken=="string")b=r.mockUserToken,A=Fn.MOCK_USER;else{b=TA(r.mockUserToken,s._app?.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Ct(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fn(C)}s._authCredentials=new tN(new _w(b,A))}}class ia{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ia(this.firestore,t,this._query)}}class He{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Gc(n,He._jsonSchema))return new He(t,r||null,new Pt(Le.fromString(n.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:fn("string",He._jsonSchemaVersion),referencePath:fn("string")};class Yr extends ia{constructor(t,n,r){super(t,n,sd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new Pt(t))}withConverter(t){return new Yr(this.firestore,t,this._path)}}function ea(s,t,...n){if(s=dn(s),vw("collection","path",t),s instanceof md){const r=Le.fromString(t,...n);return eb(r),new Yr(s,null,r)}{if(!(s instanceof He||s instanceof Yr))throw new Ct(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Le.fromString(t,...n));return eb(r),new Yr(s.firestore,null,r)}}function Ms(s,t,...n){if(s=dn(s),arguments.length===1&&(t=$f.newId()),vw("doc","path",t),s instanceof md){const r=Le.fromString(t,...n);return tb(r),new He(s,null,new Pt(r))}{if(!(s instanceof He||s instanceof Yr))throw new Ct(ht.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Le.fromString(t,...n));return tb(r),new He(s.firestore,s instanceof Yr?s.converter:null,new Pt(r))}}const Hb="AsyncQueue";class qb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hE(this,"async_queue_retry"),this._c=()=>{const r=xp();r&&Dt(Hb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=xp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wu(t))throw t;Dt(Hb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,$r("INTERNAL UNHANDLED ERROR: ",Gb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Ug.createAndSchedule(this,t,n,r,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Ut(47125,{Pc:Gb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Gb(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function Zb(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const h of r)if(h in l&&typeof l[h]=="function")return!0;return!1})(s,["next","error","complete"])}class Vs extends md{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new qb,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qb(t),this._firestoreClient=void 0,await t}}}function DE(s,t){const n=typeof s=="object"?s:Dx(),r=typeof s=="string"?s:Pf,l=hg(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const h=wA("firestore");h&&IE(l,...h)}return l}function Su(s){if(s._terminated)throw new Ct(ht.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||QD(s),s._firestoreClient}function QD(s){const t=s._freezeSettings(),n=(function(l,h,m,v){return new vN(l,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,RE(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new HD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}class zi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zi(Rn.fromBase64String(t))}catch(n){throw new Ct(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zi(Rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gc(t,zi._jsonSchema))return zi.fromBase64String(t.bytes)}}zi._jsonSchemaVersion="firestore/bytes/1.0",zi._jsonSchema={type:fn("string",zi._jsonSchemaVersion),bytes:fn("string")};class Au{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ct(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Xc{constructor(t){this._methodName=t}}class ks{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ct(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ct(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return oe(this._lat,t._lat)||oe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ks._jsonSchemaVersion}}static fromJSON(t){if(Gc(t,ks._jsonSchema))return new ks(t.latitude,t.longitude)}}ks._jsonSchemaVersion="firestore/geoPoint/1.0",ks._jsonSchema={type:fn("string",ks._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};class Os{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gc(t,Os._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Os(t.vectorValues);throw new Ct(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Os._jsonSchemaVersion="firestore/vectorValue/1.0",Os._jsonSchema={type:fn("string",Os._jsonSchemaVersion),vectorValues:fn("object")};const YD=/^__.*__$/;class XD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new uo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zc(t,this.data,n,this.fieldTransforms)}}class LE{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new uo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ME(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ac:s})}}class Yg{constructor(t,n,r,l,h,m){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Yg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Gf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ME(this.Ac)&&YD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class WD{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||hd(t)}Cc(t,n,r,l=!1){return new Yg({Ac:t,methodName:n,Dc:r,path:An.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wc(s){const t=s._freezeSettings(),n=hd(s._databaseId);return new WD(s._databaseId,!!t.ignoreUndefinedProperties,n)}function Xg(s,t,n,r,l,h={}){const m=s.Cc(h.merge||h.mergeFields?2:0,t,n,l);Jg("Data must be an object, but it was:",m,r);const v=PE(r,m);let y,b;if(h.merge)y=new ji(m.fieldMask),b=m.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const I=$p(t,C,n);if(!m.contains(I))throw new Ct(ht.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);zE(A,I)||A.push(I)}y=new ji(A),b=m.fieldTransforms.filter((C=>y.covers(C.field)))}else y=null,b=m.fieldTransforms;return new XD(new vi(v),y,b)}class pd extends Xc{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pd}}class Wg extends Xc{_toFieldTransform(t){return new GN(t.path,new kc)}isEqual(t){return t instanceof Wg}}function kE(s,t,n,r){const l=s.Cc(1,t,n);Jg("Data must be an object, but it was:",l,r);const h=[],m=vi.empty();lo(r,((y,b)=>{const A=$g(t,y,n);b=dn(b);const C=l.yc(A);if(b instanceof pd)h.push(A);else{const I=Jc(b,C);I!=null&&(h.push(A),m.set(A,I))}}));const v=new ji(h);return new LE(m,v,l.fieldTransforms)}function OE(s,t,n,r,l,h){const m=s.Cc(1,t,n),v=[$p(t,r,n)],y=[l];if(h.length%2!=0)throw new Ct(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)v.push($p(t,h[I])),y.push(h[I+1]);const b=[],A=vi.empty();for(let I=v.length-1;I>=0;--I)if(!zE(b,v[I])){const O=v[I];let q=y[I];q=dn(q);const H=m.yc(O);if(q instanceof pd)b.push(O);else{const Q=Jc(q,H);Q!=null&&(b.push(O),A.set(O,Q))}}const C=new ji(b);return new LE(A,C,m.fieldTransforms)}function JD(s,t,n,r=!1){return Jc(n,s.Cc(r?4:3,t))}function Jc(s,t){if(VE(s=dn(s)))return Jg("Unsupported field value:",t,s),PE(s,t);if(s instanceof Xc)return(function(r,l){if(!ME(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const h=[];let m=0;for(const v of r){let y=Jc(v,l.wc(m));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),m++}return{arrayValue:{values:h}}})(s,t)}return(function(r,l){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FN(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Ce.fromDate(r);return{timestampValue:Uf(l.serializer,h)}}if(r instanceof Ce){const h=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uf(l.serializer,h)}}if(r instanceof ks)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zi)return{bytesValue:tE(l.serializer,r._byteString)};if(r instanceof He){const h=l.databaseId,m=r.firestore._databaseId;if(!m.isEqual(h))throw l.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Dg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Os)return(function(m,v){return{mapValue:{fields:{[Nw]:{stringValue:Iw},[Vf]:{arrayValue:{values:m.toArray().map((b=>{if(typeof b!="number")throw v.Sc("VectorValues must only contain numeric values.");return Rg(v.serializer,b)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${td(r)}`)})(s,t)}function PE(s,t){const n={};return Ew(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lo(s,((r,l)=>{const h=Jc(l,t.mc(r));h!=null&&(n[r]=h)})),{mapValue:{fields:n}}}function VE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ce||s instanceof ks||s instanceof zi||s instanceof He||s instanceof Xc||s instanceof Os)}function Jg(s,t,n){if(!VE(n)||!xw(n)){const r=td(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function $p(s,t,n){if((t=dn(t))instanceof Au)return t._internalPath;if(typeof t=="string")return $g(s,t);throw Gf("Field path arguments must be of type string or ",s,!1,void 0,n)}const $D=new RegExp("[~\\*/\\[\\]]");function $g(s,t,n){if(t.search($D)>=0)throw Gf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Au(...t.split("."))._internalPath}catch{throw Gf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Gf(s,t,n,r,l){const h=r&&!r.isEmpty(),m=l!==void 0;let v=`Function ${t}() called with invalid data`;n&&(v+=" (via `toFirestore()`)"),v+=". ";let y="";return(h||m)&&(y+=" (found",h&&(y+=` in field ${r}`),m&&(y+=` in document ${l}`),y+=")"),new Ct(ht.INVALID_ARGUMENT,v+s+y)}function zE(s,t){return s.some((n=>n.isEqual(t)))}class jE{constructor(t,n,r,l,h){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(gd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tL extends jE{data(){return super.data()}}function gd(s,t){return typeof t=="string"?$g(s,t):t instanceof Au?t._internalPath:t._delegate._internalPath}function UE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ct(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t_{}class e_ extends t_{}function fu(s,t,...n){let r=[];t instanceof t_&&r.push(t),r=r.concat(n),(function(h){const m=h.filter((y=>y instanceof _d)).length,v=h.filter((y=>y instanceof $c)).length;if(m>1||m>0&&v>0)throw new Ct(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class $c extends e_{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new $c(t,n,r)}_apply(t){const n=this._parse(t);return FE(t._query,n),new ia(t.firestore,t.converter,Fp(t._query,n))}_parse(t){const n=Wc(t.firestore);return(function(h,m,v,y,b,A,C){let I;if(b.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new Ct(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Qb(C,A);const q=[];for(const H of C)q.push(Kb(y,h,H));I={arrayValue:{values:q}}}else I=Kb(y,h,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Qb(C,A),I=JD(v,m,C,A==="in"||A==="not-in");return hn.create(b,A,I)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function du(s,t,n){const r=t,l=gd("where",s);return $c._create(l,r,n)}class _d extends t_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new _d(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ps.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let m=l;const v=h.getFlattenedFilters();for(const y of v)FE(m,y),m=Fp(m,y)})(t._query,n),new ia(t.firestore,t.converter,Fp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yd extends e_{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new yd(t,n)}_apply(t){const n=(function(l,h,m){if(l.startAt!==null)throw new Ct(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ct(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mc(h,m)})(t._query,this._field,this._direction);return new ia(t.firestore,t.converter,(function(l,h){const m=l.explicitOrderBy.concat([h]);return new Eu(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function BE(s,t="asc"){const n=t,r=gd("orderBy",s);return yd._create(r,n)}function Kb(s,t,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new Ct(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zw(t)&&n.indexOf("/")!==-1)throw new Ct(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Le.fromString(n));if(!Pt.isDocumentKey(r))throw new Ct(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ub(s,new Pt(r))}if(n instanceof He)return ub(s,n._key);throw new Ct(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(n)}.`)}function Qb(s,t){if(!Array.isArray(s)||s.length===0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function FE(s,t){const n=(function(l,h){for(const m of l)for(const v of m.getFlattenedFilters())if(h.indexOf(v.op)>=0)return v.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Ct(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ct(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class HE{convertValue(t,n="none"){switch(ro(t)){case 0:return null;case 1:return t.booleanValue;case 2:return en(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(so(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return lo(t,((l,h)=>{r[l]=this.convertValue(h,n)})),r}convertVectorValue(t){const n=t.fields?.[Vf].arrayValue?.values?.map((r=>en(r.doubleValue)));return new Os(n)}convertGeoPoint(t){return new ks(en(t.latitude),en(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=id(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(t));default:return null}}convertTimestamp(t){const n=io(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Le.fromString(t);ye(aE(r),9688,{name:t});const l=new ou(r.get(1),r.get(3)),h=new Pt(r.popFirst(5));return l.isEqual(n)||$r(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}function n_(s,t,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,r}class $l{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class to extends jE{constructor(t,n,r,l,h,m){super(t,n,r,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(gd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=to._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}to._jsonSchemaVersion="firestore/documentSnapshot/1.0",to._jsonSchema={type:fn("string",to._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class Ac extends to{data(t={}){return super.data(t)}}class eo{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new $l(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Ac(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ct(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((v=>{const y=new Ac(l._firestore,l._userDataWriter,v.doc.key,v.doc,new $l(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>h||v.type!==3)).map((v=>{const y=new Ac(l._firestore,l._userDataWriter,v.doc.key,v.doc,new $l(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let b=-1,A=-1;return v.type!==0&&(b=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),v.type!==1&&(m=m.add(v.doc),A=m.indexOf(v.doc.key)),{type:eL(v.type),doc:y,oldIndex:b,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$f.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function eL(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:s})}}function Vc(s){s=qn(s,He);const t=qn(s.firestore,Vs);return ZD(Su(t),s._key).then((n=>QE(t,s,n)))}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:fn("string",eo._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class i_ extends HE{constructor(t){super(),this.firestore=t}convertBytes(t){return new zi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,n)}}function rl(s){s=qn(s,ia);const t=qn(s.firestore,Vs),n=Su(t),r=new i_(t);return UE(s._query),KD(n,s._query).then((l=>new eo(t,r,s,l)))}function s_(s,t,n){s=qn(s,He);const r=qn(s.firestore,Vs),l=n_(s.converter,t,n);return Cu(r,[Xg(Wc(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,$n.none())])}function qE(s,t,n,...r){s=qn(s,He);const l=qn(s.firestore,Vs),h=Wc(l);let m;return m=typeof(t=dn(t))=="string"||t instanceof Au?OE(h,"updateDoc",s._key,t,n,r):kE(h,"updateDoc",s._key,t),Cu(l,[m.toMutation(s._key,$n.exists(!0))])}function GE(s){return Cu(qn(s.firestore,Vs),[new ud(s._key,$n.none())])}function ZE(s,t){const n=qn(s.firestore,Vs),r=Ms(s),l=n_(s.converter,t);return Cu(n,[Xg(Wc(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then((()=>r))}function KE(s,...t){s=dn(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Zb(t[r])||(n=t[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Zb(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let h,m,v;if(s instanceof He)m=qn(s.firestore,Vs),v=sd(s._key.path),h={next:y=>{t[r]&&t[r](QE(m,s,y))},error:t[r+1],complete:t[r+2]};else{const y=qn(s,ia);m=qn(y.firestore,Vs),v=y._query;const b=new i_(m);h={next:A=>{t[r]&&t[r](new eo(m,b,y,A))},error:t[r+1],complete:t[r+2]},UE(s._query)}return(function(b,A,C,I){const O=new Qg(I),q=new Gg(A,O,C);return b.asyncQueue.enqueueAndForget((async()=>Fg(await qf(b),q))),()=>{O.Nu(),b.asyncQueue.enqueueAndForget((async()=>Hg(await qf(b),q)))}})(Su(m),v,l,h)}function Cu(s,t){return(function(r,l){const h=new Qr;return r.asyncQueue.enqueueAndForget((async()=>kD(await GD(r),l,h))),h.promise})(Su(s),t)}function QE(s,t,n){const r=n.docs.get(t._key),l=new i_(s);return new to(s,l,t._key,r,new $l(n.hasPendingWrites,n.fromCache),t.converter)}class YE{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Wc(t)}set(t,n,r){this._verifyNotCommitted();const l=Ep(t,this._firestore),h=n_(l.converter,n,r),m=Xg(this._dataReader,"WriteBatch.set",l._key,h,l.converter!==null,r);return this._mutations.push(m.toMutation(l._key,$n.none())),this}update(t,n,r,...l){this._verifyNotCommitted();const h=Ep(t,this._firestore);let m;return m=typeof(n=dn(n))=="string"||n instanceof Au?OE(this._dataReader,"WriteBatch.update",h._key,n,r,l):kE(this._dataReader,"WriteBatch.update",h._key,n),this._mutations.push(m.toMutation(h._key,$n.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Ep(t,this._firestore);return this._mutations=this._mutations.concat(new ud(n._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ct(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ep(s,t){if((s=dn(s)).firestore!==t)throw new Ct(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function XE(){return new Wg("serverTimestamp")}function WE(s){return Su(s=qn(s,Vs)),new YE(s,(t=>Cu(s,t)))}(function(t,n=!0){(function(l){bu=l})(yu),su(new tl("firestore",((r,{instanceIdentifier:l,options:h})=>{const m=r.getProvider("app").getImmediate(),v=new Vs(new eN(r.getProvider("auth-internal")),new sN(m,r.getProvider("app-check-internal")),(function(b,A){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new Ct(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(b.options.projectId,A)})(m,l),m);return h={useFetchStreams:n,...h},v._setSettings(h),v}),"PUBLIC").setMultipleInstances(!0)),Ja(X0,W0,t),Ja(X0,W0,"esm2020")})();const nL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:HE,Bytes:zi,CollectionReference:Yr,DocumentReference:He,DocumentSnapshot:to,FieldPath:Au,FieldValue:Xc,Firestore:Vs,FirestoreError:Ct,GeoPoint:ks,Query:ia,QueryCompositeFilterConstraint:_d,QueryConstraint:e_,QueryDocumentSnapshot:Ac,QueryFieldFilterConstraint:$c,QueryOrderByConstraint:yd,QuerySnapshot:eo,SnapshotMetadata:$l,Timestamp:Ce,VectorValue:Os,WriteBatch:YE,_AutoId:$f,_ByteString:Rn,_DatabaseId:ou,_DocumentKey:Pt,_EmptyAuthCredentialsProvider:yw,_FieldPath:An,_cast:qn,_logWarn:il,_validateIsNotUsedTogether:bw,addDoc:ZE,collection:ea,connectFirestoreEmulator:IE,deleteDoc:GE,doc:Ms,ensureFirestoreConfigured:Su,executeWrite:Cu,getDoc:Vc,getDocs:rl,getFirestore:DE,onSnapshot:KE,orderBy:BE,query:fu,serverTimestamp:XE,setDoc:s_,updateDoc:qE,where:du,writeBatch:WE},Symbol.toStringTag,{value:"Module"})),iL={apiKey:"AIzaSyDyPzPk6CZBJ0armWcK145KnQg4X2EJ1Gc",authDomain:"la-nba.firebaseapp.com",projectId:"la-nba",storageBucket:"la-nba.firebasestorage.app",messagingSenderId:"222296057914",appId:"1:222296057914:web:3f3702623b48f6506aed03"},JE=Ix(iL),Tp=XR(JE),sL=new qr,Cn=DE(JE),$E=B.createContext();function pr(){return B.useContext($E)}function rL({children:s}){const[t,n]=B.useState(null),[r,l]=B.useState(!0);function h(){return rR(Tp,sL)}function m(){return jC(Tp)}B.useEffect(()=>zC(Tp,b=>{n(b),l(!1)}),[]);const v={currentUser:t,login:h,logout:m};return w.jsx($E.Provider,{value:v,children:!r&&s})}const tT=B.createContext();function r_(){return B.useContext(tT)}function aL({children:s}){const{currentUser:t}=pr(),[n,r]=B.useState({}),[l,h]=B.useState([]),[m,v]=B.useState(!0);B.useEffect(()=>{async function b(){if(t)try{const A=await rl(ea(Cn,"users")),C=[],I={};A.forEach(O=>{const q={id:O.id,...O.data()};C.push(q),I[O.id]=q}),r(I),h(C)}catch(A){console.error("Error fetching users:",A)}finally{v(!1)}}b()},[t]);const y={users:n,usersList:l,loading:m};return w.jsx(tT.Provider,{value:y,children:s})}const oL=JSON.parse(`[{"id":1,"date":"2026-02-18","weekday":"Wednesday","title":"","location":"San Gabriel","weather":"Sunny 72F","events":[{"time":"16:50","title":"Arrive ONT Airport","description":"","location":"Ontario International Airport","mapLink":"https://www.google.com/maps/@34.0559976,-117.6006671,17z?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"flight_land"},{"time":"18:00","title":"Pick up Rental Car","description":" Rental Car Center ","location":"Rental Car Center","mapLink":"","icon":"directions_car"},{"time":"19:00","title":"Check-in Airbnb","description":"8753 East Arcadia Avenue, San Gabriel, CA 91775","location":"8753 East Arcadia Avenue, San Gabriel","mapLink":"https://www.google.com/maps/place/8753+E+Arcadia+Ave,+San+Gabriel,+CA+91775%E7%BE%8E%E5%9C%8B/@34.1254364,-118.0776999,17z/data=!3m1!4b1!4m5!3m4!1s0x80c2db121b2a8ea5:0xe1b50a082194721d!8m2!3d34.1254364!4d-118.0776999?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"home"},{"time":"20:00","title":"Dinner: Golden Deli / 101 Noodle Express","description":"(Golden Deli)  (101 Noodle Express)","location":"San Gabriel","mapLink":"","icon":"restaurant"}]},{"id":2,"date":"2026-02-19","weekday":"Thursday","title":"Pasadena  & ","location":"Pasadena","weather":"Sunny 75F","events":[{"time":"10:00","title":"Breakfast: Russell's","description":"Pasadena  Russell's","location":"Pasadena","mapLink":"https://www.google.com/maps/place/Russell's/@34.1465303,-118.1503345,17z/data=!4m6!3m5!1s0x80c2c37175240819:0xa7723f1c9d7a79f3!8m2!3d34.1465303!4d-118.1503345!16s%2Fg%2F1tfwdr_b?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"coffee"},{"time":"11:00","title":"The Huntington Library","description":" & ","location":"The Huntington","mapLink":"https://www.google.com/maps/place/%E6%BC%A2%E5%BA%AD%E9%A0%93%E5%9C%96%E6%9B%B8%E9%A4%A8/@34.1290452,-118.1145242,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2db4d02615c73:0xb328d70c295f1904!8m2!3d34.1290452!4d-118.1145242!16zL20vMDFtcjBr?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"local_library"},{"time":"14:00","title":"Old Pasadena Shopping","description":" Colorado Blvd ","location":"Colorado Blvd","mapLink":"","icon":"shopping_bag"},{"time":"16:00","title":"Trader Joe's","description":"(South Pasadena) /","location":"South Pasadena","mapLink":"https://www.google.com/maps/search/Trader+Joe's+South+Pasadena/@34.1141032,-118.157228,16z/data=!3m1!4b1?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"shopping_cart"},{"time":"17:30","title":"Super King Market","description":"(Altadena) ","location":"Altadena","mapLink":"https://www.google.com/maps/place/Super+King+Market/@34.1846991,-118.1595127,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c25899a57b05:0xa20b9c5d1873f201!8m2!3d34.1846991!4d-118.1595127!16s%2Fg%2F1tp8_9j0?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"store"},{"time":"19:00","title":"Dinner: Sam Woo BBQ / Boiling Point","description":" San Gabriel ","location":"San Gabriel","mapLink":"","icon":"restaurant"}]},{"id":3,"date":"2026-02-20","weekday":"Friday","title":" GAME DAY - DTLA & Hollywood","location":"DTLA / Hollywood","weather":"Sunny 74F","events":[{"time":"09:30","title":"Breakfast: Eggslut","description":"Grand Central Market  (Eggslut)","location":"Grand Central Market","mapLink":"https://www.google.com/maps/place/Grand+Central+Market/@34.050872,-118.2490552,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c64b8e4372e7:0x489d4efdeb06d3d8!8m2!3d34.050872!4d-118.2490552!16zL20vMDdmN3M5?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"egg_alt"},{"time":"11:30","title":"Beverly Hills & Rodeo Drive","description":" Rodeo Drive ","location":"Beverly Hills","mapLink":"","icon":"diamond"},{"time":"12:30","title":"Lunch: Pink's Hot Dogs","description":" (Pink's Hot Dogs)","location":"Pink's Hot Dogs","mapLink":"https://www.google.com/maps/place/Pink's+Hot+Dogs/@35.8047311,-175.7075714,4z/data=!4m6!3m5!1s0x80c2bf2accdf0857:0x28baab47a2ca58e0!8m2!3d34.0838505!4d-118.3442797!16zL20vMGN4Njcy?entry=ttu&g_ep=EgoyMDI2MDExNS4wIKXMDSoASAFQAw%3D%3D","icon":"fastfood"},{"time":"13:30","title":"The Grove / Farmers Market","description":" The Grove ","location":"The Grove","mapLink":"","icon":"lunch_dining"},{"time":"15:00","title":"Hollywood Walk of Fame","description":"","location":"Hollywood Blvd","mapLink":"","icon":"star"},{"time":"16:30","title":"Head to Arena (Parking)","description":" Crypto.com Arena","location":"Crypto.com Arena","mapLink":"https://www.google.com/maps/place/%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3%E7%B6%B2%E9%AB%94%E8%82%B2%E9%A4%A8/@34.0430175,-118.2672541,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c7b85dea2a93:0x1ff47c3ceb7bb2d5!8m2!3d34.0430175!4d-118.2672541!16zL20vMDJrazVz?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"directions_car"},{"time":"19:00","title":"Lakers vs Clippers","description":" (GAME START)","location":"Crypto.com Arena","mapLink":"","icon":"sports_basketball"},{"time":"22:00","title":"Return to San Gabriel","description":" San Gabriel ","location":"San Gabriel","mapLink":"https://www.google.com/maps/place/8753+E+Arcadia+Ave,+San+Gabriel,+CA+91775%E7%BE%8E%E5%9C%8B/@34.1254364,-118.0776999,17z/data=!3m1!4b1!4m5!3m4!1s0x80c2db121b2a8ea5:0xe1b50a082194721d!8m2!3d34.1254364!4d-118.0776999?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"home"}]},{"id":4,"date":"2026-02-21","weekday":"Saturday","title":"","location":"Universal City","weather":"Sunny 70F","events":[{"time":"09:00","title":"Universal Studios","description":"","location":"Universal City","mapLink":"https://www.google.com/maps/place/%E5%A5%BD%E8%90%8A%E5%A1%A2%E7%92%B0%E7%90%83%E5%BD%B1%E5%9F%8E/@34.1370756,-118.358177,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2be4f253238cf:0xd3dd5027799c9a71!8m2!3d34.1370713!4d-118.3533061!16zL20vMDVxc3k4?entry=tts&g_ep=EgoyMDI2MDExMy4wIPu8ASoASAFQAw%3D%3D&skid=1b3f85f7-56a0-4a7c-b9a0-d5ed0e3c5d20","icon":"movie"}]},{"id":5,"date":"2026-02-22","weekday":"Sunday","title":" Las Vegas","location":"Las Vegas","weather":"Sunny 65F","events":[{"time":"10:00","title":"Checkout Airbnb","description":"","location":"San Gabriel","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Brunch: Yi Mei Deli","description":" San Gabriel  (: )","location":"San Gabriel","mapLink":"","icon":"breakfast_dining"},{"time":"12:30","title":"Drive to Las Vegas","description":" Las Vegas 4 ","location":"I-15 North","mapLink":"","icon":"directions_car"},{"time":"14:30","title":"Stop: Barstow Outlets","description":" Outlets at Barstow /","location":"Barstow","mapLink":"https://www.google.com/maps/search/?api=1&query=Outlets+at+Barstow","icon":"shopping_bag"},{"time":"17:30","title":"Check-in: Treasure Island / Luxor","description":" Las Vegas","location":"Las Vegas Strip","mapLink":"","icon":"hotel"},{"time":"19:00","title":"The Strip Walk & Dinner","description":" Bellagio Venetian Sphere ","location":"Las Vegas Blvd","mapLink":"","icon":"nightlife"}]},{"id":6,"date":"2026-02-23","weekday":"Monday","title":"  (KKday Tour)","location":"Grand Canyon / Las Vegas","weather":"Sunny 50F","events":[{"time":"06:00","title":"Tour Pickup","description":" KKday Grand Canyon South Rim ","location":"Hotel Lobby","mapLink":"","icon":"directions_bus"},{"time":"13:00","title":"Grand Canyon South Rim","description":" (Mather Point, Yavapai Point)","location":"Grand Canyon National Park","mapLink":"","icon":"landscape"},{"time":"20:30","title":"Return to Las Vegas","description":" Las Vegas ","location":"Las Vegas","mapLink":"","icon":"home"},{"time":"21:00","title":"Dinner: In-N-Out / Buffet","description":" In-N-Out  Buffet","location":"Las Vegas","mapLink":"","icon":"fastfood"}]},{"id":7,"date":"2026-02-24","weekday":"Tuesday","title":" & ","location":"Ontario","weather":"Sunny 72F","events":[{"time":"10:30","title":"Checkout Hotel","description":"","location":"Las Vegas","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Seven Magic Mountains","description":" (Seven Magic Mountains) ","location":"S Las Vegas Blvd","mapLink":"https://www.google.com/maps/place/Seven+Magic+Mountains/@35.8392389,-115.270961,17z/data=!3m1!4b1!4m6!3m5!1s0x80cf35779dba7553:0x91f1fabf13d53cdd!8m2!3d35.8392389!4d-115.270961!16s%2Fg%2F11cn5s05x0?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"photo_camera"},{"time":"13:00","title":"Drive to Ontario","description":" Ontario 3.5 - 4 ","location":"I-15 South","mapLink":"","icon":"directions_car"},{"time":"16:00","title":"Ontario Mills Outlets","description":" Outlet ","location":"Ontario","mapLink":"https://www.google.com/maps/place/Ontario+Mills/@34.0729887,-117.5545679,17z/data=!3m1!4b1!4m6!3m5!1s0x80c33582234a6999:0x2c606dc846c3f534!8m2!3d34.0729843!4d-117.551993!16zL20vMDJoeXgw?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"shopping_bag"},{"time":"19:00","title":"Check-in: Hotel d'Lins","description":" Hotel d'Lins Ontario Airport","location":"3400 Shelby St, Ontario, CA 91764","mapLink":"","icon":"hotel"}]},{"id":8,"date":"2026-02-25","weekday":"Wednesday","title":"","location":"ONT Airport","weather":"Sunny 72F","events":[{"time":"10:00","title":"Checkout","description":" Hotel d'Lins ","location":"Hotel d'Lins","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Rancho Santa Ana Botanic Garden","description":" Claremont ","location":"Claremont","mapLink":"https://www.google.com/maps/place/California+Botanic+Garden/@34.1107605,-117.713958,17z/data=!3m1!4b1!4m6!3m5!1s0x80c331ca6d3842ff:0x8a008e9e0e1050cc!8m2!3d34.1107605!4d-117.713958!16zL20vMDV0Ym43?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"park"},{"time":"15:00","title":"Early Dinner / Last Shopping","description":"","location":"Ontario","mapLink":"","icon":"restaurant"},{"time":"19:30","title":"Return Rental Car","description":" ONT Rental Car Center ","location":"ONT Rental Car Center","mapLink":"","icon":"no_crash"},{"time":"20:30","title":"Airport Check-in","description":"","location":"ONT Airport","mapLink":"","icon":"flight_takeoff"},{"time":"22:50","title":"Flight CI23 Departure","description":" CI23 ","location":"ONT Airport","mapLink":"","icon":"airplanemode_active"}]}]`),eT=B.createContext();function vd(){return B.useContext(eT)}function lL({children:s}){const{currentUser:t}=pr(),[n,r]=B.useState([]),[l,h]=B.useState(!0);B.useEffect(()=>{const O=localStorage.getItem("cached_schedule");O?(r(JSON.parse(O)),h(!1)):(r(oL),h(!1))},[]),B.useEffect(()=>{if(!t)return;async function O(){try{const q=await rl(ea(Cn,"itinerary"));if(!q.empty){const H=q.docs.map(Q=>({id:parseInt(Q.id),...Q.data()}));H.sort((Q,st)=>Q.id-st.id),r(H),localStorage.setItem("cached_schedule",JSON.stringify(H))}}catch(q){console.error("Error fetching schedule:",q)}}O()},[t]);const m=O=>n.find(q=>q.id===parseInt(O)),v=async O=>{const q=n.map(H=>H.id===O.id?O:H);if(r(q),localStorage.setItem("cached_schedule",JSON.stringify(q)),t)try{await s_(Ms(Cn,"itinerary",O.id.toString()),O)}catch(H){console.error("Error updating day in Firestore:",H)}},I={schedule:n,getDay:m,addEvent:(O,q)=>{const H=m(O);if(!H)return;const Q=[...H.events,q];Q.sort((at,ot)=>at.time.localeCompare(ot.time));const st={...H,events:Q};v(st)},updateEvent:(O,q,H)=>{const Q=m(O);if(!Q)return;const st=[...Q.events];st[q]=H,st.sort((ot,pt)=>ot.time.localeCompare(pt.time));const at={...Q,events:st};v(at)},deleteEvent:(O,q)=>{const H=m(O);if(!H)return;const Q=H.events.filter((at,ot)=>ot!==q),st={...H,events:Q};v(st)},syncToFirestore:async()=>{if(!t){alert("You must be logged in to sync.");return}try{const O=WE(Cn);n.forEach(q=>{const H=Ms(Cn,"itinerary",q.id.toString());O.set(H,q)}),await O.commit(),alert("Successfully synced schedule to cloud!")}catch(O){console.error("Error syncing to Firestore:",O),alert("Failed to sync. Check console.")}},loading:l};return w.jsx(eT.Provider,{value:I,children:s})}function Hr({children:s}){const{currentUser:t}=pr();return t?s:w.jsx(DS,{to:"/"})}function uL(){const{login:s,currentUser:t}=pr(),n=Bi();B.useEffect(()=>{t&&n("/overview")},[t,n]);const r=async()=>{try{const h=(await s()).user;await s_(Ms(Cn,"users",h.uid),{uid:h.uid,displayName:h.displayName,email:h.email,photoURL:h.photoURL,lastLogin:new Date},{merge:!0}),n("/overview")}catch(l){console.error("Failed to log in",l)}};return w.jsxs("div",{className:"relative h-[100dvh] w-full flex flex-col bg-background-dark max-w-[430px] mx-auto overflow-hidden text-white antialiased",children:[w.jsx("div",{className:"absolute inset-0 z-0",children:w.jsx("div",{className:"w-full h-full bg-center bg-cover opacity-60",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuCyFS12cE_tdsJCcYWBRFI5_dm4dNftwFwFHYBIONKZS--oHxvHki6fjPcsSzItxp2gr4YdIXhoDMEaUcsmgn373vc9cOULt-X_WDUabdSxzEvu-hC_koF5HudSf_pDLhLH-gWulGmvAVBYrUkDsrJF6_P1OOrhkvFjQRfWVm3rTqC3DatZIQZjAwbA6o7p4DTEs8F4UPEbruOBnGn6dYXWvgvN7reYe2J4AgIoDAaLmr91Eq9tdNk5BZ-D8MT_7Ite6qHXL3RUYOQ")'},children:w.jsx("div",{className:"absolute inset-0 bg-overlay"})})}),w.jsxs("div",{className:"relative z-10 flex flex-col h-full px-6 pt-16 pb-8",children:[" ",w.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center",children:[w.jsx("div",{className:"mb-8 inline-flex p-4 rounded-3xl bg-lakers-gold/10 border border-lakers-gold/30 backdrop-blur-md",children:w.jsx("span",{className:"material-symbols-outlined text-lakers-gold text-5xl",children:"sports_basketball"})}),w.jsxs("h1",{className:"font-display font-bold text-6xl tracking-tight mb-4 text-glow",children:["",w.jsx("br",{}),"LA",w.jsx("span",{className:"text-lakers-gold italic",children:" BRON JAMES"})]})]}),w.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-10",children:[w.jsx("div",{className:"glass-panel rounded-2xl p-6 shadow-2xl",children:w.jsx("div",{className:"space-y-6",children:w.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-4 bg-lakers-gold text-lakers-purple font-bold h-14 rounded-xl active:scale-[0.98] transition-all shadow-[0_0_20px_rgba(253,185,39,0.3)]",children:[w.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[w.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"currentColor",fillOpacity:"0.8"}),w.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"currentColor",fillOpacity:"0.8"}),w.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"currentColor",fillOpacity:"0.8"}),w.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 12-4.53z",fill:"currentColor",fillOpacity:"0.8"})]}),w.jsx("span",{className:"text-base",children:"Continue with Google"})]})})}),w.jsx("div",{className:"pt-4 flex justify-center opacity-20",children:w.jsx("div",{className:"h-1.5 w-32 bg-lakers-gold rounded-full"})})]})]})]})}function sa(){const s=Bi(),t=mr(),n=l=>t.pathname.startsWith(l),r=[{id:"dashboard",label:"Dashboard",icon:"space_dashboard",path:"/overview"},{id:"add-expense",label:"Add Expense",icon:"payments",path:"/add-expense"}];return w.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-[#121212] border-t border-white/10 px-10 pb-8 pt-3 flex justify-around items-center z-50 max-w-[430px] mx-auto",children:r.map(l=>w.jsxs("button",{onClick:()=>s(l.path),className:`flex flex-col items-center justify-center w-20 transition-all duration-200 active:scale-90 ${n(l.path)?"text-[#FDB927]":"text-white/30 hover:text-white/60"}`,children:[w.jsx("div",{className:`mb-1 ${n(l.path)?"drop-shadow-[0_0_8px_rgba(253,185,39,0.4)]":""}`,children:w.jsx("span",{className:"material-symbols-outlined text-2xl fill-icon",children:l.icon})}),w.jsx("span",{className:"text-[10px] font-black uppercase italic tracking-widest text-center leading-none",children:l.label}),n(l.path)&&w.jsx("div",{className:"absolute -bottom-1 w-1 h-1 bg-[#FDB927] rounded-full shadow-[0_0_5px_#FDB927]"})]},l.id))})}function nT(s){return s==null?0:Math.round((s-32)*5/9)}function cL(){const s=Bi(),{currentUser:t,logout:n}=pr(),{schedule:r}=vd(),[l,h]=B.useState(0),[m,v]=B.useState(null),[y,b]=B.useState("Loading..."),A=async()=>{if(window.confirm("Are you sure you want to log out?"))try{await n(),s("/")}catch(C){console.error("Failed to log out",C)}};return B.useEffect(()=>{async function C(){if(t)try{const I=fu(ea(Cn,"expenses"),du("paidBy","==",t.uid)),O=await rl(I),q=fu(ea(Cn,"expenses"),du("splitWith","array-contains",t.uid)),H=await rl(q);let Q=0;const st=ot=>{const pt=ot.data(),xt=parseFloat(pt.amount)||0,Rt=pt.currency||"USD",M=(pt.splitWith||[]).length+1,P=xt/M;Rt==="TWD"?Q+=P/32:Q+=P},at=new Set;O.forEach(ot=>{at.has(ot.id)||(st(ot),at.add(ot.id))}),H.forEach(ot=>{at.has(ot.id)||(st(ot),at.add(ot.id))}),h(Q)}catch(I){console.error("Error fetching expenses:",I)}}C(),C()},[t]),B.useEffect(()=>{async function C(){try{const O=await(await fetch("https://api.open-meteo.com/v1/forecast?latitude=34.0522&longitude=-118.2437&current_weather=true&temperature_unit=fahrenheit&daily=sunset&timezone=America%2FLos_Angeles")).json();if(v(O.current_weather),O.daily&&O.daily.sunset&&O.daily.sunset.length>0){const q=new Date(O.daily.sunset[0]),st=new Date(q.getTime()-3600*1e3)-new Date,at=Math.floor(st/6e4);if(at>0){const ot=Math.floor(at/60),pt=at%60;b(`Starts in ${ot}h ${pt}m`)}else at>-60?b("Happening Now!"):b("Ended for today")}}catch(I){console.error("Failed to fetch weather",I),b("Unavailable")}}C()},[]),w.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-28 font-display shadow-2xl",children:[w.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-lakers-purple ios-blur p-4 border-b border-primary/20",children:[w.jsx("div",{className:"flex size-10 items-center justify-center cursor-pointer active:opacity-50 transition-opacity",children:w.jsx("span",{className:"material-symbols-outlined text-primary",children:"chevron_left"})}),w.jsx("h1",{className:"text-primary text-base font-extrabold flex-1 text-center tracking-tight uppercase",children:"LA Trip Overview"}),w.jsx("div",{onClick:A,className:"flex size-10 items-center justify-center cursor-pointer hover:opacity-80 transition-opacity",title:"Click to Logout",children:t?.photoURL?w.jsx("img",{src:t.photoURL,alt:"User",className:"size-8 rounded-full border-2 border-primary shadow-lg"}):w.jsx("button",{className:"size-8 rounded-full bg-primary text-lakers-purple flex items-center justify-center border-2 border-primary shadow-lg",children:w.jsx("span",{className:"material-symbols-outlined text-[20px] fill-icon",children:"person"})})})]}),w.jsxs("main",{className:"flex-1 px-5 pt-6 space-y-6",children:[w.jsx("section",{children:w.jsxs("div",{className:"relative rounded-2xl bg-card-dark border-4 border-primary overflow-hidden shadow-2xl",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 z-20",children:w.jsxs("div",{className:"flex items-center gap-1 bg-lakers-purple/90 px-2 py-1 rounded-full border border-primary/30",children:[w.jsx("span",{className:"material-symbols-outlined text-primary text-[14px]",children:"sync_alt"}),w.jsx("span",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:"USD / TWD"})]})}),w.jsx("div",{className:"relative w-full h-32 bg-center bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBbIfNtpxEJBkZ8nYoWabGRJZepciIRWK4jMVZPfjItvYa9li7pRYX8TrXIArgl87Yh5Djf_pEfmr2eoPqW639TGnFeWm1r_ysOIOaQQqGTVrJJjwadrfrB5b95zhiANEEoHRW2FyWshCDf1NoPpUapy6OL41TA8a18js9_Fr-xuM8NOXE1PF8U-6O7Jmwvl0b8Qnj9tgGZxzjVmHu1Bc4Iu4KbnV02UfiX1yKMc3IxFtk8NDEOTFYIUZ86hblVP0Twpk_vhw7yA00")'},children:w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card-dark via-card-dark/20 to-transparent"})}),w.jsxs("div",{className:"px-5 pb-5 -mt-6 relative z-10 flex flex-col",children:[w.jsx("span",{className:"text-lakers-purple text-[11px] font-black tracking-[0.15em] uppercase mb-1 bg-primary/90 self-start px-2 py-0.5 rounded",children:"Total My Expenses"}),w.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[w.jsxs("div",{className:"flex items-baseline gap-2",children:[w.jsxs("p",{className:"text-lakers-purple text-4xl font-black tracking-tighter",children:["$",l.toFixed(2)]}),w.jsx("span",{className:"text-lakers-purple/60 text-sm font-bold",children:"USD"})]}),w.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[w.jsx("span",{className:"material-symbols-outlined text-[16px] text-lakers-purple/50",children:"payments"}),w.jsxs("p",{className:"text-lakers-purple/80 text-xl font-bold leading-none",children:[" NT$ ",(l*32).toLocaleString()]}),w.jsx("span",{className:"text-lakers-purple/40 text-[10px] font-bold uppercase tracking-tighter",children:"TWD"})]})]}),w.jsx("button",{onClick:()=>s("/expenses"),className:"mt-5 w-full bg-primary text-lakers-purple py-4 rounded-xl font-black text-xs uppercase tracking-widest active:scale-[0.98] transition-transform shadow-lg border-b-4 border-yellow-600",children:"View Expense Details"})]})]})}),w.jsx("section",{className:"grid grid-cols-1 gap-4",children:w.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-br from-lakers-purple to-[#3b1a5a] p-5 rounded-2xl border border-primary/20 shadow-xl",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"size-14 bg-primary rounded-2xl flex items-center justify-center shadow-inner",children:w.jsx("span",{className:"material-symbols-outlined text-lakers-purple text-4xl fill-icon",children:"partly_cloudy_day"})}),w.jsxs("div",{children:[w.jsxs("p",{className:"text-white text-xl font-black",children:[m?w.jsxs(w.Fragment,{children:[Math.round(m.temperature),"F ",w.jsxs("span",{className:"text-base font-normal opacity-60",children:["/ ",nT(m.temperature),"C"]})]}):"--",w.jsx("span",{className:"text-primary font-medium ml-1",children:m?"Current":"Loading..."})]}),w.jsxs("p",{className:"text-primary/70 text-[11px] font-bold flex items-center gap-1 uppercase tracking-wider",children:[w.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"location_on"})," Los Angeles, CA"]})]})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-primary text-[10px] font-black uppercase tracking-wider mb-1",children:"Golden Hour"}),w.jsx("p",{className:"text-white/90 text-xs font-bold",children:y})]})]})}),w.jsxs("div",{className:"flex items-center justify-between border-b-2 border-lakers-purple/30 pb-3",children:[w.jsx("h2",{className:"text-white text-xl font-black tracking-tight uppercase",children:"8-Day Itinerary"}),w.jsxs("div",{className:"flex items-center gap-1 bg-lakers-purple px-3 py-1.5 rounded-full border border-primary/30",children:[w.jsx("span",{className:"material-symbols-outlined text-[16px] text-primary fill-icon",children:"calendar_month"}),w.jsx("span",{className:"text-primary text-[10px] font-black uppercase tracking-wider",children:"2/18 - 2/25"})]})]}),w.jsxs("section",{className:"space-y-4 pb-8",children:[r.map((C,I)=>w.jsxs("div",{onClick:()=>s(`/day/${C.id}`),className:`flex items-center gap-4 border p-4 rounded-2xl active:bg-white/5 transition-colors cursor-pointer shadow-md ${C.id===1?"bg-lakers-purple/10 border-l-4 border-primary":"bg-card-dark border-white/5"}`,children:[w.jsxs("div",{className:`flex flex-col items-center justify-center size-14 rounded-xl shadow-md ${C.id===1?"bg-primary text-lakers-purple":"bg-white/5 text-gray-400"}`,children:[w.jsx("span",{className:"text-[10px] font-black uppercase leading-none mb-0.5",children:"2"}),w.jsx("span",{className:`font-black leading-none ${C.id===1?"text-2xl":"text-xl"}`,children:parseInt(C.date.split("-")[2])})]}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[w.jsxs("span",{className:`${C.id===1?"text-primary":"text-gray-500"} text-[10px] font-black uppercase tracking-widest`,children:["Day 0",C.id]}),C.id===1&&w.jsx("span",{className:"size-1.5 bg-primary rounded-full"}),C.id===1&&w.jsx("span",{className:"text-primary text-[10px] font-bold uppercase",children:C.location})]}),w.jsx("p",{className:"text-white text-base font-extrabold leading-snug",children:C.title})]}),w.jsx("span",{className:`material-symbols-outlined ${C.id===1?"text-primary font-bold":"text-gray-700"}`,children:"arrow_forward_ios"})]},C.id)),w.jsxs("button",{className:"w-full py-6 text-primary text-[11px] font-black uppercase tracking-[0.3em] flex items-center justify-center gap-2 bg-lakers-purple/5 rounded-2xl border border-primary/10 mt-2",children:["Expand All 8 Days",w.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"keyboard_double_arrow_down"})]})]})]}),w.jsx(sa,{})]})}function hL(){const s=Bi(),{schedule:t}=vd();return w.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-24 font-display",children:[w.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-lakers-purple ios-blur p-4 border-b border-primary/20",children:[w.jsx("div",{onClick:()=>s(-1),className:"flex size-10 items-center justify-center cursor-pointer active:opacity-50 transition-opacity",children:w.jsx("span",{className:"material-symbols-outlined text-primary",children:"arrow_back"})}),w.jsx("h1",{className:"text-primary text-base font-black flex-1 text-center tracking-tight uppercase",children:"Full Itinerary"}),w.jsx("div",{className:"size-10"})]}),w.jsx("main",{className:"flex-1 px-5 pt-6 space-y-6",children:t.map(n=>w.jsxs("div",{onClick:()=>s(`/day/${n.id}`),className:"group flex items-start gap-4 p-4 rounded-2xl border border-primary/20 bg-card-dark active:bg-white/5 cursor-pointer shadow-sm",children:[w.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[3rem]",children:[w.jsx("span",{className:"text-primary/60 text-[10px] font-bold uppercase",children:n.weekday.substring(0,3)}),w.jsx("span",{className:"text-2xl font-black text-white",children:parseInt(n.date.split("-")[2])})]}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("p",{className:"text-primary text-xs font-black uppercase tracking-wider mb-1",children:["Day ",n.id,"  ",n.location]}),w.jsx("h3",{className:"text-white text-lg font-bold leading-tight mb-2",children:n.title}),w.jsx("div",{className:"flex flex-wrap gap-2",children:n.events.slice(0,3).map((r,l)=>w.jsx("span",{className:"text-white/60 text-xs bg-lakers-purple/20 px-2 py-1 rounded-md border border-primary/10",children:r.title},l))})]}),w.jsx("span",{className:"material-symbols-outlined text-primary/40 group-active:text-primary self-center",children:"chevron_right"})]},n.id))}),w.jsx(sa,{})]})}var fL={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:gL,fromCents:!1},iT=function(t){return Math.round(t)},a_=function(t){return Math.pow(10,t)},dL=function(t,n){return iT(t/n)*n},mL=/(\d)(?=(\d{3})+\b)/g,pL=/(\d)(?=(\d\d)+\d\b)/g;function cn(s,t){var n=this;if(!(n instanceof cn))return new cn(s,t);var r=Object.assign({},fL,t),l=a_(r.precision),h=Sf(s,r);n.intValue=h,n.value=h/l,r.increment=r.increment||1/l,r.useVedic?r.groups=pL:r.groups=mL,this.s=r,this.p=l}function Sf(s,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=0,l=t.decimal,h=t.errorOnInvalid,m=t.precision,v=t.fromCents,y=a_(m),b=typeof s=="number",A=s instanceof cn;if(A&&v)return s.intValue;if(b||A)r=A?s.value:s;else if(typeof s=="string"){var C=new RegExp("[^-\\d"+l+"]","g"),I=new RegExp("\\"+l,"g");r=s.replace(/\((.*)\)/,"-$1").replace(C,"").replace(I,"."),r=r||0}else{if(h)throw Error("Invalid Input");r=0}return v||(r*=y,r=r.toFixed(4)),n?iT(r):r}function gL(s,t){var n=t.pattern,r=t.negativePattern,l=t.symbol,h=t.separator,m=t.decimal,v=t.groups,y=(""+s).replace(/^-/,"").split("."),b=y[0],A=y[1];return(s.value>=0?n:r).replace("!",l).replace("#",b.replace(v,"$1"+h)+(A?m+A:""))}cn.prototype={add:function(t){var n=this.intValue,r=this.s,l=this.p;return cn((n+=Sf(t,r))/(r.fromCents?1:l),r)},subtract:function(t){var n=this.intValue,r=this.s,l=this.p;return cn((n-=Sf(t,r))/(r.fromCents?1:l),r)},multiply:function(t){var n=this.intValue,r=this.s;return cn((n*=t)/(r.fromCents?1:a_(r.precision)),r)},divide:function(t){var n=this.intValue,r=this.s;return cn(n/=Sf(t,r,!1),r)},distribute:function(t){for(var n=this.intValue,r=this.p,l=this.s,h=[],m=Math[n>=0?"floor":"ceil"](n/t),v=Math.abs(n-m*t),y=l.fromCents?1:r;t!==0;t--){var b=cn(m/y,l);v-- >0&&(b=b[n>=0?"add":"subtract"](1/y)),h.push(b)}return h},dollars:function(){return~~this.value},cents:function(){var t=this.intValue,n=this.p;return~~(t%n)},format:function(t){var n=this.s;return typeof t=="function"?t(this,n):n.format(this,Object.assign({},n,t))},toString:function(){var t=this.intValue,n=this.p,r=this.s;return dL(t/n,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};function sT(s,t){const n=B.useRef(t);B.useEffect(function(){t!==n.current&&s.attributionControl!=null&&(n.current!=null&&s.attributionControl.removeAttribution(n.current),t!=null&&s.attributionControl.addAttribution(t)),n.current=t},[s,t])}const _L=1;function yL(s){return Object.freeze({__version:_L,map:s})}function vL(s,t){return Object.freeze({...s,...t})}const o_=B.createContext(null);function rT(){const s=B.use(o_);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function bL(s){function t(n,r){const{instance:l,context:h}=s(n).current;B.useImperativeHandle(r,()=>l);const{children:m}=n;return m==null?null:Sp.createElement(o_,{value:h},m)}return B.forwardRef(t)}function xL(s){function t(n,r){const[l,h]=B.useState(!1),{instance:m}=s(n,h).current;B.useImperativeHandle(r,()=>m),B.useEffect(function(){l&&m.update()},[m,l,n.children]);const v=m._contentNode;return v?dA.createPortal(n.children,v):null}return B.forwardRef(t)}function wL(s){function t(n,r){const{instance:l}=s(n).current;return B.useImperativeHandle(r,()=>l),null}return B.forwardRef(t)}function aT(s,t){const n=B.useRef(void 0);B.useEffect(function(){return t!=null&&s.instance.on(t),n.current=t,function(){n.current!=null&&s.instance.off(n.current),n.current=null}},[s,t])}function l_(s,t){const n=s.pane??t.pane;return n?{...s,pane:n}:s}function EL(s,t){return function(r,l){const h=rT(),m=s(l_(r,h),h);return sT(h.map,r.attribution),aT(m.current,r.eventHandlers),t(m.current,h,r,l),m}}var vc={exports:{}};var TL=vc.exports,Yb;function SL(){return Yb||(Yb=1,(function(s,t){(function(n,r){r(t)})(TL,(function(n){var r="1.9.4";function l(a){var u,d,_,E;for(d=1,_=arguments.length;d<_;d++){E=arguments[d];for(u in E)a[u]=E[u]}return a}var h=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function m(a,u){var d=Array.prototype.slice;if(a.bind)return a.bind.apply(a,d.call(arguments,1));var _=d.call(arguments,2);return function(){return a.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var v=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++v),a._leaflet_id}function b(a,u,d){var _,E,R,z;return z=function(){_=!1,E&&(R.apply(d,E),E=!1)},R=function(){_?E=arguments:(a.apply(d,arguments),setTimeout(z,u),_=!0)},R}function A(a,u,d){var _=u[1],E=u[0],R=_-E;return a===_&&d?a:((a-E)%R+R)%R+E}function C(){return!1}function I(a,u){if(u===!1)return a;var d=Math.pow(10,u===void 0?6:u);return Math.round(a*d)/d}function O(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function q(a){return O(a).split(/\s+/)}function H(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var d in u)a.options[d]=u[d];return a.options}function Q(a,u,d){var _=[];for(var E in a)_.push(encodeURIComponent(d?E.toUpperCase():E)+"="+encodeURIComponent(a[E]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var st=/\{ *([\w_ -]+) *\}/g;function at(a,u){return a.replace(st,function(d,_){var E=u[_];if(E===void 0)throw new Error("No value provided for variable "+d);return typeof E=="function"&&(E=E(u)),E})}var ot=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function pt(a,u){for(var d=0;d<a.length;d++)if(a[d]===u)return d;return-1}var xt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Rt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var V=0;function M(a){var u=+new Date,d=Math.max(0,16-(u-V));return V=u+d,window.setTimeout(a,d)}var P=window.requestAnimationFrame||Rt("RequestAnimationFrame")||M,G=window.cancelAnimationFrame||Rt("CancelAnimationFrame")||Rt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function F(a,u,d){if(d&&P===M)a.call(u);else return P.call(window,m(a,u))}function K(a){a&&G.call(window,a)}var k={__proto__:null,extend:l,create:h,bind:m,get lastId(){return v},stamp:y,throttle:b,wrapNum:A,falseFn:C,formatNum:I,trim:O,splitWords:q,setOptions:H,getParamString:Q,template:at,isArray:ot,indexOf:pt,emptyImageUrl:xt,requestFn:P,cancelFn:G,requestAnimFrame:F,cancelAnimFrame:K};function It(){}It.extend=function(a){var u=function(){H(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(u[E]=this[E]);return a.statics&&l(u,a.statics),a.includes&&(Jt(a.includes),l.apply(null,[_].concat(a.includes))),l(_,a),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,z=_._initHooks.length;R<z;R++)_._initHooks[R].call(this)}},u},It.include=function(a){var u=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},It.mergeOptions=function(a){return l(this.prototype.options,a),this},It.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),d=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Jt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=ot(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var nt={on:function(a,u,d){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u);else{a=q(a);for(var E=0,R=a.length;E<R;E++)this._on(a[E],u,d)}return this},off:function(a,u,d){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],u);else{a=q(a);for(var E=arguments.length===1,R=0,z=a.length;R<z;R++)E?this._off(a[R]):this._off(a[R],u,d)}return this},_on:function(a,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,d)===!1){d===this&&(d=void 0);var E={fn:u,ctx:d};_&&(E.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(E)}},_off:function(a,u,d){var _,E,R;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(E=0,R=_.length;E<R;E++)_[E].fn=C;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var z=this._listens(a,u,d);if(z!==!1){var X=_[z];this._firingCount&&(X.fn=C,this._events[a]=_=_.slice()),_.splice(z,1)}}},fire:function(a,u,d){if(!this.listens(a,d))return this;var _=l({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var E=this._events[a];if(E){this._firingCount=this._firingCount+1||1;for(var R=0,z=E.length;R<z;R++){var X=E[R],tt=X.fn;X.once&&this.off(a,tt,X.ctx),tt.call(X.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(a,u,d,_){typeof a!="string"&&console.warn('"string" type argument expected');var E=u;typeof u!="function"&&(_=!!u,E=void 0,d=void 0);var R=this._events&&this._events[a];if(R&&R.length&&this._listens(a,E,d)!==!1)return!0;if(_){for(var z in this._eventParents)if(this._eventParents[z].listens(a,u,d,_))return!0}return!1},_listens:function(a,u,d){if(!this._events)return!1;var _=this._events[a]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var E=0,R=_.length;E<R;E++)if(_[E].fn===u&&_[E].ctx===d)return E;return!1},once:function(a,u,d){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u,!0);else{a=q(a);for(var E=0,R=a.length;E<R;E++)this._on(a[E],u,d,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};nt.addEventListener=nt.on,nt.removeEventListener=nt.clearAllEventListeners=nt.off,nt.addOneTimeEventListener=nt.once,nt.fireEvent=nt.fire,nt.hasEventListeners=nt.listens;var vt=It.extend(nt);function gt(a,u,d){this.x=d?Math.round(a):a,this.y=d?Math.round(u):u}var Tt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};gt.prototype={clone:function(){return new gt(this.x,this.y)},add:function(a){return this.clone()._add(bt(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(bt(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new gt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new gt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Tt(this.x),this.y=Tt(this.y),this},distanceTo:function(a){a=bt(a);var u=a.x-this.x,d=a.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(a){return a=bt(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=bt(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function bt(a,u,d){return a instanceof gt?a:ot(a)?new gt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new gt(a.x,a.y):new gt(a,u,d)}function j(a,u){if(a)for(var d=u?[a,u]:a,_=0,E=d.length;_<E;_++)this.extend(d[_])}j.prototype={extend:function(a){var u,d;if(!a)return this;if(a instanceof gt||typeof a[0]=="number"||"x"in a)u=d=bt(a);else if(a=lt(a),u=a.min,d=a.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(a){return bt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return bt(this.min.x,this.max.y)},getTopRight:function(){return bt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,d;return typeof a[0]=="number"||a instanceof gt?a=bt(a):a=lt(a),a instanceof j?(u=a.min,d=a.max):u=d=a,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(a){a=lt(a);var u=this.min,d=this.max,_=a.min,E=a.max,R=E.x>=u.x&&_.x<=d.x,z=E.y>=u.y&&_.y<=d.y;return R&&z},overlaps:function(a){a=lt(a);var u=this.min,d=this.max,_=a.min,E=a.max,R=E.x>u.x&&_.x<d.x,z=E.y>u.y&&_.y<d.y;return R&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*a,E=Math.abs(u.y-d.y)*a;return lt(bt(u.x-_,u.y-E),bt(d.x+_,d.y+E))},equals:function(a){return a?(a=lt(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function lt(a,u){return!a||a instanceof j?a:new j(a,u)}function yt(a,u){if(a)for(var d=u?[a,u]:a,_=0,E=d.length;_<E;_++)this.extend(d[_])}yt.prototype={extend:function(a){var u=this._southWest,d=this._northEast,_,E;if(a instanceof Et)_=a,E=a;else if(a instanceof yt){if(_=a._southWest,E=a._northEast,!_||!E)return this}else return a?this.extend(At(a)||_t(a)):this;return!u&&!d?(this._southWest=new Et(_.lat,_.lng),this._northEast=new Et(E.lat,E.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(E.lat,d.lat),d.lng=Math.max(E.lng,d.lng)),this},pad:function(a){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*a,E=Math.abs(u.lng-d.lng)*a;return new yt(new Et(u.lat-_,u.lng-E),new Et(d.lat+_,d.lng+E))},getCenter:function(){return new Et((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Et(this.getNorth(),this.getWest())},getSouthEast:function(){return new Et(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Et||"lat"in a?a=At(a):a=_t(a);var u=this._southWest,d=this._northEast,_,E;return a instanceof yt?(_=a.getSouthWest(),E=a.getNorthEast()):_=E=a,_.lat>=u.lat&&E.lat<=d.lat&&_.lng>=u.lng&&E.lng<=d.lng},intersects:function(a){a=_t(a);var u=this._southWest,d=this._northEast,_=a.getSouthWest(),E=a.getNorthEast(),R=E.lat>=u.lat&&_.lat<=d.lat,z=E.lng>=u.lng&&_.lng<=d.lng;return R&&z},overlaps:function(a){a=_t(a);var u=this._southWest,d=this._northEast,_=a.getSouthWest(),E=a.getNorthEast(),R=E.lat>u.lat&&_.lat<d.lat,z=E.lng>u.lng&&_.lng<d.lng;return R&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=_t(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _t(a,u){return a instanceof yt?a:new yt(a,u)}function Et(a,u,d){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,d!==void 0&&(this.alt=+d)}Et.prototype={equals:function(a,u){if(!a)return!1;a=At(a);var d=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return d<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+I(this.lat,a)+", "+I(this.lng,a)+")"},distanceTo:function(a){return Ee.distance(this,At(a))},wrap:function(){return Ee.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,d=u/Math.cos(Math.PI/180*this.lat);return _t([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new Et(this.lat,this.lng,this.alt)}};function At(a,u,d){return a instanceof Et?a:ot(a)&&typeof a[0]!="object"?a.length===3?new Et(a[0],a[1],a[2]):a.length===2?new Et(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Et(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Et(a,u,d)}var qt={latLngToPoint:function(a,u){var d=this.projection.project(a),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(a,u){var d=this.scale(u),_=this.transformation.untransform(a,d);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(a),_=this.transformation.transform(u.min,d),E=this.transformation.transform(u.max,d);return new j(_,E)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?A(a.lng,this.wrapLng,!0):a.lng,d=this.wrapLat?A(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new Et(d,u,_)},wrapLatLngBounds:function(a){var u=a.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,E=u.lng-d.lng;if(_===0&&E===0)return a;var R=a.getSouthWest(),z=a.getNorthEast(),X=new Et(R.lat-_,R.lng-E),tt=new Et(z.lat-_,z.lng-E);return new yt(X,tt)}},Ee=l({},qt,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var d=Math.PI/180,_=a.lat*d,E=u.lat*d,R=Math.sin((u.lat-a.lat)*d/2),z=Math.sin((u.lng-a.lng)*d/2),X=R*R+Math.cos(_)*Math.cos(E)*z*z,tt=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*tt}}),Re=6378137,fs={R:Re,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,a.lat),-d),E=Math.sin(_*u);return new gt(this.R*a.lng*u,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(a){var u=180/Math.PI;return new Et((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Re*Math.PI;return new j([-a,-a],[a,a])})()};function js(a,u,d,_){if(ot(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=d,this._d=_}js.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new gt((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function Hi(a,u,d,_){return new js(a,u,d,_)}var Us=l({},Ee,{code:"EPSG:3857",projection:fs,transformation:(function(){var a=.5/(Math.PI*fs.R);return Hi(a,.5,-a,.5)})()}),qi=l({},Us,{code:"EPSG:900913"});function ra(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Bs(a,u){var d="",_,E,R,z,X,tt;for(_=0,R=a.length;_<R;_++){for(X=a[_],E=0,z=X.length;E<z;E++)tt=X[E],d+=(E?"L":"M")+tt.x+" "+tt.y;d+=u?Lt.svg?"z":"x":""}return d||"M0 0"}var gr=document.documentElement.style,Fs="ActiveXObject"in window,Ge=Fs&&!document.addEventListener,Ze="msLaunchUri"in navigator&&!("documentMode"in document),Gi=_n("webkit"),ll=_n("android"),co=_n("android 2")||_n("android 3"),Nn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_r=ll&&_n("Google")&&Nn<537&&!("AudioNode"in window),yr=!!window.opera,aa=!Ze&&_n("chrome"),ds=_n("gecko")&&!Gi&&!yr&&!Fs,Ru=!aa&&_n("safari"),ho=_n("phantom"),fo="OTransition"in gr,ul=navigator.platform.indexOf("Win")===0,ti=Fs&&"transition"in gr,Je="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!co,Zn="MozPerspective"in gr,je=!window.L_DISABLE_3D&&(ti||Je||Zn)&&!fo&&!ho,Hs=typeof orientation<"u"||_n("mobile"),oa=Hs&&Gi,cl=Hs&&Je,bi=!window.PointerEvent&&window.MSPointerEvent,qs=!!(window.PointerEvent||bi),Ue="ontouchstart"in window||!!window.TouchEvent,Zi=!window.L_NO_TOUCH&&(Ue||qs),Ki=Hs&&yr,xi=Hs&&ds,Nu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,hl=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",C,u),window.removeEventListener("testPassiveEventSupport",C,u)}catch{}return a})(),Qi=(function(){return!!document.createElement("canvas").getContext})(),ms=!!(document.createElementNS&&ra("svg").createSVGRect),Iu=!!ms&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),vr=!ms&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),mo=navigator.platform.indexOf("Mac")===0,po=navigator.platform.indexOf("Linux")===0;function _n(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Lt={ie:Fs,ielt9:Ge,edge:Ze,webkit:Gi,android:ll,android23:co,androidStock:_r,opera:yr,chrome:aa,gecko:ds,safari:Ru,phantom:ho,opera12:fo,win:ul,ie3d:ti,webkit3d:Je,gecko3d:Zn,any3d:je,mobile:Hs,mobileWebkit:oa,mobileWebkit3d:cl,msPointer:bi,pointer:qs,touch:Zi,touchNative:Ue,mobileOpera:Ki,mobileGecko:xi,retina:Nu,passiveEvents:hl,canvas:Qi,svg:ms,vml:vr,inlineSvg:Iu,mac:mo,linux:po},go=Lt.msPointer?"MSPointerDown":"pointerdown",ei=Lt.msPointer?"MSPointerMove":"pointermove",ni=Lt.msPointer?"MSPointerUp":"pointerup",Be=Lt.msPointer?"MSPointerCancel":"pointercancel",Ke={touchstart:go,touchmove:ei,touchend:ni,touchcancel:Be},wi={touchstart:Xi,touchmove:yn,touchend:yn,touchcancel:yn},Ei={},fl=!1;function dl(a,u,d){return u==="touchstart"&&ii(),wi[u]?(d=wi[u].bind(this,d),a.addEventListener(Ke[u],d,!1),d):(console.warn("wrong event specified:",u),C)}function ml(a,u,d){if(!Ke[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(Ke[u],d,!1)}function Yi(a){Ei[a.pointerId]=a}function la(a){Ei[a.pointerId]&&(Ei[a.pointerId]=a)}function Ti(a){delete Ei[a.pointerId]}function ii(){fl||(document.addEventListener(go,Yi,!0),document.addEventListener(ei,la,!0),document.addEventListener(ni,Ti,!0),document.addEventListener(Be,Ti,!0),fl=!0)}function yn(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in Ei)u.touches.push(Ei[d]);u.changedTouches=[u],a(u)}}function Xi(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Oe(u),yn(a,u)}function Qe(a){var u={},d,_;for(_ in a)d=a[_],u[_]=d&&d.bind?d.bind(a):d;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var _o=200;function yo(a,u){a.addEventListener("dblclick",u);var d=0,_;function E(R){if(R.detail!==1){_=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var z=Ys(R);if(!(z.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!z.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var X=Date.now();X-d<=_o?(_++,_===2&&u(Qe(R))):_=1,d=X}}}return a.addEventListener("click",E),{dblclick:u,simDblclick:E}}function Wi(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var si=xr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ps=xr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ua=ps==="webkitTransition"||ps==="OTransition"?ps+"End":"transitionend";function ca(a){return typeof a=="string"?document.getElementById(a):a}function Gs(a,u){var d=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);d=_?_[u]:null}return d==="auto"?null:d}function Wt(a,u,d){var _=document.createElement(a);return _.className=u||"",d&&d.appendChild(_),_}function $t(a){var u=a.parentNode;u&&u.removeChild(a)}function Me(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function ke(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function Kn(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function br(a,u){if(a.classList!==void 0)return a.classList.contains(u);var d=Ji(a);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function Nt(a,u){if(a.classList!==void 0)for(var d=q(u),_=0,E=d.length;_<E;_++)a.classList.add(d[_]);else if(!br(a,u)){var R=Ji(a);ri(a,(R?R+" ":"")+u)}}function ve(a,u){a.classList!==void 0?a.classList.remove(u):ri(a,O((" "+Ji(a)+" ").replace(" "+u+" "," ")))}function ri(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Ji(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Ne(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&ha(a,u)}function ha(a,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=a.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):a.style.filter+=" progid:"+_+"(opacity="+u+")"}function xr(a){for(var u=document.documentElement.style,d=0;d<a.length;d++)if(a[d]in u)return a[d];return!1}function Si(a,u,d){var _=u||new gt(0,0);a.style[si]=(Lt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function be(a,u){a._leaflet_pos=u,Lt.any3d?Si(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function $i(a){return a._leaflet_pos||new gt(0,0)}var ai,nn,fa;if("onselectstart"in document)ai=function(){zt(window,"selectstart",Oe)},nn=function(){fe(window,"selectstart",Oe)};else{var gs=xr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ai=function(){if(gs){var a=document.documentElement.style;fa=a[gs],a[gs]="none"}},nn=function(){gs&&(document.documentElement.style[gs]=fa,fa=void 0)}}function wr(){zt(window,"dragstart",Oe)}function Zs(){fe(window,"dragstart",Oe)}var Er,ts;function Ks(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(kn(),Er=a,ts=a.style.outlineStyle,a.style.outlineStyle="none",zt(window,"keydown",kn))}function kn(){Er&&(Er.style.outlineStyle=ts,Er=void 0,ts=void 0,fe(window,"keydown",kn))}function da(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function On(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Qs={__proto__:null,TRANSFORM:si,TRANSITION:ps,TRANSITION_END:ua,get:ca,getStyle:Gs,create:Wt,remove:$t,empty:Me,toFront:ke,toBack:Kn,hasClass:br,addClass:Nt,removeClass:ve,setClass:ri,getClass:Ji,setOpacity:Ne,testProp:xr,setTransform:Si,setPosition:be,getPosition:$i,get disableTextSelection(){return ai},get enableTextSelection(){return nn},disableImageDrag:wr,enableImageDrag:Zs,preventOutline:Ks,restoreOutline:kn,getSizedParentNode:da,getScale:On};function zt(a,u,d,_){if(u&&typeof u=="object")for(var E in u)Pn(a,E,u[E],d);else{u=q(u);for(var R=0,z=u.length;R<z;R++)Pn(a,u[R],d,_)}return this}var vn="_leaflet_events";function fe(a,u,d,_){if(arguments.length===1)_s(a),delete a[vn];else if(u&&typeof u=="object")for(var E in u)ys(a,E,u[E],d);else if(u=q(u),arguments.length===2)_s(a,function(X){return pt(u,X)!==-1});else for(var R=0,z=u.length;R<z;R++)ys(a,u[R],d,_);return this}function _s(a,u){for(var d in a[vn]){var _=d.split(/\d/)[0];(!u||u(_))&&ys(a,_,null,null,d)}}var Qn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pn(a,u,d,_){var E=u+y(d)+(_?"_"+y(_):"");if(a[vn]&&a[vn][E])return this;var R=function(X){return d.call(_||a,X||window.event)},z=R;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?R=dl(a,u,R):Lt.touch&&u==="dblclick"?R=yo(a,R):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Qn[u]||u,R,Lt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(R=function(X){X=X||window.event,Ri(a,X)&&z(X)},a.addEventListener(Qn[u],R,!1)):a.addEventListener(u,z,!1):a.attachEvent("on"+u,R),a[vn]=a[vn]||{},a[vn][E]=R}function ys(a,u,d,_,E){E=E||u+y(d)+(_?"_"+y(_):"");var R=a[vn]&&a[vn][E];if(!R)return this;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?ml(a,u,R):Lt.touch&&u==="dblclick"?Wi(a,R):"removeEventListener"in a?a.removeEventListener(Qn[u]||u,R,!1):a.detachEvent("on"+u,R),a[vn][E]=null}function ie(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function oi(a){return Pn(a,"wheel",ie),this}function vs(a){return zt(a,"mousedown touchstart dblclick contextmenu",ie),a._leaflet_disable_click=!0,this}function Oe(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ai(a){return Oe(a),ie(a),this}function Ys(a){if(a.composedPath)return a.composedPath();for(var u=[],d=a.target;d;)u.push(d),d=d.parentNode;return u}function es(a,u){if(!u)return new gt(a.clientX,a.clientY);var d=On(u),_=d.boundingClientRect;return new gt((a.clientX-_.left)/d.x-u.clientLeft,(a.clientY-_.top)/d.y-u.clientTop)}var Ci=Lt.linux&&Lt.chrome?window.devicePixelRatio:Lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function sn(a){return Lt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Ci:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ri(a,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==a;)d=d.parentNode}catch{return!1}return d!==a}var ns={__proto__:null,on:zt,off:fe,stopPropagation:ie,disableScrollPropagation:oi,disableClickPropagation:vs,preventDefault:Oe,stop:Ai,getPropagationPath:Ys,getMousePosition:es,getWheelDelta:sn,isExternalTarget:Ri,addListener:zt,removeListener:fe},bs=vt.extend({run:function(a,u,d,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=$i(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var d=this._startPos.add(this._offset.multiplyBy(a));u&&d._round(),be(this._el,d),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Xt=vt.extend({options:{crs:Us,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=H(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(At(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ps&&Lt.any3d&&!Lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,ua,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(At(a),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,d.zoom):this._tryAnimatedPan(a,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,d){var _=this.getZoomScale(u),E=this.getSize().divideBy(2),R=a instanceof gt?a:this.latLngToContainerPoint(a),z=R.subtract(E).multiplyBy(1-1/_),X=this.containerPointToLatLng(E.add(z));return this.setView(X,u,{zoom:d})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():_t(a);var d=bt(u.paddingTopLeft||u.padding||[0,0]),_=bt(u.paddingBottomRight||u.padding||[0,0]),E=this.getBoundsZoom(a,!1,d.add(_));if(E=typeof u.maxZoom=="number"?Math.min(u.maxZoom,E):E,E===1/0)return{center:a.getCenter(),zoom:E};var R=_.subtract(d).divideBy(2),z=this.project(a.getSouthWest(),E),X=this.project(a.getNorthEast(),E),tt=this.unproject(z.add(X).divideBy(2).add(R),E);return{center:tt,zoom:E}},fitBounds:function(a,u){if(a=_t(a),!a.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(a,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=bt(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new bs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Nt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,d){if(d=d||{},d.animate===!1||!Lt.any3d)return this.setView(a,u,d);this._stop();var _=this.project(this.getCenter()),E=this.project(a),R=this.getSize(),z=this._zoom;a=At(a),u=u===void 0?z:u;var X=Math.max(R.x,R.y),tt=X*this.getZoomScale(z,u),ft=E.distanceTo(_)||1,St=1.42,Ot=St*St;function Qt(Fe){var Ss=Fe?-1:1,Ir=Fe?tt:X,Pu=tt*tt-X*X+Ss*Ot*Ot*ft*ft,zo=2*Ir*Ot*ft,jo=Pu/zo,rr=Math.sqrt(jo*jo+1)-jo,As=rr<1e-9?-18:Math.log(rr);return As}function mn(Fe){return(Math.exp(Fe)-Math.exp(-Fe))/2}function Ye(Fe){return(Math.exp(Fe)+Math.exp(-Fe))/2}function Wn(Fe){return mn(Fe)/Ye(Fe)}var de=Qt(0);function me(Fe){return X*(Ye(de)/Ye(de+St*Fe))}function te(Fe){return X*(Ye(de)*Wn(de+St*Fe)-mn(de))/Ot}function ir(Fe){return 1-Math.pow(1-Fe,1.5)}var fi=Date.now(),Cl=(Qt(1)-de)/St,sr=d.duration?1e3*d.duration:1e3*Cl*.8;function Ou(){var Fe=(Date.now()-fi)/sr,Ss=ir(Fe)*Cl;Fe<=1?(this._flyToFrame=F(Ou,this),this._move(this.unproject(_.add(E.subtract(_).multiplyBy(te(Ss)/ft)),z),this.getScaleZoom(X/me(Ss),z),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Ou.call(this),this},flyToBounds:function(a,u){var d=this._getBoundsCenterZoom(a,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(a){return a=_t(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,_t(a));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var d=bt(u.paddingTopLeft||u.padding||[0,0]),_=bt(u.paddingBottomRight||u.padding||[0,0]),E=this.project(this.getCenter()),R=this.project(a),z=this.getPixelBounds(),X=lt([z.min.add(d),z.max.subtract(_)]),tt=X.getSize();if(!X.contains(R)){this._enforcingBounds=!0;var ft=R.subtract(X.getCenter()),St=X.extend(R).getSize().subtract(tt);E.x+=ft.x<0?-St.x:St.x,E.y+=ft.y<0?-St.y:St.y,this.panTo(this.unproject(E),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),E=d.divideBy(2).round(),R=_.subtract(E);return!R.x&&!R.y?this:(a.animate&&a.pan?this.panBy(R):(a.pan&&this._rawPanBy(R),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,a):navigator.geolocation.getCurrentPosition(u,d,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,d=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,d=a.coords.longitude,_=new Et(u,d),E=_.toBounds(a.coords.accuracy*2),R=this._locateOptions;if(R.setView){var z=this.getBoundsZoom(E);this.setView(_,R.maxZoom?Math.min(z,R.maxZoom):z)}var X={latlng:_,bounds:E,timestamp:a.timestamp};for(var tt in a.coords)typeof a.coords[tt]=="number"&&(X[tt]=a.coords[tt]);this.fire("locationfound",X)}},addHandler:function(a,u){if(!u)return this;var d=this[a]=new u(this);return this._handlers.push(d),this.options[a]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)$t(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var d="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=Wt("div",d,u||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),d=this.unproject(a.getTopRight());return new yt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,d){a=_t(a),d=bt(d||[0,0]);var _=this.getZoom()||0,E=this.getMinZoom(),R=this.getMaxZoom(),z=a.getNorthWest(),X=a.getSouthEast(),tt=this.getSize().subtract(d),ft=lt(this.project(X,_),this.project(z,_)).getSize(),St=Lt.any3d?this.options.zoomSnap:1,Ot=tt.x/ft.x,Qt=tt.y/ft.y,mn=u?Math.max(Ot,Qt):Math.min(Ot,Qt);return _=this.getScaleZoom(mn,_),St&&(_=Math.round(_/(St/100))*(St/100),_=u?Math.ceil(_/St)*St:Math.floor(_/St)*St),Math.max(E,Math.min(R,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new gt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var d=this._getTopLeftPoint(a,u);return new j(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(a)/d.scale(u)},getScaleZoom:function(a,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(a*d.scale(u));return isNaN(_)?1/0:_},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(At(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(bt(a),u)},layerPointToLatLng:function(a){var u=bt(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(At(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(At(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(_t(a))},distance:function(a,u){return this.options.crs.distance(At(a),At(u))},containerPointToLayerPoint:function(a){return bt(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return bt(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(bt(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(At(a)))},mouseEventToContainerPoint:function(a){return es(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=ca(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");zt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt.any3d,Nt(a,"leaflet-container"+(Lt.touch?" leaflet-touch":"")+(Lt.retina?" leaflet-retina":"")+(Lt.ielt9?" leaflet-oldie":"")+(Lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Gs(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),be(this._mapPane,new gt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Nt(a.markerPane,"leaflet-zoom-hide"),Nt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,d){be(this._mapPane,new gt(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var E=this._zoom!==u;this._moveStart(E,d)._move(a,u)._moveEnd(E),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,d,_){u===void 0&&(u=this._zoom);var E=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?d&&d.pinch&&this.fire("zoom",d):((E||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){be(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var u=a?fe:zt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Lt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var d=[],_,E=u==="mouseout"||u==="mouseover",R=a.target||a.srcElement,z=!1;R;){if(_=this._targets[y(R)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){z=!0;break}if(_&&_.listens(u,!0)&&(E&&!Ri(R,a)||(d.push(_),E))||R===this._container)break;R=R.parentNode}return!d.length&&!z&&!E&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var d=a.type;d==="mousedown"&&Ks(u),this._fireDOMEvent(a,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,d){if(a.type==="click"){var _=l({},a);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var E=this._findEventTargets(a,u);if(d){for(var R=[],z=0;z<d.length;z++)d[z].listens(u,!0)&&R.push(d[z]);E=R.concat(E)}if(E.length){u==="contextmenu"&&Oe(a);var X=E[0],tt={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ft=X.getLatLng&&(!X._radius||X._radius<=10);tt.containerPoint=ft?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(a),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=ft?X.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(z=0;z<E.length;z++)if(E[z].fire(u,tt,!0),tt.originalEvent._stopped||E[z].options.bubblingMouseEvents===!1&&pt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return $i(this._mapPane)||new gt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var d=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var d=this.getSize()._divideBy(2);return this.project(a,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(a,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,u,d){var _=this._getNewPixelOrigin(d,u);return lt([this.project(a.getSouthWest(),u)._subtract(_),this.project(a.getNorthWest(),u)._subtract(_),this.project(a.getSouthEast(),u)._subtract(_),this.project(a.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,d){if(!d)return a;var _=this.project(a,u),E=this.getSize().divideBy(2),R=new j(_.subtract(E),_.add(E)),z=this._getBoundsOffset(R,d,u);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?a:this.unproject(_.add(z),u)},_limitOffset:function(a,u){if(!u)return a;var d=this.getPixelBounds(),_=new j(d.min.add(a),d.max.add(a));return a.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(a,u,d){var _=lt(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),E=_.min.subtract(a.min),R=_.max.subtract(a.max),z=this._rebound(E.x,-R.x),X=this._rebound(E.y,-R.y);return new gt(z,X)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),d=this.getMaxZoom(),_=Lt.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(u,Math.min(d,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ve(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var d=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var a=this._proxy=Wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var d=si,_=this._proxy.style[d];Si(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Si(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),E=this._getCenterOffset(a)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(E)?!1:(F(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ve(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xs(a,u){return new Xt(a,u)}var bn=It.extend({options:{position:"topright"},initialize:function(a){H(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),d=this.getPosition(),_=a._controlCorners[d];return Nt(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Vn=function(a){return new bn(a)};Xt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",d=this._controlContainer=Wt("div",u+"control-container",this._container);function _(E,R){var z=u+E+" "+u+R;a[E+R]=Wt("div",z,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)$t(this._controlCorners[a]);$t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Tr=bn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(a,u,d){H(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return bn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ve(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ve(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Wt("div",a),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),vs(u),oi(u);var _=this._section=Wt("section",a+"-list");d&&(this._map.on("click",this.collapse,this),zt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Wt("a",a+"-toggle",u);E.href="#",E.title="Layers",E.setAttribute("role","button"),zt(E,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Oe(R),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Wt("div",a+"-base",_),this._separator=Wt("div",a+"-separator",_),this._overlaysList=Wt("div",a+"-overlays",_),u.appendChild(_)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,d){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(_,E){return this.options.sortFunction(_.layer,E.layer,_.name,E.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Me(this._baseLayersList),Me(this._overlaysList),this._layerControlInputs=[];var a,u,d,_,E=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,a=a||!_.overlay,E+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&E>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(y(a.target)),d=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(a,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(a){var u=document.createElement("label"),d=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(_),_.layerId=y(a.layer),zt(_,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+a.name;var R=document.createElement("span");u.appendChild(R),R.appendChild(_),R.appendChild(E);var z=a.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,d,_=[],E=[];this._handlingClick=!0;for(var R=a.length-1;R>=0;R--)u=a[R],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||E.push(d);for(R=0;R<E.length;R++)this._map.hasLayer(E[R])&&this._map.removeLayer(E[R]);for(R=0;R<_.length;R++)this._map.hasLayer(_[R])||this._map.addLayer(_[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,d,_=this._map.getZoom(),E=a.length-1;E>=0;E--)u=a[E],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,zt(a,"click",Oe),this.expand();var u=this;setTimeout(function(){fe(a,"click",Oe),u._preventClick=!1})}}),vo=function(a,u,d){return new Tr(a,u,d)},xs=bn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",d=Wt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,d,_,E){var R=Wt("a",d,_);return R.innerHTML=a,R.href="#",R.title=u,R.setAttribute("role","button"),R.setAttribute("aria-label",u),vs(R),zt(R,"click",Ai),zt(R,"click",E,this),zt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";ve(this._zoomInButton,u),ve(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Nt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Nt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xt.mergeOptions({zoomControl:!0}),Xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xs,this.addControl(this.zoomControl))});var pl=function(a){return new xs(a)},bo=bn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",d=Wt("div",u),_=this.options;return this._addScales(_,u+"-line",d),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),d},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,d){a.metric&&(this._mScale=Wt("div",u,d)),a.imperial&&(this._iScale=Wt("div",u,d))},_update:function(){var a=this._map,u=a.getSize().y/2,d=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/a)},_updateImperial:function(a){var u=a*3.2808399,d,_,E;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(E=this._getRoundNum(u),this._updateScale(this._iScale,E+" ft",E/u))},_updateScale:function(a,u,d){a.style.width=Math.round(this.options.maxWidth*d)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),d=a/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),Sr=function(a){return new bo(a)},xo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ma=bn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Lt.inlineSvg?xo+" ":"")+"Leaflet</a>"},initialize:function(a){H(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Wt("div","leaflet-control-attribution"),vs(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),a.length&&d.push(a.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Xt.mergeOptions({attributionControl:!0}),Xt.addInitHook(function(){this.options.attributionControl&&new ma().addTo(this)});var pa=function(a){return new ma(a)};bn.Layers=Tr,bn.Zoom=xs,bn.Scale=bo,bn.Attribution=ma,Vn.layers=vo,Vn.zoom=pl,Vn.scale=Sr,Vn.attribution=pa;var Yn=It.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yn.addTo=function(a,u){return a.addHandler(u,this),this};var gl={Events:nt},Ni=Lt.touch?"touchstart mousedown":"mousedown",Ii=vt.extend({options:{clickTolerance:3},initialize:function(a,u,d,_){H(this,_),this._element=a,this._dragStartTarget=u||a,this._preventOutline=d},enable:function(){this._enabled||(zt(this._dragStartTarget,Ni,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ii._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,Ni,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!br(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ii._dragging===this&&this.finishDrag();return}if(!(Ii._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ii._dragging=this,this._preventOutline&&Ks(this._element),wr(),ai(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,d=da(this._element);this._startPoint=new gt(u.clientX,u.clientY),this._startPos=$i(this._element),this._parentScale=On(d);var _=a.type==="mousedown";zt(document,_?"mousemove":"touchmove",this._onMove,this),zt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,d=new gt(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Oe(a),this._moved||(this.fire("dragstart"),this._moved=!0,Nt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),be(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ve(document.body,"leaflet-dragging"),this._lastTarget&&(ve(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),Zs(),nn();var u=this._moved&&this._moving;this._moving=!1,Ii._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function wo(a,u,d){var _,E=[1,4,2,8],R,z,X,tt,ft,St,Ot,Qt;for(R=0,St=a.length;R<St;R++)a[R]._code=it(a[R],u);for(X=0;X<4;X++){for(Ot=E[X],_=[],R=0,St=a.length,z=St-1;R<St;z=R++)tt=a[R],ft=a[z],tt._code&Ot?ft._code&Ot||(Qt=W(ft,tt,Ot,u,d),Qt._code=it(Qt,u),_.push(Qt)):(ft._code&Ot&&(Qt=W(ft,tt,Ot,u,d),Qt._code=it(Qt,u),_.push(Qt)),_.push(tt));a=_}return a}function Eo(a,u){var d,_,E,R,z,X,tt,ft,St;if(!a||a.length===0)throw new Error("latlngs not passed");ue(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ot=At([0,0]),Qt=_t(a),mn=Qt.getNorthWest().distanceTo(Qt.getSouthWest())*Qt.getNorthEast().distanceTo(Qt.getNorthWest());mn<1700&&(Ot=ga(a));var Ye=a.length,Wn=[];for(d=0;d<Ye;d++){var de=At(a[d]);Wn.push(u.project(At([de.lat-Ot.lat,de.lng-Ot.lng])))}for(X=tt=ft=0,d=0,_=Ye-1;d<Ye;_=d++)E=Wn[d],R=Wn[_],z=E.y*R.x-R.y*E.x,tt+=(E.x+R.x)*z,ft+=(E.y+R.y)*z,X+=z*3;X===0?St=Wn[0]:St=[tt/X,ft/X];var me=u.unproject(bt(St));return At([me.lat+Ot.lat,me.lng+Ot.lng])}function ga(a){for(var u=0,d=0,_=0,E=0;E<a.length;E++){var R=At(a[E]);u+=R.lat,d+=R.lng,_++}return At([u/_,d/_])}var Ws={__proto__:null,clipPolygon:wo,polygonCenter:Eo,centroid:ga};function xn(a,u){if(!u||!a.length)return a.slice();var d=u*u;return a=x(a,d),a=ws(a,d),a}function To(a,u,d){return Math.sqrt(Bt(a,u,d,!0))}function _l(a,u,d){return Bt(a,u,d)}function ws(a,u){var d=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,E=new _(d);E[0]=E[d-1]=1,f(a,E,u,0,d-1);var R,z=[];for(R=0;R<d;R++)E[R]&&z.push(a[R]);return z}function f(a,u,d,_,E){var R=0,z,X,tt;for(X=_+1;X<=E-1;X++)tt=Bt(a[X],a[_],a[E],!0),tt>R&&(z=X,R=tt);R>d&&(u[z]=1,f(a,u,d,_,z),f(a,u,d,z,E))}function x(a,u){for(var d=[a[0]],_=1,E=0,R=a.length;_<R;_++)wt(a[_],a[E])>u&&(d.push(a[_]),E=_);return E<R-1&&d.push(a[R-1]),d}var S;function D(a,u,d,_,E){var R=_?S:it(a,d),z=it(u,d),X,tt,ft;for(S=z;;){if(!(R|z))return[a,u];if(R&z)return!1;X=R||z,tt=W(a,u,X,d,E),ft=it(tt,d),X===R?(a=tt,R=ft):(u=tt,z=ft)}}function W(a,u,d,_,E){var R=u.x-a.x,z=u.y-a.y,X=_.min,tt=_.max,ft,St;return d&8?(ft=a.x+R*(tt.y-a.y)/z,St=tt.y):d&4?(ft=a.x+R*(X.y-a.y)/z,St=X.y):d&2?(ft=tt.x,St=a.y+z*(tt.x-a.x)/R):d&1&&(ft=X.x,St=a.y+z*(X.x-a.x)/R),new gt(ft,St,E)}function it(a,u){var d=0;return a.x<u.min.x?d|=1:a.x>u.max.x&&(d|=2),a.y<u.min.y?d|=4:a.y>u.max.y&&(d|=8),d}function wt(a,u){var d=u.x-a.x,_=u.y-a.y;return d*d+_*_}function Bt(a,u,d,_){var E=u.x,R=u.y,z=d.x-E,X=d.y-R,tt=z*z+X*X,ft;return tt>0&&(ft=((a.x-E)*z+(a.y-R)*X)/tt,ft>1?(E=d.x,R=d.y):ft>0&&(E+=z*ft,R+=X*ft)),z=a.x-E,X=a.y-R,_?z*z+X*X:new gt(E,R)}function ue(a){return!ot(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function ce(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ue(a)}function Ie(a,u){var d,_,E,R,z,X,tt,ft;if(!a||a.length===0)throw new Error("latlngs not passed");ue(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var St=At([0,0]),Ot=_t(a),Qt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Qt<1700&&(St=ga(a));var mn=a.length,Ye=[];for(d=0;d<mn;d++){var Wn=At(a[d]);Ye.push(u.project(At([Wn.lat-St.lat,Wn.lng-St.lng])))}for(d=0,_=0;d<mn-1;d++)_+=Ye[d].distanceTo(Ye[d+1])/2;if(_===0)ft=Ye[0];else for(d=0,R=0;d<mn-1;d++)if(z=Ye[d],X=Ye[d+1],E=z.distanceTo(X),R+=E,R>_){tt=(R-_)/E,ft=[X.x-tt*(X.x-z.x),X.y-tt*(X.y-z.y)];break}var de=u.unproject(bt(ft));return At([de.lat+St.lat,de.lng+St.lng])}var li={__proto__:null,simplify:xn,pointToSegmentDistance:To,closestPointOnSegment:_l,clipSegment:D,_getEdgeIntersection:W,_getBitCode:it,_sqClosestPointOnSegment:Bt,isFlat:ue,_flat:ce,polylineCenter:Ie},ui={project:function(a){return new gt(a.lng,a.lat)},unproject:function(a){return new Et(a.y,a.x)},bounds:new j([-180,-90],[180,90])},Xn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new j([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,d=this.R,_=a.lat*u,E=this.R_MINOR/d,R=Math.sqrt(1-E*E),z=R*Math.sin(_),X=Math.tan(Math.PI/4-_/2)/Math.pow((1-z)/(1+z),R/2);return _=-d*Math.log(Math.max(X,1e-10)),new gt(a.lng*u*d,_)},unproject:function(a){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,E=Math.sqrt(1-_*_),R=Math.exp(-a.y/d),z=Math.PI/2-2*Math.atan(R),X=0,tt=.1,ft;X<15&&Math.abs(tt)>1e-7;X++)ft=E*Math.sin(z),ft=Math.pow((1-ft)/(1+ft),E/2),tt=Math.PI/2-2*Math.atan(R*ft)-z,z+=tt;return new Et(z*u,a.x*u/d)}},Di={__proto__:null,LonLat:ui,Mercator:Xn,SphericalMercator:fs},Ar=l({},Ee,{code:"EPSG:3395",projection:Xn,transformation:(function(){var a=.5/(Math.PI*Xn.R);return Hi(a,.5,-a,.5)})()}),Cr=l({},Ee,{code:"EPSG:4326",projection:ui,transformation:Hi(1/180,1,-1/180,.5)}),_a=l({},qt,{projection:ui,transformation:Hi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var d=u.lng-a.lng,_=u.lat-a.lat;return Math.sqrt(d*d+_*_)},infinite:!0});qt.Earth=Ee,qt.EPSG3395=Ar,qt.EPSG3857=Us,qt.EPSG900913=qi,qt.EPSG4326=Cr,qt.Simple=_a;var Li=vt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Xt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=y(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,u){for(var d in this._layers)a.call(u,this._layers[d]);return this},_addLayers:function(a){a=a?ot(a)?a:[a]:[];for(var u=0,d=a.length;u<d;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=y(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var E=this._zoomBoundLayers[_].options;a=E.minZoom===void 0?a:Math.min(a,E.minZoom),u=E.maxZoom===void 0?u:Math.max(u,E.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ya=Li.extend({initialize:function(a,u){H(this,u),this._layers={};var d,_;if(a)for(d=0,_=a.length;d<_;d++)this.addLayer(a[d])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[a]&&_[a].apply(_,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var d in this._layers)a.call(u,this._layers[d]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),bd=function(a,u){return new ya(a,u)},is=ya.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ya.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ya.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new yt;for(var u in this._layers){var d=this._layers[u];a.extend(d.getBounds?d.getBounds():d.getLatLng())}return a}}),eh=function(a,u){return new is(a,u)},ss=It.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){H(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var d=this._getIconUrl(a);if(!d){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var E=bt(_),R=bt(u==="shadow"&&d.shadowAnchor||d.iconAnchor||E&&E.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(d.className||""),R&&(a.style.marginLeft=-R.x+"px",a.style.marginTop=-R.y+"px"),E&&(a.style.width=E.x+"px",a.style.height=E.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Lt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function So(a){return new ss(a)}var Ao=ss.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ao.imagePath!="string"&&(Ao.imagePath=this._detectIconPath()),(this.options.imagePath||Ao.imagePath)+ss.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(d,_,E){var R=_.exec(d);return R&&R[E]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Wt("div","leaflet-default-icon-path",document.body),u=Gs(a,"background-image")||Gs(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Co=Yn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ii(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Nt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ve(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,R=$i(u._icon),z=d.getPixelBounds(),X=d.getPixelOrigin(),tt=lt(z.min._subtract(X).add(E),z.max._subtract(X).subtract(E));if(!tt.contains(R)){var ft=bt((Math.max(tt.max.x,R.x)-tt.max.x)/(z.max.x-tt.max.x)-(Math.min(tt.min.x,R.x)-tt.min.x)/(z.min.x-tt.min.x),(Math.max(tt.max.y,R.y)-tt.max.y)/(z.max.y-tt.max.y)-(Math.min(tt.min.y,R.y)-tt.min.y)/(z.min.y-tt.min.y)).multiplyBy(_);d.panBy(ft,{animate:!1}),this._draggable._newPos._add(ft),this._draggable._startPos._add(ft),be(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=F(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,d=u._shadow,_=$i(u._icon),E=u._map.layerPointToLatLng(_);d&&be(d,_),u._latlng=E,a.latlng=E,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Ro=Li.extend({options:{icon:new Ao,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){H(this,u),this._latlng=At(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=At(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=a.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(d.title=a.title),d.tagName==="IMG"&&(d.alt=a.alt||"")),Nt(d,u),a.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(d,"focus",this._panOnFocus,this);var E=a.icon.createShadow(this._shadow),R=!1;E!==this._shadow&&(this._removeShadow(),R=!0),E&&(Nt(E,u),E.alt=""),this._shadow=E,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&R&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),$t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$t(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&be(this._icon,a),this._shadow&&be(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Co)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Co(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Ne(this._icon,a),this._shadow&&Ne(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,d=u.iconSize?bt(u.iconSize):bt(0,0),_=u.iconAnchor?bt(u.iconAnchor):bt(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nh(a,u){return new Ro(a,u)}var rs=Li.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return H(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),va=rs.extend({options:{fill:!0,radius:10},initialize:function(a,u){H(this,u),this._latlng=At(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=At(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return rs.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,d=this._clickTolerance(),_=[a+d,u+d];this._pxBounds=new j(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ih(a,u){return new va(a,u)}var yl=va.extend({initialize:function(a,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),H(this,u),this._latlng=At(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new yt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:rs.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===Ee.distance){var E=Math.PI/180,R=this._mRadius/Ee.R/E,z=d.project([u+R,a]),X=d.project([u-R,a]),tt=z.add(X).divideBy(2),ft=d.unproject(tt).lat,St=Math.acos((Math.cos(R*E)-Math.sin(u*E)*Math.sin(ft*E))/(Math.cos(u*E)*Math.cos(ft*E)))/E;(isNaN(St)||St===0)&&(St=R/Math.cos(Math.PI/180*u)),this._point=tt.subtract(d.getPixelOrigin()),this._radius=isNaN(St)?0:tt.x-d.project([ft,a-St]).x,this._radiusY=tt.y-z.y}else{var Ot=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ot).x}this._updateBounds()}});function sh(a,u,d){return new yl(a,u,d)}var Es=rs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){H(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,d=null,_=Bt,E,R,z=0,X=this._parts.length;z<X;z++)for(var tt=this._parts[z],ft=1,St=tt.length;ft<St;ft++){E=tt[ft-1],R=tt[ft];var Ot=_(a,E,R,!0);Ot<u&&(u=Ot,d=_(a,E,R))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ie(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=At(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new yt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ue(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],d=ue(a),_=0,E=a.length;_<E;_++)d?(u[_]=At(a[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(a[_]);return u},_project:function(){var a=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new gt(a,a);this._rawPxBounds&&(this._pxBounds=new j([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,d){var _=a[0]instanceof Et,E=a.length,R,z;if(_){for(z=[],R=0;R<E;R++)z[R]=this._map.latLngToLayerPoint(a[R]),d.extend(z[R]);u.push(z)}else for(R=0;R<E;R++)this._projectLatlngs(a[R],u,d)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,E,R,z,X,tt;for(d=0,E=0,R=this._rings.length;d<R;d++)for(tt=this._rings[d],_=0,z=tt.length;_<z-1;_++)X=D(tt[_],tt[_+1],a,_,!0),X&&(u[E]=u[E]||[],u[E].push(X[0]),(X[1]!==tt[_+1]||_===z-2)&&(u[E].push(X[1]),E++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,d=0,_=a.length;d<_;d++)a[d]=xn(a[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var d,_,E,R,z,X,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(d=0,R=this._parts.length;d<R;d++)for(X=this._parts[d],_=0,z=X.length,E=z-1;_<z;E=_++)if(!(!u&&_===0)&&To(a,X[E],X[_])<=tt)return!0;return!1}});function xd(a,u){return new Es(a,u)}Es._flat=ce;var ba=Es.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Eo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Es.prototype._convertLatLngs.call(this,a),d=u.length;return d>=2&&u[0]instanceof Et&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(a){Es.prototype._setLatLngs.call(this,a),ue(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ue(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,d=new gt(u,u);if(a=new j(a.min.subtract(d),a.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,E=this._rings.length,R;_<E;_++)R=wo(this._rings[_],a,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,d,_,E,R,z,X,tt,ft;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(R=0,tt=this._parts.length;R<tt;R++)for(d=this._parts[R],z=0,ft=d.length,X=ft-1;z<ft;X=z++)_=d[z],E=d[X],_.y>a.y!=E.y>a.y&&a.x<(E.x-_.x)*(a.y-_.y)/(E.y-_.y)+_.x&&(u=!u);return u||Es.prototype._containsPoint.call(this,a,!0)}});function wd(a,u){return new ba(a,u)}var Ts=is.extend({initialize:function(a,u){H(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=ot(a)?a:a.features,d,_,E;if(u){for(d=0,_=u.length;d<_;d++)E=u[d],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var R=this.options;if(R.filter&&!R.filter(a))return this;var z=wn(a,R);return z?(z.feature=xl(a),z.defaultOptions=z.options,this.resetStyle(z),R.onEachFeature&&R.onEachFeature(a,z),this.addLayer(z)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function wn(a,u){var d=a.type==="Feature"?a.geometry:a,_=d?d.coordinates:null,E=[],R=u&&u.pointToLayer,z=u&&u.coordsToLatLng||vl,X,tt,ft,St;if(!_&&!d)return null;switch(d.type){case"Point":return X=z(_),xa(R,a,X,u);case"MultiPoint":for(ft=0,St=_.length;ft<St;ft++)X=z(_[ft]),E.push(xa(R,a,X,u));return new is(E);case"LineString":case"MultiLineString":return tt=No(_,d.type==="LineString"?0:1,z),new Es(tt,u);case"Polygon":case"MultiPolygon":return tt=No(_,d.type==="Polygon"?1:2,z),new ba(tt,u);case"GeometryCollection":for(ft=0,St=d.geometries.length;ft<St;ft++){var Ot=wn({geometry:d.geometries[ft],type:"Feature",properties:a.properties},u);Ot&&E.push(Ot)}return new is(E);case"FeatureCollection":for(ft=0,St=d.features.length;ft<St;ft++){var Qt=wn(d.features[ft],u);Qt&&E.push(Qt)}return new is(E);default:throw new Error("Invalid GeoJSON object.")}}function xa(a,u,d,_){return a?a(u,d):new Ro(d,_&&_.markersInheritOptions&&_)}function vl(a){return new Et(a[1],a[0],a[2])}function No(a,u,d){for(var _=[],E=0,R=a.length,z;E<R;E++)z=u?No(a[E],u-1,d):(d||vl)(a[E]),_.push(z);return _}function bl(a,u){return a=At(a),a.alt!==void 0?[I(a.lng,u),I(a.lat,u),I(a.alt,u)]:[I(a.lng,u),I(a.lat,u)]}function Io(a,u,d,_){for(var E=[],R=0,z=a.length;R<z;R++)E.push(u?Io(a[R],ue(a[R])?0:u-1,d,_):bl(a[R],_));return!u&&d&&E.length>0&&E.push(E[0].slice()),E}function Js(a,u){return a.feature?l({},a.feature,{geometry:u}):xl(u)}function xl(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var $s={toGeoJSON:function(a){return Js(this,{type:"Point",coordinates:bl(this.getLatLng(),a)})}};Ro.include($s),yl.include($s),va.include($s),Es.include({toGeoJSON:function(a){var u=!ue(this._latlngs),d=Io(this._latlngs,u?1:0,!1,a);return Js(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),ba.include({toGeoJSON:function(a){var u=!ue(this._latlngs),d=u&&!ue(this._latlngs[0]),_=Io(this._latlngs,d?2:u?1:0,!0,a);return u||(_=[_]),Js(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),ya.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(a).geometry.coordinates)}),Js(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(E){if(E.toGeoJSON){var R=E.toGeoJSON(a);if(d)_.push(R.geometry);else{var z=xl(R);z.type==="FeatureCollection"?_.push.apply(_,z.features):_.push(z)}}}),d?Js(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function wl(a,u){return new Ts(a,u)}var Do=wl,wa=Li.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,d){this._url=a,this._bounds=_t(u),H(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&ke(this._image),this},bringToBack:function(){return this._map&&Kn(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=_t(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:Wt("img");if(Nt(u,"leaflet-image-layer"),this._zoomAnimated&&Nt(u,"leaflet-zoom-animated"),this.options.className&&Nt(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onload=m(this.fire,this,"load"),u.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Si(this._image,d,u)},_reset:function(){var a=this._image,u=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();be(a,u.min),a.style.width=d.x+"px",a.style.height=d.y+"px"},_updateOpacity:function(){Ne(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),rh=function(a,u,d){return new wa(a,u,d)},tr=wa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:Wt("video");if(Nt(u,"leaflet-image-layer"),this._zoomAnimated&&Nt(u,"leaflet-zoom-animated"),this.options.className&&Nt(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onloadeddata=m(this.fire,this,"load"),a){for(var d=u.getElementsByTagName("source"),_=[],E=0;E<d.length;E++)_.push(d[E].src);this._url=d.length>0?_:[u.src];return}ot(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var z=Wt("source");z.src=this._url[R],u.appendChild(z)}}});function Ea(a,u,d){return new tr(a,u,d)}var El=wa.extend({_initImage:function(){var a=this._image=this._url;Nt(a,"leaflet-image-layer"),this._zoomAnimated&&Nt(a,"leaflet-zoom-animated"),this.options.className&&Nt(a,this.options.className),a.onselectstart=C,a.onmousemove=C}});function ah(a,u,d){return new El(a,u,d)}var En=Li.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Et||ot(a))?(this._latlng=At(a),H(this,u)):(H(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Ne(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Ne(this._container,1),this.bringToFront(),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Ne(this._container,0),this._removeTimeout=setTimeout(m($t,void 0,this._container),200)):$t(this._container),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=At(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ke(this._container),this},bringToBack:function(){return this._map&&Kn(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof is){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=bt(this.options.offset),d=this._getAnchor();this._zoomAnimated?be(this._container,a.add(d)):u=u.add(a).add(d);var _=this._containerBottom=-u.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Xt.include({_initOverlay:function(a,u,d,_){var E=u;return E instanceof a||(E=new a(_).setContent(u)),d&&E.setLatLng(d),E}}),Li.include({_initOverlay:function(a,u,d,_){var E=d;return E instanceof a?(H(E,_),E._source=this):(E=u&&!_?u:new a(_,this),E.setContent(d)),E}});var Lo=En.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,En.prototype.openOn.call(this,a)},onAdd:function(a){En.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rs||this._source.on("preclick",ie))},onRemove:function(a){En.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rs||this._source.off("preclick",ie))},getEvents:function(){var a=En.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Wt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Wt("div",a+"-content-wrapper",u);if(this._contentNode=Wt("div",a+"-content",d),vs(u),oi(this._contentNode),zt(u,"contextmenu",ie),this._tipContainer=Wt("div",a+"-tip-container",u),this._tip=Wt("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Wt("a",a+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',zt(_,"click",function(E){Oe(E),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var d=a.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=a.offsetHeight,E=this.options.maxHeight,R="leaflet-popup-scrolled";E&&_>E?(u.height=E+"px",Nt(a,R)):ve(a,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),d=this._getAnchor();be(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Gs(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,E=new gt(this._containerLeft,-d-this._containerBottom);E._add($i(this._container));var R=a.layerPointToContainerPoint(E),z=bt(this.options.autoPanPadding),X=bt(this.options.autoPanPaddingTopLeft||z),tt=bt(this.options.autoPanPaddingBottomRight||z),ft=a.getSize(),St=0,Ot=0;R.x+_+tt.x>ft.x&&(St=R.x+_-ft.x+tt.x),R.x-St-X.x<0&&(St=R.x-X.x),R.y+d+tt.y>ft.y&&(Ot=R.y+d-ft.y+tt.y),R.y-Ot-X.y<0&&(Ot=R.y-X.y),(St||Ot)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([St,Ot]))}},_getAnchor:function(){return bt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),oh=function(a,u){return new Lo(a,u)};Xt.mergeOptions({closePopupOnClick:!0}),Xt.include({openPopup:function(a,u,d){return this._initOverlay(Lo,a,u,d).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Li.include({bindPopup:function(a,u){return this._popup=this._initOverlay(Lo,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof is||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ai(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof rs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Mo=En.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){En.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){En.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=En.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Wt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,d,_=this._map,E=this._container,R=_.latLngToContainerPoint(_.getCenter()),z=_.layerPointToContainerPoint(a),X=this.options.direction,tt=E.offsetWidth,ft=E.offsetHeight,St=bt(this.options.offset),Ot=this._getAnchor();X==="top"?(u=tt/2,d=ft):X==="bottom"?(u=tt/2,d=0):X==="center"?(u=tt/2,d=ft/2):X==="right"?(u=0,d=ft/2):X==="left"?(u=tt,d=ft/2):z.x<R.x?(X="right",u=0,d=ft/2):(X="left",u=tt+(St.x+Ot.x)*2,d=ft/2),a=a.subtract(bt(u,d,!0)).add(St).add(Ot),ve(E,"leaflet-tooltip-right"),ve(E,"leaflet-tooltip-left"),ve(E,"leaflet-tooltip-top"),ve(E,"leaflet-tooltip-bottom"),Nt(E,"leaflet-tooltip-"+X),be(E,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Ne(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return bt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ed=function(a,u){return new Mo(a,u)};Xt.include({openTooltip:function(a,u,d){return this._initOverlay(Mo,a,u,d).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Li.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mo,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof is||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(zt(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),zt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,d,_;this._tooltip.options.sticky&&a.originalEvent&&(d=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var lh=ss.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Me(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=bt(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Td(a){return new lh(a)}ss.Default=Ao;var Ta=Li.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){H(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),$t(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ke(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Kn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof gt?a:new gt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,d=-a(-1/0,1/0),_=0,E=u.length,R;_<E;_++)R=u[_].style.zIndex,u[_]!==this._container&&R&&(d=a(d,+R));isFinite(d)&&(this.options.zIndex=d+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Lt.ielt9){Ne(this._container,this.options.opacity);var a=+new Date,u=!1,d=!1;for(var _ in this._tiles){var E=this._tiles[_];if(!(!E.current||!E.loaded)){var R=Math.min(1,(a-E.loaded)/200);Ne(E.el,R),R<1?u=!0:(E.active?d=!0:this._onOpaqueTile(E),E.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(K(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=Wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===a?(this._levels[d].el.style.zIndex=u-Math.abs(a-d),this._onUpdateLevel(d)):($t(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[a],E=this._map;return _||(_=this._levels[a]={},_.el=Wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=E.project(E.unproject(E.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,E.getCenter(),E.getZoom()),C(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var a,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)$t(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,d,_){var E=Math.floor(a/2),R=Math.floor(u/2),z=d-1,X=new gt(+E,+R);X.z=+z;var tt=this._tileCoordsToKey(X),ft=this._tiles[tt];return ft&&ft.active?(ft.retain=!0,!0):(ft&&ft.loaded&&(ft.retain=!0),z>_?this._retainParent(E,R,z,_):!1)},_retainChildren:function(a,u,d,_){for(var E=2*a;E<2*a+2;E++)for(var R=2*u;R<2*u+2;R++){var z=new gt(E,R);z.z=d+1;var X=this._tileCoordsToKey(z),tt=this._tiles[X];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);d+1<_&&this._retainChildren(E,R,d+1,_)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,d,_){var E=Math.round(u);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var R=this.options.updateWhenZooming&&E!==this._tileZoom;(!_||R)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(a),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],a,u)},_setZoomTransform:function(a,u,d){var _=this._map.getZoomScale(d,a.zoom),E=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();Lt.any3d?Si(a.el,E,_):be(a.el,E)},_resetGrid:function(){var a=this._map,u=a.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(a.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(a.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),E=u.project(a,this._tileZoom).floor(),R=u.getSize().divideBy(_*2);return new j(E.subtract(R),E.add(R))},_update:function(a){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),E=this._pxBoundsToTileRange(_),R=E.getCenter(),z=[],X=this.options.keepBuffer,tt=new j(E.getBottomLeft().subtract([X,-X]),E.getTopRight().add([X,-X]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ft in this._tiles){var St=this._tiles[ft].coords;(St.z!==this._tileZoom||!tt.contains(new gt(St.x,St.y)))&&(this._tiles[ft].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(a,d);return}for(var Ot=E.min.y;Ot<=E.max.y;Ot++)for(var Qt=E.min.x;Qt<=E.max.x;Qt++){var mn=new gt(Qt,Ot);if(mn.z=this._tileZoom,!!this._isValidTile(mn)){var Ye=this._tiles[this._tileCoordsToKey(mn)];Ye?Ye.current=!0:z.push(mn)}}if(z.sort(function(de,me){return de.distanceTo(R)-me.distanceTo(R)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wn=document.createDocumentFragment();for(Qt=0;Qt<z.length;Qt++)this._addTile(z[Qt],Wn);this._level.el.appendChild(Wn)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(a.x<d.min.x||a.x>d.max.x)||!u.wrapLat&&(a.y<d.min.y||a.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return _t(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,d=this.getTileSize(),_=a.scaleBy(d),E=_.add(d),R=u.unproject(_,a.z),z=u.unproject(E,a.z);return[R,z]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),d=new yt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),d=new gt(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(a){var u=this._tiles[a];u&&($t(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Nt(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=C,a.onmousemove=C,Lt.ielt9&&this.options.opacity<1&&Ne(a,this.options.opacity)},_addTile:function(a,u){var d=this._getTilePos(a),_=this._tileCoordsToKey(a),E=this.createTile(this._wrapCoords(a),m(this._tileReady,this,a));this._initTile(E),this.createTile.length<2&&F(m(this._tileReady,this,a,null,E)),be(E,d),this._tiles[_]={el:E,coords:a,current:!0},u.appendChild(E),this.fire("tileloadstart",{tile:E,coords:a})},_tileReady:function(a,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:a});var _=this._tileCoordsToKey(a);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ne(d.el,0),K(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(Nt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Lt.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new gt(this._wrapX?A(a.x,this._wrapX):a.x,this._wrapY?A(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new j(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function uh(a){return new Ta(a)}var er=Ta.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=H(this,u),u.detectRetina&&Lt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var d=document.createElement("img");return zt(d,"load",m(this._tileOnLoad,this,u,d)),zt(d,"error",m(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(a),d},getTileUrl:function(a){var u={r:Lt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=d),u["-y"]=d}return at(this._url,l(u,this.options))},_tileOnLoad:function(a,u){Lt.ielt9?setTimeout(m(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),a(d,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(a=u-a),a+_},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=C,u.onerror=C,!u.complete)){u.src=xt;var d=this._tiles[a].coords;$t(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",xt),Ta.prototype._removeTile.call(this,a)},_tileReady:function(a,u,d){if(!(!this._map||d&&d.getAttribute("src")===xt))return Ta.prototype._tileReady.call(this,a,u,d)}});function ci(a,u){return new er(a,u)}var ko=er.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=H(this,u);var E=u.detectRetina&&Lt.retina?2:1,R=this.getTileSize();d.width=R.x*E,d.height=R.y*E,this.wmsParams=d},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,er.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),d=this._crs,_=lt(d.project(u[0]),d.project(u[1])),E=_.min,R=_.max,z=(this._wmsVersion>=1.3&&this._crs===Cr?[E.y,E.x,R.y,R.x]:[E.x,E.y,R.x,R.y]).join(","),X=er.prototype.getTileUrl.call(this,a);return X+Q(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(a,u){return l(this.wmsParams,a),u||this.redraw(),this}});function hi(a,u){return new ko(a,u)}er.WMS=ko,ci.wms=hi;var zn=Li.extend({options:{padding:.1},initialize:function(a){H(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,u),R=_.multiplyBy(-d).add(E).subtract(this._map._getNewPixelOrigin(a,u));Lt.any3d?Si(this._container,R,d):be(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new j(d,d.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Tl=zn.extend({options:{tolerance:0},getEvents:function(){var a=zn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");zt(a,"mousemove",this._onMouseMove,this),zt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,$t(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zn.prototype._update.call(this);var a=this._bounds,u=this._container,d=a.getSize(),_=Lt.retina?2:1;be(u,a.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){zn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),d=[],_,E;for(E=0;E<u.length;E++){if(_=Number(u[E]),isNaN(_))return;d.push(_)}a.options._dashArray=d}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var d,_,E,R,z=a._parts,X=z.length,tt=this._ctx;if(X){for(tt.beginPath(),d=0;d<X;d++){for(_=0,E=z[d].length;_<E;_++)R=z[d][_],tt[_?"lineTo":"moveTo"](R.x,R.y);u&&tt.closePath()}this._fillStroke(tt,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,d=this._ctx,_=Math.max(Math.round(a._radius),1),E=(Math.max(Math.round(a._radiusY),1)||_)/_;E!==1&&(d.save(),d.scale(1,E)),d.beginPath(),d.arc(u.x,u.y/E,_,0,Math.PI*2,!1),E!==1&&d.restore(),this._fillStroke(d,a)}},_fillStroke:function(a,u){var d=u.options;d.fill&&(a.globalAlpha=d.fillOpacity,a.fillStyle=d.fillColor||d.color,a.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=d.opacity,a.lineWidth=d.weight,a.strokeStyle=d.color,a.lineCap=d.lineCap,a.lineJoin=d.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),d,_,E=this._drawFirst;E;E=E.next)d=E.layer,d.options.interactive&&d._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(ve(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var d,_,E=this._drawFirst;E;E=E.next)d=E.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,d){this._map._fireDOMEvent(u,d||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function Oo(a){return Lt.canvas?new Tl(a):null}var nr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Du={_initContainer:function(){this._container=Wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=nr("shape");Nt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=nr("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;$t(u),a.removeInteractiveTarget(u),delete this._layers[y(a)]},_updateStyle:function(a){var u=a._stroke,d=a._fill,_=a.options,E=a._container;E.stroked=!!_.stroke,E.filled=!!_.fill,_.stroke?(u||(u=a._stroke=nr("stroke")),E.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=ot(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(E.removeChild(u),a._stroke=null),_.fill?(d||(d=a._fill=nr("fill")),E.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(E.removeChild(d),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),d=Math.round(a._radius),_=Math.round(a._radiusY||d);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){ke(a._container)},_bringToBack:function(a){Kn(a._container)}},as=Lt.vml?nr:ra,Sa=zn.extend({_initContainer:function(){this._container=as("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=as("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$t(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zn.prototype._update.call(this);var a=this._bounds,u=a.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),be(d,a.min),d.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=as("path");a.options.className&&Nt(u,a.options.className),a.options.interactive&&Nt(u,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){$t(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,d=a.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,Bs(a._parts,u))},_updateCircle:function(a){var u=a._point,d=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||d,E="a"+d+","+_+" 0 1,0 ",R=a._empty()?"M0 0":"M"+(u.x-d)+","+u.y+E+d*2+",0 "+E+-d*2+",0 ";this._setPath(a,R)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){ke(a._path)},_bringToBack:function(a){Kn(a._path)}});Lt.vml&&Sa.include(Du);function Po(a){return Lt.svg||Lt.vml?new Sa(a):null}Xt.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&Oo(a)||Po(a)}});var Rr=ba.extend({initialize:function(a,u){ba.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=_t(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Sd(a,u){return new Rr(a,u)}Sa.create=as,Sa.pointsToPath=Bs,Ts.geometryToLayer=wn,Ts.coordsToLatLng=vl,Ts.coordsToLatLngs=No,Ts.latLngToCoords=bl,Ts.latLngsToCoords=Io,Ts.getFeature=Js,Ts.asFeature=xl,Xt.mergeOptions({boxZoom:!0});var jn=Yn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ai(),wr(),this._startPoint=this._map.mouseEventToContainerPoint(a),zt(document,{contextmenu:Ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Wt("div","leaflet-zoom-box",this._container),Nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new j(this._point,this._startPoint),d=u.getSize();be(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&($t(this._box),ve(this._container,"leaflet-crosshair")),nn(),Zs(),fe(document,{contextmenu:Ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var u=new yt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xt.addInitHook("addHandler","boxZoom",jn),Xt.mergeOptions({doubleClickZoom:!0});var Sl=Yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,E=a.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(E):u.setZoomAround(a.containerPoint,E)}});Xt.addInitHook("addHandler","doubleClickZoom",Sl),Xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var os=Yn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ii(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ve(this._map._container,"leaflet-grab"),ve(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=_t(this._map.options.maxBounds);this._offsetLimit=lt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,E=(_-u+d)%a+u-d,R=(_+u+d)%a-u-d,z=Math.abs(E+d)<Math.abs(R+d)?E:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(a){var u=this._map,d=u.options,_=!d.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),_)u.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,z=d.easeLinearity,X=E.multiplyBy(z/R),tt=X.distanceTo([0,0]),ft=Math.min(d.inertiaMaxSpeed,tt),St=X.multiplyBy(ft/tt),Ot=ft/(d.inertiaDeceleration*z),Qt=St.multiplyBy(-Ot/2).round();!Qt.x&&!Qt.y?u.fire("moveend"):(Qt=u._limitOffset(Qt,u.options.maxBounds),F(function(){u.panBy(Qt,{duration:Ot,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Xt.addInitHook("addHandler","dragging",os),Xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Lu=Yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),zt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,d=a.scrollTop||u.scrollTop,_=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},d=this.keyCodes,_,E;for(_=0,E=d.left.length;_<E;_++)u[d.left[_]]=[-1*a,0];for(_=0,E=d.right.length;_<E;_++)u[d.right[_]]=[a,0];for(_=0,E=d.down.length;_<E;_++)u[d.down[_]]=[0,a];for(_=0,E=d.up.length;_<E;_++)u[d.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},d=this.keyCodes,_,E;for(_=0,E=d.zoomIn.length;_<E;_++)u[d.zoomIn[_]]=a;for(_=0,E=d.zoomOut.length;_<E;_++)u[d.zoomOut[_]]=-a},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],a.shiftKey&&(_=bt(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(bt(_),d.options.maxBounds)),d.options.worldCopyJump){var E=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(E)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Ai(a)}}});Xt.addInitHook("addHandler","keyboard",Lu),Xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vo=Yn.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=sn(a),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),_),Ai(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),d=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,R=d?Math.ceil(E/d)*d:E,z=a._limitZoom(u+(this._delta>0?R:-R))-u;this._delta=0,this._startTime=null,z&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+z):a.setZoomAround(this._lastMousePos,u+z))}});Xt.addInitHook("addHandler","scrollWheelZoom",Vo);var Nr=600;Xt.mergeOptions({tapHold:Lt.touchNative&&Lt.safari&&Lt.mobile,tapTolerance:15});var Al=Yn.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new gt(u.clientX,u.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",Oe),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Nr),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){fe(document,"touchend",Oe),fe(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new gt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var d=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Xt.addInitHook("addHandler","tapHold",Al),Xt.mergeOptions({touchZoom:Lt.touch,bounceAtZoomLimits:!0});var Mu=Yn.extend({addHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),Oe(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]),E=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(E,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&E<1||this._zoom>u.getMaxZoom()&&E>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var R=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(E===1&&R.x===0&&R.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var z=m(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(z,this,!0),Oe(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xt.addInitHook("addHandler","touchZoom",Mu),Xt.BoxZoom=jn,Xt.DoubleClickZoom=Sl,Xt.Drag=os,Xt.Keyboard=Lu,Xt.ScrollWheelZoom=Vo,Xt.TapHold=Al,Xt.TouchZoom=Mu,n.Bounds=j,n.Browser=Lt,n.CRS=qt,n.Canvas=Tl,n.Circle=yl,n.CircleMarker=va,n.Class=It,n.Control=bn,n.DivIcon=lh,n.DivOverlay=En,n.DomEvent=ns,n.DomUtil=Qs,n.Draggable=Ii,n.Evented=vt,n.FeatureGroup=is,n.GeoJSON=Ts,n.GridLayer=Ta,n.Handler=Yn,n.Icon=ss,n.ImageOverlay=wa,n.LatLng=Et,n.LatLngBounds=yt,n.Layer=Li,n.LayerGroup=ya,n.LineUtil=li,n.Map=Xt,n.Marker=Ro,n.Mixin=gl,n.Path=rs,n.Point=gt,n.PolyUtil=Ws,n.Polygon=ba,n.Polyline=Es,n.Popup=Lo,n.PosAnimation=bs,n.Projection=Di,n.Rectangle=Rr,n.Renderer=zn,n.SVG=Sa,n.SVGOverlay=El,n.TileLayer=er,n.Tooltip=Mo,n.Transformation=js,n.Util=k,n.VideoOverlay=tr,n.bind=m,n.bounds=lt,n.canvas=Oo,n.circle=sh,n.circleMarker=ih,n.control=Vn,n.divIcon=Td,n.extend=l,n.featureGroup=eh,n.geoJSON=wl,n.geoJson=Do,n.gridLayer=uh,n.icon=So,n.imageOverlay=rh,n.latLng=At,n.latLngBounds=_t,n.layerGroup=bd,n.map=Xs,n.marker=nh,n.point=bt,n.polygon=wd,n.polyline=xd,n.popup=oh,n.rectangle=Sd,n.setOptions=H,n.stamp=y,n.svg=Po,n.svgOverlay=ah,n.tileLayer=ci,n.tooltip=Ed,n.transformation=Hi,n.version=r,n.videoOverlay=Ea;var ku=window.L;n.noConflict=function(){return window.L=ku,this},window.L=n}))})(vc,vc.exports)),vc.exports}var th=SL();const oT=$b(th);function u_(s,t,n){return Object.freeze({instance:s,context:t,container:n})}function c_(s,t){return t==null?function(r,l){const h=B.useRef(void 0);return h.current||(h.current=s(r,l)),h}:function(r,l){const h=B.useRef(void 0);h.current||(h.current=s(r,l));const m=B.useRef(r),{instance:v}=h.current;return B.useEffect(function(){m.current!==r&&(t(v,r,m.current),m.current=r)},[v,r,t]),h}}function AL(s,t){B.useEffect(function(){return(t.layerContainer??t.map).addLayer(s.instance),function(){t.layerContainer?.removeLayer(s.instance),t.map.removeLayer(s.instance)}},[t,s])}function lT(s){return function(n){const r=rT(),l=s(l_(n,r),r);return sT(r.map,n.attribution),aT(l.current,n.eventHandlers),AL(l.current,r),l}}function CL(s,t){const n=c_(s,t),r=lT(n);return bL(r)}function RL(s,t){const n=c_(s),r=EL(n,t);return xL(r)}function NL(s,t){const n=c_(s,t),r=lT(n);return wL(r)}function IL(s,t,n){const{opacity:r,zIndex:l}=t;r!=null&&r!==n.opacity&&s.setOpacity(r),l!=null&&l!==n.zIndex&&s.setZIndex(l)}function DL({bounds:s,boundsOptions:t,center:n,children:r,className:l,id:h,placeholder:m,style:v,whenReady:y,zoom:b,...A},C){const[I]=B.useState({className:l,id:h,style:v}),[O,q]=B.useState(null),H=B.useRef(void 0);B.useImperativeHandle(C,()=>O?.map??null,[O]);const Q=B.useCallback(at=>{if(at!==null&&!H.current){const ot=new th.Map(at,A);H.current=ot,n!=null&&b!=null?ot.setView(n,b):s!=null&&ot.fitBounds(s,t),y!=null&&ot.whenReady(y),q(yL(ot))}},[]);B.useEffect(()=>()=>{O?.map.remove()},[O]);const st=O?Sp.createElement(o_,{value:O},r):m??null;return Sp.createElement("div",{...I,ref:Q},st)}const LL=B.forwardRef(DL),ML=CL(function({position:t,...n},r){const l=new th.Marker(t,n);return u_(l,vL(r,{overlayContainer:l}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),kL=RL(function(t,n){const r=new th.Popup(t,n.overlayContainer);return u_(r,n)},function(t,n,{position:r},l){B.useEffect(function(){const{instance:m}=t;function v(b){b.popup===m&&(m.update(),l(!0))}function y(b){b.popup===m&&l(!1)}return n.map.on({popupopen:v,popupclose:y}),n.overlayContainer==null?(r!=null&&m.setLatLng(r),m.openOn(n.map)):n.overlayContainer.bindPopup(m),function(){n.map.off({popupopen:v,popupclose:y}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(m)}},[t,n,l,r])}),OL=NL(function({url:t,...n},r){const l=new th.TileLayer(t,l_(n,r));return u_(l,r)},function(t,n,r){IL(t,n,r);const{url:l}=n;l!=null&&l!==r.url&&t.setUrl(l)}),PL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",VL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let zL=oT.icon({iconUrl:PL,shadowUrl:VL,iconSize:[25,41],iconAnchor:[12,41]});oT.Marker.prototype.options.icon=zL;function jL({mapLink:s}){const[t,n]=B.useState(null);return B.useEffect(()=>{if(s)try{const r=s.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(r){n([parseFloat(r[1]),parseFloat(r[2])]);return}const l=s.match(/q=(-?\d+\.\d+),(-?\d+\.\d+)/);if(l){n([parseFloat(l[1]),parseFloat(l[2])]);return}}catch(r){console.error("Failed to parse map coords",r)}},[s]),t?w.jsx("div",{className:"h-48 w-full relative z-0",children:w.jsxs(LL,{center:t,zoom:15,scrollWheelZoom:!1,className:"h-full w-full",attributionControl:!1,children:[w.jsx(OL,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),w.jsx(ML,{position:t,children:w.jsx(kL,{children:w.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:"Open in Google Maps"})})})]})}):w.jsx("div",{className:"h-32 bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400 text-xs",children:"Map not available"})}const Xb={"San Gabriel":{lat:34.0961,lng:-118.1058},Pasadena:{lat:34.1478,lng:-118.1445},"DTLA / Hollywood":{lat:34.0522,lng:-118.2437},"Universal City":{lat:34.1381,lng:-118.3534},"Las Vegas":{lat:36.1699,lng:-115.1398},"Grand Canyon / Las Vegas":{lat:36.0544,lng:-112.1401},Ontario:{lat:34.0633,lng:-117.6509},"ONT Airport":{lat:34.056,lng:-117.6012}};function UL(){const{id:s}=Kf(),t=Bi(),{getDay:n}=vd(),r=n(s),[l,h]=B.useState(null),[m,v]=B.useState(0);return B.useEffect(()=>{if(!r)return;const y=Xb[r.location]||Xb["San Gabriel"];async function b(){try{const C=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${y.lat}&longitude=${y.lng}&current_weather=true&temperature_unit=fahrenheit`)).json();h(C.current_weather)}catch(A){console.error("Failed to fetch weather",A)}}b()},[r]),B.useEffect(()=>{if(!r)return;const y=new Date(r.date+"T00:00:00"),b=new Date(r.date+"T23:59:59"),A=fu(ea(Cn,"expenses"),du("createdAt",">=",Ce.fromDate(y)),du("createdAt","<=",Ce.fromDate(b))),C=KE(A,I=>{let O=cn(0);I.docs.forEach(q=>{const H=q.data();H.amount&&(O=O.add(H.amount))}),v(O.value)},I=>{console.error("Error fetching available expenses: ",I)});return()=>C()},[r]),r?w.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-light dark:bg-background-dark min-h-screen pb-24 font-display text-slate-900 dark:text-white",children:[w.jsx("nav",{className:"sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md px-4 py-4",children:w.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[w.jsx("button",{onClick:()=>t("/overview"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-slate-200 dark:bg-card-dark text-slate-900 dark:text-white shadow-sm active:scale-95 transition-transform",children:w.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_back_ios_new"})}),w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest",children:r.date}),w.jsxs("p",{className:"text-lg font-extrabold text-primary",children:["Day ",r.id,": ",r.location]})]}),w.jsxs("button",{onClick:()=>t(`/manage/${r.id}`),className:"w-auto px-4 h-10 flex items-center justify-center rounded-full bg-accent text-primary shadow-sm font-bold text-xs uppercase gap-1 hover:bg-accent/80 transition-colors",children:[w.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"edit"}),"Edit"]})]})}),w.jsxs("main",{className:"max-w-md mx-auto px-4 space-y-6",children:[w.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.jsxs("div",{className:"col-span-2 lakers-gradient p-5 rounded-xl shadow-lg text-white",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/20 backdrop-blur-sm flex items-center justify-center",children:w.jsx("span",{className:"material-symbols-outlined text-white text-[20px]",children:"cloudy_snowing"})}),w.jsx("span",{className:"text-xs font-bold opacity-80 uppercase tracking-wider",children:"Local Forecast"})]}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-4xl font-black",children:l?w.jsxs(w.Fragment,{children:[Math.round(l.temperature),"F ",w.jsxs("span",{className:"text-xl font-normal opacity-60",children:["/ ",nT(l.temperature),"C"]})]}):"Loading..."}),w.jsx("span",{className:"text-xs text-white/80 font-bold uppercase tracking-widest mt-1",children:l?"Current Temp":r.weather})]})]})}),w.jsxs("div",{className:"relative space-y-8",children:[w.jsx("div",{className:"absolute left-[19px] top-6 bottom-0 w-0.5 bg-slate-200 dark:bg-white/10"}),r.events.map((y,b)=>w.jsxs("div",{className:"relative pl-12",children:[w.jsx("div",{className:`absolute left-0 top-1 w-10 h-10 flex items-center justify-center rounded-full z-10 shadow-lg ${b===0?"bg-primary text-white shadow-primary/20":"bg-white dark:bg-card-dark border-2 border-primary text-primary"}`,children:w.jsx("span",{className:"material-symbols-outlined text-sm",children:y.icon})}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-baseline justify-between",children:[w.jsx("h3",{className:"text-lg font-bold leading-tight",children:y.title}),w.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded whitespace-nowrap ${b===0?"text-primary bg-primary/10":"opacity-40 bg-slate-200 dark:bg-white/5"}`,children:y.time})]}),y.description&&w.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm leading-relaxed",children:y.description}),y.mapLink&&w.jsxs("div",{className:"rounded-xl overflow-hidden bg-white dark:bg-card-dark border border-slate-100 dark:border-white/5 shadow-sm",children:[w.jsx(jL,{mapLink:y.mapLink}),w.jsxs("div",{className:"p-3 flex items-center justify-between",children:[w.jsx("span",{className:"text-xs font-medium opacity-60 truncate max-w-[180px]",children:y.location}),w.jsxs("a",{href:y.mapLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary text-xs font-bold uppercase tracking-tight hover:underline",children:[w.jsx("span",{className:"material-symbols-outlined text-sm",children:"directions"}),"Open Maps"]})]})]})]})]},b))]}),w.jsxs("div",{className:"bg-primary p-6 rounded-2xl text-white shadow-xl shadow-primary/20 mt-8 mb-24",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h4",{className:"font-bold text-lg",children:"Daily Summary"}),w.jsxs("span",{className:"text-xs font-bold bg-white/20 px-3 py-1 rounded-full uppercase",children:["Day ",r.id]})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex justify-between text-sm",children:[w.jsx("span",{className:"opacity-80",children:"Accommodation"}),w.jsx("span",{className:"font-semibold",children:"$0.00 (Prepaid)"})]}),w.jsxs("div",{className:"flex justify-between text-sm",children:[w.jsx("span",{className:"opacity-80",children:"Activities & Dining"}),w.jsxs("span",{className:"font-semibold",children:["$",m.toFixed(2)]})]}),w.jsxs("div",{className:"pt-3 border-t border-white/20 flex justify-between items-end",children:[w.jsx("span",{className:"text-sm opacity-80 font-medium uppercase tracking-wider",children:"Total Spent"}),w.jsxs("span",{className:"text-2xl font-black",children:["$",m.toFixed(2)]})]})]})]})]}),w.jsx("button",{onClick:()=>t(`/manage/${r.id}`),className:"fixed bottom-24 right-6 bg-accent text-primary p-4 rounded-full shadow-[0_10px_30px_rgba(253,185,39,0.3)] border-4 border-background-dark active:scale-90 transition-transform z-40 hover:brightness-110",children:w.jsx("span",{className:"material-symbols-outlined text-3xl font-bold",children:"add"})}),w.jsx(sa,{})]}):w.jsx("div",{className:"text-white text-center pt-20",children:"Day not found"})}const uT=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();const BL=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const FL=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());const Wb=s=>{const t=FL(s);return t.charAt(0).toUpperCase()+t.slice(1)};var HL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qL=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const GL=B.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:h,iconNode:m,...v},y)=>B.createElement("svg",{ref:y,...HL,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:uT("lucide",l),...!h&&!qL(v)&&{"aria-hidden":"true"},...v},[...m.map(([b,A])=>B.createElement(b,A)),...Array.isArray(h)?h:[h]]));const Fi=(s,t)=>{const n=B.forwardRef(({className:r,...l},h)=>B.createElement(GL,{ref:h,iconNode:t,className:uT(`lucide-${BL(Wb(s))}`,`lucide-${s}`,r),...l}));return n.displayName=Wb(s),n};const ZL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],KL=Fi("calendar",ZL);const QL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tg=Fi("check",QL);const YL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cT=Fi("chevron-left",YL);const XL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],WL=Fi("chevron-right",XL);const JL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$L=Fi("circle-alert",JL);const tM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eM=Fi("clock",tM);const nM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],iM=Fi("dollar-sign",nM);const sM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],rM=Fi("pencil",sM);const aM=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],oM=Fi("receipt",aM);const lM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],uM=Fi("share-2",lM);const cM=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],hM=Fi("ticket",cM);const fM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dM=Fi("trash-2",fM);const mM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],pM=Fi("wallet",mM);function gM(){const s=Bi(),{currentUser:t}=pr(),{usersList:n,loading:r}=r_(),[l,h]=B.useState(""),[m,v]=B.useState("USD"),[y,b]=B.useState(""),[A,C]=B.useState([]),[I,O]=B.useState(!1),q=n.filter(pt=>pt.id!==t?.uid),H=pt=>{A.includes(pt)?C(A.filter(xt=>xt!==pt)):C([...A,pt])},Q=async()=>{if(!l||!y){alert("");return}O(!0);try{const pt=cn(l),xt=[t.uid,...A],Rt=pt.distribute(xt.length),V=xt.map((M,P)=>({userId:M,amount:Rt[P].value}));await ZE(ea(Cn,"expenses"),{item:y,amount:pt.value,currency:m,paidBy:t.uid,createdAt:XE(),splits:V,splitWith:xt}),s("/overview")}catch(pt){console.error("Error adding document: ",pt),alert("")}finally{O(!1)}},st=A.length+1,at=l&&st>0?cn(l).divide(st).toString():"0.00",ot=m==="USD"?"$":"NT$";return w.jsxs("div",{className:"w-full min-h-screen bg-background-dark text-white font-['Inter'] pb-32 max-w-[430px] mx-auto relative shadow-2xl flex flex-col border-x border-[#592e7f]/10",children:[w.jsxs("header",{className:"px-6 py-5 flex justify-between items-center border-b border-white/5 sticky top-0 bg-[#0F0F0F] z-50",children:[w.jsx("button",{onClick:()=>s(-1),className:"text-[#FDB927] font-[900] italic uppercase text-[10px] tracking-widest hover:opacity-80 transition-opacity",children:"CANCEL"}),w.jsx("h1",{className:"text-white font-[900] italic uppercase text-[10px] tracking-[0.2em]",children:"ADD NEW EXPENSE"}),w.jsx("button",{onClick:Q,disabled:I,className:"text-[#FDB927] font-[900] italic uppercase text-[10px] tracking-widest disabled:opacity-50 hover:opacity-80 transition-opacity",children:"SAVE"})]}),w.jsxs("main",{className:"flex-1 overflow-y-auto p-5 space-y-6 custom-scrollbar",children:[w.jsxs("section",{className:"text-center py-4 relative group",children:[w.jsx("div",{className:"flex justify-center mb-8",children:w.jsxs("div",{className:"inline-flex bg-white/5 p-1 rounded-2xl border border-white/10 backdrop-blur-sm",children:[w.jsx("button",{onClick:()=>v("USD"),className:`px-8 py-2.5 rounded-xl text-[10px] font-[900] italic uppercase tracking-widest transition-all duration-200 ${m==="USD"?"bg-[#FDB927] text-[#552583] shadow-lg":"text-white/40 hover:text-white/60"}`,children:"USD"}),w.jsx("button",{onClick:()=>v("TWD"),className:`px-8 py-2.5 rounded-xl text-[10px] font-[900] italic uppercase tracking-widest transition-all duration-200 ${m==="TWD"?"bg-[#FDB927] text-[#552583] shadow-lg":"text-white/40 hover:text-white/60"}`,children:"TWD"})]})}),w.jsxs("div",{className:"flex items-center justify-center gap-1",children:[w.jsx("span",{className:"text-[#FDB927] text-4xl font-[900] italic leading-none",children:ot}),w.jsx("input",{type:"text",inputMode:"decimal",value:l,onChange:pt=>{const xt=pt.target.value;(xt===""||/^\d*\.?\d{0,2}$/.test(xt))&&h(xt)},placeholder:"0.00",className:"bg-transparent text-7xl font-[900] italic tracking-tighter w-48 text-center outline-none text-white placeholder:text-white/10 caret-[#FDB927]"})]}),w.jsx("p",{className:"text-[10px] font-[900] text-white/20 uppercase tracking-[0.3em] mt-3 italic",children:"Total Expense"})]}),w.jsxs("div",{className:"bg-white/5 rounded-[32px] p-5 flex items-center gap-4 border border-white/5 focus-within:border-[#FDB927]/30 transition-colors",children:[w.jsx("div",{className:"bg-[#552583] p-3 rounded-2xl",children:w.jsx(hM,{className:"text-[#FDB927]",size:20,fill:"#FDB927"})}),w.jsx("input",{value:y,onChange:pt=>b(pt.target.value),placeholder:"ITEM NAME (E.G. TACOS)",className:"bg-transparent flex-1 font-[900] text-xl outline-none placeholder:text-white/20 tracking-tighter text-white"})]}),w.jsxs("section",{className:"space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-end px-2",children:[w.jsx("h2",{className:"text-[10px] font-[900] text-white/40 uppercase tracking-widest italic",children:"Split With Friends"}),w.jsx("span",{className:"text-[9px] font-[900] text-[#FDB927] uppercase tracking-widest italic opacity-60",children:A.length===0?"Personal":`${A.length} Selected`})]}),w.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4 no-scrollbar px-1 custom-scrollbar",children:[q.map(pt=>{const xt=A.includes(pt.uid);return w.jsxs("button",{onClick:()=>H(pt.uid),className:"flex flex-col items-center gap-2 shrink-0 group",children:[w.jsxs("div",{className:`relative w-16 h-16 rounded-full border-2 p-1 transition-all duration-300 ${xt?"border-[#552583] bg-white/5":"border-white/10 opacity-50 grayscale hover:grayscale-0"}`,children:[pt.photoURL?w.jsx("img",{src:pt.photoURL,alt:pt.displayName,className:"w-full h-full rounded-full bg-neutral-800 object-cover"}):w.jsx("div",{className:"w-full h-full rounded-full bg-[#552583] flex items-center justify-center text-lg font-bold",children:pt.displayName?.[0]||"?"}),xt&&w.jsx("div",{className:"absolute -bottom-1 -right-1 bg-[#552583] rounded-full p-1.5 border-[3px] border-[#0F0F0F] shadow-lg animate-in zoom-in duration-200",children:w.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"#FDB927",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round",children:w.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}),w.jsx("span",{className:`text-[12px] font-[900] uppercase font-bold tracking-tighter transition-colors ${xt?"text-white":"text-white/40"}`,children:pt.displayName})]},pt.uid)}),q.length===0&&w.jsx("p",{className:"text-[10px] text-white/30 italic font-bold p-2",children:"No other friends found"})]})]}),w.jsxs("div",{className:"bg-[#552583] rounded-[32px] p-6 flex justify-between items-center shadow-2xl border-b-4 border-[#FDB927] relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-[#FDB927] blur-[50px] opacity-10 rounded-full pointer-events-none"}),w.jsxs("div",{className:"relative z-10",children:[w.jsx("p",{className:"text-[#FDB927] text-[10px] font-[900] uppercase tracking-widest italic mb-1",children:"Per Person"}),w.jsxs("h3",{className:"text-3xl font-[900] italic tracking-tighter leading-none text-white",children:[ot,at]})]}),A.length===0?w.jsx("div",{className:"bg-[#FDB927] text-[#552583] px-3 py-1.5 rounded-full text-[9px] font-[900] uppercase italic shadow-lg z-10",children:"PAYING FOR MYSELF"}):w.jsxs("div",{className:"bg-black/20 text-[#FDB927] px-3 py-1.5 rounded-full text-[9px] font-[900] uppercase italic border border-[#FDB927]/20 z-10",children:[A.length+1," People"]})]}),w.jsx("button",{onClick:Q,disabled:I,className:"w-full bg-[#FDB927] text-[#552583] py-5 rounded-[24px] font-[900] italic text-sm uppercase tracking-[0.2em] shadow-[0_6px_0_#b8861b] active:translate-y-1 transition-all disabled:opacity-50 disabled:shadow-none",children:"Save Expense"})]}),w.jsx(sa,{})]})}function _M(){const s=Bi(),{currentUser:t}=pr(),{users:n}=r_(),[r,l]=B.useState("USD"),[h,m]=B.useState([]),[v,y]=B.useState(!0);B.useEffect(()=>{async function O(){try{const q=fu(ea(Cn,"expenses"),BE("createdAt","desc")),H=await rl(q),Q=[];H.forEach(st=>{Q.push({id:st.id,...st.data()})}),m(Q)}catch(q){console.error("Error fetching data:",q)}finally{y(!1)}}O()},[]);const b=(O,q)=>{const H=parseFloat(O);return r==="USD"?q==="TWD"?H/32:H:q==="USD"?H*32:H},A=O=>{if(!O)return"";const q=O.toDate(),H=new Date;return(q.getDate()===H.getDate()&&q.getMonth()===H.getMonth()&&q.getFullYear()===H.getFullYear()?"Today, ":q.toLocaleDateString()+", ")+q.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})},C=O=>O?O.toDate().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):"Unknown Date",I=h.reduce((O,q)=>{const H=C(q.createdAt);return O[H]||(O[H]=[]),O[H].push(q),O},{});return w.jsxs("div",{className:"min-h-screen bg-[#19141e] text-white font-sans max-w-[430px] mx-auto flex flex-col relative shadow-2xl border-x border-[#592e7f]/10",children:[w.jsxs("header",{className:"sticky top-0 z-50 bg-[#19141e]/80 backdrop-blur-md pt-6 px-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("button",{onClick:()=>s(-1),className:"text-[#FDB927]",children:w.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios"})}),w.jsx("h1",{className:"text-xl font-extrabold tracking-tight uppercase italic text-white",children:"Expenses"}),w.jsx("div",{className:"text-[#FDB927]",children:w.jsx("span",{className:"material-symbols-outlined text-3xl",children:"more_horiz"})})]}),w.jsxs("button",{onClick:()=>s("/expense-summary"),className:"w-full mb-6 bg-lakers-gold hover:bg-[#eab021] text-primary font-black py-4 px-6 rounded-xl shadow-[0_4px_20px_rgba(253,185,39,0.4)] flex items-center justify-between group active:scale-[0.98] transition-all",children:[w.jsxs("div",{className:"flex items-center gap-4 text-[#552583]",children:[w.jsx("div",{className:"bg-[#552583]/10 p-2.5 rounded-2xl",children:w.jsx(iM,{size:20,strokeWidth:3})}),w.jsxs("div",{className:"text-left",children:[w.jsx("p",{className:"font-lakers font-[900] italic text-sm uppercase tracking-[0.15em] leading-tight",children:"View My Summary"}),w.jsx("p",{className:"text-[10px] font-black opacity-50 uppercase tracking-[0.2em] mt-0.5",children:"Settlement"})]})]}),w.jsx(WL,{size:22,strokeWidth:3,className:"text-[#552583]"})]}),w.jsxs("div",{className:"flex bg-[#362b40] p-1 rounded-xl mb-6 shadow-inner",children:[w.jsxs("label",{className:`flex cursor-pointer h-10 grow items-center justify-center overflow-hidden rounded-lg px-2 text-sm font-bold transition-all duration-200 ${r==="USD"?"bg-[#592e7f] text-white":"text-[#ae9ebd]"}`,children:[w.jsx("span",{className:"truncate",children:"USD"}),w.jsx("input",{className:"hidden",type:"radio",name:"currency",value:"USD",checked:r==="USD",onChange:()=>l("USD")})]}),w.jsxs("label",{className:`flex cursor-pointer h-10 grow items-center justify-center overflow-hidden rounded-lg px-2 text-sm font-bold transition-all duration-200 ${r==="TWD"?"bg-[#592e7f] text-white":"text-[#ae9ebd]"}`,children:[w.jsx("span",{className:"truncate",children:"TWD"}),w.jsx("input",{className:"hidden",type:"radio",name:"currency",value:"TWD",checked:r==="TWD",onChange:()=>l("TWD")})]})]}),w.jsxs("div",{className:"flex flex-col gap-3 pb-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("div",{className:"relative flex-1",children:[w.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[#ae9ebd]",children:"search"}),w.jsx("input",{type:"text",placeholder:"Search (e.g. Dinner, Tickets)",className:"w-full h-12 pl-10 pr-4 bg-[#362b40] border-none rounded-xl focus:ring-2 focus:ring-[#592e7f] text-sm placeholder:text-[#ae9ebd] text-white outline-none"})]}),w.jsx("button",{className:"w-12 h-12 flex items-center justify-center bg-[#592e7f] rounded-xl text-[#FDB927] shadow-lg",children:w.jsx("span",{className:"material-symbols-outlined",children:"tune"})})]}),w.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-2",children:[w.jsx("button",{className:"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#592e7f] px-5 text-white shadow-md",children:w.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"All"})}),w.jsxs("button",{className:"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#362b40] px-5 text-[#ae9ebd]",children:[w.jsx("span",{className:"material-symbols-outlined text-lg",children:"restaurant"}),w.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Food"})]}),w.jsxs("button",{className:"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#362b40] px-5 text-[#ae9ebd]",children:[w.jsx("span",{className:"material-symbols-outlined text-lg",children:"local_taxi"}),w.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Transit"})]}),w.jsxs("button",{className:"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#362b40] px-5 text-[#ae9ebd]",children:[w.jsx("span",{className:"material-symbols-outlined text-lg",children:"confirmation_number"}),w.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Tickets"})]})]})]})]}),w.jsx("main",{className:"flex-1 px-4 py-2 space-y-4 pb-32 overflow-y-auto",children:Object.keys(I).map(O=>w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-3 py-2",children:[w.jsx("div",{className:"h-[1px] flex-1 bg-[#592e7f]/20"}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-[#592e7f]",children:O}),w.jsx("div",{className:"h-[1px] flex-1 bg-[#592e7f]/20"})]}),w.jsx("div",{className:"space-y-4",children:I[O].map(q=>{let H=n[q.paidBy];!H&&t&&t.uid===q.paidBy&&(H={displayName:t.displayName,photoURL:t.photoURL}),H||(H={displayName:"Unknown"});const Q=H.displayName?H.displayName[0].toUpperCase():"?",st=b(q.amount,q.currency),ot=(q.splitWith||[]).filter(pt=>pt!==q.paidBy);return w.jsxs("div",{className:"bg-[#2D2935] rounded-xl overflow-hidden shadow-xl border-l-4 border-[#FDB927]",children:[w.jsxs("div",{className:"p-5",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsxs("div",{className:"max-w-[70%]",children:[w.jsx("h3",{className:"text-lg font-bold leading-tight text-white",children:q.item}),w.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[w.jsx("span",{className:"material-symbols-outlined text-sm text-[#592e7f]",children:"sell"}),w.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase tracking-tighter",children:q.category||"General"})]})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("p",{className:"text-xl font-black text-[#FDB927] drop-shadow-[0_0_12px_rgba(253,185,39,0.3)]",children:[r==="USD"?"$":"NT$",st.toFixed(2)]}),w.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:["Total ",r]})]})]}),w.jsxs("div",{className:"flex items-center justify-between mt-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("div",{className:"relative",children:[H.photoURL?w.jsx("div",{className:"size-10 rounded-full border-2 border-[#FDB927] overflow-hidden",children:w.jsx("img",{src:H.photoURL,alt:H.displayName,className:"w-full h-full object-cover"})}):w.jsx("div",{className:"size-10 rounded-full border-2 border-[#FDB927] overflow-hidden bg-[#592e7f] flex items-center justify-center text-white font-bold text-xs",children:Q}),w.jsx("div",{className:"absolute -bottom-1 -right-1 size-5 bg-[#FDB927] rounded-full flex items-center justify-center text-[10px] border-2 border-[#2D2935] font-bold text-[#592e7f]",children:""})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none mb-1",children:"Paid by"}),w.jsx("p",{className:"text-sm font-bold text-white",children:H.displayName})]})]}),w.jsxs("div",{className:"flex flex-col items-end",children:[w.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none mb-2",children:"Split with"}),w.jsxs("div",{className:"flex -space-x-3",children:[ot.slice(0,3).map((pt,xt)=>{let Rt=n[pt];return!Rt&&t&&t.uid===pt&&(Rt=t),w.jsx("div",{className:"size-8 rounded-full ring-2 ring-[#2D2935] bg-slate-700 flex items-center justify-center text-[10px] font-bold text-white shadow-md overflow-hidden",children:Rt?.photoURL?w.jsx("img",{src:Rt.photoURL,className:"w-full h-full object-cover"}):Rt?.displayName?.[0]||"?"},xt)}),ot.length>3&&w.jsxs("div",{className:"size-8 rounded-full ring-2 ring-[#2D2935] bg-slate-700 flex items-center justify-center text-[10px] font-bold text-white shadow-md",children:["+",ot.length-3]})]})]})]})]}),w.jsxs("div",{className:"px-5 py-3 bg-black/20 flex justify-between items-center border-t border-white/5",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"material-symbols-outlined text-lg text-slate-400",children:"schedule"}),w.jsx("span",{className:"text-xs font-medium text-slate-400",children:A(q.createdAt)})]}),w.jsxs("button",{onClick:()=>s(`/expense/${q.id}`),className:"text-xs font-bold uppercase tracking-widest text-[#FDB927] flex items-center gap-1",children:["Details ",w.jsx("span",{className:"material-symbols-outlined text-base",children:"chevron_right"})]})]})]},q.id)})})]},O))}),w.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-50",children:w.jsx("button",{onClick:()=>s("/add-expense"),className:"bg-[#592e7f] text-[#FDB927] w-16 h-16 rounded-full shadow-[0_8px_30px_rgba(89,46,127,0.4)] flex items-center justify-center active:scale-90 transition-all border-4 border-[#19141e]",children:w.jsx("span",{className:"material-symbols-outlined text-3xl font-black",children:"add"})})}),w.jsx(sa,{})]})}const yM=()=>{const s=Bi(),{currentUser:t}=pr(),[n,r]=B.useState([]),[l,h]=B.useState(0),[m,v]=B.useState(!0);B.useEffect(()=>{if(!t)return;async function C(){try{const I=fu(ea(Cn,"expenses"),du("splitWith","array-contains",t.uid)),O=await rl(I),q={};O.forEach(pt=>{const xt=pt.data(),V=xt.currency==="USD"?32:1;if(xt.paidBy===t.uid)xt.splits&&xt.splits.forEach(M=>{if(M.userId!==t.uid){let P=cn(M.amount).multiply(V).value;q[M.userId]||(q[M.userId]={amount:0,items:[]}),q[M.userId].amount=cn(q[M.userId].amount).add(P).value,q[M.userId].items.push({name:xt.item,amount:P,type:"owe_me",originalCurrency:xt.currency})}});else if(xt.splits){const M=xt.splits.find(P=>P.userId===t.uid);if(M){let P=cn(M.amount).multiply(V).value;const G=xt.paidBy;q[G]||(q[G]={amount:0,items:[]}),q[G].amount=cn(q[G].amount).subtract(P).value,q[G].items.push({name:xt.item,amount:P,type:"i_owe",originalCurrency:xt.currency})}}});const H=Object.keys(q),Q=await Promise.all(H.map(pt=>Vc(Ms(Cn,"users",pt)))),st={};Q.forEach(pt=>{pt.exists()&&(st[pt.id]=pt.data())});let at=cn(0);const ot=H.map(pt=>{const xt=q[pt];at=at.add(xt.amount);const Rt=st[pt]||{displayName:"Unknown",photoURL:null};return{uid:pt,name:Rt.displayName||"Unknown",initial:(Rt.displayName?Rt.displayName[0]:"?").toUpperCase(),photoURL:Rt.photoURL,amount:xt.amount,items:xt.items}});r(ot),h(at.value)}catch(I){console.error("Error calculating settlements:",I)}finally{v(!1)}}C()},[t]);const y=l<0,b=Math.abs(l),A=cn(b).divide(32).value;return w.jsxs("div",{className:"min-h-screen bg-[#121212] text-white pb-24 font-sans max-w-[430px] mx-auto",children:[w.jsxs("header",{className:"p-6 flex justify-between items-center",children:[w.jsx("button",{onClick:()=>s(-1),children:w.jsx("span",{className:"material-symbols-outlined rotate-180 text-[#FDB927]",children:"chevron_right"})}),w.jsx("h1",{className:"text-xl font-black italic tracking-tighter uppercase",children:"My Expense Summary"}),w.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#FDB927]/10 flex items-center justify-center",children:w.jsx("span",{className:"material-symbols-outlined text-[#FDB927] text-lg",children:"attach_money"})})]}),w.jsx("div",{className:"px-4 mb-8",children:w.jsxs("div",{className:"bg-gradient-to-br from-[#552583] to-[#3a1958] p-8 rounded-[40px] shadow-2xl relative overflow-hidden border-b-4 border-[#FDB927]",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsx("p",{className:"text-[#FDB927] text-xs font-black uppercase tracking-widest",children:y?"My Total Debt":"My Total Credit"}),w.jsx("span",{className:"material-symbols-outlined text-white/40 text-xl",children:"info"})]}),w.jsxs("h2",{className:"text-5xl font-black italic mb-2 tracking-tighter",children:[y?"-":"+","NT$",b.toFixed(0)]}),w.jsxs("p",{className:"text-white/50 text-sm font-bold tracking-tight",children:[" $",A.toFixed(2)," USD"]}),w.jsx("div",{className:"mt-8 h-1 w-full bg-white/10 rounded-full overflow-hidden",children:w.jsx("div",{className:`h-full ${y?"bg-red-500":"bg-[#FDB927]"} w-[65%] rounded-full shadow-[0_0_10px_#FDB927]`})})]})}),w.jsxs("div",{className:"px-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 px-2",children:[w.jsx("h3",{className:"text-xs font-black uppercase tracking-[0.2em] text-[#FDB927]",children:"Settlement Breakdown"}),w.jsxs("span",{className:"text-[10px] font-bold text-white/30 uppercase",children:[n.length," People"]})]}),m?w.jsx("div",{className:"text-center text-white/50 py-10",children:"Loading..."}):w.jsxs("div",{className:"space-y-4",children:[n.map((C,I)=>{const O=C.amount>0,q=Math.abs(C.amount);return w.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl overflow-hidden",children:[w.jsxs("div",{className:"p-5 flex items-center justify-between bg-white/[0.02]",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("div",{className:"w-12 h-12 rounded-full bg-purple-900 border-2 border-[#FDB927] flex items-center justify-center text-xs font-black relative overflow-hidden",children:[C.photoURL?w.jsx("img",{src:C.photoURL,alt:C.name,className:"w-full h-full object-cover"}):C.initial,w.jsx("div",{className:"absolute -bottom-1 -right-1 bg-[#FDB927] p-1 rounded-full shadow-lg flex items-center justify-center",children:w.jsx("div",{className:"w-2 h-2 rounded-full border border-[#552583]"})})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-black text-lg",children:C.name}),w.jsxs("p",{className:`${O?"text-[#FDB927]":"text-red-400"} text-[10px] font-black uppercase italic`,children:[O?"Owes You":"You Owe",": $",q.toFixed(2)]})]})]}),w.jsx("button",{className:"bg-white/10 hover:bg-[#FDB927] hover:text-[#552583] px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all tracking-widest cursor-pointer",children:"Settle"})]}),w.jsx("div",{className:"p-5 pt-2 space-y-3",children:C.items.map((H,Q)=>w.jsxs("div",{className:"flex justify-between items-center text-sm",children:[w.jsxs("span",{className:"text-white/50 font-medium",children:[H.name,w.jsxs("span",{className:"text-[9px] opacity-50 ml-1",children:["(",H.type==="owe_me"?"Split":"Covered",")"]})]}),w.jsxs("span",{className:"font-black",children:["$",H.amount.toFixed(2)]})]},Q))})]},I)}),n.length===0&&w.jsx("div",{className:"text-center text-white/30 py-8 text-sm italic",children:"No expenses to settle."})]})]}),w.jsx(sa,{})]})};function vM(){const{dayId:s}=Kf(),t=Bi(),{getDay:n,addEvent:r,updateEvent:l,deleteEvent:h,schedule:m,syncToFirestore:v}=vd(),[y,b]=B.useState(null),[A,C]=B.useState(null),I=B.useRef(null),O=B.useRef(!1),q=B.useRef(0),H=B.useRef(0),Q=Tt=>{O.current=!0,q.current=Tt.pageX-I.current.offsetLeft,H.current=I.current.scrollLeft,I.current.style.cursor="grabbing",I.current.style.userSelect="none"},st=()=>{O.current=!1,I.current&&(I.current.style.cursor="grab",I.current.style.removeProperty("user-select"))},at=()=>{O.current=!1,I.current&&(I.current.style.cursor="grab",I.current.style.removeProperty("user-select"))},ot=Tt=>{if(!O.current)return;Tt.preventDefault();const j=(Tt.pageX-I.current.offsetLeft-q.current)*2;I.current.scrollLeft=H.current-j};B.useEffect(()=>{if(I.current&&s){const Tt=I.current.querySelector(`[data-day-id="${s}"]`);Tt&&Tt.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[s,m]);const[pt,xt]=B.useState(""),[Rt,V]=B.useState(""),[M,P]=B.useState(""),[G,F]=B.useState(""),[K,k]=B.useState("calendar_today");B.useEffect(()=>{const Tt=n(s);Tt&&b(Tt)},[s,m]);const It=()=>{if(!pt||!Rt||!M){alert("Please fill in all required fields (When, What, Details)");return}const Tt={time:pt,title:Rt,description:M,location:Rt,mapLink:G,icon:K};A!==null?(l(s,A,Tt),alert("Event updated!")):(r(s,Tt),alert("Event added!")),xt(""),V(""),P(""),F(""),k("calendar_today"),C(null)},Jt=Tt=>{const bt=y.events[Tt];xt(bt.time),V(bt.title),P(bt.description),F(bt.mapLink||""),k(bt.icon||"calendar_today"),C(Tt),window.scrollTo({top:0,behavior:"smooth"})},nt=()=>{xt(""),V(""),P(""),F(""),k("calendar_today"),C(null)},vt=Tt=>{window.confirm("Are you sure you want to delete this event?")&&h(s,Tt)};if(!y)return w.jsxs("div",{className:"text-white text-center pt-20",children:["Loading Day ",s,"..."]});const gt=Tt=>{const bt=Tt.split("-");return bt.length===3?`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(bt[1])-1]} ${parseInt(bt[2])}`:Tt};return w.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-white min-h-screen pb-32 font-display w-full max-w-[430px] mx-auto",children:[w.jsxs("div",{className:"sticky top-0 z-50 bg-background-light dark:bg-background-dark/95 backdrop-blur-md border-b border-white/10",children:[w.jsxs("div",{className:"flex items-center p-4 justify-between",children:[w.jsx("button",{onClick:()=>t(`/day/${s}`),className:"text-primary dark:text-accent flex size-10 shrink-0 items-center justify-center rounded-full hover:bg-primary/10 cursor-pointer",children:w.jsx("span",{className:"material-symbols-outlined",children:"arrow_back_ios_new"})}),w.jsx("h2",{className:"text-primary dark:text-white text-lg font-extrabold uppercase tracking-widest flex-1 text-center",children:"Manage Schedule"}),w.jsx("div",{className:"flex w-10 items-center justify-end",children:w.jsx("button",{onClick:v,className:"flex items-center justify-center size-10 rounded-full hover:bg-primary/10",title:"Sync to Cloud",children:w.jsx("span",{className:"material-symbols-outlined text-primary dark:text-accent text-[20px]",children:"cloud_upload"})})})]}),w.jsx("div",{ref:I,className:"flex overflow-x-auto custom-scrollbar px-4 gap-6 border-b border-white/10 pb-1 snap-x cursor-grab active:cursor-grabbing",onMouseDown:Q,onMouseLeave:st,onMouseUp:at,onMouseMove:ot,children:m.map(Tt=>w.jsxs("button",{"data-day-id":Tt.id,onClick:()=>t(`/manage/${Tt.id}`),className:`flex flex-col items-center justify-center border-b-4 pb-3 pt-2 shrink-0 min-w-[60px] snap-center transition-colors ${Tt.id===parseInt(s)?"border-accent text-accent":"border-transparent text-white/40"}`,children:[w.jsxs("p",{className:"text-xs font-black uppercase",children:["Day ",Tt.id]}),w.jsx("p",{className:"text-[10px] font-bold opacity-70",children:gt(Tt.date)})]},Tt.id))})]}),w.jsxs("main",{className:"p-4 space-y-8",children:[w.jsxs("section",{className:"bg-surface-dark rounded-xl p-5 border border-white/10 shadow-2xl relative overflow-hidden bg-[#2b2533]",children:[w.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/20 blur-[60px] rounded-full -mr-16 -mt-16"}),w.jsxs("h3",{className:"text-accent text-sm font-black uppercase tracking-tighter mb-4 flex items-center gap-2",children:[w.jsx("span",{className:"material-symbols-outlined text-sm",children:A!==null?"edit":"add_circle"}),A!==null?"Edit Event":"Add New Event"]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex flex-col gap-1.5 gold-glow",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/60 px-1",children:"When? (Required)"}),w.jsxs("div",{className:"flex items-stretch rounded-lg bg-black/20 border border-white/10",children:[w.jsx("input",{value:pt,onChange:Tt=>xt(Tt.target.value),className:"flex-1 bg-transparent border-0 text-white p-3 text-sm font-bold focus:ring-0 placeholder:text-white/20",placeholder:"e.g. 19:30",type:"time"}),w.jsx("div",{className:"flex items-center px-3 border-l border-white/10",children:w.jsx("span",{className:"material-symbols-outlined text-accent text-xl",children:"schedule"})})]})]}),w.jsxs("div",{className:"flex flex-col gap-1.5 gold-glow",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/60 px-1",children:"What are we doing? (Required)"}),w.jsx("input",{value:Rt,onChange:Tt=>V(Tt.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-sm font-bold focus:ring-0 focus:border-accent text-white placeholder:text-white/20",placeholder:"e.g. Game Tip-off",type:"text"})]}),w.jsxs("div",{className:"flex flex-col gap-1.5 gold-glow",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/60 px-1",children:"Details (Required)"}),w.jsx("textarea",{value:M,onChange:Tt=>P(Tt.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-sm font-bold focus:ring-0 focus:border-accent text-white placeholder:text-white/20",placeholder:"e.g. Section 112, Entrance B.",rows:"2"})]}),w.jsxs("div",{className:"flex flex-col gap-1.5 gold-glow",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/60 px-1",children:"Location Link (Optional)"}),w.jsxs("div",{className:"flex items-stretch rounded-lg bg-black/20 border border-white/10 overflow-hidden",children:[w.jsx("div",{className:"flex items-center px-3 bg-primary/20 border-r border-white/10",children:w.jsx("span",{className:"material-symbols-outlined text-accent text-xl",children:"map"})}),w.jsx("input",{value:G,onChange:Tt=>F(Tt.target.value),className:"flex-1 bg-transparent border-0 text-white p-3 text-sm font-bold focus:ring-0 placeholder:text-white/20",placeholder:"Paste Google Maps URL",type:"text"})]})]}),w.jsx("div",{className:"flex flex-col gap-3 mt-4",children:A!==null?w.jsxs("div",{className:"flex gap-3 w-full",children:[w.jsxs("button",{onClick:nt,className:"flex-1 bg-white/5 border border-white/10 hover:bg-white/10 text-white font-black py-4 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-95 uppercase tracking-widest text-[10px]",children:[w.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"}),"CANCEL"]}),w.jsxs("button",{onClick:It,className:"flex-[2] bg-[#FDB927] text-[#552583] py-4 rounded-xl font-black text-[10px] uppercase tracking-widest active:scale-[0.98] transition-all shadow-[0_4px_0_#b8861b] flex items-center justify-center gap-2",children:["UPDATE EVENT",w.jsx("span",{className:"material-symbols-outlined text-sm",children:"update"})]})]}):w.jsxs("button",{onClick:It,className:"w-full bg-[#FDB927] text-[#552583] py-4 rounded-xl font-black text-[10px] uppercase tracking-widest active:scale-[0.98] transition-all shadow-[0_4px_0_#b8861b] flex items-center justify-center gap-2",children:["ADD TO SCHEDULE",w.jsx("span",{className:"material-symbols-outlined text-sm",children:"celebration"})]})})]})]}),w.jsxs("section",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-between px-1",children:[w.jsx("h3",{className:"text-white text-lg font-black uppercase tracking-tight",children:"Existing Plans"}),w.jsxs("span",{className:"text-[10px] font-black text-accent px-2 py-0.5 border border-accent/30 rounded-full bg-accent/5",children:[y.events.length," EVENTS"]})]}),y.events.map((Tt,bt)=>w.jsxs("div",{className:"group relative bg-[#2b2533] border border-white/10 rounded-xl p-4 flex gap-4 transition-all hover:border-accent/40 shadow-lg",children:[w.jsxs("div",{className:"flex flex-col items-center justify-start pt-1 border-r border-white/10 pr-4 min-w-[75px]",children:[w.jsx("span",{className:"text-accent font-black text-sm",children:Tt.time}),w.jsx("span",{className:"text-[9px] uppercase font-black text-white/40",children:"TIME"})]}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h4",{className:"font-black text-white text-base",children:Tt.title}),w.jsx("p",{className:"text-white/60 text-xs font-medium line-clamp-2 mt-1",children:Tt.description})]}),w.jsxs("div",{className:"flex flex-col gap-4",children:[w.jsx("button",{onClick:()=>Jt(bt),className:`size-8 rounded-full flex items-center justify-center text-white/40 hover:text-accent hover:bg-accent/10 transition-colors ${A===bt?"text-accent bg-accent/10":""}`,children:w.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),w.jsx("button",{onClick:()=>vt(bt),className:"size-8 rounded-full flex items-center justify-center text-white/40 hover:text-red-400 hover:bg-red-400/10 transition-colors",children:w.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]},bt)),y.events.length===0&&w.jsx("p",{className:"text-white/30 text-center text-sm italic py-4",children:"No events scheduled."})]})]}),w.jsx(sa,{})]})}const bM=()=>{const{id:s}=Kf(),t=Bi(),{currentUser:n}=pr(),[r,l]=B.useState(null),[h,m]=B.useState(!0),[v,y]=B.useState({});B.useEffect(()=>{async function st(){try{if(!s)return;const at=Ms(Cn,"expenses",s),ot=await Vc(at);if(ot.exists()){const pt=ot.data();l({id:ot.id,...pt});const xt=new Set;pt.paidBy&&xt.add(pt.paidBy),pt.splits&&pt.splits.forEach(V=>xt.add(V.userId)),pt.splitWith&&pt.splitWith.forEach(V=>xt.add(V));const Rt={};await Promise.all(Array.from(xt).map(async V=>{const M=await Vc(Ms(Cn,"users",V));M.exists()&&(Rt[V]=M.data())})),y(Rt)}else console.log("No such document!")}catch(at){console.error("Error fetching transaction:",at)}finally{m(!1)}}st()},[s]);const b=async()=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await GE(Ms(Cn,"expenses",s)),t("/expenses")}catch(st){console.error("Error deleting:",st),alert("Failed to delete")}};if(h)return w.jsx("div",{className:"min-h-screen bg-[#171717] text-white flex items-center justify-center",children:"Loading..."});if(!r)return w.jsx("div",{className:"min-h-screen bg-[#171717] text-white flex items-center justify-center",children:"Transaction not found"});const A=st=>v[st]?v[st]:n&&n.uid===st?n:{displayName:"Unknown",photoURL:null},C=A(r.paidBy),I=r.createdAt?r.createdAt.toDate():new Date,O=I.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),q=I.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});let H=[];r.splits&&(H=r.splits.map(st=>{const at=A(st.userId);return{name:at.displayName||"Unknown",photoURL:at.photoURL,amount:st.amount,status:st.userId===r.paidBy?"Paid":"Owed"}}));const Q=r.currency==="USD"?"$":"NT$";return w.jsxs("div",{className:"min-h-screen flex flex-col bg-[#171717] text-white font-sans max-w-[430px] mx-auto",children:[w.jsxs("header",{className:"sticky top-0 z-50 bg-[#171717]/90 backdrop-blur-md px-4 py-4 flex items-center justify-between border-b border-[#262626]",children:[w.jsx("button",{onClick:()=>t(-1),className:"size-10 flex items-center justify-center rounded-full bg-[#262626] text-[#FDB927]",children:w.jsx(cT,{size:20})}),w.jsx("h1",{className:"font-extrabold uppercase tracking-widest text-[11px] text-neutral-400",children:"Transaction Details"}),w.jsx("button",{className:"size-10 flex items-center justify-center rounded-full bg-[#262626] text-[#FDB927]",children:w.jsx(uM,{size:20})})]}),w.jsx("main",{className:"flex-1 pb-32",children:w.jsxs("div",{className:"px-5 pt-6",children:[w.jsxs("div",{className:"relative overflow-hidden rounded-xl p-8 mb-6 border-b-4 border-[#FDB927] shadow-2xl bg-gradient-to-br from-[#552583] to-[#3a195a]",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:w.jsx(oM,{size:96})}),w.jsxs("div",{className:"relative z-10 text-center",children:[w.jsx("p",{className:"font-extrabold uppercase tracking-widest text-[10px] text-[#FDB927]/80 mb-2",children:"Total Amount"}),w.jsxs("h2",{className:"text-5xl font-extrabold text-white tracking-tighter mb-4",children:[Q,parseFloat(r.amount).toFixed(2)]}),w.jsxs("div",{className:"flex flex-col items-center gap-1",children:[w.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-wider",children:r.item}),w.jsxs("span",{className:"text-[11px] font-medium text-white/50",children:[O,"  ",q]})]})]})]}),w.jsxs("div",{className:"space-y-8",children:[w.jsxs("section",{children:[w.jsx("h3",{className:"font-extrabold uppercase tracking-widest text-[10px] text-neutral-500 mb-3 px-1",children:"Paid By"}),w.jsxs("div",{className:"bg-[#262626]/40 rounded-2xl p-4 flex items-center gap-4 border border-white/5",children:[w.jsxs("div",{className:"relative",children:[C.photoURL?w.jsx("img",{src:C.photoURL,alt:C.displayName,className:"size-12 rounded-full border-2 border-[#FDB927] object-cover"}):w.jsx("div",{className:"size-12 rounded-full border-2 border-[#FDB927] bg-[#552583] flex items-center justify-center font-bold text-white",children:C.displayName?C.displayName[0]:"?"}),w.jsx("div",{className:"absolute -bottom-1 -right-1 bg-[#552583] rounded-full p-1 border border-[#262626]",children:w.jsx(tg,{size:10,className:"text-[#FDB927]"})})]}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"font-extrabold text-base uppercase tracking-tight",children:C.displayName}),w.jsx("span",{className:"text-[9px] font-extrabold uppercase tracking-widest text-neutral-500",children:"Primary Payer"})]})]})]}),w.jsxs("section",{children:[w.jsx("h3",{className:"font-extrabold uppercase tracking-widest text-[10px] text-neutral-500 mb-3 px-1",children:"Split Breakdown"}),w.jsx("div",{className:"space-y-2",children:H.length>0?H.map((st,at)=>w.jsxs("div",{className:"bg-[#262626]/20 rounded-2xl p-4 flex items-center justify-between border border-white/5",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[st.photoURL?w.jsx("img",{src:st.photoURL,alt:st.name,className:"size-9 rounded-full object-cover"}):w.jsx("div",{className:"size-9 rounded-full bg-white/10 flex items-center justify-center font-bold text-xs",children:st.name[0]}),w.jsx("span",{className:"font-bold uppercase text-xs tracking-wide",children:st.name})]}),w.jsxs("span",{className:"font-extrabold text-sm text-[#FDB927]",children:[Q,parseFloat(st.amount).toFixed(2)]})]},at)):w.jsx("div",{className:"text-center text-white/30 text-xs italic py-4",children:"No split details available"})})]}),w.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[w.jsxs("button",{onClick:()=>t(`/edit-expense/${s}`,{state:{expense:r}}),className:"w-full h-16 bg-[#552583] text-white rounded-2xl font-extrabold uppercase tracking-[0.2em] flex items-center justify-center gap-3 active:scale-95 transition-all border-b-4 border-[#3a195a] shadow-lg",children:[w.jsx(rM,{size:20})," Edit Expense"]}),w.jsxs("button",{onClick:b,className:"w-full h-16 bg-[#262626] text-red-500 rounded-2xl font-extrabold uppercase tracking-[0.2em] flex items-center justify-center gap-3 active:scale-95 transition-all border border-red-500/10 hover:bg-red-500/5",children:[w.jsx(dM,{size:20})," Delete"]})]})]})]})}),w.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:w.jsx(sa,{})})]})},xM="modulepreload",wM=function(s){return"/la-nba/"+s},Jb={},EM=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){let b=function(A){return Promise.all(A.map(C=>Promise.resolve(C).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};var m=b;document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),y=v?.nonce||v?.getAttribute("nonce");l=b(n.map(A=>{if(A=wM(A),A in Jb)return;Jb[A]=!0;const C=A.endsWith(".css"),I=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${I}`))return;const O=document.createElement("link");if(O.rel=C?"stylesheet":xM,C||(O.as="script"),O.crossOrigin="",O.href=A,y&&O.setAttribute("nonce",y),document.head.appendChild(O),C)return new Promise((q,H)=>{O.addEventListener("load",q),O.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${A}`)))})}))}function h(v){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=v,window.dispatchEvent(y),!y.defaultPrevented)throw v}return l.then(v=>{for(const y of v||[])y.status==="rejected"&&h(y.reason);return t().catch(h)})};function TM(){const{id:s}=Kf(),t=Bi(),n=mr(),{currentUser:r}=pr(),{usersList:l}=r_(),[h,m]=B.useState(!0),[v,y]=B.useState(0),[b,A]=B.useState(""),[C,I]=B.useState(""),[O,q]=B.useState(""),[H,Q]=B.useState("USD"),[st,at]=B.useState(""),[ot,pt]=B.useState([]),[xt,Rt]=B.useState(null);B.useEffect(()=>{async function k(){try{let It=null;if(n.state?.expense)It=n.state.expense;else{const _t=Ms(Cn,"expenses",s),Et=await Vc(_t);if(!Et.exists()){console.error("Expense not found"),t("/expenses");return}It=Et.data()}Rt(It),y(It.amount),A(It.item),Q(It.currency||"USD"),at(It.paidBy);const Jt=It.createdAt?.toDate?It.createdAt.toDate():new Date,nt=Jt.getFullYear(),vt=String(Jt.getMonth()+1).padStart(2,"0"),gt=String(Jt.getDate()).padStart(2,"0");I(`${nt}-${vt}-${gt}`);const Tt=String(Jt.getHours()).padStart(2,"0"),bt=String(Jt.getMinutes()).padStart(2,"0");q(`${Tt}:${bt}`);const j=l.map(_t=>({id:_t.id,name:_t.displayName||"Unknown",photoURL:_t.photoURL,selected:!1,amount:0})),lt={};if(It.splits&&Array.isArray(It.splits))It.splits.forEach(_t=>{lt[_t.userId]=_t.amount});else if(It.splitWith&&Array.isArray(It.splitWith)){const _t=It.splitWith.length,Et=cn(It.amount).divide(_t).value;It.splitWith.forEach(At=>{lt[At]=Et})}const yt=j.map(_t=>{const Et=!!lt[_t.id];return{..._t,selected:Et,amount:Et?lt[_t.id]:0}});pt(yt)}catch(It){console.error("Error fetching data:",It)}finally{m(!1)}}s&&l.length>0&&k()},[s,t,n.state,l]);const V=ot.reduce((k,It)=>k+(It.selected&&parseFloat(It.amount)||0),0),M=Math.abs(V-v)<.05,P=k=>{pt(It=>{const Jt=It.map(vt=>vt.id===k?{...vt,selected:!vt.selected}:vt),nt=Jt.filter(vt=>vt.selected).length;if(nt>0){const vt=cn(v).divide(nt).value;return Jt.map(gt=>({...gt,amount:gt.selected?vt:0}))}else return Jt.map(vt=>({...vt,amount:0}))})},G=(k,It)=>{pt(Jt=>Jt.map(nt=>nt.id===k?{...nt,amount:It}:nt))},F=async()=>{if(!M){alert("Total amount does not match split sum!");return}if(!b||!v||!st){alert("Please fill in all required fields.");return}try{const k=Ms(Cn,"expenses",s),[It,Jt,nt]=C.split("-").map(Number),[vt,gt]=O.split(":").map(Number),Tt=new Date(It,Jt-1,nt,vt,gt),bt=ot.filter(yt=>yt.selected).map(yt=>({userId:yt.id,amount:parseFloat(yt.amount)})),j=bt.map(yt=>yt.userId),{Timestamp:lt}=await EM(async()=>{const{Timestamp:yt}=await Promise.resolve().then(()=>nL);return{Timestamp:yt}},[]);await qE(k,{amount:parseFloat(v),item:b,createdAt:lt.fromDate(Tt),paidBy:st,splits:bt,splitWith:j,currency:H}),t(-1)}catch(k){console.error("Error updating expense:",k),alert("Failed to update expense")}};if(h)return w.jsx("div",{className:"min-h-screen bg-[#0F0F0F] text-white flex items-center justify-center",children:"Loading..."});const K=H==="USD"?"$":"NT$";return w.jsxs("div",{className:"min-h-screen bg-[#0F0F0F] text-white font-sans pb-32 max-w-[430px] mx-auto relative shadow-2xl border-x border-[#592e7f]/10",children:[w.jsxs("header",{className:"p-4 flex items-center justify-between border-b border-white/5 sticky top-0 bg-[#0F0F0F]/90 backdrop-blur-md z-40",children:[w.jsx("button",{onClick:()=>t(-1),className:"bg-white/5 p-2 rounded-full text-[#FDB927]",children:w.jsx(cT,{size:20})}),w.jsx("h1",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-white/60",children:"Edit Expense"}),w.jsx("div",{className:"w-10"})]}),w.jsxs("main",{className:"p-4 space-y-6",children:[w.jsxs("section",{className:"bg-gradient-to-br from-[#552583] to-[#2D1345] p-8 rounded-[40px] shadow-2xl relative overflow-hidden border-b-4 border-[#FDB927]",children:[w.jsxs("div",{className:"relative z-10",children:[w.jsx("p",{className:"text-[#FDB927] text-[10px] font-black uppercase tracking-widest text-center mb-1",children:"Total Amount"}),w.jsxs("div",{className:"flex items-center justify-center gap-2",children:[w.jsx("span",{className:"text-[#FDB927] text-3xl font-black italic",children:K}),w.jsx("input",{type:"number",value:v,onChange:k=>y(parseFloat(k.target.value)||0),className:"bg-transparent text-6xl font-black italic tracking-tighter w-48 text-center outline-none"})]})]}),w.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 opacity-10",children:w.jsx(pM,{size:100,className:"text-white",strokeWidth:1})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-2 mb-2 block",children:"Item Title"}),w.jsx("input",{value:b,onChange:k=>A(k.target.value),className:"w-full bg-white/5 border border-white/10 rounded-3xl p-4 font-bold outline-none focus:border-[#FDB927]/50"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-2 mb-2 block",children:"Date"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"date",value:C,onChange:k=>I(k.target.value),className:"w-full bg-white/5 border border-white/10 rounded-3xl p-4 font-bold outline-none [color-scheme:dark] [&::-webkit-calendar-picker-indicator]:hidden"}),w.jsx(KL,{className:"absolute right-4 top-4 text-white/20 pointer-events-none",size:18})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-2 mb-2 block",children:"Time"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"time",value:O,onChange:k=>q(k.target.value),className:"w-full bg-white/5 border border-white/10 rounded-3xl p-4 font-bold outline-none [color-scheme:dark] [&::-webkit-calendar-picker-indicator]:hidden"}),w.jsx(eM,{className:"absolute right-4 top-4 text-white/20 pointer-events-none",size:18})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-2 mb-2 block",children:"Paid By"}),w.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:ot.map(k=>w.jsxs("button",{onClick:()=>at(k.id),className:`flex items-center gap-2 px-4 py-3 rounded-2xl whitespace-nowrap transition-all border ${st===k.id?"bg-[#552583] border-[#FDB927] shadow-lg":"bg-white/5 border-transparent opacity-60"}`,children:[w.jsx("div",{className:"w-6 h-6 rounded-full overflow-hidden bg-white/10",children:k.photoURL?w.jsx("img",{src:k.photoURL,alt:k.name,className:"w-full h-full object-cover"}):w.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-[10px]",children:k.name[0]})}),w.jsx("span",{className:"text-xs font-black uppercase tracking-wide",children:k.name})]},k.id))})]})]}),w.jsxs("section",{className:"space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-end px-2",children:[w.jsx("h4",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Split Details"}),w.jsxs("p",{className:"text-[10px] font-black uppercase",children:["Current Total: ",w.jsxs("span",{className:M?"text-[#FDB927]":"text-red-500",children:[K,V.toFixed(2)]})]})]}),w.jsx("div",{className:"space-y-3",children:ot.map(k=>w.jsxs("div",{className:`flex items-center justify-between p-4 rounded-3xl border transition-all ${k.selected?"bg-white/5 border-white/20":"bg-white/[0.02] border-white/5 opacity-40"}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:()=>P(k.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${k.selected?"bg-[#552583] border-[#FDB927]":"border-white/20"}`,children:k.selected&&w.jsx(tg,{size:14,className:"text-[#FDB927]",strokeWidth:4})}),w.jsx("div",{className:"w-10 h-10 rounded-full border border-white/10 bg-black overflow-hidden flex items-center justify-center",children:k.photoURL?w.jsx("img",{src:k.photoURL,alt:k.name,className:"w-full h-full object-cover"}):w.jsx("span",{className:"font-bold text-xs",children:k.name[0]})}),w.jsx("span",{className:"text-xs font-black italic tracking-tight",children:k.name})]}),w.jsxs("div",{className:"relative w-28",children:[w.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[10px] font-black text-[#FDB927]",children:K}),w.jsx("input",{type:"number",disabled:!k.selected,value:k.amount,onChange:It=>G(k.id,It.target.value),className:"w-full bg-black/40 border border-white/10 rounded-2xl py-2 pl-7 pr-3 text-right text-sm font-black outline-none focus:border-[#FDB927]"})]})]},k.id))}),w.jsx("div",{className:`flex items-center gap-2 p-3 rounded-2xl text-[10px] font-black uppercase tracking-widest justify-center transition-colors ${M?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:M?w.jsxs(w.Fragment,{children:[w.jsx(tg,{size:14,strokeWidth:4})," Matches ($",v.toFixed(2),")"]}):w.jsxs(w.Fragment,{children:[w.jsx($L,{size:14,strokeWidth:4})," Diff: $",(v-V).toFixed(2)]})})]}),w.jsxs("div",{className:"space-y-3 pt-4",children:[w.jsx("button",{onClick:F,className:"w-full bg-[#FDB927] text-[#552583] py-5 rounded-[32px] font-['Inter'] font-black italic text-sm uppercase tracking-[0.2em] shadow-[0_4px_0_#b8861b] active:translate-y-[2px] active:shadow-[0_2px_0_#b8861b] transition-all duration-75 flex items-center justify-center gap-2",children:"Update Expense"}),w.jsx("button",{onClick:()=>t(-1),className:"w-full bg-[#552583]/20 text-white/40 py-5 rounded-3xl font-black text-xs uppercase tracking-[0.2em] hover:bg-white/5 active:scale-[0.98] transition-all",children:"Cancel"})]})]}),w.jsx(sa,{})]})}function SM(){return w.jsx(iA,{basename:"/la-nba/",children:w.jsx(rL,{children:w.jsx(lL,{children:w.jsx(aL,{children:w.jsxs(MS,{children:[w.jsx(Ns,{path:"/",element:w.jsx(uL,{})}),w.jsx(Ns,{path:"/overview",element:w.jsx(Hr,{children:w.jsx(cL,{})})}),w.jsx(Ns,{path:"/itinerary",element:w.jsx(Hr,{children:w.jsx(hL,{})})}),w.jsx(Ns,{path:"/day/:id",element:w.jsx(Hr,{children:w.jsx(UL,{})})}),w.jsx(Ns,{path:"/manage/:dayId",element:w.jsx(Hr,{children:w.jsx(vM,{})})}),w.jsx(Ns,{path:"/add-expense",element:w.jsx(Hr,{children:w.jsx(gM,{})})}),w.jsx(Ns,{path:"/expenses",element:w.jsx(Hr,{children:w.jsx(_M,{})})}),w.jsx(Ns,{path:"/expense/:id",element:w.jsx(Hr,{children:w.jsx(bM,{})})}),w.jsx(Ns,{path:"/edit-expense/:id",element:w.jsx(Hr,{children:w.jsx(TM,{})})}),w.jsx(Ns,{path:"/expense-summary",element:w.jsx(Hr,{children:w.jsx(yM,{})})})]})})})})})}O1.createRoot(document.getElementById("root")).render(w.jsx(B.StrictMode,{children:w.jsx(SM,{})}));
