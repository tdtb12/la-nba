(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function TE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Mm={exports:{}},Ju={};var Iv;function Px(){if(Iv)return Ju;Iv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,h){var p=null;if(h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),"key"in l){h={};for(var y in l)y!=="key"&&(h[y]=l[y])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:p,ref:l!==void 0?l:null,props:h}}return Ju.Fragment=t,Ju.jsx=n,Ju.jsxs=n,Ju}var Nv;function kx(){return Nv||(Nv=1,Mm.exports=Px()),Mm.exports}var I=kx(),Om={exports:{}},qt={};var Dv;function Vx(){if(Dv)return qt;Dv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.iterator;function Z(U){return U===null||typeof U!="object"?null:(U=M&&U[M]||U["@@iterator"],typeof U=="function"?U:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,q={};function mt(U,st,gt){this.props=U,this.context=st,this.refs=q,this.updater=gt||et}mt.prototype.isReactComponent={},mt.prototype.setState=function(U,st){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,st,"setState")},mt.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function dt(){}dt.prototype=mt.prototype;function ht(U,st,gt){this.props=U,this.context=st,this.refs=q,this.updater=gt||et}var Dt=ht.prototype=new dt;Dt.constructor=ht,Q(Dt,mt.prototype),Dt.isPureReactComponent=!0;var Ot=Array.isArray;function Bt(){}var V={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function P(U,st,gt){var _t=gt.ref;return{$$typeof:r,type:U,key:st,ref:_t!==void 0?_t:null,props:gt}}function H(U,st){return P(U.type,st,U.props)}function B(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function F(U){var st={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(gt){return st[gt]})}var k=/\/+/g;function oe(U,st){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):st.toString(36)}function Xe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Bt,Bt):(U.status="pending",U.then(function(st){U.status==="pending"&&(U.status="fulfilled",U.value=st)},function(st){U.status==="pending"&&(U.status="rejected",U.reason=st)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function rt(U,st,gt,_t,bt){var Tt=typeof U;(Tt==="undefined"||Tt==="boolean")&&(U=null);var Ht=!1;if(U===null)Ht=!0;else switch(Tt){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(U.$$typeof){case r:case t:Ht=!0;break;case S:return Ht=U._init,rt(Ht(U._payload),st,gt,_t,bt)}}if(Ht)return bt=bt(U),Ht=_t===""?"."+oe(U,0):_t,Ot(bt)?(gt="",Ht!=null&&(gt=Ht.replace(k,"$&/")+"/"),rt(bt,st,gt,"",function(sr){return sr})):bt!=null&&(B(bt)&&(bt=H(bt,gt+(bt.key==null||U&&U.key===bt.key?"":(""+bt.key).replace(k,"$&/")+"/")+Ht)),st.push(bt)),1;Ht=0;var be=_t===""?".":_t+":";if(Ot(U))for(var Ae=0;Ae<U.length;Ae++)_t=U[Ae],Tt=be+oe(_t,Ae),Ht+=rt(_t,st,gt,Tt,bt);else if(Ae=Z(U),typeof Ae=="function")for(U=Ae.call(U),Ae=0;!(_t=U.next()).done;)_t=_t.value,Tt=be+oe(_t,Ae++),Ht+=rt(_t,st,gt,Tt,bt);else if(Tt==="object"){if(typeof U.then=="function")return rt(Xe(U),st,gt,_t,bt);throw st=String(U),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function vt(U,st,gt){if(U==null)return U;var _t=[],bt=0;return rt(U,_t,"","",function(Tt){return st.call(gt,Tt,bt++)}),_t}function pt(U){if(U._status===-1){var st=U._result;st=st(),st.then(function(gt){(U._status===0||U._status===-1)&&(U._status=1,U._result=gt)},function(gt){(U._status===0||U._status===-1)&&(U._status=2,U._result=gt)}),U._status===-1&&(U._status=0,U._result=st)}if(U._status===1)return U._result.default;throw U._result}var te=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},wt={map:vt,forEach:function(U,st,gt){vt(U,function(){st.apply(this,arguments)},gt)},count:function(U){var st=0;return vt(U,function(){st++}),st},toArray:function(U){return vt(U,function(st){return st})||[]},only:function(U){if(!B(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return qt.Activity=C,qt.Children=wt,qt.Component=mt,qt.Fragment=n,qt.Profiler=l,qt.PureComponent=ht,qt.StrictMode=a,qt.Suspense=v,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,qt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return V.H.useMemoCache(U)}},qt.cache=function(U){return function(){return U.apply(null,arguments)}},qt.cacheSignal=function(){return null},qt.cloneElement=function(U,st,gt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var _t=Q({},U.props),bt=U.key;if(st!=null)for(Tt in st.key!==void 0&&(bt=""+st.key),st)!D.call(st,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&st.ref===void 0||(_t[Tt]=st[Tt]);var Tt=arguments.length-2;if(Tt===1)_t.children=gt;else if(1<Tt){for(var Ht=Array(Tt),be=0;be<Tt;be++)Ht[be]=arguments[be+2];_t.children=Ht}return P(U.type,bt,_t)},qt.createContext=function(U){return U={$$typeof:p,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:h,_context:U},U},qt.createElement=function(U,st,gt){var _t,bt={},Tt=null;if(st!=null)for(_t in st.key!==void 0&&(Tt=""+st.key),st)D.call(st,_t)&&_t!=="key"&&_t!=="__self"&&_t!=="__source"&&(bt[_t]=st[_t]);var Ht=arguments.length-2;if(Ht===1)bt.children=gt;else if(1<Ht){for(var be=Array(Ht),Ae=0;Ae<Ht;Ae++)be[Ae]=arguments[Ae+2];bt.children=be}if(U&&U.defaultProps)for(_t in Ht=U.defaultProps,Ht)bt[_t]===void 0&&(bt[_t]=Ht[_t]);return P(U,Tt,bt)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(U){return{$$typeof:y,render:U}},qt.isValidElement=B,qt.lazy=function(U){return{$$typeof:S,_payload:{_status:-1,_result:U},_init:pt}},qt.memo=function(U,st){return{$$typeof:T,type:U,compare:st===void 0?null:st}},qt.startTransition=function(U){var st=V.T,gt={};V.T=gt;try{var _t=U(),bt=V.S;bt!==null&&bt(gt,_t),typeof _t=="object"&&_t!==null&&typeof _t.then=="function"&&_t.then(Bt,te)}catch(Tt){te(Tt)}finally{st!==null&&gt.types!==null&&(st.types=gt.types),V.T=st}},qt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},qt.use=function(U){return V.H.use(U)},qt.useActionState=function(U,st,gt){return V.H.useActionState(U,st,gt)},qt.useCallback=function(U,st){return V.H.useCallback(U,st)},qt.useContext=function(U){return V.H.useContext(U)},qt.useDebugValue=function(){},qt.useDeferredValue=function(U,st){return V.H.useDeferredValue(U,st)},qt.useEffect=function(U,st){return V.H.useEffect(U,st)},qt.useEffectEvent=function(U){return V.H.useEffectEvent(U)},qt.useId=function(){return V.H.useId()},qt.useImperativeHandle=function(U,st,gt){return V.H.useImperativeHandle(U,st,gt)},qt.useInsertionEffect=function(U,st){return V.H.useInsertionEffect(U,st)},qt.useLayoutEffect=function(U,st){return V.H.useLayoutEffect(U,st)},qt.useMemo=function(U,st){return V.H.useMemo(U,st)},qt.useOptimistic=function(U,st){return V.H.useOptimistic(U,st)},qt.useReducer=function(U,st,gt){return V.H.useReducer(U,st,gt)},qt.useRef=function(U){return V.H.useRef(U)},qt.useState=function(U){return V.H.useState(U)},qt.useSyncExternalStore=function(U,st,gt){return V.H.useSyncExternalStore(U,st,gt)},qt.useTransition=function(){return V.H.useTransition()},qt.version="19.2.3",qt}var Lv;function Np(){return Lv||(Lv=1,Om.exports=Vx()),Om.exports}var Y=Np();const ep=TE(Y);var Pm={exports:{}},$u={},km={exports:{}},Vm={};var Mv;function zx(){return Mv||(Mv=1,(function(r){function t(rt,vt){var pt=rt.length;rt.push(vt);t:for(;0<pt;){var te=pt-1>>>1,wt=rt[te];if(0<l(wt,vt))rt[te]=vt,rt[pt]=wt,pt=te;else break t}}function n(rt){return rt.length===0?null:rt[0]}function a(rt){if(rt.length===0)return null;var vt=rt[0],pt=rt.pop();if(pt!==vt){rt[0]=pt;t:for(var te=0,wt=rt.length,U=wt>>>1;te<U;){var st=2*(te+1)-1,gt=rt[st],_t=st+1,bt=rt[_t];if(0>l(gt,pt))_t<wt&&0>l(bt,gt)?(rt[te]=bt,rt[_t]=pt,te=_t):(rt[te]=gt,rt[st]=pt,te=st);else if(_t<wt&&0>l(bt,pt))rt[te]=bt,rt[_t]=pt,te=_t;else break t}}return vt}function l(rt,vt){var pt=rt.sortIndex-vt.sortIndex;return pt!==0?pt:rt.id-vt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var p=Date,y=p.now();r.unstable_now=function(){return p.now()-y}}var v=[],T=[],S=1,C=null,M=3,Z=!1,et=!1,Q=!1,q=!1,mt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Dt(rt){for(var vt=n(T);vt!==null;){if(vt.callback===null)a(T);else if(vt.startTime<=rt)a(T),vt.sortIndex=vt.expirationTime,t(v,vt);else break;vt=n(T)}}function Ot(rt){if(Q=!1,Dt(rt),!et)if(n(v)!==null)et=!0,Bt||(Bt=!0,F());else{var vt=n(T);vt!==null&&Xe(Ot,vt.startTime-rt)}}var Bt=!1,V=-1,D=5,P=-1;function H(){return q?!0:!(r.unstable_now()-P<D)}function B(){if(q=!1,Bt){var rt=r.unstable_now();P=rt;var vt=!0;try{t:{et=!1,Q&&(Q=!1,dt(V),V=-1),Z=!0;var pt=M;try{e:{for(Dt(rt),C=n(v);C!==null&&!(C.expirationTime>rt&&H());){var te=C.callback;if(typeof te=="function"){C.callback=null,M=C.priorityLevel;var wt=te(C.expirationTime<=rt);if(rt=r.unstable_now(),typeof wt=="function"){C.callback=wt,Dt(rt),vt=!0;break e}C===n(v)&&a(v),Dt(rt)}else a(v);C=n(v)}if(C!==null)vt=!0;else{var U=n(T);U!==null&&Xe(Ot,U.startTime-rt),vt=!1}}break t}finally{C=null,M=pt,Z=!1}vt=void 0}}finally{vt?F():Bt=!1}}}var F;if(typeof ht=="function")F=function(){ht(B)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,oe=k.port2;k.port1.onmessage=B,F=function(){oe.postMessage(null)}}else F=function(){mt(B,0)};function Xe(rt,vt){V=mt(function(){rt(r.unstable_now())},vt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(rt){switch(M){case 1:case 2:case 3:var vt=3;break;default:vt=M}var pt=M;M=vt;try{return rt()}finally{M=pt}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(rt,vt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var pt=M;M=rt;try{return vt()}finally{M=pt}},r.unstable_scheduleCallback=function(rt,vt,pt){var te=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?te+pt:te):pt=te,rt){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=pt+wt,rt={id:S++,callback:vt,priorityLevel:rt,startTime:pt,expirationTime:wt,sortIndex:-1},pt>te?(rt.sortIndex=pt,t(T,rt),n(v)===null&&rt===n(T)&&(Q?(dt(V),V=-1):Q=!0,Xe(Ot,pt-te))):(rt.sortIndex=wt,t(v,rt),et||Z||(et=!0,Bt||(Bt=!0,F()))),rt},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(rt){var vt=M;return function(){var pt=M;M=vt;try{return rt.apply(this,arguments)}finally{M=pt}}}})(Vm)),Vm}var Ov;function Ux(){return Ov||(Ov=1,km.exports=zx()),km.exports}var zm={exports:{}},Vn={};var Pv;function Bx(){if(Pv)return Vn;Pv=1;var r=Np();function t(v){var T="https://react.dev/errors/"+v;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)T+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,T,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:v,containerInfo:T,implementation:S}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,T){if(v==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Vn.createPortal=function(v,T){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return h(v,T,null,S)},Vn.flushSync=function(v){var T=p.T,S=a.p;try{if(p.T=null,a.p=2,v)return v()}finally{p.T=T,a.p=S,a.d.f()}},Vn.preconnect=function(v,T){typeof v=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,a.d.C(v,T))},Vn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Vn.preinit=function(v,T){if(typeof v=="string"&&T&&typeof T.as=="string"){var S=T.as,C=y(S,T.crossOrigin),M=typeof T.integrity=="string"?T.integrity:void 0,Z=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;S==="style"?a.d.S(v,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:C,integrity:M,fetchPriority:Z}):S==="script"&&a.d.X(v,{crossOrigin:C,integrity:M,fetchPriority:Z,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},Vn.preinitModule=function(v,T){if(typeof v=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var S=y(T.as,T.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&a.d.M(v)},Vn.preload=function(v,T){if(typeof v=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var S=T.as,C=y(S,T.crossOrigin);a.d.L(v,S,{crossOrigin:C,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},Vn.preloadModule=function(v,T){if(typeof v=="string")if(T){var S=y(T.as,T.crossOrigin);a.d.m(v,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:S,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else a.d.m(v)},Vn.requestFormReset=function(v){a.d.r(v)},Vn.unstable_batchedUpdates=function(v,T){return v(T)},Vn.useFormState=function(v,T,S){return p.H.useFormState(v,T,S)},Vn.useFormStatus=function(){return p.H.useHostTransitionStatus()},Vn.version="19.2.3",Vn}var kv;function bE(){if(kv)return zm.exports;kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zm.exports=Bx(),zm.exports}var Vv;function jx(){if(Vv)return $u;Vv=1;var r=Ux(),t=Np(),n=bE();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function p(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function T(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return v(m),e;if(g===c)return v(m),i;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=g;else{for(var w=!1,R=m.child;R;){if(R===o){w=!0,o=m,c=g;break}if(R===c){w=!0,c=m,o=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===o){w=!0,o=g,c=m;break}if(R===c){w=!0,c=g,o=m;break}R=R.sibling}if(!w)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function S(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=S(e),i!==null)return i;e=e.sibling}return null}var C=Object.assign,M=Symbol.for("react.element"),Z=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),Ot=Symbol.for("react.suspense"),Bt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var k=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case mt:return"Profiler";case q:return"StrictMode";case Ot:return"Suspense";case Bt:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case ht:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case Dt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:oe(e.type)||"Memo";case D:i=e._payload,e=e._init;try{return oe(e(i))}catch{}}return null}var Xe=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},te=[],wt=-1;function U(e){return{current:e}}function st(e){0>wt||(e.current=te[wt],te[wt]=null,wt--)}function gt(e,i){wt++,te[wt]=e.current,e.current=i}var _t=U(null),bt=U(null),Tt=U(null),Ht=U(null);function be(e,i){switch(gt(Tt,i),gt(bt,e),gt(_t,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Jy(i),e=$y(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(_t),gt(_t,e)}function Ae(){st(_t),st(bt),st(Tt)}function sr(e){e.memoizedState!==null&&gt(Ht,e);var i=_t.current,o=$y(i,e.type);i!==o&&(gt(bt,e),gt(_t,o))}function Rr(e){bt.current===e&&(st(_t),st(bt)),Ht.current===e&&(st(Ht),Qu._currentValue=pt)}var Oi,Ir;function Pi(e){if(Oi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Oi=i&&i[1]||"",Ir=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oi+e+Ir}var Gs=!1;function Nr(e,i){if(!e||Gs)return"";Gs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(it){var tt=it}Reflect.construct(e,[],ut)}else{try{ut.call()}catch(it){tt=it}e.call(ut.prototype)}}else{try{throw Error()}catch(it){tt=it}(ut=e())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(it){if(it&&tt&&typeof it.stack=="string")return[it.stack,tt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],R=g[1];if(w&&R){var z=w.split(`
`),J=R.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===J.length)for(c=z.length-1,m=J.length-1;1<=c&&0<=m&&z[c]!==J[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==J[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==J[m]){var at=`
`+z[c].replace(" at new "," at ");return e.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",e.displayName)),at}while(1<=c&&0<=m);break}}}finally{Gs=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Pi(o):""}function as(e,i){switch(e.tag){case 26:case 27:case 5:return Pi(e.type);case 16:return Pi("Lazy");case 13:return e.child!==i&&i!==null?Pi("Suspense Fallback"):Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 15:return Nr(e.type,!1);case 11:return Nr(e.type.render,!1);case 1:return Nr(e.type,!0);case 31:return Pi("Activity");default:return""}}function Dr(e){try{var i="",o=null;do i+=as(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var qe=Object.prototype.hasOwnProperty,Fe=r.unstable_scheduleCallback,ki=r.unstable_cancelCallback,Yo=r.unstable_shouldYield,Qa=r.unstable_requestPaint,xn=r.unstable_now,os=r.unstable_getCurrentPriorityLevel,ls=r.unstable_ImmediatePriority,Zs=r.unstable_UserBlockingPriority,ar=r.unstable_NormalPriority,du=r.unstable_LowPriority,Ya=r.unstable_IdlePriority,Xa=r.log,Xo=r.unstable_setDisableYieldValue,Yn=null,We=null;function Hn(e){if(typeof Xa=="function"&&Xo(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Yn,e)}catch{}}var ze=Math.clz32?Math.clz32:Wo,Lr=Math.log,Ks=Math.LN2;function Wo(e){return e>>>=0,e===0?32:31-(Lr(e)/Ks|0)|0}var pi=256,Mr=262144,Ue=4194304;function Vi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zi(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,g=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var R=c&134217727;return R!==0?(c=R&~g,c!==0?m=Vi(c):(w&=R,w!==0?m=Vi(w):o||(o=R&~e,o!==0&&(m=Vi(o))))):(R=c&~g,R!==0?m=Vi(R):w!==0?m=Vi(w):o||(o=c&~e,o!==0&&(m=Vi(o)))),m===0?0:i!==0&&i!==m&&(i&g)===0&&(g=m&-m,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:m}function gi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function mu(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var e=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),e}function Ui(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function or(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pu(e,i,o,c,m,g){var w=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var R=e.entanglements,z=e.expirationTimes,J=e.hiddenUpdates;for(o=w&~o;0<o;){var at=31-ze(o),ut=1<<at;R[at]=0,z[at]=-1;var tt=J[at];if(tt!==null)for(J[at]=null,at=0;at<tt.length;at++){var it=tt[at];it!==null&&(it.lane&=-536870913)}o&=~ut}c!==0&&us(e,c,0),g!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=g&~(w&~i))}function us(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-ze(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function Wa(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-ze(o),m=1<<c;m&i|e[c]&i&&(e[c]|=i),o&=~m}}function Ja(e,i){var o=i&-i;return o=(o&42)!==0?1:pn(o),(o&(e.suspendedLanes|i))!==0?0:o}function pn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ct(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $a(){var e=vt.p;return e!==0?e:(e=window.event,e===void 0?32:bv(e.type))}function Xn(e,i){var o=vt.p;try{return vt.p=e,i()}finally{vt.p=o}}var Wn=Math.random().toString(36).slice(2),Be="__reactFiber$"+Wn,Ge="__reactProps$"+Wn,_i="__reactContainer$"+Wn,yi="__reactEvents$"+Wn,$o="__reactListeners$"+Wn,tl="__reactHandles$"+Wn,el="__reactResources$"+Wn,Bi="__reactMarker$"+Wn;function Qs(e){delete e[Be],delete e[Ge],delete e[yi],delete e[$o],delete e[tl]}function vi(e){var i=e[Be];if(i)return i;for(var o=e.parentNode;o;){if(i=o[_i]||o[Be]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=av(e);e!==null;){if(o=e[Be])return o;e=av(e)}return i}e=o,o=e.parentNode}return null}function Jn(e){if(e=e[Be]||e[_i]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function ji(e){var i=e[el];return i||(i=e[el]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(e){e[Bi]=!0}var to=new Set,eo={};function Hi(e,i){$n(e,i),$n(e+"Capture",i)}function $n(e,i){for(eo[e]=i,e=0;e<i.length;e++)to.add(i[e])}var lr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ys={},Xs={};function Or(e){return qe.call(Xs,e)?!0:qe.call(Ys,e)?!1:lr.test(e)?Xs[e]=!0:(Ys[e]=!0,!1)}function Yt(e,i,o){if(Or(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Xt(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function De(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function cs(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function xt(e){if(!e._valueTracker){var i=qn(e)?"checked":"value";e._valueTracker=cs(e,i,""+e[i])}}function ye(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=qn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qi=/[\n"\\]/g;function Ce(e){return e.replace(qi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ws(e,i,o,c,m,g,w,R){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),i!=null?w==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),i!=null?Ei(e,w,Le(i)):o!=null?Ei(e,w,Le(o)):c!=null&&e.removeAttribute("value"),m==null&&g!=null&&(e.defaultChecked=!!g),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+Le(R):e.removeAttribute("name")}function hs(e,i,o,c,m,g,w,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){xt(e);return}o=o!=null?""+Le(o):"",i=i!=null?""+Le(i):o,R||i===e.value||(e.value=i),e.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=R?e.checked:!!c,e.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),xt(e)}function Ei(e,i,o){i==="number"&&ti(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ve(e,i,o,c){if(e=e.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=i.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Le(o),i=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function Fi(e,i,o){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Le(o):""}function ei(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(Xe(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Le(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),xt(e)}function en(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var Js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ur(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||Js.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function fs(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&ur(e,m,c)}else for(var g in i)i.hasOwnProperty(g)&&ur(e,g,i[g])}function Pr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ds=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kr(e){return Gi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var $s=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vr=null,Pt=null;function _n(e){var i=Jn(e);if(i&&(e=i.stateNode)){var o=e[Ge]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ws(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ce(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var m=c[Ge]||null;if(!m)throw Error(a(90));Ws(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&ye(c)}break t;case"textarea":Fi(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&ve(e,!!o.multiple,i,!1)}}}var he=!1;function cr(e,i,o){if(he)return e(i,o);he=!0;try{var c=e(i);return c}finally{if(he=!1,(Vr!==null||Pt!==null)&&(Th(),Vr&&(i=Vr,e=Pt,Pt=Vr=null,_n(i),e)))for(i=0;i<e.length;i++)_n(e[i])}}function Fn(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Ge]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(Mn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){hr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{hr=!1}var ni=null,fr=null,Me=null;function Ti(){if(Me)return Me;var e,i=fr,o=i.length,c,m="value"in ni?ni.value:ni.textContent,g=m.length;for(e=0;e<o&&i[e]===m[e];e++);var w=o-e;for(c=1;c<=w&&i[o-c]===m[g-c];c++);return Me=m.slice(e,1<c?1-c:void 0)}function zr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function bi(){return!1}function nn(e){function i(o,c,m,g,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(o=e[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Zi:bi,this.isPropagationStopped=bi,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),i}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=nn(wi),dr=C({},wi,{view:0,detail:0}),Qt=nn(dr),Ur,yn,On,ms=C({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==On&&(On&&e.type==="mousemove"?(Ur=e.screenX-On.screenX,yn=e.screenY-On.screenY):yn=Ur=0,On=e),Ur)},movementY:function(e){return"movementY"in e?e.movementY:yn}}),no=nn(ms),mr=C({},ms,{dataTransfer:0}),nl=nn(mr),io=C({},dr,{relatedTarget:0}),ps=nn(io),ro=C({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=nn(ro),ea=C({},wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gn=nn(ea),il=C({},wi,{data:0}),xi=nn(il),Si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},so={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function na(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ao[e])?!!i[e]:!1}function Br(){return na}var vn=C({},dr,{key:function(e){if(e.key){var i=Si[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=zr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?so[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(e){return e.type==="keypress"?zr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oo=nn(vn),rl=C({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pr=nn(rl),f=C({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),E=nn(f),x=C({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=nn(x),X=C({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=nn(X),yt=C({},wi,{newState:0,oldState:0}),zt=nn(yt),le=[9,13,27,32],ue=Mn&&"CompositionEvent"in window,Re=null;Mn&&"documentMode"in document&&(Re=document.documentMode);var ii=Mn&&"TextEvent"in window&&!Re,ri=Mn&&(!ue||Re&&8<Re&&11>=Re),Zn=" ",Ai=!1;function gs(e,i){switch(e){case"keyup":return le.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _s(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ia=!1;function Ci(e,i){switch(e){case"compositionend":return _s(i);case"keypress":return i.which!==32?null:(Ai=!0,Zn);case"textInput":return e=i.data,e===Zn&&Ai?null:e;default:return null}}function ra(e,i){if(ia)return e==="compositionend"||!ue&&gs(e,i)?(e=Ti(),Me=fr=ni=null,ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ri&&i.locale!=="ko"?null:i.data;default:return null}}var Wf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qi(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Wf[e.type]:i==="textarea"}function zc(e,i,o,c){Vr?Pt?Pt.push(c):Pt=[c]:Vr=c,i=Rh(i,"onChange"),0<i.length&&(o=new Ki("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var Yi=null,lo=null;function uo(e){Zy(e,0)}function co(e){var i=gn(e);if(ye(i))return e}function ho(e,i){if(e==="change")return i}var Uc=!1;if(Mn){var Xi;if(Mn){var sa="oninput"in document;if(!sa){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),sa=typeof Bc.oninput=="function"}Xi=sa}else Xi=!1;Uc=Xi&&(!document.documentMode||9<document.documentMode)}function sl(){Yi&&(Yi.detachEvent("onpropertychange",jc),lo=Yi=null)}function jc(e){if(e.propertyName==="value"&&co(lo)){var i=[];zc(i,lo,e,Ln(e)),cr(uo,i)}}function gr(e,i,o){e==="focusin"?(sl(),Yi=i,lo=o,Yi.attachEvent("onpropertychange",jc)):e==="focusout"&&sl()}function Jf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return co(lo)}function aa(e,i){if(e==="click")return co(i)}function $f(e,i){if(e==="input"||e==="change")return co(i)}function _r(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:_r;function oa(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!qe.call(i,m)||!En(e[m],i[m]))return!1}return!0}function al(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fo(e,i){var o=al(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=al(o)}}function ol(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ol(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function mo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ti(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=ti(e.document)}return i}function jr(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var ll=Mn&&"documentMode"in document&&11>=document.documentMode,Hr=null,ul=null,po=null,la=!1;function Hc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;la||Hr==null||Hr!==ti(c)||(c=Hr,"selectionStart"in c&&jr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),po&&oa(po,c)||(po=c,c=Rh(ul,"onSelect"),0<c.length&&(i=new Ki("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=Hr)))}function qr(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var ua={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},cl={},qc={};Mn&&(qc=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function Tn(e){if(cl[e])return cl[e];if(!ua[e])return e;var i=ua[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in qc)return cl[e]=i[o];return e}var go=Tn("animationend"),Fc=Tn("animationiteration"),_o=Tn("animationstart"),td=Tn("transitionrun"),Gc=Tn("transitionstart"),ed=Tn("transitioncancel"),ca=Tn("transitionend"),Zc=new Map,Fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fr.push("scrollEnd");function si(e,i){Zc.set(e,i),Hi(i,[e])}var yo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ai=[],Pn=0,hl=0;function vo(){for(var e=Pn,i=hl=Pn=0;i<e;){var o=ai[i];ai[i++]=null;var c=ai[i];ai[i++]=null;var m=ai[i];ai[i++]=null;var g=ai[i];if(ai[i++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}g!==0&&ha(o,m,g)}}function Gr(e,i,o,c){ai[Pn++]=e,ai[Pn++]=i,ai[Pn++]=o,ai[Pn++]=c,hl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function gu(e,i,o,c){return Gr(e,i,o,c),Eo(e)}function Wi(e,i){return Gr(e,null,null,i),Eo(e)}function ha(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(m=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,m&&i!==null&&(m=31-ze(o),e=g.hiddenUpdates,c=e[m],c===null?e[m]=[i]:c.push(i),i.lane=o|536870912),g):null}function Eo(e){if(50<ju)throw ju=0,im=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ys={};function nd(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,i,o,c){return new nd(e,i,o,c)}function fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,i){var o=e.alternate;return o===null?(o=kn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function _u(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function To(e,i,o,c,m,g){var w=0;if(c=e,typeof e=="function")fl(e)&&(w=1);else if(typeof e=="string")w=wx(e,o,_t.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case P:return e=kn(31,o,i,m),e.elementType=P,e.lanes=g,e;case Q:return vs(o.children,m,g,i);case q:w=8,m|=24;break;case mt:return e=kn(12,o,i,m|2),e.elementType=mt,e.lanes=g,e;case Ot:return e=kn(13,o,i,m),e.elementType=Ot,e.lanes=g,e;case Bt:return e=kn(19,o,i,m),e.elementType=Bt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:w=10;break t;case dt:w=9;break t;case Dt:w=11;break t;case V:w=14;break t;case D:w=16,c=null;break t}w=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=kn(w,o,i,m),i.elementType=e,i.type=c,i.lanes=g,i}function vs(e,i,o,c){return e=kn(7,e,c,i),e.lanes=o,e}function dl(e,i,o){return e=kn(6,e,null,i),e.lanes=o,e}function yu(e){var i=kn(18,null,null,0);return i.stateNode=e,i}function vu(e,i,o){return i=kn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var s=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=s.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Dr(i)},s.set(e,i),i)}return{value:e,source:i,stack:Dr(i)}}var d=[],_=0,b=null,A=0,O=[],K=0,$=null,lt=1,Et="";function Nt(e,i){d[_++]=A,d[_++]=b,b=e,A=i}function Zt(e,i,o){O[K++]=lt,O[K++]=Et,O[K++]=$,$=e;var c=lt;e=Et;var m=32-ze(c)-1;c&=~(1<<m),o+=1;var g=32-ze(i)+m;if(30<g){var w=m-m%5;g=(c&(1<<w)-1).toString(32),c>>=w,m-=w,lt=1<<32-ze(i)+m|o<<m|c,Et=g+e}else lt=1<<g|o<<m|c,Et=e}function hn(e){e.return!==null&&(Nt(e,1),Zt(e,1,0))}function Ke(e){for(;e===b;)b=d[--_],d[_]=null,A=d[--_],d[_]=null;for(;e===$;)$=O[--K],O[K]=null,Et=O[--K],O[K]=null,lt=O[--K],O[K]=null}function Kn(e,i){O[K++]=lt,O[K++]=Et,O[K++]=$,lt=i.id,Et=i.overflow,$=e}var fe=null,de=null,Wt=!1,Zr=null,oi=!1,ml=Error(a(519));function Kr(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bo(u(i,e)),ml}function Eu(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Be]=e,i[Ge]=c,o){case"dialog":$t("cancel",i),$t("close",i);break;case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(o=0;o<qu.length;o++)$t(qu[o],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"details":$t("toggle",i);break;case"input":$t("invalid",i),hs(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$t("invalid",i);break;case"textarea":$t("invalid",i),ei(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Xy(i.textContent,o)?(c.popover!=null&&($t("beforetoggle",i),$t("toggle",i)),c.onScroll!=null&&$t("scroll",i),c.onScrollEnd!=null&&$t("scrollend",i),c.onClick!=null&&(i.onclick=Dn),i=!0):i=!1,i||Kr(e,!0)}function je(e){for(fe=e.return;fe;)switch(fe.tag){case 5:case 31:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:fe=fe.return}}function yr(e){if(e!==fe)return!1;if(!Wt)return je(e),Wt=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||ym(e.type,e.memoizedProps)),o=!o),o&&de&&Kr(e),je(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=sv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=sv(e)}else i===27?(i=de,Sa(e.type)?(e=wm,wm=null,de=e):de=i):de=fe?tr(e.stateNode.nextSibling):null;return!0}function Es(){de=fe=null,Wt=!1}function Tu(){var e=Zr;return e!==null&&(hi===null?hi=e:hi.push.apply(hi,e),Zr=null),e}function bo(e){Zr===null?Zr=[e]:Zr.push(e)}var wo=U(null),Qr=null,vr=null;function fa(e,i,o){gt(wo,i._currentValue),i._currentValue=o}function Ts(e){e._currentValue=wo.current,st(wo)}function id(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function rd(e,i,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;t:for(;g!==null;){var R=g;g=m;for(var z=0;z<i.length;z++)if(R.context===i[z]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),id(g.return,o,e),c||(w=null);break t}g=R.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(a(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),id(w,o,e),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===e){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function pl(e,i,o,c){e=null;for(var m=i,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var R=m.type;En(m.pendingProps.value,w.value)||(e!==null?e.push(R):e=[R])}}else if(m===Ht.current){if(w=m.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Qu):e=[Qu])}m=m.return}e!==null&&rd(i,e,o,c),i.flags|=262144}function Kc(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xo(e){Qr=e,vr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return Pg(Qr,e)}function Qc(e,i){return Qr===null&&xo(e),Pg(e,i)}function Pg(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},vr===null){if(e===null)throw Error(a(308));vr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else vr=vr.next=i;return o}var vw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},Ew=r.unstable_scheduleCallback,Tw=r.unstable_NormalPriority,rn={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sd(){return{controller:new vw,data:new Map,refCount:0}}function bu(e){e.refCount--,e.refCount===0&&Ew(Tw,function(){e.controller.abort()})}var wu=null,ad=0,gl=0,_l=null;function bw(e,i){if(wu===null){var o=wu=[];ad=0,gl=um(),_l={status:"pending",value:void 0,then:function(c){o.push(c)}}}return ad++,i.then(kg,kg),i}function kg(){if(--ad===0&&wu!==null){_l!==null&&(_l.status="fulfilled");var e=wu;wu=null,gl=0,_l=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function ww(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Vg=rt.S;rt.S=function(e,i){Ey=xn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&bw(e,i),Vg!==null&&Vg(e,i)};var So=U(null);function od(){var e=So.current;return e!==null?e:Ie.pooledCache}function Yc(e,i){i===null?gt(So,So.current):gt(So,i.pool)}function zg(){var e=od();return e===null?null:{parent:rn._currentValue,pool:e}}var yl=Error(a(460)),ld=Error(a(474)),Xc=Error(a(542)),Wc={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bg(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(Dn,Dn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Hg(e),e;default:if(typeof i.status=="string")i.then(Dn,Dn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Hg(e),e}throw Co=i,yl}}function Ao(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Co=o,yl):o}}var Co=null;function jg(){if(Co===null)throw Error(a(459));var e=Co;return Co=null,e}function Hg(e){if(e===yl||e===Xc)throw Error(a(483))}var vl=null,xu=0;function Jc(e){var i=xu;return xu+=1,vl===null&&(vl=[]),Bg(vl,e,i)}function Su(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function $c(e,i){throw i.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function qg(e){function i(G,j){if(e){var W=G.deletions;W===null?(G.deletions=[j],G.flags|=16):W.push(j)}}function o(G,j){if(!e)return null;for(;j!==null;)i(G,j),j=j.sibling;return null}function c(G){for(var j=new Map;G!==null;)G.key!==null?j.set(G.key,G):j.set(G.index,G),G=G.sibling;return j}function m(G,j){return G=Ji(G,j),G.index=0,G.sibling=null,G}function g(G,j,W){return G.index=W,e?(W=G.alternate,W!==null?(W=W.index,W<j?(G.flags|=67108866,j):W):(G.flags|=67108866,j)):(G.flags|=1048576,j)}function w(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function R(G,j,W,ot){return j===null||j.tag!==6?(j=dl(W,G.mode,ot),j.return=G,j):(j=m(j,W),j.return=G,j)}function z(G,j,W,ot){var Lt=W.type;return Lt===Q?at(G,j,W.props.children,ot,W.key):j!==null&&(j.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===D&&Ao(Lt)===j.type)?(j=m(j,W.props),Su(j,W),j.return=G,j):(j=To(W.type,W.key,W.props,null,G.mode,ot),Su(j,W),j.return=G,j)}function J(G,j,W,ot){return j===null||j.tag!==4||j.stateNode.containerInfo!==W.containerInfo||j.stateNode.implementation!==W.implementation?(j=vu(W,G.mode,ot),j.return=G,j):(j=m(j,W.children||[]),j.return=G,j)}function at(G,j,W,ot,Lt){return j===null||j.tag!==7?(j=vs(W,G.mode,ot,Lt),j.return=G,j):(j=m(j,W),j.return=G,j)}function ut(G,j,W){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=dl(""+j,G.mode,W),j.return=G,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Z:return W=To(j.type,j.key,j.props,null,G.mode,W),Su(W,j),W.return=G,W;case et:return j=vu(j,G.mode,W),j.return=G,j;case D:return j=Ao(j),ut(G,j,W)}if(Xe(j)||F(j))return j=vs(j,G.mode,W,null),j.return=G,j;if(typeof j.then=="function")return ut(G,Jc(j),W);if(j.$$typeof===ht)return ut(G,Qc(G,j),W);$c(G,j)}return null}function tt(G,j,W,ot){var Lt=j!==null?j.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Lt!==null?null:R(G,j,""+W,ot);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Z:return W.key===Lt?z(G,j,W,ot):null;case et:return W.key===Lt?J(G,j,W,ot):null;case D:return W=Ao(W),tt(G,j,W,ot)}if(Xe(W)||F(W))return Lt!==null?null:at(G,j,W,ot,null);if(typeof W.then=="function")return tt(G,j,Jc(W),ot);if(W.$$typeof===ht)return tt(G,j,Qc(G,W),ot);$c(G,W)}return null}function it(G,j,W,ot,Lt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return G=G.get(W)||null,R(j,G,""+ot,Lt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case Z:return G=G.get(ot.key===null?W:ot.key)||null,z(j,G,ot,Lt);case et:return G=G.get(ot.key===null?W:ot.key)||null,J(j,G,ot,Lt);case D:return ot=Ao(ot),it(G,j,W,ot,Lt)}if(Xe(ot)||F(ot))return G=G.get(W)||null,at(j,G,ot,Lt,null);if(typeof ot.then=="function")return it(G,j,W,Jc(ot),Lt);if(ot.$$typeof===ht)return it(G,j,W,Qc(j,ot),Lt);$c(j,ot)}return null}function Rt(G,j,W,ot){for(var Lt=null,me=null,It=j,Kt=j=0,ie=null;It!==null&&Kt<W.length;Kt++){It.index>Kt?(ie=It,It=null):ie=It.sibling;var pe=tt(G,It,W[Kt],ot);if(pe===null){It===null&&(It=ie);break}e&&It&&pe.alternate===null&&i(G,It),j=g(pe,j,Kt),me===null?Lt=pe:me.sibling=pe,me=pe,It=ie}if(Kt===W.length)return o(G,It),Wt&&Nt(G,Kt),Lt;if(It===null){for(;Kt<W.length;Kt++)It=ut(G,W[Kt],ot),It!==null&&(j=g(It,j,Kt),me===null?Lt=It:me.sibling=It,me=It);return Wt&&Nt(G,Kt),Lt}for(It=c(It);Kt<W.length;Kt++)ie=it(It,G,Kt,W[Kt],ot),ie!==null&&(e&&ie.alternate!==null&&It.delete(ie.key===null?Kt:ie.key),j=g(ie,j,Kt),me===null?Lt=ie:me.sibling=ie,me=ie);return e&&It.forEach(function(Na){return i(G,Na)}),Wt&&Nt(G,Kt),Lt}function kt(G,j,W,ot){if(W==null)throw Error(a(151));for(var Lt=null,me=null,It=j,Kt=j=0,ie=null,pe=W.next();It!==null&&!pe.done;Kt++,pe=W.next()){It.index>Kt?(ie=It,It=null):ie=It.sibling;var Na=tt(G,It,pe.value,ot);if(Na===null){It===null&&(It=ie);break}e&&It&&Na.alternate===null&&i(G,It),j=g(Na,j,Kt),me===null?Lt=Na:me.sibling=Na,me=Na,It=ie}if(pe.done)return o(G,It),Wt&&Nt(G,Kt),Lt;if(It===null){for(;!pe.done;Kt++,pe=W.next())pe=ut(G,pe.value,ot),pe!==null&&(j=g(pe,j,Kt),me===null?Lt=pe:me.sibling=pe,me=pe);return Wt&&Nt(G,Kt),Lt}for(It=c(It);!pe.done;Kt++,pe=W.next())pe=it(It,G,Kt,pe.value,ot),pe!==null&&(e&&pe.alternate!==null&&It.delete(pe.key===null?Kt:pe.key),j=g(pe,j,Kt),me===null?Lt=pe:me.sibling=pe,me=pe);return e&&It.forEach(function(Ox){return i(G,Ox)}),Wt&&Nt(G,Kt),Lt}function Se(G,j,W,ot){if(typeof W=="object"&&W!==null&&W.type===Q&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case Z:t:{for(var Lt=W.key;j!==null;){if(j.key===Lt){if(Lt=W.type,Lt===Q){if(j.tag===7){o(G,j.sibling),ot=m(j,W.props.children),ot.return=G,G=ot;break t}}else if(j.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===D&&Ao(Lt)===j.type){o(G,j.sibling),ot=m(j,W.props),Su(ot,W),ot.return=G,G=ot;break t}o(G,j);break}else i(G,j);j=j.sibling}W.type===Q?(ot=vs(W.props.children,G.mode,ot,W.key),ot.return=G,G=ot):(ot=To(W.type,W.key,W.props,null,G.mode,ot),Su(ot,W),ot.return=G,G=ot)}return w(G);case et:t:{for(Lt=W.key;j!==null;){if(j.key===Lt)if(j.tag===4&&j.stateNode.containerInfo===W.containerInfo&&j.stateNode.implementation===W.implementation){o(G,j.sibling),ot=m(j,W.children||[]),ot.return=G,G=ot;break t}else{o(G,j);break}else i(G,j);j=j.sibling}ot=vu(W,G.mode,ot),ot.return=G,G=ot}return w(G);case D:return W=Ao(W),Se(G,j,W,ot)}if(Xe(W))return Rt(G,j,W,ot);if(F(W)){if(Lt=F(W),typeof Lt!="function")throw Error(a(150));return W=Lt.call(W),kt(G,j,W,ot)}if(typeof W.then=="function")return Se(G,j,Jc(W),ot);if(W.$$typeof===ht)return Se(G,j,Qc(G,W),ot);$c(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,j!==null&&j.tag===6?(o(G,j.sibling),ot=m(j,W),ot.return=G,G=ot):(o(G,j),ot=dl(W,G.mode,ot),ot.return=G,G=ot),w(G)):o(G,j)}return function(G,j,W,ot){try{xu=0;var Lt=Se(G,j,W,ot);return vl=null,Lt}catch(It){if(It===yl||It===Xc)throw It;var me=kn(29,It,null,G.mode);return me.lanes=ot,me.return=G,me}}}var Ro=qg(!0),Fg=qg(!1),da=!1;function ud(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pa(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=Eo(e),ha(e,null,o),i}return Gr(e,c,i,o),Eo(e)}function Au(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,Wa(e,o)}}function hd(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?m=g=i:g=g.next=i}else m=g=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var fd=!1;function Cu(){if(fd){var e=_l;if(e!==null)throw e}}function Ru(e,i,o,c){fd=!1;var m=e.updateQueue;da=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var z=R,J=z.next;z.next=null,w===null?g=J:w.next=J,w=z;var at=e.alternate;at!==null&&(at=at.updateQueue,R=at.lastBaseUpdate,R!==w&&(R===null?at.firstBaseUpdate=J:R.next=J,at.lastBaseUpdate=z))}if(g!==null){var ut=m.baseState;w=0,at=J=z=null,R=g;do{var tt=R.lane&-536870913,it=tt!==R.lane;if(it?(ne&tt)===tt:(c&tt)===tt){tt!==0&&tt===gl&&(fd=!0),at!==null&&(at=at.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Rt=e,kt=R;tt=i;var Se=o;switch(kt.tag){case 1:if(Rt=kt.payload,typeof Rt=="function"){ut=Rt.call(Se,ut,tt);break t}ut=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=kt.payload,tt=typeof Rt=="function"?Rt.call(Se,ut,tt):Rt,tt==null)break t;ut=C({},ut,tt);break t;case 2:da=!0}}tt=R.callback,tt!==null&&(e.flags|=64,it&&(e.flags|=8192),it=m.callbacks,it===null?m.callbacks=[tt]:it.push(tt))}else it={lane:tt,tag:R.tag,payload:R.payload,callback:R.callback,next:null},at===null?(J=at=it,z=ut):at=at.next=it,w|=tt;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;it=R,R=it.next,it.next=null,m.lastBaseUpdate=it,m.shared.pending=null}}while(!0);at===null&&(z=ut),m.baseState=z,m.firstBaseUpdate=J,m.lastBaseUpdate=at,g===null&&(m.shared.lanes=0),Ea|=w,e.lanes=w,e.memoizedState=ut}}function Gg(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Zg(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Gg(o[e],i)}var El=U(null),th=U(0);function Kg(e,i){e=Ns,gt(th,e),gt(El,i),Ns=e|i.baseLanes}function dd(){gt(th,Ns),gt(El,El.current)}function md(){Ns=th.current,st(El),st(th)}var Ri=U(null),$i=null;function ga(e){var i=e.alternate;gt(Je,Je.current&1),gt(Ri,e),$i===null&&(i===null||El.current!==null||i.memoizedState!==null)&&($i=e)}function pd(e){gt(Je,Je.current),gt(Ri,e),$i===null&&($i=e)}function Qg(e){e.tag===22?(gt(Je,Je.current),gt(Ri,e),$i===null&&($i=e)):_a()}function _a(){gt(Je,Je.current),gt(Ri,Ri.current)}function Ii(e){st(Ri),$i===e&&($i=null),st(Je)}var Je=U(0);function eh(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Tm(o)||bm(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var bs=0,Gt=null,we=null,sn=null,nh=!1,Tl=!1,Io=!1,ih=0,Iu=0,bl=null,xw=0;function Qe(){throw Error(a(321))}function gd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!En(e[o],i[o]))return!1;return!0}function _d(e,i,o,c,m,g){return bs=g,Gt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,rt.H=e===null||e.memoizedState===null?D_:Ld,Io=!1,g=o(c,m),Io=!1,Tl&&(g=Xg(i,o,c,m)),Yg(e),g}function Yg(e){rt.H=Lu;var i=we!==null&&we.next!==null;if(bs=0,sn=we=Gt=null,nh=!1,Iu=0,bl=null,i)throw Error(a(300));e===null||an||(e=e.dependencies,e!==null&&Kc(e)&&(an=!0))}function Xg(e,i,o,c){Gt=e;var m=0;do{if(Tl&&(bl=null),Iu=0,Tl=!1,25<=m)throw Error(a(301));if(m+=1,sn=we=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}rt.H=L_,g=i(o,c)}while(Tl);return g}function Sw(){var e=rt.H,i=e.useState()[0];return i=typeof i.then=="function"?Nu(i):i,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(Gt.flags|=1024),i}function yd(){var e=ih!==0;return ih=0,e}function vd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function Ed(e){if(nh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}nh=!1}bs=0,sn=we=Gt=null,Tl=!1,Iu=ih=0,bl=null}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Gt.memoizedState=sn=e:sn=sn.next=e,sn}function $e(){if(we===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var i=sn===null?Gt.memoizedState:sn.next;if(i!==null)sn=i,we=e;else{if(e===null)throw Gt.alternate===null?Error(a(467)):Error(a(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},sn===null?Gt.memoizedState=sn=e:sn=sn.next=e}return sn}function rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(e){var i=Iu;return Iu+=1,bl===null&&(bl=[]),e=Bg(bl,e,i),i=Gt,(sn===null?i.memoizedState:sn.next)===null&&(i=i.alternate,rt.H=i===null||i.memoizedState===null?D_:Ld),e}function sh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Nu(e);if(e.$$typeof===ht)return Sn(e)}throw Error(a(438,String(e)))}function Td(e){var i=null,o=Gt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Gt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=rh(),Gt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=H;return i.index++,o}function ws(e,i){return typeof i=="function"?i(e):i}function ah(e){var i=$e();return bd(i,we,e)}function bd(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=e.baseQueue,g=c.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}i.baseQueue=m=g,c.pending=null}if(g=e.baseState,m===null)e.memoizedState=g;else{i=m.next;var R=w=null,z=null,J=i,at=!1;do{var ut=J.lane&-536870913;if(ut!==J.lane?(ne&ut)===ut:(bs&ut)===ut){var tt=J.revertLane;if(tt===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ut===gl&&(at=!0);else if((bs&tt)===tt){J=J.next,tt===gl&&(at=!0);continue}else ut={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},z===null?(R=z=ut,w=g):z=z.next=ut,Gt.lanes|=tt,Ea|=tt;ut=J.action,Io&&o(g,ut),g=J.hasEagerState?J.eagerState:o(g,ut)}else tt={lane:ut,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},z===null?(R=z=tt,w=g):z=z.next=tt,Gt.lanes|=ut,Ea|=ut;J=J.next}while(J!==null&&J!==i);if(z===null?w=g:z.next=R,!En(g,e.memoizedState)&&(an=!0,at&&(o=_l,o!==null)))throw o;e.memoizedState=g,e.baseState=w,e.baseQueue=z,c.lastRenderedState=g}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function wd(e){var i=$e(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,g=i.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do g=e(g,w.action),w=w.next;while(w!==m);En(g,i.memoizedState)||(an=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function Wg(e,i,o){var c=Gt,m=$e(),g=Wt;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=i();var w=!En((we||m).memoizedState,o);if(w&&(m.memoizedState=o,an=!0),m=m.queue,Ad(t_.bind(null,c,m,e),[e]),m.getSnapshot!==i||w||sn!==null&&sn.memoizedState.tag&1){if(c.flags|=2048,wl(9,{destroy:void 0},$g.bind(null,c,m,o,i),null),Ie===null)throw Error(a(349));g||(bs&127)!==0||Jg(c,i,o)}return o}function Jg(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Gt.updateQueue,i===null?(i=rh(),Gt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function $g(e,i,o,c){i.value=o,i.getSnapshot=c,e_(i)&&n_(e)}function t_(e,i,o){return o(function(){e_(i)&&n_(e)})}function e_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!En(e,o)}catch{return!0}}function n_(e){var i=Wi(e,2);i!==null&&fi(i,e,2)}function xd(e){var i=Qn();if(typeof e=="function"){var o=e;if(e=o(),Io){Hn(!0);try{o()}finally{Hn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},i}function i_(e,i,o,c){return e.baseState=o,bd(e,we,typeof c=="function"?c:ws)}function Aw(e,i,o,c,m){if(uh(e))throw Error(a(485));if(e=i.action,e!==null){var g={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};rt.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,r_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function r_(e,i){var o=i.action,c=i.payload,m=e.state;if(i.isTransition){var g=rt.T,w={};rt.T=w;try{var R=o(m,c),z=rt.S;z!==null&&z(w,R),s_(e,i,R)}catch(J){Sd(e,i,J)}finally{g!==null&&w.types!==null&&(g.types=w.types),rt.T=g}}else try{g=o(m,c),s_(e,i,g)}catch(J){Sd(e,i,J)}}function s_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){a_(e,i,c)},function(c){return Sd(e,i,c)}):a_(e,i,o)}function a_(e,i,o){i.status="fulfilled",i.value=o,o_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,r_(e,o)))}function Sd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,o_(i),i=i.next;while(i!==c)}e.action=null}function o_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function l_(e,i){return i}function u_(e,i){if(Wt){var o=Ie.formState;if(o!==null){t:{var c=Gt;if(Wt){if(de){e:{for(var m=de,g=oi;m.nodeType!==8;){if(!g){m=null;break e}if(m=tr(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){de=tr(m.nextSibling),c=m.data==="F!";break t}}Kr(c)}c=!1}c&&(i=o[0])}}return o=Qn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l_,lastRenderedState:i},o.queue=c,o=R_.bind(null,Gt,c),c.dispatch=o,c=xd(!1),g=Dd.bind(null,Gt,!1,c.queue),c=Qn(),m={state:i,dispatch:null,action:e,pending:null},c.queue=m,o=Aw.bind(null,Gt,m,g,o),m.dispatch=o,c.memoizedState=e,[i,o,!1]}function c_(e){var i=$e();return h_(i,we,e)}function h_(e,i,o){if(i=bd(e,i,l_)[0],e=ah(ws)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Nu(i)}catch(w){throw w===yl?Xc:w}else c=i;i=$e();var m=i.queue,g=m.dispatch;return o!==i.memoizedState&&(Gt.flags|=2048,wl(9,{destroy:void 0},Cw.bind(null,m,o),null)),[c,g,e]}function Cw(e,i){e.action=i}function f_(e){var i=$e(),o=we;if(o!==null)return h_(i,o,e);$e(),i=i.memoizedState,o=$e();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function wl(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Gt.updateQueue,i===null&&(i=rh(),Gt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function d_(){return $e().memoizedState}function oh(e,i,o,c){var m=Qn();Gt.flags|=e,m.memoizedState=wl(1|i,{destroy:void 0},o,c===void 0?null:c)}function lh(e,i,o,c){var m=$e();c=c===void 0?null:c;var g=m.memoizedState.inst;we!==null&&c!==null&&gd(c,we.memoizedState.deps)?m.memoizedState=wl(i,g,o,c):(Gt.flags|=e,m.memoizedState=wl(1|i,g,o,c))}function m_(e,i){oh(8390656,8,e,i)}function Ad(e,i){lh(2048,8,e,i)}function Rw(e){Gt.flags|=4;var i=Gt.updateQueue;if(i===null)i=rh(),Gt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function p_(e){var i=$e().memoizedState;return Rw({ref:i,nextImpl:e}),function(){if((ge&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function g_(e,i){return lh(4,2,e,i)}function __(e,i){return lh(4,4,e,i)}function y_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function v_(e,i,o){o=o!=null?o.concat([e]):null,lh(4,4,y_.bind(null,i,e),o)}function Cd(){}function E_(e,i){var o=$e();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&gd(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function T_(e,i){var o=$e();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&gd(i,c[1]))return c[0];if(c=e(),Io){Hn(!0);try{e()}finally{Hn(!1)}}return o.memoizedState=[c,i],c}function Rd(e,i,o){return o===void 0||(bs&1073741824)!==0&&(ne&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=by(),Gt.lanes|=e,Ea|=e,o)}function b_(e,i,o,c){return En(o,i)?o:El.current!==null?(e=Rd(e,o,c),En(e,i)||(an=!0),e):(bs&42)===0||(bs&1073741824)!==0&&(ne&261930)===0?(an=!0,e.memoizedState=o):(e=by(),Gt.lanes|=e,Ea|=e,i)}function w_(e,i,o,c,m){var g=vt.p;vt.p=g!==0&&8>g?g:8;var w=rt.T,R={};rt.T=R,Dd(e,!1,i,o);try{var z=m(),J=rt.S;if(J!==null&&J(R,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var at=ww(z,c);Du(e,i,at,Li(e))}else Du(e,i,c,Li(e))}catch(ut){Du(e,i,{then:function(){},status:"rejected",reason:ut},Li())}finally{vt.p=g,w!==null&&R.types!==null&&(w.types=R.types),rt.T=w}}function Iw(){}function Id(e,i,o,c){if(e.tag!==5)throw Error(a(476));var m=x_(e).queue;w_(e,m,i,pt,o===null?Iw:function(){return S_(e),o(c)})}function x_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:pt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function S_(e){var i=x_(e);i.next===null&&(i=e.alternate.memoizedState),Du(e,i.next.queue,{},Li())}function Nd(){return Sn(Qu)}function A_(){return $e().memoizedState}function C_(){return $e().memoizedState}function Nw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Li();e=ma(o);var c=pa(i,e,o);c!==null&&(fi(c,i,o),Au(c,i,o)),i={cache:sd()},e.payload=i;return}i=i.return}}function Dw(e,i,o){var c=Li();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},uh(e)?I_(i,o):(o=gu(e,i,o,c),o!==null&&(fi(o,e,c),N_(o,i,c)))}function R_(e,i,o){var c=Li();Du(e,i,o,c)}function Du(e,i,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(uh(e))I_(i,m);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,R=g(w,o);if(m.hasEagerState=!0,m.eagerState=R,En(R,w))return Gr(e,i,m,0),Ie===null&&vo(),!1}catch{}if(o=gu(e,i,m,c),o!==null)return fi(o,e,c),N_(o,i,c),!0}return!1}function Dd(e,i,o,c){if(c={lane:2,revertLane:um(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},uh(e)){if(i)throw Error(a(479))}else i=gu(e,o,c,2),i!==null&&fi(i,e,2)}function uh(e){var i=e.alternate;return e===Gt||i!==null&&i===Gt}function I_(e,i){Tl=nh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function N_(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,Wa(e,o)}}var Lu={readContext:Sn,use:sh,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Lu.useEffectEvent=Qe;var D_={readContext:Sn,use:sh,useCallback:function(e,i){return Qn().memoizedState=[e,i===void 0?null:i],e},useContext:Sn,useEffect:m_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,oh(4194308,4,y_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return oh(4194308,4,e,i)},useInsertionEffect:function(e,i){oh(4,2,e,i)},useMemo:function(e,i){var o=Qn();i=i===void 0?null:i;var c=e();if(Io){Hn(!0);try{e()}finally{Hn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=Qn();if(o!==void 0){var m=o(i);if(Io){Hn(!0);try{o(i)}finally{Hn(!1)}}}else m=i;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=Dw.bind(null,Gt,e),[c.memoizedState,e]},useRef:function(e){var i=Qn();return e={current:e},i.memoizedState=e},useState:function(e){e=xd(e);var i=e.queue,o=R_.bind(null,Gt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Cd,useDeferredValue:function(e,i){var o=Qn();return Rd(o,e,i)},useTransition:function(){var e=xd(!1);return e=w_.bind(null,Gt,e.queue,!0,!1),Qn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Gt,m=Qn();if(Wt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ie===null)throw Error(a(349));(ne&127)!==0||Jg(c,i,o)}m.memoizedState=o;var g={value:o,getSnapshot:i};return m.queue=g,m_(t_.bind(null,c,g,e),[e]),c.flags|=2048,wl(9,{destroy:void 0},$g.bind(null,c,g,o,i),null),o},useId:function(){var e=Qn(),i=Ie.identifierPrefix;if(Wt){var o=Et,c=lt;o=(c&~(1<<32-ze(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=ih++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=xw++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Nd,useFormState:u_,useActionState:u_,useOptimistic:function(e){var i=Qn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Dd.bind(null,Gt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Td,useCacheRefresh:function(){return Qn().memoizedState=Nw.bind(null,Gt)},useEffectEvent:function(e){var i=Qn(),o={impl:e};return i.memoizedState=o,function(){if((ge&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Ld={readContext:Sn,use:sh,useCallback:E_,useContext:Sn,useEffect:Ad,useImperativeHandle:v_,useInsertionEffect:g_,useLayoutEffect:__,useMemo:T_,useReducer:ah,useRef:d_,useState:function(){return ah(ws)},useDebugValue:Cd,useDeferredValue:function(e,i){var o=$e();return b_(o,we.memoizedState,e,i)},useTransition:function(){var e=ah(ws)[0],i=$e().memoizedState;return[typeof e=="boolean"?e:Nu(e),i]},useSyncExternalStore:Wg,useId:A_,useHostTransitionStatus:Nd,useFormState:c_,useActionState:c_,useOptimistic:function(e,i){var o=$e();return i_(o,we,e,i)},useMemoCache:Td,useCacheRefresh:C_};Ld.useEffectEvent=p_;var L_={readContext:Sn,use:sh,useCallback:E_,useContext:Sn,useEffect:Ad,useImperativeHandle:v_,useInsertionEffect:g_,useLayoutEffect:__,useMemo:T_,useReducer:wd,useRef:d_,useState:function(){return wd(ws)},useDebugValue:Cd,useDeferredValue:function(e,i){var o=$e();return we===null?Rd(o,e,i):b_(o,we.memoizedState,e,i)},useTransition:function(){var e=wd(ws)[0],i=$e().memoizedState;return[typeof e=="boolean"?e:Nu(e),i]},useSyncExternalStore:Wg,useId:A_,useHostTransitionStatus:Nd,useFormState:f_,useActionState:f_,useOptimistic:function(e,i){var o=$e();return we!==null?i_(o,we,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Td,useCacheRefresh:C_};L_.useEffectEvent=p_;function Md(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:C({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Od={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Li(),m=ma(c);m.payload=i,o!=null&&(m.callback=o),i=pa(e,m,c),i!==null&&(fi(i,e,c),Au(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Li(),m=ma(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=pa(e,m,c),i!==null&&(fi(i,e,c),Au(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Li(),c=ma(o);c.tag=2,i!=null&&(c.callback=i),i=pa(e,c,o),i!==null&&(fi(i,e,o),Au(i,e,o))}};function M_(e,i,o,c,m,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,w):i.prototype&&i.prototype.isPureReactComponent?!oa(o,c)||!oa(m,g):!0}function O_(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&Od.enqueueReplaceState(i,i.state,null)}function No(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=C({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}function P_(e){yo(e)}function k_(e){console.error(e)}function V_(e){yo(e)}function ch(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function z_(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Pd(e,i,o){return o=ma(o),o.tag=3,o.payload={element:null},o.callback=function(){ch(e,i)},o}function U_(e){return e=ma(e),e.tag=3,e}function B_(e,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;e.payload=function(){return m(g)},e.callback=function(){z_(i,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){z_(i,o,c),typeof m!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function Lw(e,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&pl(i,o,m,!0),o=Ri.current,o!==null){switch(o.tag){case 31:case 13:return $i===null?bh():o.alternate===null&&Ye===0&&(Ye=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Wc?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),am(e,c,m)),!1;case 22:return o.flags|=65536,c===Wc?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),am(e,c,m)),!1}throw Error(a(435,o.tag))}return am(e,c,m),bh(),!1}if(Wt)return i=Ri.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==ml&&(e=Error(a(422),{cause:c}),bo(u(e,o)))):(c!==ml&&(i=Error(a(423),{cause:c}),bo(u(i,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=u(c,o),m=Pd(e.stateNode,c,m),hd(e,m),Ye!==4&&(Ye=2)),!1;var g=Error(a(520),{cause:c});if(g=u(g,o),Bu===null?Bu=[g]:Bu.push(g),Ye!==4&&(Ye=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=Pd(o.stateNode,c,e),hd(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ta===null||!Ta.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=U_(m),B_(m,e,o,c),hd(o,m),!1}o=o.return}while(o!==null);return!1}var kd=Error(a(461)),an=!1;function An(e,i,o,c){i.child=e===null?Fg(i,null,o,c):Ro(i,e.child,o,c)}function j_(e,i,o,c,m){o=o.render;var g=i.ref;if("ref"in c){var w={};for(var R in c)R!=="ref"&&(w[R]=c[R])}else w=c;return xo(i),c=_d(e,i,o,w,g,m),R=yd(),e!==null&&!an?(vd(e,i,m),xs(e,i,m)):(Wt&&R&&hn(i),i.flags|=1,An(e,i,c,m),i.child)}function H_(e,i,o,c,m){if(e===null){var g=o.type;return typeof g=="function"&&!fl(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,q_(e,i,g,c,m)):(e=To(o.type,null,c,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!Fd(e,m)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:oa,o(w,c)&&e.ref===i.ref)return xs(e,i,m)}return i.flags|=1,e=Ji(g,c),e.ref=i.ref,e.return=i,i.child=e}function q_(e,i,o,c,m){if(e!==null){var g=e.memoizedProps;if(oa(g,c)&&e.ref===i.ref)if(an=!1,i.pendingProps=c=g,Fd(e,m))(e.flags&131072)!==0&&(an=!0);else return i.lanes=e.lanes,xs(e,i,m)}return Vd(e,i,o,c,m)}function F_(e,i,o,c){var m=c.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=i.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,i.child=null;return G_(e,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yc(i,g!==null?g.cachePool:null),g!==null?Kg(i,g):dd(),Qg(i);else return c=i.lanes=536870912,G_(e,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Yc(i,g.cachePool),Kg(i,g),_a(),i.memoizedState=null):(e!==null&&Yc(i,null),dd(),_a());return An(e,i,m,o),i.child}function Mu(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function G_(e,i,o,c,m){var g=od();return g=g===null?null:{parent:rn._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},e!==null&&Yc(i,null),dd(),Qg(i),e!==null&&pl(e,i,c,!0),i.childLanes=m,null}function hh(e,i){return i=dh({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Z_(e,i,o){return Ro(i,e.child,null,o),e=hh(i,i.pendingProps),e.flags|=2,Ii(i),i.memoizedState=null,e}function Mw(e,i,o){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Wt){if(c.mode==="hidden")return e=hh(i,c),i.lanes=536870912,Mu(null,e);if(pd(i),(e=de)?(e=rv(e,oi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:$!==null?{id:lt,overflow:Et}:null,retryLane:536870912,hydrationErrors:null},o=yu(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Kr(i);return i.lanes=536870912,null}return hh(i,c)}var g=e.memoizedState;if(g!==null){var w=g.dehydrated;if(pd(i),m)if(i.flags&256)i.flags&=-257,i=Z_(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(an||pl(e,i,o,!1),m=(o&e.childLanes)!==0,an||m){if(c=Ie,c!==null&&(w=Ja(c,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,Wi(e,w),fi(c,e,w),kd;bh(),i=Z_(e,i,o)}else e=g.treeContext,de=tr(w.nextSibling),fe=i,Wt=!0,Zr=null,oi=!1,e!==null&&Kn(i,e),i=hh(i,c),i.flags|=4096;return i}return e=Ji(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function fh(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function Vd(e,i,o,c,m){return xo(i),o=_d(e,i,o,c,void 0,m),c=yd(),e!==null&&!an?(vd(e,i,m),xs(e,i,m)):(Wt&&c&&hn(i),i.flags|=1,An(e,i,o,m),i.child)}function K_(e,i,o,c,m,g){return xo(i),i.updateQueue=null,o=Xg(i,c,o,m),Yg(e),c=yd(),e!==null&&!an?(vd(e,i,g),xs(e,i,g)):(Wt&&c&&hn(i),i.flags|=1,An(e,i,o,g),i.child)}function Q_(e,i,o,c,m){if(xo(i),i.stateNode===null){var g=ys,w=o.contextType;typeof w=="object"&&w!==null&&(g=Sn(w)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Od,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},ud(i),w=o.contextType,g.context=typeof w=="object"&&w!==null?Sn(w):ys,g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Md(i,o,w,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Od.enqueueReplaceState(g,g.state,null),Ru(i,c,g,m),Cu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var R=i.memoizedProps,z=No(o,R);g.props=z;var J=g.context,at=o.contextType;w=ys,typeof at=="object"&&at!==null&&(w=Sn(at));var ut=o.getDerivedStateFromProps;at=typeof ut=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,at||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||J!==w)&&O_(i,g,c,w),da=!1;var tt=i.memoizedState;g.state=tt,Ru(i,c,g,m),Cu(),J=i.memoizedState,R||tt!==J||da?(typeof ut=="function"&&(Md(i,o,ut,c),J=i.memoizedState),(z=da||M_(i,o,z,c,tt,J,w))?(at||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=J),g.props=c,g.state=J,g.context=w,c=z):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,cd(e,i),w=i.memoizedProps,at=No(o,w),g.props=at,ut=i.pendingProps,tt=g.context,J=o.contextType,z=ys,typeof J=="object"&&J!==null&&(z=Sn(J)),R=o.getDerivedStateFromProps,(J=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ut||tt!==z)&&O_(i,g,c,z),da=!1,tt=i.memoizedState,g.state=tt,Ru(i,c,g,m),Cu();var it=i.memoizedState;w!==ut||tt!==it||da||e!==null&&e.dependencies!==null&&Kc(e.dependencies)?(typeof R=="function"&&(Md(i,o,R,c),it=i.memoizedState),(at=da||M_(i,o,at,c,tt,it,z)||e!==null&&e.dependencies!==null&&Kc(e.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,it,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,it,z)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&tt===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&tt===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=it),g.props=c,g.state=it,g.context=z,c=at):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&tt===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&tt===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,fh(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=Ro(i,e.child,null,m),i.child=Ro(i,null,o,m)):An(e,i,o,m),i.memoizedState=g.state,e=i.child):e=xs(e,i,m),e}function Y_(e,i,o,c){return Es(),i.flags|=256,An(e,i,o,c),i.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ud(e){return{baseLanes:e,cachePool:zg()}}function Bd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Di),e}function X_(e,i,o){var c=i.pendingProps,m=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),w&&(m=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,e===null){if(Wt){if(m?ga(i):_a(),(e=de)?(e=rv(e,oi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:$!==null?{id:lt,overflow:Et}:null,retryLane:536870912,hydrationErrors:null},o=yu(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Kr(i);return bm(e)?i.lanes=32:i.lanes=536870912,null}var R=c.children;return c=c.fallback,m?(_a(),m=i.mode,R=dh({mode:"hidden",children:R},m),c=vs(c,m,o,null),R.return=i,c.return=i,R.sibling=c,i.child=R,c=i.child,c.memoizedState=Ud(o),c.childLanes=Bd(e,w,o),i.memoizedState=zd,Mu(null,c)):(ga(i),jd(i,R))}var z=e.memoizedState;if(z!==null&&(R=z.dehydrated,R!==null)){if(g)i.flags&256?(ga(i),i.flags&=-257,i=Hd(e,i,o)):i.memoizedState!==null?(_a(),i.child=e.child,i.flags|=128,i=null):(_a(),R=c.fallback,m=i.mode,c=dh({mode:"visible",children:c.children},m),R=vs(R,m,o,null),R.flags|=2,c.return=i,R.return=i,c.sibling=R,i.child=c,Ro(i,e.child,null,o),c=i.child,c.memoizedState=Ud(o),c.childLanes=Bd(e,w,o),i.memoizedState=zd,i=Mu(null,c));else if(ga(i),bm(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var J=w.dgst;w=J,c=Error(a(419)),c.stack="",c.digest=w,bo({value:c,source:null,stack:null}),i=Hd(e,i,o)}else if(an||pl(e,i,o,!1),w=(o&e.childLanes)!==0,an||w){if(w=Ie,w!==null&&(c=Ja(w,o),c!==0&&c!==z.retryLane))throw z.retryLane=c,Wi(e,c),fi(w,e,c),kd;Tm(R)||bh(),i=Hd(e,i,o)}else Tm(R)?(i.flags|=192,i.child=e.child,i=null):(e=z.treeContext,de=tr(R.nextSibling),fe=i,Wt=!0,Zr=null,oi=!1,e!==null&&Kn(i,e),i=jd(i,c.children),i.flags|=4096);return i}return m?(_a(),R=c.fallback,m=i.mode,z=e.child,J=z.sibling,c=Ji(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,J!==null?R=Ji(J,R):(R=vs(R,m,o,null),R.flags|=2),R.return=i,c.return=i,c.sibling=R,i.child=c,Mu(null,c),c=i.child,R=e.child.memoizedState,R===null?R=Ud(o):(m=R.cachePool,m!==null?(z=rn._currentValue,m=m.parent!==z?{parent:z,pool:z}:m):m=zg(),R={baseLanes:R.baseLanes|o,cachePool:m}),c.memoizedState=R,c.childLanes=Bd(e,w,o),i.memoizedState=zd,Mu(e.child,c)):(ga(i),o=e.child,e=o.sibling,o=Ji(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(w=i.deletions,w===null?(i.deletions=[e],i.flags|=16):w.push(e)),i.child=o,i.memoizedState=null,o)}function jd(e,i){return i=dh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function dh(e,i){return e=kn(22,e,null,i),e.lanes=0,e}function Hd(e,i,o){return Ro(i,e.child,null,o),e=jd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function W_(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),id(e.return,i,o)}function qd(e,i,o,c,m,g){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=m,w.treeForkCount=g)}function J_(e,i,o){var c=i.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var w=Je.current,R=(w&2)!==0;if(R?(w=w&1|2,i.flags|=128):w&=1,gt(Je,w),An(e,i,c,o),c=Wt?A:0,!R&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&W_(e,o,i);else if(e.tag===19)W_(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(o=i.child,m=null;o!==null;)e=o.alternate,e!==null&&eh(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),qd(i,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&eh(e)===null){i.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}qd(i,!0,o,null,g,c);break;case"together":qd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function xs(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Ea|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(pl(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=Ji(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=Ji(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Fd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Kc(e)))}function Ow(e,i,o){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),fa(i,rn,e.memoizedState.cache),Es();break;case 27:case 5:sr(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:fa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,pd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ga(i),i.flags|=128,null):(o&i.child.childLanes)!==0?X_(e,i,o):(ga(i),e=xs(e,i,o),e!==null?e.sibling:null);ga(i);break;case 19:var m=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(pl(e,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return J_(e,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),gt(Je,Je.current),c)break;return null;case 22:return i.lanes=0,F_(e,i,o,i.pendingProps);case 24:fa(i,rn,e.memoizedState.cache)}return xs(e,i,o)}function $_(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)an=!0;else{if(!Fd(e,o)&&(i.flags&128)===0)return an=!1,Ow(e,i,o);an=(e.flags&131072)!==0}else an=!1,Wt&&(i.flags&1048576)!==0&&Zt(i,A,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=Ao(i.elementType),i.type=e,typeof e=="function")fl(e)?(c=No(e,c),i.tag=1,i=Q_(null,i,e,c,o)):(i.tag=0,i=Vd(null,i,e,c,o));else{if(e!=null){var m=e.$$typeof;if(m===Dt){i.tag=11,i=j_(null,i,e,c,o);break t}else if(m===V){i.tag=14,i=H_(null,i,e,c,o);break t}}throw i=oe(e)||e,Error(a(306,i,""))}}return i;case 0:return Vd(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=No(c,i.pendingProps),Q_(e,i,c,m,o);case 3:t:{if(be(i,i.stateNode.containerInfo),e===null)throw Error(a(387));c=i.pendingProps;var g=i.memoizedState;m=g.element,cd(e,i),Ru(i,c,null,o);var w=i.memoizedState;if(c=w.cache,fa(i,rn,c),c!==g.cache&&rd(i,[rn],o,!0),Cu(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Y_(e,i,c,o);break t}else if(c!==m){m=u(Error(a(424)),i),bo(m),i=Y_(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,de=tr(e.firstChild),fe=i,Wt=!0,Zr=null,oi=!0,o=Fg(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Es(),c===m){i=xs(e,i,o);break t}An(e,i,c,o)}i=i.child}return i;case 26:return fh(e,i),e===null?(o=cv(i.type,null,i.pendingProps,null))?i.memoizedState=o:Wt||(o=i.type,e=i.pendingProps,c=Ih(Tt.current).createElement(o),c[Be]=i,c[Ge]=e,Cn(c,o,e),Ze(c),i.stateNode=c):i.memoizedState=cv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return sr(i),e===null&&Wt&&(c=i.stateNode=ov(i.type,i.pendingProps,Tt.current),fe=i,oi=!0,m=de,Sa(i.type)?(wm=m,de=tr(c.firstChild)):de=m),An(e,i,i.pendingProps.children,o),fh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Wt&&((m=c=de)&&(c=cx(c,i.type,i.pendingProps,oi),c!==null?(i.stateNode=c,fe=i,de=tr(c.firstChild),oi=!1,m=!0):m=!1),m||Kr(i)),sr(i),m=i.type,g=i.pendingProps,w=e!==null?e.memoizedProps:null,c=g.children,ym(m,g)?c=null:w!==null&&ym(m,w)&&(i.flags|=32),i.memoizedState!==null&&(m=_d(e,i,Sw,null,null,o),Qu._currentValue=m),fh(e,i),An(e,i,c,o),i.child;case 6:return e===null&&Wt&&((e=o=de)&&(o=hx(o,i.pendingProps,oi),o!==null?(i.stateNode=o,fe=i,de=null,e=!0):e=!1),e||Kr(i)),null;case 13:return X_(e,i,o);case 4:return be(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Ro(i,null,c,o):An(e,i,c,o),i.child;case 11:return j_(e,i,i.type,i.pendingProps,o);case 7:return An(e,i,i.pendingProps,o),i.child;case 8:return An(e,i,i.pendingProps.children,o),i.child;case 12:return An(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,fa(i,i.type,c.value),An(e,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,xo(i),m=Sn(m),c=c(m),i.flags|=1,An(e,i,c,o),i.child;case 14:return H_(e,i,i.type,i.pendingProps,o);case 15:return q_(e,i,i.type,i.pendingProps,o);case 19:return J_(e,i,o);case 31:return Mw(e,i,o);case 22:return F_(e,i,o,i.pendingProps);case 24:return xo(i),c=Sn(rn),e===null?(m=od(),m===null&&(m=Ie,g=sd(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),i.memoizedState={parent:c,cache:m},ud(i),fa(i,rn,m)):((e.lanes&o)!==0&&(cd(e,i),Ru(i,null,null,o),Cu()),m=e.memoizedState,g=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),fa(i,rn,c)):(c=g.cache,fa(i,rn,c),c!==m.cache&&rd(i,[rn],o,!0))),An(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ss(e){e.flags|=4}function Gd(e,i,o,c,m){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(Ay())e.flags|=8192;else throw Co=Wc,ld}else e.flags&=-16777217}function ty(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pv(i))if(Ay())e.flags|=8192;else throw Co=Wc,ld}function mh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Jo():536870912,e.lanes|=i,Cl|=i)}function Ou(e,i){if(!Wt)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function Pw(e,i,o){var c=i.pendingProps;switch(Ke(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(i),null;case 1:return Oe(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ts(rn),Ae(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(yr(i)?Ss(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tu())),Oe(i),null;case 26:var m=i.type,g=i.memoizedState;return e===null?(Ss(i),g!==null?(Oe(i),ty(i,g)):(Oe(i),Gd(i,m,null,c,o))):g?g!==e.memoizedState?(Ss(i),Oe(i),ty(i,g)):(Oe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&Ss(i),Oe(i),Gd(i,m,e,c,o)),null;case 27:if(Rr(i),o=Tt.current,m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Ss(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Oe(i),null}e=_t.current,yr(i)?Eu(i):(e=ov(m,c,o),i.stateNode=e,Ss(i))}return Oe(i),null;case 5:if(Rr(i),m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Ss(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Oe(i),null}if(g=_t.current,yr(i))Eu(i);else{var w=Ih(Tt.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?w.createElement(m,{is:c.is}):w.createElement(m)}}g[Be]=i,g[Ge]=c;t:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break t;for(;w.sibling===null;){if(w.return===null||w.return===i)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=g;t:switch(Cn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Ss(i)}}return Oe(i),Gd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Ss(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=Tt.current,yr(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,m=fe,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[Be]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Xy(e.nodeValue,o)),e||Kr(i,!0)}else e=Ih(e).createTextNode(c),e[Be]=i,i.stateNode=e}return Oe(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=yr(i),o!==null){if(e===null){if(!c)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Be]=i}else Es(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Oe(i),e=!1}else o=Tu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(Ii(i),i):(Ii(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Oe(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=yr(i),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Be]=i}else Es(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Oe(i),m=!1}else m=Tu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Ii(i),i):(Ii(i),null)}return Ii(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),mh(i,i.updateQueue),Oe(i),null);case 4:return Ae(),e===null&&dm(i.stateNode.containerInfo),Oe(i),null;case 10:return Ts(i.type),Oe(i),null;case 19:if(st(Je),c=i.memoizedState,c===null)return Oe(i),null;if(m=(i.flags&128)!==0,g=c.rendering,g===null)if(m)Ou(c,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=eh(e),g!==null){for(i.flags|=128,Ou(c,!1),e=g.updateQueue,i.updateQueue=e,mh(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)_u(o,e),o=o.sibling;return gt(Je,Je.current&1|2),Wt&&Nt(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&xn()>vh&&(i.flags|=128,m=!0,Ou(c,!1),i.lanes=4194304)}else{if(!m)if(e=eh(g),e!==null){if(i.flags|=128,m=!0,e=e.updateQueue,i.updateQueue=e,mh(i,e),Ou(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Wt)return Oe(i),null}else 2*xn()-c.renderingStartTime>vh&&o!==536870912&&(i.flags|=128,m=!0,Ou(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(e=c.last,e!==null?e.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=xn(),e.sibling=null,o=Je.current,gt(Je,m?o&1|2:o&1),Wt&&Nt(i,c.treeForkCount),e):(Oe(i),null);case 22:case 23:return Ii(i),md(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Oe(i),i.subtreeFlags&6&&(i.flags|=8192)):Oe(i),o=i.updateQueue,o!==null&&mh(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&st(So),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ts(rn),Oe(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function kw(e,i){switch(Ke(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ts(rn),Ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Rr(i),null;case 31:if(i.memoizedState!==null){if(Ii(i),i.alternate===null)throw Error(a(340));Es()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Ii(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Es()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return st(Je),null;case 4:return Ae(),null;case 10:return Ts(i.type),null;case 22:case 23:return Ii(i),md(),e!==null&&st(So),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ts(rn),null;case 25:return null;default:return null}}function ey(e,i){switch(Ke(i),i.tag){case 3:Ts(rn),Ae();break;case 26:case 27:case 5:Rr(i);break;case 4:Ae();break;case 31:i.memoizedState!==null&&Ii(i);break;case 13:Ii(i);break;case 19:st(Je);break;case 10:Ts(i.type);break;case 22:case 23:Ii(i),md(),e!==null&&st(So);break;case 24:Ts(rn)}}function Pu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==m)}}catch(R){Te(i,i.return,R)}}function ya(e,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&e)===e){var w=c.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,m=i;var z=o,J=R;try{J()}catch(at){Te(m,z,at)}}}c=c.next}while(c!==g)}}catch(at){Te(i,i.return,at)}}function ny(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{Zg(i,o)}catch(c){Te(e,e.return,c)}}}function iy(e,i,o){o.props=No(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Te(e,i,c)}}function ku(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){Te(e,i,m)}}function Yr(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Te(e,i,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Te(e,i,m)}else o.current=null}function ry(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Te(e,e.return,m)}}function Zd(e,i,o){try{var c=e.stateNode;rx(c,e.type,o,i),c[Ge]=i}catch(m){Te(e,e.return,m)}}function sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Sa(e.type)||e.tag===4}function Kd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qd(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Dn));else if(c!==4&&(c===27&&Sa(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(Qd(e,i,o),e=e.sibling;e!==null;)Qd(e,i,o),e=e.sibling}function ph(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Sa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(ph(e,i,o),e=e.sibling;e!==null;)ph(e,i,o),e=e.sibling}function ay(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);Cn(i,c,o),i[Be]=e,i[Ge]=o}catch(g){Te(e,e.return,g)}}var As=!1,on=!1,Yd=!1,oy=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Vw(e,i){if(e=e.containerInfo,gm=kh,e=mo(e),jr(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var w=0,R=-1,z=-1,J=0,at=0,ut=e,tt=null;e:for(;;){for(var it;ut!==o||m!==0&&ut.nodeType!==3||(R=w+m),ut!==g||c!==0&&ut.nodeType!==3||(z=w+c),ut.nodeType===3&&(w+=ut.nodeValue.length),(it=ut.firstChild)!==null;)tt=ut,ut=it;for(;;){if(ut===e)break e;if(tt===o&&++J===m&&(R=w),tt===g&&++at===c&&(z=w),(it=ut.nextSibling)!==null)break;ut=tt,tt=ut.parentNode}ut=it}o=R===-1||z===-1?null:{start:R,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(_m={focusedElem:e,selectionRange:o},kh=!1,bn=i;bn!==null;)if(i=bn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,bn=e;else for(;bn!==null;){switch(i=bn,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)m=e[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Rt=No(o.type,m);e=c.getSnapshotBeforeUpdate(Rt,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(kt){Te(o,o.return,kt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Em(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Em(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,bn=e;break}bn=i.return}}function ly(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Rs(e,o),c&4&&Pu(5,o);break;case 1:if(Rs(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(w){Te(o,o.return,w)}else{var m=No(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(m,i,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Te(o,o.return,w)}}c&64&&ny(o),c&512&&ku(o,o.return);break;case 3:if(Rs(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Zg(e,i)}catch(w){Te(o,o.return,w)}}break;case 27:i===null&&c&4&&ay(o);case 26:case 5:Rs(e,o),i===null&&c&4&&ry(o),c&512&&ku(o,o.return);break;case 12:Rs(e,o);break;case 31:Rs(e,o),c&4&&hy(e,o);break;case 13:Rs(e,o),c&4&&fy(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Zw.bind(null,o),fx(e,o))));break;case 22:if(c=o.memoizedState!==null||As,!c){i=i!==null&&i.memoizedState!==null||on,m=As;var g=on;As=c,(on=i)&&!g?Is(e,o,(o.subtreeFlags&8772)!==0):Rs(e,o),As=m,on=g}break;case 30:break;default:Rs(e,o)}}function uy(e){var i=e.alternate;i!==null&&(e.alternate=null,uy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Qs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,li=!1;function Cs(e,i,o){for(o=o.child;o!==null;)cy(e,i,o),o=o.sibling}function cy(e,i,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Yn,o)}catch{}switch(o.tag){case 26:on||Yr(o,i),Cs(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:on||Yr(o,i);var c=ke,m=li;Sa(o.type)&&(ke=o.stateNode,li=!1),Cs(e,i,o),Gu(o.stateNode),ke=c,li=m;break;case 5:on||Yr(o,i);case 6:if(c=ke,m=li,ke=null,Cs(e,i,o),ke=c,li=m,ke!==null)if(li)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(o.stateNode)}catch(g){Te(o,i,g)}else try{ke.removeChild(o.stateNode)}catch(g){Te(o,i,g)}break;case 18:ke!==null&&(li?(e=ke,nv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Pl(e)):nv(ke,o.stateNode));break;case 4:c=ke,m=li,ke=o.stateNode.containerInfo,li=!0,Cs(e,i,o),ke=c,li=m;break;case 0:case 11:case 14:case 15:ya(2,o,i),on||ya(4,o,i),Cs(e,i,o);break;case 1:on||(Yr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&iy(o,i,c)),Cs(e,i,o);break;case 21:Cs(e,i,o);break;case 22:on=(c=on)||o.memoizedState!==null,Cs(e,i,o),on=c;break;default:Cs(e,i,o)}}function hy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pl(e)}catch(o){Te(i,i.return,o)}}}function fy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pl(e)}catch(o){Te(i,i.return,o)}}function zw(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new oy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new oy),i;default:throw Error(a(435,e.tag))}}function gh(e,i){var o=zw(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var m=Kw.bind(null,e,c);c.then(m,m)}})}function ui(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=e,w=i,R=w;t:for(;R!==null;){switch(R.tag){case 27:if(Sa(R.type)){ke=R.stateNode,li=!1;break t}break;case 5:ke=R.stateNode,li=!1;break t;case 3:case 4:ke=R.stateNode.containerInfo,li=!0;break t}R=R.return}if(ke===null)throw Error(a(160));cy(g,w,m),ke=null,li=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)dy(i,e),i=i.sibling}var Er=null;function dy(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ui(i,e),ci(e),c&4&&(ya(3,e,e.return),Pu(3,e),ya(5,e,e.return));break;case 1:ui(i,e),ci(e),c&512&&(on||o===null||Yr(o,o.return)),c&64&&As&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Er;if(ui(i,e),ci(e),c&512&&(on||o===null||Yr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Bi]||g[Be]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Cn(g,c,o),g[Be]=e,Ze(g),c=g;break t;case"link":var w=dv("link","href",m).get(c+(o.href||""));if(w){for(var R=0;R<w.length;R++)if(g=w[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(R,1);break e}}g=m.createElement(c),Cn(g,c,o),m.head.appendChild(g);break;case"meta":if(w=dv("meta","content",m).get(c+(o.content||""))){for(R=0;R<w.length;R++)if(g=w[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(R,1);break e}}g=m.createElement(c),Cn(g,c,o),m.head.appendChild(g);break;default:throw Error(a(468,c))}g[Be]=e,Ze(g),c=g}e.stateNode=c}else mv(m,e.type,e.stateNode);else e.stateNode=fv(m,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?mv(m,e.type,e.stateNode):fv(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Zd(e,e.memoizedProps,o.memoizedProps)}break;case 27:ui(i,e),ci(e),c&512&&(on||o===null||Yr(o,o.return)),o!==null&&c&4&&Zd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(ui(i,e),ci(e),c&512&&(on||o===null||Yr(o,o.return)),e.flags&32){m=e.stateNode;try{en(m,"")}catch(Rt){Te(e,e.return,Rt)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Zd(e,m,o!==null?o.memoizedProps:m)),c&1024&&(Yd=!0);break;case 6:if(ui(i,e),ci(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Rt){Te(e,e.return,Rt)}}break;case 3:if(Lh=null,m=Er,Er=Nh(i.containerInfo),ui(i,e),Er=m,ci(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Pl(i.containerInfo)}catch(Rt){Te(e,e.return,Rt)}Yd&&(Yd=!1,my(e));break;case 4:c=Er,Er=Nh(e.stateNode.containerInfo),ui(i,e),ci(e),Er=c;break;case 12:ui(i,e),ci(e);break;case 31:ui(i,e),ci(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,gh(e,c)));break;case 13:ui(i,e),ci(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(yh=xn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,gh(e,c)));break;case 22:m=e.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,J=As,at=on;if(As=J||m,on=at||z,ui(i,e),on=at,As=J,ci(e),c&8192)t:for(i=e.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||z||As||on||Do(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){z=o=i;try{if(g=z.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=z.stateNode;var ut=z.memoizedProps.style,tt=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;R.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(Rt){Te(z,z.return,Rt)}}}else if(i.tag===6){if(o===null){z=i;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(Rt){Te(z,z.return,Rt)}}}else if(i.tag===18){if(o===null){z=i;try{var it=z.stateNode;m?iv(it,!0):iv(z.stateNode,!1)}catch(Rt){Te(z,z.return,Rt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,gh(e,o))));break;case 19:ui(i,e),ci(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,gh(e,c)));break;case 30:break;case 21:break;default:ui(i,e),ci(e)}}function ci(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(sy(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,g=Kd(e);ph(e,g,m);break;case 5:var w=o.stateNode;o.flags&32&&(en(w,""),o.flags&=-33);var R=Kd(e);ph(e,R,w);break;case 3:case 4:var z=o.stateNode.containerInfo,J=Kd(e);Qd(e,J,z);break;default:throw Error(a(161))}}catch(at){Te(e,e.return,at)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;my(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Rs(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ly(e,i.alternate,i),i=i.sibling}function Do(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ya(4,i,i.return),Do(i);break;case 1:Yr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&iy(i,i.return,o),Do(i);break;case 27:Gu(i.stateNode);case 26:case 5:Yr(i,i.return),Do(i);break;case 22:i.memoizedState===null&&Do(i);break;case 30:Do(i);break;default:Do(i)}e=e.sibling}}function Is(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=e,g=i,w=g.flags;switch(g.tag){case 0:case 11:case 15:Is(m,g,o),Pu(4,g);break;case 1:if(Is(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){Te(c,c.return,J)}if(c=g,m=c.updateQueue,m!==null){var R=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)Gg(z[m],R)}catch(J){Te(c,c.return,J)}}o&&w&64&&ny(g),ku(g,g.return);break;case 27:ay(g);case 26:case 5:Is(m,g,o),o&&c===null&&w&4&&ry(g),ku(g,g.return);break;case 12:Is(m,g,o);break;case 31:Is(m,g,o),o&&w&4&&hy(m,g);break;case 13:Is(m,g,o),o&&w&4&&fy(m,g);break;case 22:g.memoizedState===null&&Is(m,g,o),ku(g,g.return);break;case 30:break;default:Is(m,g,o)}i=i.sibling}}function Xd(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&bu(o))}function Wd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&bu(e))}function Tr(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)py(e,i,o,c),i=i.sibling}function py(e,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Tr(e,i,o,c),m&2048&&Pu(9,i);break;case 1:Tr(e,i,o,c);break;case 3:Tr(e,i,o,c),m&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&bu(e)));break;case 12:if(m&2048){Tr(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,w=g.id,R=g.onPostCommit;typeof R=="function"&&R(w,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){Te(i,i.return,z)}}else Tr(e,i,o,c);break;case 31:Tr(e,i,o,c);break;case 13:Tr(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,w=i.alternate,i.memoizedState!==null?g._visibility&2?Tr(e,i,o,c):Vu(e,i):g._visibility&2?Tr(e,i,o,c):(g._visibility|=2,xl(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&Xd(w,i);break;case 24:Tr(e,i,o,c),m&2048&&Wd(i.alternate,i);break;default:Tr(e,i,o,c)}}function xl(e,i,o,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,w=i,R=o,z=c,J=w.flags;switch(w.tag){case 0:case 11:case 15:xl(g,w,R,z,m),Pu(8,w);break;case 23:break;case 22:var at=w.stateNode;w.memoizedState!==null?at._visibility&2?xl(g,w,R,z,m):Vu(g,w):(at._visibility|=2,xl(g,w,R,z,m)),m&&J&2048&&Xd(w.alternate,w);break;case 24:xl(g,w,R,z,m),m&&J&2048&&Wd(w.alternate,w);break;default:xl(g,w,R,z,m)}i=i.sibling}}function Vu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,m=c.flags;switch(c.tag){case 22:Vu(o,c),m&2048&&Xd(c.alternate,c);break;case 24:Vu(o,c),m&2048&&Wd(c.alternate,c);break;default:Vu(o,c)}i=i.sibling}}var zu=8192;function Sl(e,i,o){if(e.subtreeFlags&zu)for(e=e.child;e!==null;)gy(e,i,o),e=e.sibling}function gy(e,i,o){switch(e.tag){case 26:Sl(e,i,o),e.flags&zu&&e.memoizedState!==null&&xx(o,Er,e.memoizedState,e.memoizedProps);break;case 5:Sl(e,i,o);break;case 3:case 4:var c=Er;Er=Nh(e.stateNode.containerInfo),Sl(e,i,o),Er=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=zu,zu=16777216,Sl(e,i,o),zu=c):Sl(e,i,o));break;default:Sl(e,i,o)}}function _y(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Uu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];bn=c,vy(c,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 0:case 11:case 15:Uu(e),e.flags&2048&&ya(9,e,e.return);break;case 3:Uu(e);break;case 12:Uu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,_h(e)):Uu(e);break;default:Uu(e)}}function _h(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];bn=c,vy(c,e)}_y(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ya(8,i,i.return),_h(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,_h(i));break;default:_h(i)}e=e.sibling}}function vy(e,i){for(;bn!==null;){var o=bn;switch(o.tag){case 0:case 11:case 15:ya(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,bn=c;else t:for(o=e;bn!==null;){c=bn;var m=c.sibling,g=c.return;if(uy(c),c===o){bn=null;break t}if(m!==null){m.return=g,bn=m;break t}bn=g}}}var Uw={getCacheForType:function(e){var i=Sn(rn),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return Sn(rn).controller.signal}},Bw=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ie=null,Jt=null,ne=0,Ee=0,Ni=null,va=!1,Al=!1,Jd=!1,Ns=0,Ye=0,Ea=0,Lo=0,$d=0,Di=0,Cl=0,Bu=null,hi=null,tm=!1,yh=0,Ey=0,vh=1/0,Eh=null,Ta=null,fn=0,ba=null,Rl=null,Ds=0,em=0,nm=null,Ty=null,ju=0,im=null;function Li(){return(ge&2)!==0&&ne!==0?ne&-ne:rt.T!==null?um():$a()}function by(){if(Di===0)if((ne&536870912)===0||Wt){var e=Mr;Mr<<=1,(Mr&3932160)===0&&(Mr=262144),Di=e}else Di=536870912;return e=Ri.current,e!==null&&(e.flags|=32),Di}function fi(e,i,o){(e===Ie&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Il(e,0),wa(e,ne,Di,!1)),or(e,o),((ge&2)===0||e!==Ie)&&(e===Ie&&((ge&2)===0&&(Lo|=o),Ye===4&&wa(e,ne,Di,!1)),Xr(e))}function wy(e,i,o){if((ge&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||gi(e,i),m=c?qw(e,i):sm(e,i,!0),g=c;do{if(m===0){Al&&!c&&wa(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!jw(o)){m=sm(e,i,!1),g=!1;continue}if(m===2){if(g=i,e.errorRecoveryDisabledLanes&g)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;t:{var R=e;m=Bu;var z=R.current.memoizedState.isDehydrated;if(z&&(Il(R,w).flags|=256),w=sm(R,w,!1),w!==2){if(Jd&&!z){R.errorRecoveryDisabledLanes|=g,Lo|=g,m=4;break t}g=hi,hi=m,g!==null&&(hi===null?hi=g:hi.push.apply(hi,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){Il(e,0),wa(e,i,0,!0);break}t:{switch(c=e,g=m,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:wa(c,i,Di,!va);break t;case 2:hi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=yh+300-xn(),10<m)){if(wa(c,i,Di,!va),zi(c,0,!0)!==0)break t;Ds=i,c.timeoutHandle=tv(xy.bind(null,c,o,hi,Eh,tm,i,Di,Lo,Cl,va,g,"Throttled",-0,0),m);break t}xy(c,o,hi,Eh,tm,i,Di,Lo,Cl,va,g,null,-0,0)}}break}while(!0);Xr(e)}function xy(e,i,o,c,m,g,w,R,z,J,at,ut,tt,it){if(e.timeoutHandle=-1,ut=i.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},gy(i,g,ut);var Rt=(g&62914560)===g?yh-xn():(g&4194048)===g?Ey-xn():0;if(Rt=Sx(ut,Rt),Rt!==null){Ds=g,e.cancelPendingCommit=Rt(Ly.bind(null,e,i,g,o,c,m,w,R,z,at,ut,null,tt,it)),wa(e,g,w,!J);return}}Ly(e,i,g,o,c,m,w,R,z)}function jw(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!En(g(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wa(e,i,o,c){i&=~$d,i&=~Lo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var m=i;0<m;){var g=31-ze(m),w=1<<g;c[g]=-1,m&=~w}o!==0&&us(e,o,i)}function Th(){return(ge&6)===0?(Hu(0),!1):!0}function rm(){if(Jt!==null){if(Ee===0)var e=Jt.return;else e=Jt,vr=Qr=null,Ed(e),vl=null,xu=0,e=Jt;for(;e!==null;)ey(e.alternate,e),e=e.return;Jt=null}}function Il(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,ox(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Ds=0,rm(),Ie=e,Jt=o=Ji(e.current,null),ne=i,Ee=0,Ni=null,va=!1,Al=gi(e,i),Jd=!1,Cl=Di=$d=Lo=Ea=Ye=0,hi=Bu=null,tm=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var m=31-ze(c),g=1<<m;i|=e[m],c&=~g}return Ns=i,vo(),o}function Sy(e,i){Gt=null,rt.H=Lu,i===yl||i===Xc?(i=jg(),Ee=3):i===ld?(i=jg(),Ee=4):Ee=i===kd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ni=i,Jt===null&&(Ye=1,ch(e,u(i,e.current)))}function Ay(){var e=Ri.current;return e===null?!0:(ne&4194048)===ne?$i===null:(ne&62914560)===ne||(ne&536870912)!==0?e===$i:!1}function Cy(){var e=rt.H;return rt.H=Lu,e===null?Lu:e}function Ry(){var e=rt.A;return rt.A=Uw,e}function bh(){Ye=4,va||(ne&4194048)!==ne&&Ri.current!==null||(Al=!0),(Ea&134217727)===0&&(Lo&134217727)===0||Ie===null||wa(Ie,ne,Di,!1)}function sm(e,i,o){var c=ge;ge|=2;var m=Cy(),g=Ry();(Ie!==e||ne!==i)&&(Eh=null,Il(e,i)),i=!1;var w=Ye;t:do try{if(Ee!==0&&Jt!==null){var R=Jt,z=Ni;switch(Ee){case 8:rm(),w=6;break t;case 3:case 2:case 9:case 6:Ri.current===null&&(i=!0);var J=Ee;if(Ee=0,Ni=null,Nl(e,R,z,J),o&&Al){w=0;break t}break;default:J=Ee,Ee=0,Ni=null,Nl(e,R,z,J)}}Hw(),w=Ye;break}catch(at){Sy(e,at)}while(!0);return i&&e.shellSuspendCounter++,vr=Qr=null,ge=c,rt.H=m,rt.A=g,Jt===null&&(Ie=null,ne=0,vo()),w}function Hw(){for(;Jt!==null;)Iy(Jt)}function qw(e,i){var o=ge;ge|=2;var c=Cy(),m=Ry();Ie!==e||ne!==i?(Eh=null,vh=xn()+500,Il(e,i)):Al=gi(e,i);t:do try{if(Ee!==0&&Jt!==null){i=Jt;var g=Ni;e:switch(Ee){case 1:Ee=0,Ni=null,Nl(e,i,g,1);break;case 2:case 9:if(Ug(g)){Ee=0,Ni=null,Ny(i);break}i=function(){Ee!==2&&Ee!==9||Ie!==e||(Ee=7),Xr(e)},g.then(i,i);break t;case 3:Ee=7;break t;case 4:Ee=5;break t;case 7:Ug(g)?(Ee=0,Ni=null,Ny(i)):(Ee=0,Ni=null,Nl(e,i,g,7));break;case 5:var w=null;switch(Jt.tag){case 26:w=Jt.memoizedState;case 5:case 27:var R=Jt;if(w?pv(w):R.stateNode.complete){Ee=0,Ni=null;var z=R.sibling;if(z!==null)Jt=z;else{var J=R.return;J!==null?(Jt=J,wh(J)):Jt=null}break e}}Ee=0,Ni=null,Nl(e,i,g,5);break;case 6:Ee=0,Ni=null,Nl(e,i,g,6);break;case 8:rm(),Ye=6;break t;default:throw Error(a(462))}}Fw();break}catch(at){Sy(e,at)}while(!0);return vr=Qr=null,rt.H=c,rt.A=m,ge=o,Jt!==null?0:(Ie=null,ne=0,vo(),Ye)}function Fw(){for(;Jt!==null&&!Yo();)Iy(Jt)}function Iy(e){var i=$_(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,i===null?wh(e):Jt=i}function Ny(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=K_(o,i,i.pendingProps,i.type,void 0,ne);break;case 11:i=K_(o,i,i.pendingProps,i.type.render,i.ref,ne);break;case 5:Ed(i);default:ey(o,i),i=Jt=_u(i,Ns),i=$_(o,i,Ns)}e.memoizedProps=e.pendingProps,i===null?wh(e):Jt=i}function Nl(e,i,o,c){vr=Qr=null,Ed(i),vl=null,xu=0;var m=i.return;try{if(Lw(e,m,i,o,ne)){Ye=1,ch(e,u(o,e.current)),Jt=null;return}}catch(g){if(m!==null)throw Jt=m,g;Ye=1,ch(e,u(o,e.current)),Jt=null;return}i.flags&32768?(Wt||c===1?e=!0:Al||(ne&536870912)!==0?e=!1:(va=e=!0,(c===2||c===9||c===3||c===6)&&(c=Ri.current,c!==null&&c.tag===13&&(c.flags|=16384))),Dy(i,e)):wh(i)}function wh(e){var i=e;do{if((i.flags&32768)!==0){Dy(i,va);return}e=i.return;var o=Pw(i.alternate,i,Ns);if(o!==null){Jt=o;return}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=e}while(i!==null);Ye===0&&(Ye=5)}function Dy(e,i){do{var o=kw(e.alternate,e);if(o!==null){o.flags&=32767,Jt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){Jt=e;return}Jt=e=o}while(e!==null);Ye=6,Jt=null}function Ly(e,i,o,c,m,g,w,R,z){e.cancelPendingCommit=null;do xh();while(fn!==0);if((ge&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=hl,pu(e,o,g,w,R,z),e===Ie&&(Jt=Ie=null,ne=0),Rl=i,ba=e,Ds=o,em=g,nm=m,Ty=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Qw(ar,function(){return Vy(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=rt.T,rt.T=null,m=vt.p,vt.p=2,w=ge,ge|=4;try{Vw(e,i,o)}finally{ge=w,vt.p=m,rt.T=c}}fn=1,My(),Oy(),Py()}}function My(){if(fn===1){fn=0;var e=ba,i=Rl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=rt.T,rt.T=null;var c=vt.p;vt.p=2;var m=ge;ge|=4;try{dy(i,e);var g=_m,w=mo(e.containerInfo),R=g.focusedElem,z=g.selectionRange;if(w!==R&&R&&R.ownerDocument&&ol(R.ownerDocument.documentElement,R)){if(z!==null&&jr(R)){var J=z.start,at=z.end;if(at===void 0&&(at=J),"selectionStart"in R)R.selectionStart=J,R.selectionEnd=Math.min(at,R.value.length);else{var ut=R.ownerDocument||document,tt=ut&&ut.defaultView||window;if(tt.getSelection){var it=tt.getSelection(),Rt=R.textContent.length,kt=Math.min(z.start,Rt),Se=z.end===void 0?kt:Math.min(z.end,Rt);!it.extend&&kt>Se&&(w=Se,Se=kt,kt=w);var G=fo(R,kt),j=fo(R,Se);if(G&&j&&(it.rangeCount!==1||it.anchorNode!==G.node||it.anchorOffset!==G.offset||it.focusNode!==j.node||it.focusOffset!==j.offset)){var W=ut.createRange();W.setStart(G.node,G.offset),it.removeAllRanges(),kt>Se?(it.addRange(W),it.extend(j.node,j.offset)):(W.setEnd(j.node,j.offset),it.addRange(W))}}}}for(ut=[],it=R;it=it.parentNode;)it.nodeType===1&&ut.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ut.length;R++){var ot=ut[R];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}kh=!!gm,_m=gm=null}finally{ge=m,vt.p=c,rt.T=o}}e.current=i,fn=2}}function Oy(){if(fn===2){fn=0;var e=ba,i=Rl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=rt.T,rt.T=null;var c=vt.p;vt.p=2;var m=ge;ge|=4;try{ly(e,i.alternate,i)}finally{ge=m,vt.p=c,rt.T=o}}fn=3}}function Py(){if(fn===4||fn===3){fn=0,Qa();var e=ba,i=Rl,o=Ds,c=Ty;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?fn=5:(fn=0,Rl=ba=null,ky(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Ta=null),Ct(o),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=rt.T,m=vt.p,vt.p=2,rt.T=null;try{for(var g=e.onRecoverableError,w=0;w<c.length;w++){var R=c[w];g(R.value,{componentStack:R.stack})}}finally{rt.T=i,vt.p=m}}(Ds&3)!==0&&xh(),Xr(e),m=e.pendingLanes,(o&261930)!==0&&(m&42)!==0?e===im?ju++:(ju=0,im=e):ju=0,Hu(0)}}function ky(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,bu(i)))}function xh(){return My(),Oy(),Py(),Vy()}function Vy(){if(fn!==5)return!1;var e=ba,i=em;em=0;var o=Ct(Ds),c=rt.T,m=vt.p;try{vt.p=32>o?32:o,rt.T=null,o=nm,nm=null;var g=ba,w=Ds;if(fn=0,Rl=ba=null,Ds=0,(ge&6)!==0)throw Error(a(331));var R=ge;if(ge|=4,yy(g.current),py(g,g.current,w,o),ge=R,Hu(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Yn,g)}catch{}return!0}finally{vt.p=m,rt.T=c,ky(e,i)}}function zy(e,i,o){i=u(o,i),i=Pd(e.stateNode,i,2),e=pa(e,i,2),e!==null&&(or(e,2),Xr(e))}function Te(e,i,o){if(e.tag===3)zy(e,e,o);else for(;i!==null;){if(i.tag===3){zy(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ta===null||!Ta.has(c))){e=u(o,e),o=U_(2),c=pa(i,o,2),c!==null&&(B_(o,c,i,e),or(c,2),Xr(c));break}}i=i.return}}function am(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new Bw;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(Jd=!0,m.add(o),e=Gw.bind(null,e,i,o),i.then(e,e))}function Gw(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ie===e&&(ne&o)===o&&(Ye===4||Ye===3&&(ne&62914560)===ne&&300>xn()-yh?(ge&2)===0&&Il(e,0):$d|=o,Cl===ne&&(Cl=0)),Xr(e)}function Uy(e,i){i===0&&(i=Jo()),e=Wi(e,i),e!==null&&(or(e,i),Xr(e))}function Zw(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),Uy(e,o)}function Kw(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Uy(e,o)}function Qw(e,i){return Fe(e,i)}var Sh=null,Dl=null,om=!1,Ah=!1,lm=!1,xa=0;function Xr(e){e!==Dl&&e.next===null&&(Dl===null?Sh=Dl=e:Dl=Dl.next=e),Ah=!0,om||(om=!0,Xw())}function Hu(e,i){if(!lm&&Ah){lm=!0;do for(var o=!1,c=Sh;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var w=c.suspendedLanes,R=c.pingedLanes;g=(1<<31-ze(42|e)+1)-1,g&=m&~(w&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,qy(c,g))}else g=ne,g=zi(c,c===Ie?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||gi(c,g)||(o=!0,qy(c,g));c=c.next}while(o);lm=!1}}function Yw(){By()}function By(){Ah=om=!1;var e=0;xa!==0&&ax()&&(e=xa);for(var i=xn(),o=null,c=Sh;c!==null;){var m=c.next,g=jy(c,i);g===0?(c.next=null,o===null?Sh=m:o.next=m,m===null&&(Dl=o)):(o=c,(e!==0||(g&3)!==0)&&(Ah=!0)),c=m}fn!==0&&fn!==5||Hu(e),xa!==0&&(xa=0)}function jy(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var w=31-ze(g),R=1<<w,z=m[w];z===-1?((R&o)===0||(R&c)!==0)&&(m[w]=mu(R,i)):z<=i&&(e.expiredLanes|=R),g&=~R}if(i=Ie,o=ne,o=zi(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ki(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||gi(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&ki(c),Ct(o)){case 2:case 8:o=Zs;break;case 32:o=ar;break;case 268435456:o=Ya;break;default:o=ar}return c=Hy.bind(null,e),o=Fe(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&ki(c),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,i){if(fn!==0&&fn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(xh()&&e.callbackNode!==o)return null;var c=ne;return c=zi(e,e===Ie?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(wy(e,c,i),jy(e,xn()),e.callbackNode!=null&&e.callbackNode===o?Hy.bind(null,e):null)}function qy(e,i){if(xh())return null;wy(e,i,!0)}function Xw(){lx(function(){(ge&6)!==0?Fe(ls,Yw):By()})}function um(){if(xa===0){var e=gl;e===0&&(e=pi,pi<<=1,(pi&261888)===0&&(pi=256)),xa=e}return xa}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kr(""+e)}function Gy(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function Ww(e,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var g=Fy((m[Ge]||null).action),w=c.submitter;w&&(i=(i=w[Ge]||null)?Fy(i.formAction):w.getAttribute("formAction"),i!==null&&(g=i,w=null));var R=new Ki("action","action",null,c,m);e.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(xa!==0){var z=w?Gy(m,w):new FormData(m);Id(o,{pending:!0,data:z,method:m.method,action:g},null,z)}}else typeof g=="function"&&(R.preventDefault(),z=w?Gy(m,w):new FormData(m),Id(o,{pending:!0,data:z,method:m.method,action:g},g,z))},currentTarget:m}]})}}for(var cm=0;cm<Fr.length;cm++){var hm=Fr[cm],Jw=hm.toLowerCase(),$w=hm[0].toUpperCase()+hm.slice(1);si(Jw,"on"+$w)}si(go,"onAnimationEnd"),si(Fc,"onAnimationIteration"),si(_o,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(td,"onTransitionRun"),si(Gc,"onTransitionStart"),si(ed,"onTransitionCancel"),si(ca,"onTransitionEnd"),$n("onMouseEnter",["mouseout","mouseover"]),$n("onMouseLeave",["mouseout","mouseover"]),$n("onPointerEnter",["pointerout","pointerover"]),$n("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qu));function Zy(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var w=c.length-1;0<=w;w--){var R=c[w],z=R.instance,J=R.currentTarget;if(R=R.listener,z!==g&&m.isPropagationStopped())break t;g=R,m.currentTarget=J;try{g(m)}catch(at){yo(at)}m.currentTarget=null,g=z}else for(w=0;w<c.length;w++){if(R=c[w],z=R.instance,J=R.currentTarget,R=R.listener,z!==g&&m.isPropagationStopped())break t;g=R,m.currentTarget=J;try{g(m)}catch(at){yo(at)}m.currentTarget=null,g=z}}}}function $t(e,i){var o=i[yi];o===void 0&&(o=i[yi]=new Set);var c=e+"__bubble";o.has(c)||(Ky(i,e,2,!1),o.add(c))}function fm(e,i,o){var c=0;i&&(c|=4),Ky(o,e,c,i)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function dm(e){if(!e[Ch]){e[Ch]=!0,to.forEach(function(o){o!=="selectionchange"&&(tx.has(o)||fm(o,!1,e),fm(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ch]||(i[Ch]=!0,fm("selectionchange",!1,i))}}function Ky(e,i,o,c){switch(bv(i)){case 2:var m=Rx;break;case 8:m=Ix;break;default:m=Rm}o=m.bind(null,i,o,e),m=void 0,!hr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(i,o,{capture:!0,passive:m}):e.addEventListener(i,o,!0):m!==void 0?e.addEventListener(i,o,{passive:m}):e.addEventListener(i,o,!1)}function mm(e,i,o,c,m){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var R=c.stateNode.containerInfo;if(R===m)break;if(w===4)for(w=c.return;w!==null;){var z=w.tag;if((z===3||z===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;R!==null;){if(w=vi(R),w===null)return;if(z=w.tag,z===5||z===6||z===26||z===27){c=g=w;continue t}R=R.parentNode}}c=c.return}cr(function(){var J=g,at=Ln(o),ut=[];t:{var tt=Zc.get(e);if(tt!==void 0){var it=Ki,Rt=e;switch(e){case"keypress":if(zr(o)===0)break t;case"keydown":case"keyup":it=oo;break;case"focusin":Rt="focus",it=ps;break;case"focusout":Rt="blur",it=ps;break;case"beforeblur":case"afterblur":it=ps;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=E;break;case go:case Fc:case _o:it=ta;break;case ca:it=N;break;case"scroll":case"scrollend":it=Qt;break;case"wheel":it=nt;break;case"copy":case"cut":case"paste":it=Gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=pr;break;case"toggle":case"beforetoggle":it=zt}var kt=(i&4)!==0,Se=!kt&&(e==="scroll"||e==="scrollend"),G=kt?tt!==null?tt+"Capture":null:tt;kt=[];for(var j=J,W;j!==null;){var ot=j;if(W=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||W===null||G===null||(ot=Fn(j,G),ot!=null&&kt.push(Fu(j,ot,W))),Se)break;j=j.return}0<kt.length&&(tt=new it(tt,Rt,null,o,at),ut.push({event:tt,listeners:kt}))}}if((i&7)===0){t:{if(tt=e==="mouseover"||e==="pointerover",it=e==="mouseout"||e==="pointerout",tt&&o!==$s&&(Rt=o.relatedTarget||o.fromElement)&&(vi(Rt)||Rt[_i]))break t;if((it||tt)&&(tt=at.window===at?at:(tt=at.ownerDocument)?tt.defaultView||tt.parentWindow:window,it?(Rt=o.relatedTarget||o.toElement,it=J,Rt=Rt?vi(Rt):null,Rt!==null&&(Se=h(Rt),kt=Rt.tag,Rt!==Se||kt!==5&&kt!==27&&kt!==6)&&(Rt=null)):(it=null,Rt=J),it!==Rt)){if(kt=no,ot="onMouseLeave",G="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(kt=pr,ot="onPointerLeave",G="onPointerEnter",j="pointer"),Se=it==null?tt:gn(it),W=Rt==null?tt:gn(Rt),tt=new kt(ot,j+"leave",it,o,at),tt.target=Se,tt.relatedTarget=W,ot=null,vi(at)===J&&(kt=new kt(G,j+"enter",Rt,o,at),kt.target=W,kt.relatedTarget=Se,ot=kt),Se=ot,it&&Rt)e:{for(kt=ex,G=it,j=Rt,W=0,ot=G;ot;ot=kt(ot))W++;ot=0;for(var Lt=j;Lt;Lt=kt(Lt))ot++;for(;0<W-ot;)G=kt(G),W--;for(;0<ot-W;)j=kt(j),ot--;for(;W--;){if(G===j||j!==null&&G===j.alternate){kt=G;break e}G=kt(G),j=kt(j)}kt=null}else kt=null;it!==null&&Qy(ut,tt,it,kt,!1),Rt!==null&&Se!==null&&Qy(ut,Se,Rt,kt,!0)}}t:{if(tt=J?gn(J):window,it=tt.nodeName&&tt.nodeName.toLowerCase(),it==="select"||it==="input"&&tt.type==="file")var me=ho;else if(Qi(tt))if(Uc)me=$f;else{me=Jf;var It=gr}else it=tt.nodeName,!it||it.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?J&&Pr(J.elementType)&&(me=ho):me=aa;if(me&&(me=me(e,J))){zc(ut,me,o,at);break t}It&&It(e,tt,J),e==="focusout"&&J&&tt.type==="number"&&J.memoizedProps.value!=null&&Ei(tt,"number",tt.value)}switch(It=J?gn(J):window,e){case"focusin":(Qi(It)||It.contentEditable==="true")&&(Hr=It,ul=J,po=null);break;case"focusout":po=ul=Hr=null;break;case"mousedown":la=!0;break;case"contextmenu":case"mouseup":case"dragend":la=!1,Hc(ut,o,at);break;case"selectionchange":if(ll)break;case"keydown":case"keyup":Hc(ut,o,at)}var Kt;if(ue)t:{switch(e){case"compositionstart":var ie="onCompositionStart";break t;case"compositionend":ie="onCompositionEnd";break t;case"compositionupdate":ie="onCompositionUpdate";break t}ie=void 0}else ia?gs(e,o)&&(ie="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ie="onCompositionStart");ie&&(ri&&o.locale!=="ko"&&(ia||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&ia&&(Kt=Ti()):(ni=at,fr="value"in ni?ni.value:ni.textContent,ia=!0)),It=Rh(J,ie),0<It.length&&(ie=new xi(ie,e,null,o,at),ut.push({event:ie,listeners:It}),Kt?ie.data=Kt:(Kt=_s(o),Kt!==null&&(ie.data=Kt)))),(Kt=ii?Ci(e,o):ra(e,o))&&(ie=Rh(J,"onBeforeInput"),0<ie.length&&(It=new xi("onBeforeInput","beforeinput",null,o,at),ut.push({event:It,listeners:ie}),It.data=Kt)),Ww(ut,e,J,o,at)}Zy(ut,i)})}function Fu(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Rh(e,i){for(var o=i+"Capture",c=[];e!==null;){var m=e,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Fn(e,o),m!=null&&c.unshift(Fu(e,m,g)),m=Fn(e,i),m!=null&&c.push(Fu(e,m,g))),e.tag===3)return c;e=e.return}return[]}function ex(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qy(e,i,o,c,m){for(var g=i._reactName,w=[];o!==null&&o!==c;){var R=o,z=R.alternate,J=R.stateNode;if(R=R.tag,z!==null&&z===c)break;R!==5&&R!==26&&R!==27||J===null||(z=J,m?(J=Fn(o,g),J!=null&&w.unshift(Fu(o,J,z))):m||(J=Fn(o,g),J!=null&&w.push(Fu(o,J,z)))),o=o.return}w.length!==0&&e.push({event:i,listeners:w})}var nx=/\r\n?/g,ix=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(nx,`
`).replace(ix,"")}function Xy(e,i){return i=Yy(i),Yy(e)===i}function xe(e,i,o,c,m,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||en(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&en(e,""+c);break;case"className":Xt(e,"class",c);break;case"tabIndex":Xt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(e,o,c);break;case"style":fs(e,c,g);break;case"data":if(i!=="object"){Xt(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=kr(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&xe(e,i,"name",m.name,m,null),xe(e,i,"formEncType",m.formEncType,m,null),xe(e,i,"formMethod",m.formMethod,m,null),xe(e,i,"formTarget",m.formTarget,m,null)):(xe(e,i,"encType",m.encType,m,null),xe(e,i,"method",m.method,m,null),xe(e,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=kr(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=Dn);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=kr(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":$t("beforetoggle",e),$t("toggle",e),Yt(e,"popover",c);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Yt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ds.get(o)||o,Yt(e,o,c))}}function pm(e,i,o,c,m,g){switch(o){case"style":fs(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?en(e,c):(typeof c=="number"||typeof c=="bigint")&&en(e,""+c);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eo.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),g=e[Ge]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Yt(e,o,c)}}}function Cn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",e),$t("load",e);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:xe(e,i,g,w,o,null)}}m&&xe(e,i,"srcSet",o.srcSet,o,null),c&&xe(e,i,"src",o.src,o,null);return;case"input":$t("invalid",e);var R=g=w=m=null,z=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var at=o[c];if(at!=null)switch(c){case"name":m=at;break;case"type":w=at;break;case"checked":z=at;break;case"defaultChecked":J=at;break;case"value":g=at;break;case"defaultValue":R=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(a(137,i));break;default:xe(e,i,c,at,o,null)}}hs(e,g,R,z,J,w,m,!1);return;case"select":$t("invalid",e),c=w=g=null;for(m in o)if(o.hasOwnProperty(m)&&(R=o[m],R!=null))switch(m){case"value":g=R;break;case"defaultValue":w=R;break;case"multiple":c=R;default:xe(e,i,m,R,o,null)}i=g,o=w,e.multiple=!!c,i!=null?ve(e,!!c,i,!1):o!=null&&ve(e,!!c,o,!0);return;case"textarea":$t("invalid",e),g=m=c=null;for(w in o)if(o.hasOwnProperty(w)&&(R=o[w],R!=null))switch(w){case"value":c=R;break;case"defaultValue":m=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:xe(e,i,w,R,o,null)}ei(e,c,m,g);return;case"option":for(z in o)o.hasOwnProperty(z)&&(c=o[z],c!=null)&&(z==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":xe(e,i,z,c,o,null));return;case"dialog":$t("beforetoggle",e),$t("toggle",e),$t("cancel",e),$t("close",e);break;case"iframe":case"object":$t("load",e);break;case"video":case"audio":for(c=0;c<qu.length;c++)$t(qu[c],e);break;case"image":$t("error",e),$t("load",e);break;case"details":$t("toggle",e);break;case"embed":case"source":case"link":$t("error",e),$t("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:xe(e,i,J,c,o,null)}return;default:if(Pr(i)){for(at in o)o.hasOwnProperty(at)&&(c=o[at],c!==void 0&&pm(e,i,at,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&xe(e,i,R,c,o,null))}function rx(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,R=null,z=null,J=null,at=null;for(it in o){var ut=o[it];if(o.hasOwnProperty(it)&&ut!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":z=ut;default:c.hasOwnProperty(it)||xe(e,i,it,null,c,ut)}}for(var tt in c){var it=c[tt];if(ut=o[tt],c.hasOwnProperty(tt)&&(it!=null||ut!=null))switch(tt){case"type":g=it;break;case"name":m=it;break;case"checked":J=it;break;case"defaultChecked":at=it;break;case"value":w=it;break;case"defaultValue":R=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,i));break;default:it!==ut&&xe(e,i,tt,it,c,ut)}}Ws(e,w,R,z,J,at,g,m);return;case"select":it=w=R=tt=null;for(g in o)if(z=o[g],o.hasOwnProperty(g)&&z!=null)switch(g){case"value":break;case"multiple":it=z;default:c.hasOwnProperty(g)||xe(e,i,g,null,c,z)}for(m in c)if(g=c[m],z=o[m],c.hasOwnProperty(m)&&(g!=null||z!=null))switch(m){case"value":tt=g;break;case"defaultValue":R=g;break;case"multiple":w=g;default:g!==z&&xe(e,i,m,g,c,z)}i=R,o=w,c=it,tt!=null?ve(e,!!o,tt,!1):!!c!=!!o&&(i!=null?ve(e,!!o,i,!0):ve(e,!!o,o?[]:"",!1));return;case"textarea":it=tt=null;for(R in o)if(m=o[R],o.hasOwnProperty(R)&&m!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:xe(e,i,R,null,c,m)}for(w in c)if(m=c[w],g=o[w],c.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":tt=m;break;case"defaultValue":it=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==g&&xe(e,i,w,m,c,g)}Fi(e,tt,it);return;case"option":for(var Rt in o)tt=o[Rt],o.hasOwnProperty(Rt)&&tt!=null&&!c.hasOwnProperty(Rt)&&(Rt==="selected"?e.selected=!1:xe(e,i,Rt,null,c,tt));for(z in c)tt=c[z],it=o[z],c.hasOwnProperty(z)&&tt!==it&&(tt!=null||it!=null)&&(z==="selected"?e.selected=tt&&typeof tt!="function"&&typeof tt!="symbol":xe(e,i,z,tt,c,it));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in o)tt=o[kt],o.hasOwnProperty(kt)&&tt!=null&&!c.hasOwnProperty(kt)&&xe(e,i,kt,null,c,tt);for(J in c)if(tt=c[J],it=o[J],c.hasOwnProperty(J)&&tt!==it&&(tt!=null||it!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(a(137,i));break;default:xe(e,i,J,tt,c,it)}return;default:if(Pr(i)){for(var Se in o)tt=o[Se],o.hasOwnProperty(Se)&&tt!==void 0&&!c.hasOwnProperty(Se)&&pm(e,i,Se,void 0,c,tt);for(at in c)tt=c[at],it=o[at],!c.hasOwnProperty(at)||tt===it||tt===void 0&&it===void 0||pm(e,i,at,tt,c,it);return}}for(var G in o)tt=o[G],o.hasOwnProperty(G)&&tt!=null&&!c.hasOwnProperty(G)&&xe(e,i,G,null,c,tt);for(ut in c)tt=c[ut],it=o[ut],!c.hasOwnProperty(ut)||tt===it||tt==null&&it==null||xe(e,i,ut,tt,c,it)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,w=m.initiatorType,R=m.duration;if(g&&R&&Wy(w)){for(w=0,R=m.responseEnd,c+=1;c<o.length;c++){var z=o[c],J=z.startTime;if(J>R)break;var at=z.transferSize,ut=z.initiatorType;at&&Wy(ut)&&(z=z.responseEnd,w+=at*(z<R?1:(R-J)/(z-J)))}if(--c,i+=8*(g+w)/(m.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gm=null,_m=null;function Ih(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ym(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vm=null;function ax(){var e=window.event;return e&&e.type==="popstate"?e===vm?!1:(vm=e,!0):(vm=null,!1)}var tv=typeof setTimeout=="function"?setTimeout:void 0,ox=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,lx=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(e){return ev.resolve(null).then(e).catch(ux)}:tv;function ux(e){setTimeout(function(){throw e})}function Sa(e){return e==="head"}function nv(e,i){var o=i,c=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(m),Pl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Gu(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Gu(o);for(var g=o.firstChild;g;){var w=g.nextSibling,R=g.nodeName;g[Bi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&Gu(e.ownerDocument.body);o=m}while(o);Pl(i)}function iv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function Em(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Em(o),Qs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function cx(e,i,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Bi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=tr(e.nextSibling),e===null)break}return null}function hx(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=tr(e.nextSibling),e===null))return null;return e}function rv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=tr(e.nextSibling),e===null))return null;return e}function Tm(e){return e.data==="$?"||e.data==="$~"}function bm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fx(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function tr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var wm=null;function sv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return tr(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function av(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function ov(e,i,o){switch(i=Ih(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Gu(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Qs(e)}var er=new Map,lv=new Set;function Nh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ls=vt.d;vt.d={f:dx,r:mx,D:px,C:gx,L:_x,m:yx,X:Ex,S:vx,M:Tx};function dx(){var e=Ls.f(),i=Th();return e||i}function mx(e){var i=Jn(e);i!==null&&i.tag===5&&i.type==="form"?S_(i):Ls.r(e)}var Ll=typeof document>"u"?null:document;function uv(e,i,o){var c=Ll;if(c&&typeof i=="string"&&i){var m=Ce(i);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),lv.has(m)||(lv.add(m),e={rel:e,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),Cn(i,"link",e),Ze(i),c.head.appendChild(i)))}}function px(e){Ls.D(e),uv("dns-prefetch",e,null)}function gx(e,i){Ls.C(e,i),uv("preconnect",e,i)}function _x(e,i,o){Ls.L(e,i,o);var c=Ll;if(c&&e&&i){var m='link[rel="preload"][as="'+Ce(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Ce(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Ce(o.imageSizes)+'"]')):m+='[href="'+Ce(e)+'"]';var g=m;switch(i){case"style":g=Ml(e);break;case"script":g=Ol(e)}er.has(g)||(e=C({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),er.set(g,e),c.querySelector(m)!==null||i==="style"&&c.querySelector(Zu(g))||i==="script"&&c.querySelector(Ku(g))||(i=c.createElement("link"),Cn(i,"link",e),Ze(i),c.head.appendChild(i)))}}function yx(e,i){Ls.m(e,i);var o=Ll;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Ce(c)+'"][href="'+Ce(e)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ol(e)}if(!er.has(g)&&(e=C({rel:"modulepreload",href:e},i),er.set(g,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ku(g)))return}c=o.createElement("link"),Cn(c,"link",e),Ze(c),o.head.appendChild(c)}}}function vx(e,i,o){Ls.S(e,i,o);var c=Ll;if(c&&e){var m=ji(c).hoistableStyles,g=Ml(e);i=i||"default";var w=m.get(g);if(!w){var R={loading:0,preload:null};if(w=c.querySelector(Zu(g)))R.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},o),(o=er.get(g))&&xm(e,o);var z=w=c.createElement("link");Ze(z),Cn(z,"link",e),z._p=new Promise(function(J,at){z.onload=J,z.onerror=at}),z.addEventListener("load",function(){R.loading|=1}),z.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Dh(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:R},m.set(g,w)}}}function Ex(e,i){Ls.X(e,i);var o=Ll;if(o&&e){var c=ji(o).hoistableScripts,m=Ol(e),g=c.get(m);g||(g=o.querySelector(Ku(m)),g||(e=C({src:e,async:!0},i),(i=er.get(m))&&Sm(e,i),g=o.createElement("script"),Ze(g),Cn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Tx(e,i){Ls.M(e,i);var o=Ll;if(o&&e){var c=ji(o).hoistableScripts,m=Ol(e),g=c.get(m);g||(g=o.querySelector(Ku(m)),g||(e=C({src:e,async:!0,type:"module"},i),(i=er.get(m))&&Sm(e,i),g=o.createElement("script"),Ze(g),Cn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function cv(e,i,o,c){var m=(m=Tt.current)?Nh(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Ml(o.href),o=ji(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Ml(o.href);var g=ji(m).hoistableStyles,w=g.get(e);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,w),(g=m.querySelector(Zu(e)))&&!g._p&&(w.instance=g,w.state.loading=5),er.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},er.set(e,o),g||bx(m,e,o,w.state))),i&&c===null)throw Error(a(528,""));return w}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ol(o),o=ji(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ml(e){return'href="'+Ce(e)+'"'}function Zu(e){return'link[rel="stylesheet"]['+e+"]"}function hv(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function bx(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Cn(i,"link",o),Ze(i),e.head.appendChild(i))}function Ol(e){return'[src="'+Ce(e)+'"]'}function Ku(e){return"script[async]"+e}function fv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Ce(o.href)+'"]');if(c)return i.instance=c,Ze(c),c;var m=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ze(c),Cn(c,"style",m),Dh(c,o.precedence,e),i.instance=c;case"stylesheet":m=Ml(o.href);var g=e.querySelector(Zu(m));if(g)return i.state.loading|=4,i.instance=g,Ze(g),g;c=hv(o),(m=er.get(m))&&xm(c,m),g=(e.ownerDocument||e).createElement("link"),Ze(g);var w=g;return w._p=new Promise(function(R,z){w.onload=R,w.onerror=z}),Cn(g,"link",c),i.state.loading|=4,Dh(g,o.precedence,e),i.instance=g;case"script":return g=Ol(o.src),(m=e.querySelector(Ku(g)))?(i.instance=m,Ze(m),m):(c=o,(m=er.get(g))&&(c=C({},o),Sm(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Ze(m),Cn(m,"link",c),e.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Dh(c,o.precedence,e));return i.instance}function Dh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,w=0;w<c.length;w++){var R=c[w];if(R.dataset.precedence===i)g=R;else if(g!==m)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function xm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Sm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Lh=null;function dv(e,i,o){if(Lh===null){var c=new Map,m=Lh=new Map;m.set(o,c)}else m=Lh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var g=o[m];if(!(g[Bi]||g[Be]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(i)||"";w=e+w;var R=c.get(w);R?R.push(g):c.set(w,[g])}}return c}function mv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function wx(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xx(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Ml(c.href),g=i.querySelector(Zu(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Mh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=g,Ze(g);return}g=i.ownerDocument||i,c=hv(c),(m=er.get(m))&&xm(c,m),g=g.createElement("link"),Ze(g);var w=g;w._p=new Promise(function(R,z){w.onload=R,w.onerror=z}),Cn(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Mh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Am=0;function Sx(e,i){return e.stylesheets&&e.count===0&&Ph(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Ph(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Am===0&&(Am=62500*sx());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ph(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Am?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ph(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oh=null;function Ph(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oh=new Map,i.forEach(Ax,e),Oh=null,Mh.call(e))}function Ax(e,i){if(!(i.state.loading&4)){var o=Oh.get(e);if(o)var c=o.get(null);else{o=new Map,Oh.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}m=i.instance,w=m.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,m),o.set(w,m),this.count++,c=Mh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),i.state.loading|=4}}var Qu={$$typeof:ht,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function Cx(e,i,o,c,m,g,w,R,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function gv(e,i,o,c,m,g,w,R,z,J,at,ut){return e=new Cx(e,i,o,w,z,J,at,ut,R),i=1,g===!0&&(i|=24),g=kn(3,null,null,i),e.current=g,g.stateNode=e,i=sd(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},ud(g),e}function _v(e){return e?(e=ys,e):ys}function yv(e,i,o,c,m,g){m=_v(m),c.context===null?c.context=m:c.pendingContext=m,c=ma(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=pa(e,c,i),o!==null&&(fi(o,e,i),Au(o,e,i))}function vv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Cm(e,i){vv(e,i),(e=e.alternate)&&vv(e,i)}function Ev(e){if(e.tag===13||e.tag===31){var i=Wi(e,67108864);i!==null&&fi(i,e,67108864),Cm(e,67108864)}}function Tv(e){if(e.tag===13||e.tag===31){var i=Li();i=pn(i);var o=Wi(e,i);o!==null&&fi(o,e,i),Cm(e,i)}}var kh=!0;function Rx(e,i,o,c){var m=rt.T;rt.T=null;var g=vt.p;try{vt.p=2,Rm(e,i,o,c)}finally{vt.p=g,rt.T=m}}function Ix(e,i,o,c){var m=rt.T;rt.T=null;var g=vt.p;try{vt.p=8,Rm(e,i,o,c)}finally{vt.p=g,rt.T=m}}function Rm(e,i,o,c){if(kh){var m=Im(c);if(m===null)mm(e,i,c,Vh,o),wv(e,c);else if(Dx(m,e,i,o,c))c.stopPropagation();else if(wv(e,c),i&4&&-1<Nx.indexOf(e)){for(;m!==null;){var g=Jn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Vi(g.pendingLanes);if(w!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var z=1<<31-ze(w);R.entanglements[1]|=z,w&=~z}Xr(g),(ge&6)===0&&(vh=xn()+500,Hu(0))}}break;case 31:case 13:R=Wi(g,2),R!==null&&fi(R,g,2),Th(),Cm(g,2)}if(g=Im(c),g===null&&mm(e,i,c,Vh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else mm(e,i,c,null,o)}}function Im(e){return e=Ln(e),Nm(e)}var Vh=null;function Nm(e){if(Vh=null,e=vi(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=p(i),e!==null)return e;e=null}else if(o===31){if(e=y(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Vh=e,null}function bv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case ls:return 2;case Zs:return 8;case ar:case du:return 32;case Ya:return 268435456;default:return 32}default:return 32}}var Dm=!1,Aa=null,Ca=null,Ra=null,Yu=new Map,Xu=new Map,Ia=[],Nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(e,i){switch(e){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Yu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(i.pointerId)}}function Wu(e,i,o,c,m,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},i!==null&&(i=Jn(i),i!==null&&Ev(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function Dx(e,i,o,c,m){switch(i){case"focusin":return Aa=Wu(Aa,e,i,o,c,m),!0;case"dragenter":return Ca=Wu(Ca,e,i,o,c,m),!0;case"mouseover":return Ra=Wu(Ra,e,i,o,c,m),!0;case"pointerover":var g=m.pointerId;return Yu.set(g,Wu(Yu.get(g)||null,e,i,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Xu.set(g,Wu(Xu.get(g)||null,e,i,o,c,m)),!0}return!1}function xv(e){var i=vi(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=p(o),i!==null){e.blockedOn=i,Xn(e.priority,function(){Tv(o)});return}}else if(i===31){if(i=y(o),i!==null){e.blockedOn=i,Xn(e.priority,function(){Tv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Im(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);$s=c,o.target.dispatchEvent(c),$s=null}else return i=Jn(o),i!==null&&Ev(i),e.blockedOn=o,!1;i.shift()}return!0}function Sv(e,i,o){zh(e)&&o.delete(i)}function Lx(){Dm=!1,Aa!==null&&zh(Aa)&&(Aa=null),Ca!==null&&zh(Ca)&&(Ca=null),Ra!==null&&zh(Ra)&&(Ra=null),Yu.forEach(Sv),Xu.forEach(Sv)}function Uh(e,i){e.blockedOn===i&&(e.blockedOn=null,Dm||(Dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Lx)))}var Bh=null;function Av(e){Bh!==e&&(Bh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bh===e&&(Bh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],m=e[i+2];if(typeof c!="function"){if(Nm(c||o)===null)continue;break}var g=Jn(o);g!==null&&(e.splice(i,3),i-=3,Id(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Pl(e){function i(z){return Uh(z,e)}Aa!==null&&Uh(Aa,e),Ca!==null&&Uh(Ca,e),Ra!==null&&Uh(Ra,e),Yu.forEach(i),Xu.forEach(i);for(var o=0;o<Ia.length;o++){var c=Ia[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ia.length&&(o=Ia[0],o.blockedOn===null);)xv(o),o.blockedOn===null&&Ia.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],w=m[Ge]||null;if(typeof g=="function")w||Av(o);else if(w){var R=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[Ge]||null)R=w.formAction;else if(Nm(m)!==null)continue}else R=w.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),Av(o)}}}function Cv(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Lm(e){this._internalRoot=e}jh.prototype.render=Lm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=Li();yv(o,c,e,i,null,null)},jh.prototype.unmount=Lm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;yv(e.current,2,null,e,null,null),Th(),i[_i]=null}};function jh(e){this._internalRoot=e}jh.prototype.unstable_scheduleHydration=function(e){if(e){var i=$a();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Ia.length&&i!==0&&i<Ia[o].priority;o++);Ia.splice(o,0,e),o===0&&xv(e)}};var Rv=t.version;if(Rv!=="19.2.3")throw Error(a(527,Rv,"19.2.3"));vt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=T(i),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var Mx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{Yn=Hh.inject(Mx),We=Hh}catch{}}return $u.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",m=P_,g=k_,w=V_;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=gv(e,1,!1,null,null,o,c,null,m,g,w,Cv),e[_i]=i.current,dm(e),new Lm(i)},$u.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,m="",g=P_,w=k_,R=V_,z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),i=gv(e,1,!0,i,o??null,c,m,z,g,w,R,Cv),i.context=_v(null),o=i.current,c=Li(),c=pn(c),m=ma(c),m.callback=null,pa(o,m,c),o=c,i.current.lanes=o,or(i,o),Xr(i),e[_i]=i.current,dm(e),new jh(i)},$u.version="19.2.3",$u}var zv;function Hx(){if(zv)return Pm.exports;zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pm.exports=jx(),Pm.exports}var qx=Hx();var Uv="popstate";function Fx(r={}){function t(a,l){let{pathname:h,search:p,hash:y}=a.location;return np("",{pathname:h,search:p,hash:y},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:fc(l)}return Zx(t,n,null,r)}function Ve(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function rr(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gx(){return Math.random().toString(36).substring(2,10)}function Bv(r,t){return{usr:r.state,key:r.key,idx:t}}function np(r,t,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?nu(t):t,state:n,key:t&&t.key||a||Gx()}}function fc({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function nu(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function Zx(r,t,n,a={}){let{window:l=document.defaultView,v5Compat:h=!1}=a,p=l.history,y="POP",v=null,T=S();T==null&&(T=0,p.replaceState({...p.state,idx:T},""));function S(){return(p.state||{idx:null}).idx}function C(){y="POP";let q=S(),mt=q==null?null:q-T;T=q,v&&v({action:y,location:Q.location,delta:mt})}function M(q,mt){y="PUSH";let dt=np(Q.location,q,mt);T=S()+1;let ht=Bv(dt,T),Dt=Q.createHref(dt);try{p.pushState(ht,"",Dt)}catch(Ot){if(Ot instanceof DOMException&&Ot.name==="DataCloneError")throw Ot;l.location.assign(Dt)}h&&v&&v({action:y,location:Q.location,delta:1})}function Z(q,mt){y="REPLACE";let dt=np(Q.location,q,mt);T=S();let ht=Bv(dt,T),Dt=Q.createHref(dt);p.replaceState(ht,"",Dt),h&&v&&v({action:y,location:Q.location,delta:0})}function et(q){return Kx(q)}let Q={get action(){return y},get location(){return r(l,p)},listen(q){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(Uv,C),v=q,()=>{l.removeEventListener(Uv,C),v=null}},createHref(q){return t(l,q)},createURL:et,encodeLocation(q){let mt=et(q);return{pathname:mt.pathname,search:mt.search,hash:mt.hash}},push:M,replace:Z,go(q){return p.go(q)}};return Q}function Kx(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:fc(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function wE(r,t,n="/"){return Qx(r,t,n,!1)}function Qx(r,t,n,a){let l=typeof t=="string"?nu(t):t,h=Vs(l.pathname||"/",n);if(h==null)return null;let p=xE(r);Yx(p);let y=null;for(let v=0;y==null&&v<p.length;++v){let T=aS(h);y=rS(p[v],T,a)}return y}function xE(r,t=[],n=[],a="",l=!1){let h=(p,y,v=l,T)=>{let S={relativePath:T===void 0?p.path||"":T,caseSensitive:p.caseSensitive===!0,childrenIndex:y,route:p};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(a)&&v)return;Ve(S.relativePath.startsWith(a),`Absolute route path "${S.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(a.length)}let C=ks([a,S.relativePath]),M=n.concat(S);p.children&&p.children.length>0&&(Ve(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),xE(p.children,t,M,C,v)),!(p.path==null&&!p.index)&&t.push({path:C,score:nS(C,p.index),routesMeta:M})};return r.forEach((p,y)=>{if(p.path===""||!p.path?.includes("?"))h(p,y);else for(let v of SE(p.path))h(p,y,!0,v)}),t}function SE(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(a.length===0)return l?[h,""]:[h];let p=SE(a.join("/")),y=[];return y.push(...p.map(v=>v===""?h:[h,v].join("/"))),l&&y.push(...p),y.map(v=>r.startsWith("/")&&v===""?"/":v)}function Yx(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:iS(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Xx=/^:[\w-]+$/,Wx=3,Jx=2,$x=1,tS=10,eS=-2,jv=r=>r==="*";function nS(r,t){let n=r.split("/"),a=n.length;return n.some(jv)&&(a+=eS),t&&(a+=Jx),n.filter(l=>!jv(l)).reduce((l,h)=>l+(Xx.test(h)?Wx:h===""?$x:tS),a)}function iS(r,t){return r.length===t.length&&r.slice(0,-1).every((a,l)=>a===t[l])?r[r.length-1]-t[t.length-1]:0}function rS(r,t,n=!1){let{routesMeta:a}=r,l={},h="/",p=[];for(let y=0;y<a.length;++y){let v=a[y],T=y===a.length-1,S=h==="/"?t:t.slice(h.length)||"/",C=cf({path:v.relativePath,caseSensitive:v.caseSensitive,end:T},S),M=v.route;if(!C&&T&&n&&!a[a.length-1].route.index&&(C=cf({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!C)return null;Object.assign(l,C.params),p.push({params:l,pathname:ks([h,C.pathname]),pathnameBase:cS(ks([h,C.pathnameBase])),route:M}),C.pathnameBase!=="/"&&(h=ks([h,C.pathnameBase]))}return p}function cf(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=sS(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let h=l[0],p=h.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:a.reduce((T,{paramName:S,isOptional:C},M)=>{if(S==="*"){let et=y[M]||"";p=h.slice(0,h.length-et.length).replace(/(.)\/+$/,"$1")}const Z=y[M];return C&&!Z?T[S]=void 0:T[S]=(Z||"").replace(/%2F/g,"/"),T},{}),pathname:h,pathnameBase:p,pattern:r}}function sS(r,t=!1,n=!0){rr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,y,v)=>(a.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function aS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Vs(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}var AE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oS=r=>AE.test(r);function lS(r,t="/"){let{pathname:n,search:a="",hash:l=""}=typeof r=="string"?nu(r):r,h;if(n)if(oS(n))h=n;else{if(n.includes("//")){let p=n;n=n.replace(/\/\/+/g,"/"),rr(!1,`Pathnames cannot have embedded double slashes - normalizing ${p} -> ${n}`)}n.startsWith("/")?h=Hv(n.substring(1),"/"):h=Hv(n,t)}else h=t;return{pathname:h,search:hS(a),hash:fS(l)}}function Hv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Um(r,t,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Dp(r){let t=uS(r);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function Lp(r,t,n,a=!1){let l;typeof r=="string"?l=nu(r):(l={...r},Ve(!l.pathname||!l.pathname.includes("?"),Um("?","pathname","search",l)),Ve(!l.pathname||!l.pathname.includes("#"),Um("#","pathname","hash",l)),Ve(!l.search||!l.search.includes("#"),Um("#","search","hash",l)));let h=r===""||l.pathname==="",p=h?"/":l.pathname,y;if(p==null)y=n;else{let C=t.length-1;if(!a&&p.startsWith("..")){let M=p.split("/");for(;M[0]==="..";)M.shift(),C-=1;l.pathname=M.join("/")}y=C>=0?t[C]:"/"}let v=lS(l,y),T=p&&p!=="/"&&p.endsWith("/"),S=(h||p===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(T||S)&&(v.pathname+="/"),v}var ks=r=>r.join("/").replace(/\/\/+/g,"/"),cS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),hS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,fS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,dS=class{constructor(r,t,n,a=!1){this.status=r,this.statusText=t||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function mS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function pS(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RE(r,t){let n=r;if(typeof n!="string"||!AE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,l=!1;if(CE)try{let h=new URL(window.location.href),p=n.startsWith("//")?new URL(h.protocol+n):new URL(n),y=Vs(p.pathname,t);p.origin===h.origin&&y!=null?n=y+p.search+p.hash:l=!0}catch{rr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var IE=["POST","PUT","PATCH","DELETE"];new Set(IE);var gS=["GET",...IE];new Set(gS);var iu=Y.createContext(null);iu.displayName="DataRouter";var If=Y.createContext(null);If.displayName="DataRouterState";var _S=Y.createContext(!1),NE=Y.createContext({isTransitioning:!1});NE.displayName="ViewTransition";var yS=Y.createContext(new Map);yS.displayName="Fetchers";var vS=Y.createContext(null);vS.displayName="Await";var Mi=Y.createContext(null);Mi.displayName="Navigation";var xc=Y.createContext(null);xc.displayName="Location";var Cr=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var Mp=Y.createContext(null);Mp.displayName="RouteError";var DE="REACT_ROUTER_ERROR",ES="REDIRECT",TS="ROUTE_ERROR_RESPONSE";function bS(r){if(r.startsWith(`${DE}:${ES}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function wS(r){if(r.startsWith(`${DE}:${TS}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new dS(t.status,t.statusText,t.data)}catch{}}function xS(r,{relative:t}={}){Ve(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=Y.useContext(Mi),{hash:l,pathname:h,search:p}=Sc(r,{relative:t}),y=h;return n!=="/"&&(y=h==="/"?n:ks([n,h])),a.createHref({pathname:y,search:p,hash:l})}function ru(){return Y.useContext(xc)!=null}function Hs(){return Ve(ru(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(xc).location}var LE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ME(r){Y.useContext(Mi).static||Y.useLayoutEffect(r)}function qs(){let{isDataRoute:r}=Y.useContext(Cr);return r?zS():SS()}function SS(){Ve(ru(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(iu),{basename:t,navigator:n}=Y.useContext(Mi),{matches:a}=Y.useContext(Cr),{pathname:l}=Hs(),h=JSON.stringify(Dp(a)),p=Y.useRef(!1);return ME(()=>{p.current=!0}),Y.useCallback((v,T={})=>{if(rr(p.current,LE),!p.current)return;if(typeof v=="number"){n.go(v);return}let S=Lp(v,JSON.parse(h),l,T.relative==="path");r==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:ks([t,S.pathname])),(T.replace?n.replace:n.push)(S,T.state,T)},[t,n,h,l,r])}Y.createContext(null);function AS(){let{matches:r}=Y.useContext(Cr),t=r[r.length-1];return t?t.params:{}}function Sc(r,{relative:t}={}){let{matches:n}=Y.useContext(Cr),{pathname:a}=Hs(),l=JSON.stringify(Dp(n));return Y.useMemo(()=>Lp(r,JSON.parse(l),a,t==="path"),[r,l,a,t])}function CS(r,t){return OE(r,t)}function OE(r,t,n,a,l){Ve(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=Y.useContext(Mi),{matches:p}=Y.useContext(Cr),y=p[p.length-1],v=y?y.params:{},T=y?y.pathname:"/",S=y?y.pathnameBase:"/",C=y&&y.route;{let dt=C&&C.path||"";kE(T,!C||dt.endsWith("*")||dt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${T}" (under <Route path="${dt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${dt}"> to <Route path="${dt==="/"?"*":`${dt}/*`}">.`)}let M=Hs(),Z;if(t){let dt=typeof t=="string"?nu(t):t;Ve(S==="/"||dt.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${dt.pathname}" was given in the \`location\` prop.`),Z=dt}else Z=M;let et=Z.pathname||"/",Q=et;if(S!=="/"){let dt=S.replace(/^\//,"").split("/");Q="/"+et.replace(/^\//,"").split("/").slice(dt.length).join("/")}let q=wE(r,{pathname:Q});rr(C||q!=null,`No routes matched location "${Z.pathname}${Z.search}${Z.hash}" `),rr(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${Z.pathname}${Z.search}${Z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let mt=LS(q&&q.map(dt=>Object.assign({},dt,{params:Object.assign({},v,dt.params),pathname:ks([S,h.encodeLocation?h.encodeLocation(dt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:dt.pathname]),pathnameBase:dt.pathnameBase==="/"?S:ks([S,h.encodeLocation?h.encodeLocation(dt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:dt.pathnameBase])})),p,n,a,l);return t&&mt?Y.createElement(xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Z},navigationType:"POP"}},mt):mt}function RS(){let r=VS(),t=mS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},p=null;return console.error("Error handled by React Router default ErrorBoundary:",r),p=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:h},"ErrorBoundary")," or"," ",Y.createElement("code",{style:h},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),n?Y.createElement("pre",{style:l},n):null,p)}var IS=Y.createElement(RS,null),PE=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=wS(r.digest);n&&(r=n)}let t=r!==void 0?Y.createElement(Cr.Provider,{value:this.props.routeContext},Y.createElement(Mp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?Y.createElement(NS,{error:r},t):t}};PE.contextType=_S;var Bm=new WeakMap;function NS({children:r,error:t}){let{basename:n}=Y.useContext(Mi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=bS(t.digest);if(a){let l=Bm.get(t);if(l)throw l;let h=RE(a.location,n);if(CE&&!Bm.get(t))if(h.isExternal||a.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:a.replace}));throw Bm.set(t,p),p}return Y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return r}function DS({routeContext:r,match:t,children:n}){let a=Y.useContext(iu);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(Cr.Provider,{value:r},n)}function LS(r,t=[],n=null,a=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let h=r,p=n?.errors;if(p!=null){let S=h.findIndex(C=>C.route.id&&p?.[C.route.id]!==void 0);Ve(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),h=h.slice(0,Math.min(h.length,S+1))}let y=!1,v=-1;if(n)for(let S=0;S<h.length;S++){let C=h[S];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(v=S),C.route.id){let{loaderData:M,errors:Z}=n,et=C.route.loader&&!M.hasOwnProperty(C.route.id)&&(!Z||Z[C.route.id]===void 0);if(C.route.lazy||et){y=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}let T=n&&a?(S,C)=>{a(S,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:pS(n.matches),errorInfo:C})}:void 0;return h.reduceRight((S,C,M)=>{let Z,et=!1,Q=null,q=null;n&&(Z=p&&C.route.id?p[C.route.id]:void 0,Q=C.route.errorElement||IS,y&&(v<0&&M===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),et=!0,q=null):v===M&&(et=!0,q=C.route.hydrateFallbackElement||null)));let mt=t.concat(h.slice(0,M+1)),dt=()=>{let ht;return Z?ht=Q:et?ht=q:C.route.Component?ht=Y.createElement(C.route.Component,null):C.route.element?ht=C.route.element:ht=S,Y.createElement(DS,{match:C,routeContext:{outlet:S,matches:mt,isDataRoute:n!=null},children:ht})};return n&&(C.route.ErrorBoundary||C.route.errorElement||M===0)?Y.createElement(PE,{location:n.location,revalidation:n.revalidation,component:Q,error:Z,children:dt(),routeContext:{outlet:null,matches:mt,isDataRoute:!0},onError:T}):dt()},null)}function Op(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MS(r){let t=Y.useContext(iu);return Ve(t,Op(r)),t}function OS(r){let t=Y.useContext(If);return Ve(t,Op(r)),t}function PS(r){let t=Y.useContext(Cr);return Ve(t,Op(r)),t}function Pp(r){let t=PS(r),n=t.matches[t.matches.length-1];return Ve(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function kS(){return Pp("useRouteId")}function VS(){let r=Y.useContext(Mp),t=OS("useRouteError"),n=Pp("useRouteError");return r!==void 0?r:t.errors?.[n]}function zS(){let{router:r}=MS("useNavigate"),t=Pp("useNavigate"),n=Y.useRef(!1);return ME(()=>{n.current=!0}),Y.useCallback(async(l,h={})=>{rr(n.current,LE),n.current&&(typeof l=="number"?await r.navigate(l):await r.navigate(l,{fromRouteId:t,...h}))},[r,t])}var qv={};function kE(r,t,n){!t&&!qv[r]&&(qv[r]=!0,rr(!1,n))}Y.memo(US);function US({routes:r,future:t,state:n,onError:a}){return OE(r,void 0,n,a,t)}function BS({to:r,replace:t,state:n,relative:a}){Ve(ru(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=Y.useContext(Mi);rr(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=Y.useContext(Cr),{pathname:p}=Hs(),y=qs(),v=Lp(r,Dp(h),p,a==="path"),T=JSON.stringify(v);return Y.useEffect(()=>{y(JSON.parse(T),{replace:t,state:n,relative:a})},[y,T,a,t,n]),null}function Mo(r){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jS({basename:r="/",children:t=null,location:n,navigationType:a="POP",navigator:l,static:h=!1,unstable_useTransitions:p}){Ve(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=r.replace(/^\/*/,"/"),v=Y.useMemo(()=>({basename:y,navigator:l,static:h,unstable_useTransitions:p,future:{}}),[y,l,h,p]);typeof n=="string"&&(n=nu(n));let{pathname:T="/",search:S="",hash:C="",state:M=null,key:Z="default"}=n,et=Y.useMemo(()=>{let Q=Vs(T,y);return Q==null?null:{location:{pathname:Q,search:S,hash:C,state:M,key:Z},navigationType:a}},[y,T,S,C,M,Z,a]);return rr(et!=null,`<Router basename="${y}"> is not able to match the URL "${T}${S}${C}" because it does not start with the basename, so the <Router> won't render anything.`),et==null?null:Y.createElement(Mi.Provider,{value:v},Y.createElement(xc.Provider,{children:t,value:et}))}function HS({children:r,location:t}){return CS(ip(r),t)}function ip(r,t=[]){let n=[];return Y.Children.forEach(r,(a,l)=>{if(!Y.isValidElement(a))return;let h=[...t,l];if(a.type===Y.Fragment){n.push.apply(n,ip(a.props.children,h));return}Ve(a.type===Mo,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!a.props.index||!a.props.children,"An index route cannot have child routes.");let p={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(p.children=ip(a.props.children,h)),n.push(p)}),n}var Wh="get",Jh="application/x-www-form-urlencoded";function Nf(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function qS(r){return Nf(r)&&r.tagName.toLowerCase()==="button"}function FS(r){return Nf(r)&&r.tagName.toLowerCase()==="form"}function GS(r){return Nf(r)&&r.tagName.toLowerCase()==="input"}function ZS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function KS(r,t){return r.button===0&&(!t||t==="_self")&&!ZS(r)}var qh=null;function QS(){if(qh===null)try{new FormData(document.createElement("form"),0),qh=!1}catch{qh=!0}return qh}var YS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(r){return r!=null&&!YS.has(r)?(rr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jh}"`),null):r}function XS(r,t){let n,a,l,h,p;if(FS(r)){let y=r.getAttribute("action");a=y?Vs(y,t):null,n=r.getAttribute("method")||Wh,l=jm(r.getAttribute("enctype"))||Jh,h=new FormData(r)}else if(qS(r)||GS(r)&&(r.type==="submit"||r.type==="image")){let y=r.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||y.getAttribute("action");if(a=v?Vs(v,t):null,n=r.getAttribute("formmethod")||y.getAttribute("method")||Wh,l=jm(r.getAttribute("formenctype"))||jm(y.getAttribute("enctype"))||Jh,h=new FormData(y,r),!QS()){let{name:T,type:S,value:C}=r;if(S==="image"){let M=T?`${T}.`:"";h.append(`${M}x`,"0"),h.append(`${M}y`,"0")}else T&&h.append(T,C)}}else{if(Nf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wh,a=null,l=Jh,p=r}return h&&l==="text/plain"&&(p=h,h=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:h,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function WS(r,t,n,a){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${a}`:l.pathname=`${l.pathname}.${a}`:l.pathname==="/"?l.pathname=`_root.${a}`:t&&Vs(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function JS(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $S(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function t1(r,t,n){let a=await Promise.all(r.map(async l=>{let h=t.routes[l.route.id];if(h){let p=await JS(h,n);return p.links?p.links():[]}return[]}));return r1(a.flat(1).filter($S).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Fv(r,t,n,a,l,h){let p=(v,T)=>n[T]?v.route.id!==n[T].route.id:!0,y=(v,T)=>n[T].pathname!==v.pathname||n[T].route.path?.endsWith("*")&&n[T].params["*"]!==v.params["*"];return h==="assets"?t.filter((v,T)=>p(v,T)||y(v,T)):h==="data"?t.filter((v,T)=>{let S=a.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(p(v,T)||y(v,T))return!0;if(v.route.shouldRevalidate){let C=v.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function e1(r,t,{includeHydrateFallback:n}={}){return n1(r.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function n1(r){return[...new Set(r)]}function i1(r){let t={},n=Object.keys(r).sort();for(let a of n)t[a]=r[a];return t}function r1(r,t){let n=new Set;return new Set(t),r.reduce((a,l)=>{let h=JSON.stringify(i1(l));return n.has(h)||(n.add(h),a.push({key:h,link:l})),a},[])}function VE(){let r=Y.useContext(iu);return kp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function s1(){let r=Y.useContext(If);return kp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Vp=Y.createContext(void 0);Vp.displayName="FrameworkContext";function zE(){let r=Y.useContext(Vp);return kp(r,"You must render this element inside a <HydratedRouter> element"),r}function a1(r,t){let n=Y.useContext(Vp),[a,l]=Y.useState(!1),[h,p]=Y.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:T,onMouseLeave:S,onTouchStart:C}=t,M=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&p(!0),r==="viewport"){let Q=mt=>{mt.forEach(dt=>{p(dt.isIntersecting)})},q=new IntersectionObserver(Q,{threshold:.5});return M.current&&q.observe(M.current),()=>{q.disconnect()}}},[r]),Y.useEffect(()=>{if(a){let Q=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(Q)}}},[a]);let Z=()=>{l(!0)},et=()=>{l(!1),p(!1)};return n?r!=="intent"?[h,M,{}]:[h,M,{onFocus:tc(y,Z),onBlur:tc(v,et),onMouseEnter:tc(T,Z),onMouseLeave:tc(S,et),onTouchStart:tc(C,Z)}]:[!1,M,{}]}function tc(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function o1({page:r,...t}){let{router:n}=VE(),a=Y.useMemo(()=>wE(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?Y.createElement(u1,{page:r,matches:a,...t}):null}function l1(r){let{manifest:t,routeModules:n}=zE(),[a,l]=Y.useState([]);return Y.useEffect(()=>{let h=!1;return t1(r,t,n).then(p=>{h||l(p)}),()=>{h=!0}},[r,t,n]),a}function u1({page:r,matches:t,...n}){let a=Hs(),{future:l,manifest:h,routeModules:p}=zE(),{basename:y}=VE(),{loaderData:v,matches:T}=s1(),S=Y.useMemo(()=>Fv(r,t,T,h,a,"data"),[r,t,T,h,a]),C=Y.useMemo(()=>Fv(r,t,T,h,a,"assets"),[r,t,T,h,a]),M=Y.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let Q=new Set,q=!1;if(t.forEach(dt=>{let ht=h.routes[dt.route.id];!ht||!ht.hasLoader||(!S.some(Dt=>Dt.route.id===dt.route.id)&&dt.route.id in v&&p[dt.route.id]?.shouldRevalidate||ht.hasClientLoader?q=!0:Q.add(dt.route.id))}),Q.size===0)return[];let mt=WS(r,y,l.unstable_trailingSlashAwareDataRequests,"data");return q&&Q.size>0&&mt.searchParams.set("_routes",t.filter(dt=>Q.has(dt.route.id)).map(dt=>dt.route.id).join(",")),[mt.pathname+mt.search]},[y,l.unstable_trailingSlashAwareDataRequests,v,a,h,S,t,r,p]),Z=Y.useMemo(()=>e1(C,h),[C,h]),et=l1(C);return Y.createElement(Y.Fragment,null,M.map(Q=>Y.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),Z.map(Q=>Y.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),et.map(({key:Q,link:q})=>Y.createElement("link",{key:Q,nonce:n.nonce,...q})))}function c1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var h1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h1&&(window.__reactRouterVersion="7.12.0")}catch{}function f1({basename:r,children:t,unstable_useTransitions:n,window:a}){let l=Y.useRef();l.current==null&&(l.current=Fx({window:a,v5Compat:!0}));let h=l.current,[p,y]=Y.useState({action:h.action,location:h.location}),v=Y.useCallback(T=>{n===!1?y(T):Y.startTransition(()=>y(T))},[n]);return Y.useLayoutEffect(()=>h.listen(v),[h,v]),Y.createElement(jS,{basename:r,children:t,location:p.location,navigationType:p.action,navigator:h,unstable_useTransitions:n})}var UE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BE=Y.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:l,reloadDocument:h,replace:p,state:y,target:v,to:T,preventScrollReset:S,viewTransition:C,unstable_defaultShouldRevalidate:M,...Z},et){let{basename:Q,unstable_useTransitions:q}=Y.useContext(Mi),mt=typeof T=="string"&&UE.test(T),dt=RE(T,Q);T=dt.to;let ht=xS(T,{relative:l}),[Dt,Ot,Bt]=a1(a,Z),V=g1(T,{replace:p,state:y,target:v,preventScrollReset:S,relative:l,viewTransition:C,unstable_defaultShouldRevalidate:M,unstable_useTransitions:q});function D(H){t&&t(H),H.defaultPrevented||V(H)}let P=Y.createElement("a",{...Z,...Bt,href:dt.absoluteURL||ht,onClick:dt.isExternal||h?t:D,ref:c1(et,Ot),target:v,"data-discover":!mt&&n==="render"?"true":void 0});return Dt&&!mt?Y.createElement(Y.Fragment,null,P,Y.createElement(o1,{page:ht})):P});BE.displayName="Link";var d1=Y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:l=!1,style:h,to:p,viewTransition:y,children:v,...T},S){let C=Sc(p,{relative:T.relative}),M=Hs(),Z=Y.useContext(If),{navigator:et,basename:Q}=Y.useContext(Mi),q=Z!=null&&T1(C)&&y===!0,mt=et.encodeLocation?et.encodeLocation(C).pathname:C.pathname,dt=M.pathname,ht=Z&&Z.navigation&&Z.navigation.location?Z.navigation.location.pathname:null;n||(dt=dt.toLowerCase(),ht=ht?ht.toLowerCase():null,mt=mt.toLowerCase()),ht&&Q&&(ht=Vs(ht,Q)||ht);const Dt=mt!=="/"&&mt.endsWith("/")?mt.length-1:mt.length;let Ot=dt===mt||!l&&dt.startsWith(mt)&&dt.charAt(Dt)==="/",Bt=ht!=null&&(ht===mt||!l&&ht.startsWith(mt)&&ht.charAt(mt.length)==="/"),V={isActive:Ot,isPending:Bt,isTransitioning:q},D=Ot?t:void 0,P;typeof a=="function"?P=a(V):P=[a,Ot?"active":null,Bt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let H=typeof h=="function"?h(V):h;return Y.createElement(BE,{...T,"aria-current":D,className:P,ref:S,style:H,to:p,viewTransition:y},typeof v=="function"?v(V):v)});d1.displayName="NavLink";var m1=Y.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:l,state:h,method:p=Wh,action:y,onSubmit:v,relative:T,preventScrollReset:S,viewTransition:C,unstable_defaultShouldRevalidate:M,...Z},et)=>{let{unstable_useTransitions:Q}=Y.useContext(Mi),q=v1(),mt=E1(y,{relative:T}),dt=p.toLowerCase()==="get"?"get":"post",ht=typeof y=="string"&&UE.test(y),Dt=Ot=>{if(v&&v(Ot),Ot.defaultPrevented)return;Ot.preventDefault();let Bt=Ot.nativeEvent.submitter,V=Bt?.getAttribute("formmethod")||p,D=()=>q(Bt||Ot.currentTarget,{fetcherKey:t,method:V,navigate:n,replace:l,state:h,relative:T,preventScrollReset:S,viewTransition:C,unstable_defaultShouldRevalidate:M});Q&&n!==!1?Y.startTransition(()=>D()):D()};return Y.createElement("form",{ref:et,method:dt,action:mt,onSubmit:a?v:Dt,...Z,"data-discover":!ht&&r==="render"?"true":void 0})});m1.displayName="Form";function p1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jE(r){let t=Y.useContext(iu);return Ve(t,p1(r)),t}function g1(r,{target:t,replace:n,state:a,preventScrollReset:l,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v}={}){let T=qs(),S=Hs(),C=Sc(r,{relative:h});return Y.useCallback(M=>{if(KS(M,t)){M.preventDefault();let Z=n!==void 0?n:fc(S)===fc(C),et=()=>T(r,{replace:Z,state:a,preventScrollReset:l,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:y});v?Y.startTransition(()=>et()):et()}},[S,T,C,n,a,t,r,l,h,p,y,v])}var _1=0,y1=()=>`__${String(++_1)}__`;function v1(){let{router:r}=jE("useSubmit"),{basename:t}=Y.useContext(Mi),n=kS(),a=r.fetch,l=r.navigate;return Y.useCallback(async(h,p={})=>{let{action:y,method:v,encType:T,formData:S,body:C}=XS(h,t);if(p.navigate===!1){let M=p.fetcherKey||y1();await a(M,n,p.action||y,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:C,formMethod:p.method||v,formEncType:p.encType||T,flushSync:p.flushSync})}else await l(p.action||y,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:C,formMethod:p.method||v,formEncType:p.encType||T,replace:p.replace,state:p.state,fromRouteId:n,flushSync:p.flushSync,viewTransition:p.viewTransition})},[a,l,t,n])}function E1(r,{relative:t}={}){let{basename:n}=Y.useContext(Mi),a=Y.useContext(Cr);Ve(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),h={...Sc(r||".",{relative:t})},p=Hs();if(r==null){h.search=p.search;let y=new URLSearchParams(h.search),v=y.getAll("index");if(v.some(S=>S==="")){y.delete("index"),v.filter(C=>C).forEach(C=>y.append("index",C));let S=y.toString();h.search=S?`?${S}`:""}}return(!r||r===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:ks([n,h.pathname])),fc(h)}function T1(r,{relative:t}={}){let n=Y.useContext(NE);Ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=jE("useViewTransitionState"),l=Sc(r,{relative:t});if(!n.isTransitioning)return!1;let h=Vs(n.currentLocation.pathname,a)||n.currentLocation.pathname,p=Vs(n.nextLocation.pathname,a)||n.nextLocation.pathname;return cf(l.pathname,p)!=null||cf(l.pathname,h)!=null}var b1=bE();const w1=()=>{};var Gv={};const HE=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},x1=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[n++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[n++],p=r[n++],y=r[n++],v=((l&7)<<18|(h&63)<<12|(p&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[n++],p=r[n++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|p&63)}}return t.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],p=l+1<r.length,y=p?r[l+1]:0,v=l+2<r.length,T=v?r[l+2]:0,S=h>>2,C=(h&3)<<4|y>>4;let M=(y&15)<<2|T>>6,Z=T&63;v||(Z=64,p||(M=64)),a.push(n[S],n[C],n[M],n[Z])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(HE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):x1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=n[r.charAt(l++)],y=l<r.length?n[r.charAt(l)]:0;++l;const T=l<r.length?n[r.charAt(l)]:64;++l;const C=l<r.length?n[r.charAt(l)]:64;if(++l,h==null||y==null||T==null||C==null)throw new S1;const M=h<<2|y>>4;if(a.push(M),T!==64){const Z=y<<4&240|T>>2;if(a.push(Z),C!==64){const et=T<<6&192|C;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class S1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A1=function(r){const t=HE(r);return qE.encodeByteArray(t,!0)},hf=function(r){return A1(r).replace(/\./g,"")},FE=function(r){try{return qE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function C1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const R1=()=>C1().__FIREBASE_DEFAULTS__,I1=()=>{if(typeof process>"u"||typeof Gv>"u")return;const r=Gv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},N1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&FE(r[1]);return t&&JSON.parse(t)},Df=()=>{try{return w1()||R1()||I1()||N1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},GE=r=>Df()?.emulatorHosts?.[r],D1=r=>{const t=GE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},ZE=()=>Df()?.config,KE=r=>Df()?.[`_${r}`];class L1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}function su(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QE(r){return(await fetch(r,{credentials:"include"})).ok}function M1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[hf(JSON.stringify(n)),hf(JSON.stringify(p)),""].join(".")}const ac={};function O1(){const r={prod:[],emulator:[]};for(const t of Object.keys(ac))ac[t]?r.emulator.push(t):r.prod.push(t);return r}function P1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Zv=!1;function YE(r,t){if(typeof window>"u"||typeof document>"u"||!su(window.location.host)||ac[r]===t||ac[r]||Zv)return;ac[r]=t;function n(M){return`__firebase__banner__${M}`}const a="__firebase__banner",h=O1().prod.length>0;function p(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Z){M.setAttribute("width","24"),M.setAttribute("id",Z),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function T(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Zv=!0,p()},M}function S(M,Z){M.setAttribute("id",Z),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function C(){const M=P1(a),Z=n("text"),et=document.getElementById(Z)||document.createElement("span"),Q=n("learnmore"),q=document.getElementById(Q)||document.createElement("a"),mt=n("preprendIcon"),dt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ht=M.element;y(ht),S(q,Q);const Dt=T();v(dt,mt),ht.append(dt,et,q,Dt),document.body.appendChild(ht)}h?(et.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",Z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function V1(){const r=Df()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function B1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j1(){const r=jn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function H1(){return!V1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q1(){try{return typeof indexedDB=="object"}catch{return!1}}function F1(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const G1="FirebaseError";class Fs extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=G1,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],p=h?Z1(h,a):"Error",y=`${this.serviceName}: ${p} (${l}).`;return new Fs(l,y,a)}}function Z1(r,t){return r.replace(K1,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const K1=/\{\$([^}]+)}/g;function Q1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zo(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const h=r[l],p=t[l];if(Kv(h)&&Kv(p)){if(!zo(h,p))return!1}else if(h!==p)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Kv(r){return r!==null&&typeof r=="object"}function Cc(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Y1(r,t){const n=new X1(r,t);return n.subscribe.bind(n)}class X1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");W1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=Hm),l.error===void 0&&(l.error=Hm),l.complete===void 0&&(l.complete=Hm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Hm(){}function mi(r){return r&&r._delegate?r._delegate:r}class Uo{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Oo="[DEFAULT]";class J1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new L1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tA(t))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Oo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Oo){return this.instances.has(t)}getOptions(t=Oo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[h,p]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&p.resolve(l)}return l}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:$1(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Oo){return this.component?this.component.multipleInstances?t:Oo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $1(r){return r===Oo?void 0:r}function tA(r){return r.instantiationMode==="EAGER"}class eA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new J1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var re;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(re||(re={}));const nA={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},iA=re.INFO,rA={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},sA=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=rA[t];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zp{constructor(t){this.name=t,this._logLevel=iA,this._logHandler=sA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const aA=(r,t)=>t.some(n=>r instanceof n);let Qv,Yv;function oA(){return Qv||(Qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lA(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XE=new WeakMap,rp=new WeakMap,WE=new WeakMap,qm=new WeakMap,Up=new WeakMap;function uA(r){const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",p)},h=()=>{n(ka(r.result)),l()},p=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",p)});return t.then(n=>{n instanceof IDBCursor&&XE.set(n,r)}).catch(()=>{}),Up.set(t,r),t}function cA(r){if(rp.has(r))return;const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",p),r.removeEventListener("abort",p)},h=()=>{n(),l()},p=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",p),r.addEventListener("abort",p)});rp.set(r,t)}let sp={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return rp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||WE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ka(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function hA(r){sp=r(sp)}function fA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(Fm(this),t,...n);return WE.set(a,t.sort?t.sort():[t]),ka(a)}:lA().includes(r)?function(...t){return r.apply(Fm(this),t),ka(XE.get(this))}:function(...t){return ka(r.apply(Fm(this),t))}}function dA(r){return typeof r=="function"?fA(r):(r instanceof IDBTransaction&&cA(r),aA(r,oA())?new Proxy(r,sp):r)}function ka(r){if(r instanceof IDBRequest)return uA(r);if(qm.has(r))return qm.get(r);const t=dA(r);return t!==r&&(qm.set(r,t),Up.set(t,r)),t}const Fm=r=>Up.get(r);function mA(r,t,{blocked:n,upgrade:a,blocking:l,terminated:h}={}){const p=indexedDB.open(r,t),y=ka(p);return a&&p.addEventListener("upgradeneeded",v=>{a(ka(p.result),v.oldVersion,v.newVersion,ka(p.transaction),v)}),n&&p.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",T=>l(T.oldVersion,T.newVersion,T))}).catch(()=>{}),y}const pA=["get","getKey","getAll","getAllKeys","count"],gA=["put","add","delete","clear"],Gm=new Map;function Xv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Gm.get(t))return Gm.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=gA.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||pA.includes(n)))return;const h=async function(p,...y){const v=this.transaction(p,l?"readwrite":"readonly");let T=v.store;return a&&(T=T.index(y.shift())),(await Promise.all([T[n](...y),l&&v.done]))[0]};return Gm.set(t,h),h}hA(r=>({...r,get:(t,n,a)=>Xv(t,n)||r.get(t,n,a),has:(t,n)=>!!Xv(t,n)||r.has(t,n)}));class _A{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yA(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function yA(r){return r.getComponent()?.type==="VERSION"}const ap="@firebase/app",Wv="0.14.6";const zs=new zp("@firebase/app"),vA="@firebase/app-compat",EA="@firebase/analytics-compat",TA="@firebase/analytics",bA="@firebase/app-check-compat",wA="@firebase/app-check",xA="@firebase/auth",SA="@firebase/auth-compat",AA="@firebase/database",CA="@firebase/data-connect",RA="@firebase/database-compat",IA="@firebase/functions",NA="@firebase/functions-compat",DA="@firebase/installations",LA="@firebase/installations-compat",MA="@firebase/messaging",OA="@firebase/messaging-compat",PA="@firebase/performance",kA="@firebase/performance-compat",VA="@firebase/remote-config",zA="@firebase/remote-config-compat",UA="@firebase/storage",BA="@firebase/storage-compat",jA="@firebase/firestore",HA="@firebase/ai",qA="@firebase/firestore-compat",FA="firebase",GA="12.6.0";const op="[DEFAULT]",ZA={[ap]:"fire-core",[vA]:"fire-core-compat",[TA]:"fire-analytics",[EA]:"fire-analytics-compat",[wA]:"fire-app-check",[bA]:"fire-app-check-compat",[xA]:"fire-auth",[SA]:"fire-auth-compat",[AA]:"fire-rtdb",[CA]:"fire-data-connect",[RA]:"fire-rtdb-compat",[IA]:"fire-fn",[NA]:"fire-fn-compat",[DA]:"fire-iid",[LA]:"fire-iid-compat",[MA]:"fire-fcm",[OA]:"fire-fcm-compat",[PA]:"fire-perf",[kA]:"fire-perf-compat",[VA]:"fire-rc",[zA]:"fire-rc-compat",[UA]:"fire-gcs",[BA]:"fire-gcs-compat",[jA]:"fire-fst",[qA]:"fire-fst-compat",[HA]:"fire-vertex","fire-js":"fire-js",[FA]:"fire-js-all"};const ff=new Map,KA=new Map,lp=new Map;function Jv(r,t){try{r.container.addComponent(t)}catch(n){zs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Zl(r){const t=r.name;if(lp.has(t))return zs.debug(`There were multiple attempts to register component ${t}.`),!1;lp.set(t,r);for(const n of ff.values())Jv(n,r);for(const n of KA.values())Jv(n,r);return!0}function Bp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function br(r){return r==null?!1:r.settings!==void 0}const QA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new Ac("app","Firebase",QA);class YA{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}const au=GA;function JE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a={name:op,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Va.create("bad-app-name",{appName:String(l)});if(n||(n=ZE()),!n)throw Va.create("no-options");const h=ff.get(l);if(h){if(zo(n,h.options)&&zo(a,h.config))return h;throw Va.create("duplicate-app",{appName:l})}const p=new eA(l);for(const v of lp.values())p.addComponent(v);const y=new YA(n,a,p);return ff.set(l,y),y}function $E(r=op){const t=ff.get(r);if(!t&&r===op&&ZE())return JE();if(!t)throw Va.create("no-app",{appName:r});return t}function za(r,t,n){let a=ZA[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const p=[`Unable to register library "${a}" with version "${t}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&p.push("and"),h&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zs.warn(p.join(" "));return}Zl(new Uo(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const XA="firebase-heartbeat-database",WA=1,dc="firebase-heartbeat-store";let Zm=null;function tT(){return Zm||(Zm=mA(XA,WA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(dc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Va.create("idb-open",{originalErrorMessage:r.message})})),Zm}async function JA(r){try{const n=(await tT()).transaction(dc),a=await n.objectStore(dc).get(eT(r));return await n.done,a}catch(t){if(t instanceof Fs)zs.warn(t.message);else{const n=Va.create("idb-get",{originalErrorMessage:t?.message});zs.warn(n.message)}}}async function $v(r,t){try{const a=(await tT()).transaction(dc,"readwrite");await a.objectStore(dc).put(t,eT(r)),await a.done}catch(n){if(n instanceof Fs)zs.warn(n.message);else{const a=Va.create("idb-set",{originalErrorMessage:n?.message});zs.warn(a.message)}}}function eT(r){return`${r.name}!${r.options.appId}`}const $A=1024,tC=30;class eC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=t0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>tC){const l=rC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){zs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=t0(),{heartbeatsToSend:n,unsentEntries:a}=nC(this._heartbeatsCache.heartbeats),l=hf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return zs.warn(t),""}}}function t0(){return new Date().toISOString().substring(0,10)}function nC(r,t=$A){const n=[];let a=r.slice();for(const l of r){const h=n.find(p=>p.agent===l.agent);if(h){if(h.dates.push(l.date),e0(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),e0(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class iC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q1()?F1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return $v(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return $v(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function e0(r){return hf(JSON.stringify({version:2,heartbeats:r})).length}function rC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}function sC(r){Zl(new Uo("platform-logger",t=>new _A(t),"PRIVATE")),Zl(new Uo("heartbeat",t=>new eC(t),"PRIVATE")),za(ap,Wv,r),za(ap,Wv,"esm2020"),za("fire-js","")}sC("");function nT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=nT,iT=new Ac("auth","Firebase",nT());const df=new zp("@firebase/auth");function oC(r,...t){df.logLevel<=re.WARN&&df.warn(`Auth (${au}): ${r}`,...t)}function $h(r,...t){df.logLevel<=re.ERROR&&df.error(`Auth (${au}): ${r}`,...t)}function rs(r,...t){throw Hp(r,...t)}function Sr(r,...t){return Hp(r,...t)}function jp(r,t,n){const a={...aC(),[t]:n};return new Ac("auth","Firebase",a).create(t,{appName:r.name})}function Vo(r){return jp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lC(r,t,n){const a=n;if(!(t instanceof a))throw a.name!==t.constructor.name&&rs(r,"argument-error"),jp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hp(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return iT.create(r,...t)}function Ut(r,t,...n){if(!r)throw Hp(t,...n)}function Os(r){const t="INTERNAL ASSERTION FAILED: "+r;throw $h(t),new Error(t)}function Us(r,t){r||Os(t)}function up(){return typeof self<"u"&&self.location?.href||""}function uC(){return n0()==="http:"||n0()==="https:"}function n0(){return typeof self<"u"&&self.location?.protocol||null}function cC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uC()||U1()||"connection"in navigator)?navigator.onLine:!0}function hC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Rc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Us(n>t,"Short delay should be less than long delay!"),this.isMobile=k1()||B1()}get(){return cC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qp(r,t){Us(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class rT{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const dC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mC=new Rc(3e4,6e4);function Fp(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ou(r,t,n,a,l={}){return sT(r,l,async()=>{let h={},p={};a&&(t==="GET"?p=a:h={body:JSON.stringify(a)});const y=Cc({key:r.config.apiKey,...p}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const T={method:t,headers:v,...h};return z1()||(T.referrerPolicy="no-referrer"),r.emulatorConfig&&su(r.emulatorConfig.host)&&(T.credentials="include"),rT.fetch()(await aT(r,r.config.apiHost,n,y),T)})}async function sT(r,t,n){r._canInitEmulator=!1;const a={...fC,...t};try{const l=new gC(r),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const p=await h.json();if("needConfirmation"in p)throw Fh(r,"account-exists-with-different-credential",p);if(h.ok&&!("errorMessage"in p))return p;{const y=h.ok?p.errorMessage:p.error.message,[v,T]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(r,"credential-already-in-use",p);if(v==="EMAIL_EXISTS")throw Fh(r,"email-already-in-use",p);if(v==="USER_DISABLED")throw Fh(r,"user-disabled",p);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw jp(r,S,T);rs(r,S)}}catch(l){if(l instanceof Fs)throw l;rs(r,"network-request-failed",{message:String(l)})}}async function pC(r,t,n,a,l={}){const h=await ou(r,t,n,a,l);return"mfaPendingCredential"in h&&rs(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function aT(r,t,n,a){const l=`${t}${n}?${a}`,h=r,p=h.config.emulator?qp(r.config,l):`${r.config.apiScheme}://${l}`;return dC.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(p).toString():p}class gC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Sr(this.auth,"network-request-failed")),mC.get())})}}function Fh(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Sr(r,t,a);return l.customData._tokenResponse=n,l}async function _C(r,t){return ou(r,"POST","/v1/accounts:delete",t)}async function mf(r,t){return ou(r,"POST","/v1/accounts:lookup",t)}function oc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yC(r,t=!1){const n=mi(r),a=await n.getIdToken(t),l=Gp(a);Ut(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,p=h?.sign_in_provider;return{claims:l,token:a,authTime:oc(Km(l.auth_time)),issuedAtTime:oc(Km(l.iat)),expirationTime:oc(Km(l.exp)),signInProvider:p||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Km(r){return Number(r)*1e3}function Gp(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return $h("JWT malformed, contained fewer than 3 sections"),null;try{const l=FE(n);return l?JSON.parse(l):($h("Failed to decode base64 JWT payload"),null)}catch(l){return $h("Caught error parsing JWT payload as JSON",l?.toString()),null}}function i0(r){const t=Gp(r);return Ut(t,"internal-error"),Ut(typeof t.exp<"u","internal-error"),Ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function mc(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof Fs&&vC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function vC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class EC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pf(r){const t=r.auth,n=await r.getIdToken(),a=await mc(r,mf(t,{idToken:n}));Ut(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?oT(l.providerUserInfo):[],p=bC(r.providerData,h),y=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!p?.length,T=y?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new cp(l.createdAt,l.lastLoginAt),isAnonymous:T};Object.assign(r,S)}async function TC(r){const t=mi(r);await pf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function oT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function wC(r,t){const n=await sT(r,{},async()=>{const a=Cc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,p=await aT(r,l,"/v1/token",`key=${h}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:a};return r.emulatorConfig&&su(r.emulatorConfig.host)&&(v.credentials="include"),rT.fetch()(p,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xC(r,t){return ou(r,"POST","/v2/accounts:revokeToken",Fp(r,t))}class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ut(t.idToken,"internal-error"),Ut(typeof t.idToken<"u","internal-error"),Ut(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):i0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ut(t.length!==0,"internal-error");const n=i0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:h}=await wC(t,n);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:h}=n,p=new Bl;return a&&(Ut(typeof a=="string","internal-error",{appName:t}),p.refreshToken=a),l&&(Ut(typeof l=="string","internal-error",{appName:t}),p.accessToken=l),h&&(Ut(typeof h=="number","internal-error",{appName:t}),p.expirationTime=h),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return Os("not implemented")}}function Da(r,t){Ut(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class wr{constructor({uid:t,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new EC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await mc(this,this.stsTokenManager.getToken(this.auth,t));return Ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return yC(this,t)}reload(){return TC(this)}_assign(t){this!==t&&(Ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new wr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await pf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(br(this.auth.app))return Promise.reject(Vo(this.auth));const t=await this.getIdToken();return await mc(this,_C(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,p=n.photoURL??void 0,y=n.tenantId??void 0,v=n._redirectEventId??void 0,T=n.createdAt??void 0,S=n.lastLoginAt??void 0,{uid:C,emailVerified:M,isAnonymous:Z,providerData:et,stsTokenManager:Q}=n;Ut(C&&Q,t,"internal-error");const q=Bl.fromJSON(this.name,Q);Ut(typeof C=="string",t,"internal-error"),Da(a,t.name),Da(l,t.name),Ut(typeof M=="boolean",t,"internal-error"),Ut(typeof Z=="boolean",t,"internal-error"),Da(h,t.name),Da(p,t.name),Da(y,t.name),Da(v,t.name),Da(T,t.name),Da(S,t.name);const mt=new wr({uid:C,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:Z,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:q,createdAt:T,lastLoginAt:S});return et&&Array.isArray(et)&&(mt.providerData=et.map(dt=>({...dt}))),v&&(mt._redirectEventId=v),mt}static async _fromIdTokenResponse(t,n,a=!1){const l=new Bl;l.updateFromServerResponse(n);const h=new wr({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await pf(h),h}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];Ut(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?oT(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!h?.length,y=new Bl;y.updateFromIdToken(a);const v=new wr({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:p}),T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new cp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,T),v}}const r0=new Map;function Ps(r){Us(r instanceof Function,"Expected a class definition");let t=r0.get(r);return t?(Us(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,r0.set(r,t),t)}class lT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}lT.type="NONE";const s0=lT;function tf(r,t,n){return`firebase:${r}:${t}:${n}`}class jl{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=tf(this.userKey,l.apiKey,h),this.fullPersistenceKey=tf("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await mf(this.auth,{idToken:t}).catch(()=>{});return n?wr._fromGetAccountInfoResponse(this.auth,n,t):null}return wr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new jl(Ps(s0),t,a);const l=(await Promise.all(n.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let h=l[0]||Ps(s0);const p=tf(a,t.config.apiKey,t.name);let y=null;for(const T of n)try{const S=await T._get(p);if(S){let C;if(typeof S=="string"){const M=await mf(t,{idToken:S}).catch(()=>{});if(!M)break;C=await wr._fromGetAccountInfoResponse(t,M,S)}else C=wr._fromJSON(t,S);T!==h&&(y=C),h=T;break}}catch{}const v=l.filter(T=>T._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new jl(h,t,a):(h=v[0],y&&await h._set(p,y.toJSON()),await Promise.all(n.map(async T=>{if(T!==h)try{await T._remove(p)}catch{}})),new jl(h,t,a))}}function a0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mT(t))return"Blackberry";if(pT(t))return"Webos";if(cT(t))return"Safari";if((t.includes("chrome/")||hT(t))&&!t.includes("edge/"))return"Chrome";if(dT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function uT(r=jn()){return/firefox\//i.test(r)}function cT(r=jn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hT(r=jn()){return/crios\//i.test(r)}function fT(r=jn()){return/iemobile/i.test(r)}function dT(r=jn()){return/android/i.test(r)}function mT(r=jn()){return/blackberry/i.test(r)}function pT(r=jn()){return/webos/i.test(r)}function Zp(r=jn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function SC(r=jn()){return Zp(r)&&!!window.navigator?.standalone}function AC(){return j1()&&document.documentMode===10}function gT(r=jn()){return Zp(r)||dT(r)||pT(r)||mT(r)||/windows phone/i.test(r)||fT(r)}function _T(r,t=[]){let n;switch(r){case"Browser":n=a0(jn());break;case"Worker":n=`${a0(jn())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${au}/${a}`}class CC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=h=>new Promise((p,y)=>{try{const v=t(h);p(v)}catch(v){y(v)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function RC(r,t={}){return ou(r,"GET","/v2/passwordPolicy",Fp(r,t))}const IC=6;class NC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class DC{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o0(this),this.idTokenSubscription=new o0(this),this.beforeStateQueue=new CC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await jl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await mf(this,{idToken:t}),a=await wr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(br(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,p=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!h||h===p)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await pf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(br(this.app))return Promise.reject(Vo(this));const n=t?mi(t):null;return n&&Ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return br(this.app)?Promise.reject(Vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return br(this.app)?Promise.reject(Vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await RC(this),n=new NC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ac("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await xC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ps(t)||this._popupRedirectResolver;Ut(n,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let p=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(y,this,"internal-error"),y.then(()=>{p||h(this.currentUser)}),typeof n=="function"){const v=t.addObserver(n,a,l);return()=>{p=!0,v()}}else{const v=t.addObserver(n);return()=>{p=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&oC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Lf(r){return mi(r)}class o0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Y1(n=>this.observer=n)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LC(r){Kp=r}function MC(r){return Kp.loadJS(r)}function OC(){return Kp.gapiScript}function PC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function kC(r,t){const n=Bp(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(zo(h,t??{}))return l;rs(l,"already-initialized")}return n.initialize({options:t})}function VC(r,t){const n=t?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Ps);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function zC(r,t,n){const a=Lf(r);Ut(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=yT(t),{host:p,port:y}=UC(t),v=y===null?"":`:${y}`,T={url:`${h}//${p}${v}/`},S=Object.freeze({host:p,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ut(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ut(zo(T,a.config.emulator)&&zo(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=T,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,su(p)?(QE(`${h}//${p}${v}`),YE("Auth",!0)):BC()}function yT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function UC(r){const t=yT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:l0(a.substr(h.length+1))}}else{const[h,p]=a.split(":");return{host:h,port:l0(p)}}}function l0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function BC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class vT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Os("not implemented")}_getIdTokenResponse(t){return Os("not implemented")}_linkToIdToken(t,n){return Os("not implemented")}_getReauthenticationResolver(t){return Os("not implemented")}}async function Hl(r,t){return pC(r,"POST","/v1/accounts:signInWithIdp",Fp(r,t))}const jC="http://localhost";class Bo extends vT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Bo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):rs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=n;if(!a||!l)return null;const p=new Bo(a,l);return p.idToken=h.idToken||void 0,p.accessToken=h.accessToken||void 0,p.secret=h.secret,p.nonce=h.nonce,p.pendingToken=h.pendingToken||null,p}_getIdTokenResponse(t){const n=this.buildRequest();return Hl(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,Hl(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Hl(t,n)}buildRequest(){const t={requestUri:jC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Cc(n)}return t}}class Qp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ic extends Qp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class La extends Ic{constructor(){super("facebook.com")}static credential(t){return Bo._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return La.credentialFromTaggedObject(t)}static credentialFromError(t){return La.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return La.credential(t.oauthAccessToken)}catch{return null}}}La.FACEBOOK_SIGN_IN_METHOD="facebook.com";La.PROVIDER_ID="facebook.com";class Ms extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Bo._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ms.credentialFromTaggedObject(t)}static credentialFromError(t){return Ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Ms.credential(n,a)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";class Ma extends Ic{constructor(){super("github.com")}static credential(t){return Bo._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ma.credentialFromTaggedObject(t)}static credentialFromError(t){return Ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ma.credential(t.oauthAccessToken)}catch{return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com";Ma.PROVIDER_ID="github.com";class Oa extends Ic{constructor(){super("twitter.com")}static credential(t,n){return Bo._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Oa.credentialFromTaggedObject(t)}static credentialFromError(t){return Oa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return Oa.credential(n,a)}catch{return null}}}Oa.TWITTER_SIGN_IN_METHOD="twitter.com";Oa.PROVIDER_ID="twitter.com";class Kl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const h=await wr._fromIdTokenResponse(t,a,l),p=u0(a);return new Kl({user:h,providerId:p,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=u0(a);return new Kl({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function u0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class gf extends Fs{constructor(t,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,gf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new gf(t,n,a,l)}}function ET(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?gf._fromErrorAndOperation(r,h,t,a):h})}async function HC(r,t,n=!1){const a=await mc(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Kl._forOperation(r,"link",a)}async function qC(r,t,n=!1){const{auth:a}=r;if(br(a.app))return Promise.reject(Vo(a));const l="reauthenticate";try{const h=await mc(r,ET(a,l,t,r),n);Ut(h.idToken,a,"internal-error");const p=Gp(h.idToken);Ut(p,a,"internal-error");const{sub:y}=p;return Ut(r.uid===y,a,"user-mismatch"),Kl._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&rs(a,"user-mismatch"),h}}async function FC(r,t,n=!1){if(br(r.app))return Promise.reject(Vo(r));const a="signIn",l=await ET(r,a,t),h=await Kl._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(h.user),h}function GC(r,t,n,a){return mi(r).onIdTokenChanged(t,n,a)}function ZC(r,t,n){return mi(r).beforeAuthStateChanged(t,n)}function KC(r,t,n,a){return mi(r).onAuthStateChanged(t,n,a)}function QC(r){return mi(r).signOut()}const _f="__sak";class TT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_f,"1"),this.storage.removeItem(_f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const YC=1e3,XC=10;class bT extends TT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((p,y,v)=>{this.notifyListeners(p,v)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!n&&this.localCache[a]===p||this.notifyListeners(a,p)},h=this.storage.getItem(a);AC()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,XC):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},YC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}bT.type="LOCAL";const WC=bT;class wT extends TT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}wT.type="SESSION";const xT=wT;function JC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Mf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new Mf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:h}=n.data,p=this.handlersMap[l];if(!p?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(p).map(async T=>T(n.origin,h)),v=await JC(y);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mf.receivers=[];function Yp(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}class $C{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,p;return new Promise((y,v)=>{const T=Yp("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(C){const M=C;if(M.data.eventId===T)switch(M.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(M.data.response);break;default:clearTimeout(S),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:t,eventId:T,data:n},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Jr(){return window}function tR(r){Jr().location.href=r}function ST(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function eR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nR(){return navigator?.serviceWorker?.controller||null}function iR(){return ST()?self:null}const AT="firebaseLocalStorageDb",rR=1,yf="firebaseLocalStorage",CT="fbase_key";class Nc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Of(r,t){return r.transaction([yf],t?"readwrite":"readonly").objectStore(yf)}function sR(){const r=indexedDB.deleteDatabase(AT);return new Nc(r).toPromise()}function hp(){const r=indexedDB.open(AT,rR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(yf,{keyPath:CT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(yf)?t(a):(a.close(),await sR(),t(await hp()))})})}async function c0(r,t,n){const a=Of(r,!0).put({[CT]:t,value:n});return new Nc(a).toPromise()}async function aR(r,t){const n=Of(r,!1).get(t),a=await new Nc(n).toPromise();return a===void 0?null:a.value}function h0(r,t){const n=Of(r,!0).delete(t);return new Nc(n).toPromise()}const oR=800,lR=3;class RT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>lR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ST()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mf._getInstance(iR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eR(),!this.activeServiceWorker)return;this.sender=new $C(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hp();return await c0(t,_f,"1"),await h0(t,_f),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>c0(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>aR(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>h0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Of(l,!1).getAll();return new Nc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RT.type="LOCAL";const uR=RT;new Rc(3e4,6e4);function IT(r,t){return t?Ps(t):(Ut(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Xp extends vT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Hl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Hl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Hl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function cR(r){return FC(r.auth,new Xp(r),r.bypassAuthState)}function hR(r){const{auth:t,user:n}=r;return Ut(n,t,"internal-error"),qC(n,new Xp(r),r.bypassAuthState)}async function fR(r){const{auth:t,user:n}=r;return Ut(n,t,"internal-error"),HC(n,new Xp(r),r.bypassAuthState)}class NT{constructor(t,n,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:h,error:p,type:y}=t;if(p){this.reject(p);return}const v={auth:this.auth,requestUri:n,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cR;case"linkViaPopup":case"linkViaRedirect":return fR;case"reauthViaPopup":case"reauthViaRedirect":return hR;default:rs(this.auth,"internal-error")}}resolve(t){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dR=new Rc(2e3,1e4);async function mR(r,t,n){if(br(r.app))return Promise.reject(Sr(r,"operation-not-supported-in-this-environment"));const a=Lf(r);lC(r,t,Qp);const l=IT(a,n);return new Po(a,"signInViaPopup",t,l).executeNotNull()}class Po extends NT{constructor(t,n,a,l,h){super(t,n,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ut(t,this.auth,"internal-error"),t}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const t=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dR.get())};t()}}Po.currentPopupAction=null;const pR="pendingRedirect",ef=new Map;class gR extends NT{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=ef.get(this.auth._key());if(!t){try{const a=await _R(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}ef.set(this.auth._key(),t)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _R(r,t){const n=ER(t),a=vR(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function yR(r,t){ef.set(r._key(),t)}function vR(r){return Ps(r._redirectPersistence)}function ER(r){return tf(pR,r.config.apiKey,r.name)}async function TR(r,t,n=!1){if(br(r.app))return Promise.reject(Vo(r));const a=Lf(r),l=IT(a,t),p=await new gR(a,l,n).execute();return p&&!n&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,t)),p}const bR=600*1e3;class wR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!DT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Sr(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bR&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(t))}saveEventToCache(t){this.cachedEventUids.add(f0(t)),this.lastProcessedEventTime=Date.now()}}function f0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function DT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function xR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DT(r);default:return!1}}async function SR(r,t={}){return ou(r,"GET","/v1/projects",t)}const AR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CR=/^https?/;async function RR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await SR(r);for(const n of t)try{if(IR(n))return}catch{}rs(r,"unauthorized-domain")}function IR(r){const t=up(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&p.hostname===a}if(!CR.test(n))return!1;if(AR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const NR=new Rc(3e4,6e4);function d0(){const r=Jr().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function DR(r){return new Promise((t,n)=>{function a(){d0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{d0(),n(Sr(r,"network-request-failed"))},timeout:NR.get()})}if(Jr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Jr().gapi?.load)a();else{const l=PC("iframefcb");return Jr()[l]=()=>{gapi.load?a():n(Sr(r,"network-request-failed"))},MC(`${OC()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw nf=null,t})}let nf=null;function LR(r){return nf=nf||DR(r),nf}const MR=new Rc(5e3,15e3),OR="__/auth/iframe",PR="emulator/auth/iframe",kR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zR(r){const t=r.config;Ut(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?qp(t,PR):`https://${r.config.authDomain}/${OR}`,a={apiKey:t.apiKey,appName:r.name,v:au},l=VR.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${n}?${Cc(a).slice(1)}`}async function UR(r){const t=await LR(r),n=Jr().gapi;return Ut(n,r,"internal-error"),t.open({where:document.body,url:zR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kR,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const p=Sr(r,"network-request-failed"),y=Jr().setTimeout(()=>{h(p)},MR.get());function v(){Jr().clearTimeout(y),l(a)}a.ping(v).then(v,()=>{h(p)})}))}const BR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jR=500,HR=600,qR="_blank",FR="http://localhost";class m0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GR(r,t,n,a=jR,l=HR){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const v={...BR,width:a.toString(),height:l.toString(),top:h,left:p},T=jn().toLowerCase();n&&(y=hT(T)?qR:n),uT(T)&&(t=t||FR,v.scrollbars="yes");const S=Object.entries(v).reduce((M,[Z,et])=>`${M}${Z}=${et},`,"");if(SC(T)&&y!=="_self")return ZR(t||"",y),new m0(null);const C=window.open(t||"",y,S);Ut(C,r,"popup-blocked");try{C.focus()}catch{}return new m0(C)}function ZR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const KR="__/auth/handler",QR="emulator/auth/handler",YR=encodeURIComponent("fac");async function p0(r,t,n,a,l,h){Ut(r.config.authDomain,r,"auth-domain-config-required"),Ut(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:au,eventId:l};if(t instanceof Qp){t.setDefaultLanguage(r.languageCode),p.providerId=t.providerId||"",Q1(t.getCustomParameters())||(p.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,C]of Object.entries({}))p[S]=C}if(t instanceof Ic){const S=t.getScopes().filter(C=>C!=="");S.length>0&&(p.scopes=S.join(","))}r.tenantId&&(p.tid=r.tenantId);const y=p;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const v=await r._getAppCheckToken(),T=v?`#${YR}=${encodeURIComponent(v)}`:"";return`${XR(r)}?${Cc(y).slice(1)}${T}`}function XR({config:r}){return r.emulator?qp(r,QR):`https://${r.authDomain}/${KR}`}const Qm="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xT,this._completeRedirectFn=TR,this._overrideRedirectResult=yR}async _openPopup(t,n,a,l){Us(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await p0(t,n,a,up(),l);return GR(t,h,Yp())}async _openRedirect(t,n,a,l){await this._originValidation(t);const h=await p0(t,n,a,up(),l);return tR(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Us(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await UR(t),a=new wR(t);return n.register("authEvent",l=>(Ut(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Qm,{type:Qm},l=>{const h=l?.[0]?.[Qm];h!==void 0&&n(!!h),rs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return gT()||cT()||Zp()}}const JR=WR;var g0="@firebase/auth",_0="1.12.0";class $R{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function t2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e2(r){Zl(new Uo("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:p,authDomain:y}=a.options;Ut(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:p,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_T(r)},T=new DC(a,l,h,v);return VC(T,n),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Zl(new Uo("auth-internal",t=>{const n=Lf(t.getProvider("auth").getImmediate());return(a=>new $R(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),za(g0,_0,t2(r)),za(g0,_0,"esm2020")}const n2=300,i2=KE("authIdTokenMaxAge")||n2;let y0=null;const r2=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>i2)return;const l=n?.token;y0!==l&&(y0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function s2(r=$E()){const t=Bp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=kC(r,{popupRedirectResolver:JR,persistence:[uR,WC,xT]}),a=KE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const p=r2(h.toString());ZC(n,p,()=>p(n.currentUser)),GC(n,y=>p(y))}}const l=GE("auth");return l&&zC(n,`http://${l}`),n}function a2(){return document.getElementsByTagName("head")?.[0]??document}LC({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=Sr("internal-error");h.customData=l,n(h)},a.type="text/javascript",a.charset="UTF-8",a2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e2("Browser");var o2="firebase",l2="12.7.0";za(o2,l2,"app");var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ua,LT;(function(){var r;function t(V,D){function P(){}P.prototype=D.prototype,V.F=D.prototype,V.prototype=new P,V.prototype.constructor=V,V.D=function(H,B,F){for(var k=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)k[oe-2]=arguments[oe];return D.prototype[B].apply(H,k)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,D,P){P||(P=0);const H=Array(16);if(typeof D=="string")for(var B=0;B<16;++B)H[B]=D.charCodeAt(P++)|D.charCodeAt(P++)<<8|D.charCodeAt(P++)<<16|D.charCodeAt(P++)<<24;else for(B=0;B<16;++B)H[B]=D[P++]|D[P++]<<8|D[P++]<<16|D[P++]<<24;D=V.g[0],P=V.g[1],B=V.g[2];let F=V.g[3],k;k=D+(F^P&(B^F))+H[0]+3614090360&4294967295,D=P+(k<<7&4294967295|k>>>25),k=F+(B^D&(P^B))+H[1]+3905402710&4294967295,F=D+(k<<12&4294967295|k>>>20),k=B+(P^F&(D^P))+H[2]+606105819&4294967295,B=F+(k<<17&4294967295|k>>>15),k=P+(D^B&(F^D))+H[3]+3250441966&4294967295,P=B+(k<<22&4294967295|k>>>10),k=D+(F^P&(B^F))+H[4]+4118548399&4294967295,D=P+(k<<7&4294967295|k>>>25),k=F+(B^D&(P^B))+H[5]+1200080426&4294967295,F=D+(k<<12&4294967295|k>>>20),k=B+(P^F&(D^P))+H[6]+2821735955&4294967295,B=F+(k<<17&4294967295|k>>>15),k=P+(D^B&(F^D))+H[7]+4249261313&4294967295,P=B+(k<<22&4294967295|k>>>10),k=D+(F^P&(B^F))+H[8]+1770035416&4294967295,D=P+(k<<7&4294967295|k>>>25),k=F+(B^D&(P^B))+H[9]+2336552879&4294967295,F=D+(k<<12&4294967295|k>>>20),k=B+(P^F&(D^P))+H[10]+4294925233&4294967295,B=F+(k<<17&4294967295|k>>>15),k=P+(D^B&(F^D))+H[11]+2304563134&4294967295,P=B+(k<<22&4294967295|k>>>10),k=D+(F^P&(B^F))+H[12]+1804603682&4294967295,D=P+(k<<7&4294967295|k>>>25),k=F+(B^D&(P^B))+H[13]+4254626195&4294967295,F=D+(k<<12&4294967295|k>>>20),k=B+(P^F&(D^P))+H[14]+2792965006&4294967295,B=F+(k<<17&4294967295|k>>>15),k=P+(D^B&(F^D))+H[15]+1236535329&4294967295,P=B+(k<<22&4294967295|k>>>10),k=D+(B^F&(P^B))+H[1]+4129170786&4294967295,D=P+(k<<5&4294967295|k>>>27),k=F+(P^B&(D^P))+H[6]+3225465664&4294967295,F=D+(k<<9&4294967295|k>>>23),k=B+(D^P&(F^D))+H[11]+643717713&4294967295,B=F+(k<<14&4294967295|k>>>18),k=P+(F^D&(B^F))+H[0]+3921069994&4294967295,P=B+(k<<20&4294967295|k>>>12),k=D+(B^F&(P^B))+H[5]+3593408605&4294967295,D=P+(k<<5&4294967295|k>>>27),k=F+(P^B&(D^P))+H[10]+38016083&4294967295,F=D+(k<<9&4294967295|k>>>23),k=B+(D^P&(F^D))+H[15]+3634488961&4294967295,B=F+(k<<14&4294967295|k>>>18),k=P+(F^D&(B^F))+H[4]+3889429448&4294967295,P=B+(k<<20&4294967295|k>>>12),k=D+(B^F&(P^B))+H[9]+568446438&4294967295,D=P+(k<<5&4294967295|k>>>27),k=F+(P^B&(D^P))+H[14]+3275163606&4294967295,F=D+(k<<9&4294967295|k>>>23),k=B+(D^P&(F^D))+H[3]+4107603335&4294967295,B=F+(k<<14&4294967295|k>>>18),k=P+(F^D&(B^F))+H[8]+1163531501&4294967295,P=B+(k<<20&4294967295|k>>>12),k=D+(B^F&(P^B))+H[13]+2850285829&4294967295,D=P+(k<<5&4294967295|k>>>27),k=F+(P^B&(D^P))+H[2]+4243563512&4294967295,F=D+(k<<9&4294967295|k>>>23),k=B+(D^P&(F^D))+H[7]+1735328473&4294967295,B=F+(k<<14&4294967295|k>>>18),k=P+(F^D&(B^F))+H[12]+2368359562&4294967295,P=B+(k<<20&4294967295|k>>>12),k=D+(P^B^F)+H[5]+4294588738&4294967295,D=P+(k<<4&4294967295|k>>>28),k=F+(D^P^B)+H[8]+2272392833&4294967295,F=D+(k<<11&4294967295|k>>>21),k=B+(F^D^P)+H[11]+1839030562&4294967295,B=F+(k<<16&4294967295|k>>>16),k=P+(B^F^D)+H[14]+4259657740&4294967295,P=B+(k<<23&4294967295|k>>>9),k=D+(P^B^F)+H[1]+2763975236&4294967295,D=P+(k<<4&4294967295|k>>>28),k=F+(D^P^B)+H[4]+1272893353&4294967295,F=D+(k<<11&4294967295|k>>>21),k=B+(F^D^P)+H[7]+4139469664&4294967295,B=F+(k<<16&4294967295|k>>>16),k=P+(B^F^D)+H[10]+3200236656&4294967295,P=B+(k<<23&4294967295|k>>>9),k=D+(P^B^F)+H[13]+681279174&4294967295,D=P+(k<<4&4294967295|k>>>28),k=F+(D^P^B)+H[0]+3936430074&4294967295,F=D+(k<<11&4294967295|k>>>21),k=B+(F^D^P)+H[3]+3572445317&4294967295,B=F+(k<<16&4294967295|k>>>16),k=P+(B^F^D)+H[6]+76029189&4294967295,P=B+(k<<23&4294967295|k>>>9),k=D+(P^B^F)+H[9]+3654602809&4294967295,D=P+(k<<4&4294967295|k>>>28),k=F+(D^P^B)+H[12]+3873151461&4294967295,F=D+(k<<11&4294967295|k>>>21),k=B+(F^D^P)+H[15]+530742520&4294967295,B=F+(k<<16&4294967295|k>>>16),k=P+(B^F^D)+H[2]+3299628645&4294967295,P=B+(k<<23&4294967295|k>>>9),k=D+(B^(P|~F))+H[0]+4096336452&4294967295,D=P+(k<<6&4294967295|k>>>26),k=F+(P^(D|~B))+H[7]+1126891415&4294967295,F=D+(k<<10&4294967295|k>>>22),k=B+(D^(F|~P))+H[14]+2878612391&4294967295,B=F+(k<<15&4294967295|k>>>17),k=P+(F^(B|~D))+H[5]+4237533241&4294967295,P=B+(k<<21&4294967295|k>>>11),k=D+(B^(P|~F))+H[12]+1700485571&4294967295,D=P+(k<<6&4294967295|k>>>26),k=F+(P^(D|~B))+H[3]+2399980690&4294967295,F=D+(k<<10&4294967295|k>>>22),k=B+(D^(F|~P))+H[10]+4293915773&4294967295,B=F+(k<<15&4294967295|k>>>17),k=P+(F^(B|~D))+H[1]+2240044497&4294967295,P=B+(k<<21&4294967295|k>>>11),k=D+(B^(P|~F))+H[8]+1873313359&4294967295,D=P+(k<<6&4294967295|k>>>26),k=F+(P^(D|~B))+H[15]+4264355552&4294967295,F=D+(k<<10&4294967295|k>>>22),k=B+(D^(F|~P))+H[6]+2734768916&4294967295,B=F+(k<<15&4294967295|k>>>17),k=P+(F^(B|~D))+H[13]+1309151649&4294967295,P=B+(k<<21&4294967295|k>>>11),k=D+(B^(P|~F))+H[4]+4149444226&4294967295,D=P+(k<<6&4294967295|k>>>26),k=F+(P^(D|~B))+H[11]+3174756917&4294967295,F=D+(k<<10&4294967295|k>>>22),k=B+(D^(F|~P))+H[2]+718787259&4294967295,B=F+(k<<15&4294967295|k>>>17),k=P+(F^(B|~D))+H[9]+3951481745&4294967295,V.g[0]=V.g[0]+D&4294967295,V.g[1]=V.g[1]+(B+(k<<21&4294967295|k>>>11))&4294967295,V.g[2]=V.g[2]+B&4294967295,V.g[3]=V.g[3]+F&4294967295}a.prototype.v=function(V,D){D===void 0&&(D=V.length);const P=D-this.blockSize,H=this.C;let B=this.h,F=0;for(;F<D;){if(B==0)for(;F<=P;)l(this,V,F),F+=this.blockSize;if(typeof V=="string"){for(;F<D;)if(H[B++]=V.charCodeAt(F++),B==this.blockSize){l(this,H),B=0;break}}else for(;F<D;)if(H[B++]=V[F++],B==this.blockSize){l(this,H),B=0;break}}this.h=B,this.o+=D},a.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var D=1;D<V.length-8;++D)V[D]=0;D=this.o*8;for(var P=V.length-8;P<V.length;++P)V[P]=D&255,D/=256;for(this.v(V),V=Array(16),D=0,P=0;P<4;++P)for(let H=0;H<32;H+=8)V[D++]=this.g[P]>>>H&255;return V};function h(V,D){var P=y;return Object.prototype.hasOwnProperty.call(P,V)?P[V]:P[V]=D(V)}function p(V,D){this.h=D;const P=[];let H=!0;for(let B=V.length-1;B>=0;B--){const F=V[B]|0;H&&F==D||(P[B]=F,H=!1)}this.g=P}var y={};function v(V){return-128<=V&&V<128?h(V,function(D){return new p([D|0],D<0?-1:0)}):new p([V|0],V<0?-1:0)}function T(V){if(isNaN(V)||!isFinite(V))return C;if(V<0)return q(T(-V));const D=[];let P=1;for(let H=0;V>=P;H++)D[H]=V/P|0,P*=4294967296;return new p(D,0)}function S(V,D){if(V.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(V.charAt(0)=="-")return q(S(V.substring(1),D));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=T(Math.pow(D,8));let H=C;for(let F=0;F<V.length;F+=8){var B=Math.min(8,V.length-F);const k=parseInt(V.substring(F,F+B),D);B<8?(B=T(Math.pow(D,B)),H=H.j(B).add(T(k))):(H=H.j(P),H=H.add(T(k)))}return H}var C=v(0),M=v(1),Z=v(16777216);r=p.prototype,r.m=function(){if(Q(this))return-q(this).m();let V=0,D=1;for(let P=0;P<this.g.length;P++){const H=this.i(P);V+=(H>=0?H:4294967296+H)*D,D*=4294967296}return V},r.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(et(this))return"0";if(Q(this))return"-"+q(this).toString(V);const D=T(Math.pow(V,6));var P=this;let H="";for(;;){const B=Dt(P,D).g;P=mt(P,B.j(D));let F=((P.g.length>0?P.g[0]:P.h)>>>0).toString(V);if(P=B,et(P))return F+H;for(;F.length<6;)F="0"+F;H=F+H}},r.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function et(V){if(V.h!=0)return!1;for(let D=0;D<V.g.length;D++)if(V.g[D]!=0)return!1;return!0}function Q(V){return V.h==-1}r.l=function(V){return V=mt(this,V),Q(V)?-1:et(V)?0:1};function q(V){const D=V.g.length,P=[];for(let H=0;H<D;H++)P[H]=~V.g[H];return new p(P,~V.h).add(M)}r.abs=function(){return Q(this)?q(this):this},r.add=function(V){const D=Math.max(this.g.length,V.g.length),P=[];let H=0;for(let B=0;B<=D;B++){let F=H+(this.i(B)&65535)+(V.i(B)&65535),k=(F>>>16)+(this.i(B)>>>16)+(V.i(B)>>>16);H=k>>>16,F&=65535,k&=65535,P[B]=k<<16|F}return new p(P,P[P.length-1]&-2147483648?-1:0)};function mt(V,D){return V.add(q(D))}r.j=function(V){if(et(this)||et(V))return C;if(Q(this))return Q(V)?q(this).j(q(V)):q(q(this).j(V));if(Q(V))return q(this.j(q(V)));if(this.l(Z)<0&&V.l(Z)<0)return T(this.m()*V.m());const D=this.g.length+V.g.length,P=[];for(var H=0;H<2*D;H++)P[H]=0;for(H=0;H<this.g.length;H++)for(let B=0;B<V.g.length;B++){const F=this.i(H)>>>16,k=this.i(H)&65535,oe=V.i(B)>>>16,Xe=V.i(B)&65535;P[2*H+2*B]+=k*Xe,dt(P,2*H+2*B),P[2*H+2*B+1]+=F*Xe,dt(P,2*H+2*B+1),P[2*H+2*B+1]+=k*oe,dt(P,2*H+2*B+1),P[2*H+2*B+2]+=F*oe,dt(P,2*H+2*B+2)}for(V=0;V<D;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=D;V<2*D;V++)P[V]=0;return new p(P,0)};function dt(V,D){for(;(V[D]&65535)!=V[D];)V[D+1]+=V[D]>>>16,V[D]&=65535,D++}function ht(V,D){this.g=V,this.h=D}function Dt(V,D){if(et(D))throw Error("division by zero");if(et(V))return new ht(C,C);if(Q(V))return D=Dt(q(V),D),new ht(q(D.g),q(D.h));if(Q(D))return D=Dt(V,q(D)),new ht(q(D.g),D.h);if(V.g.length>30){if(Q(V)||Q(D))throw Error("slowDivide_ only works with positive integers.");for(var P=M,H=D;H.l(V)<=0;)P=Ot(P),H=Ot(H);var B=Bt(P,1),F=Bt(H,1);for(H=Bt(H,2),P=Bt(P,2);!et(H);){var k=F.add(H);k.l(V)<=0&&(B=B.add(P),F=k),H=Bt(H,1),P=Bt(P,1)}return D=mt(V,B.j(D)),new ht(B,D)}for(B=C;V.l(D)>=0;){for(P=Math.max(1,Math.floor(V.m()/D.m())),H=Math.ceil(Math.log(P)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),F=T(P),k=F.j(D);Q(k)||k.l(V)>0;)P-=H,F=T(P),k=F.j(D);et(F)&&(F=M),B=B.add(F),V=mt(V,k)}return new ht(B,V)}r.B=function(V){return Dt(this,V).h},r.and=function(V){const D=Math.max(this.g.length,V.g.length),P=[];for(let H=0;H<D;H++)P[H]=this.i(H)&V.i(H);return new p(P,this.h&V.h)},r.or=function(V){const D=Math.max(this.g.length,V.g.length),P=[];for(let H=0;H<D;H++)P[H]=this.i(H)|V.i(H);return new p(P,this.h|V.h)},r.xor=function(V){const D=Math.max(this.g.length,V.g.length),P=[];for(let H=0;H<D;H++)P[H]=this.i(H)^V.i(H);return new p(P,this.h^V.h)};function Ot(V){const D=V.g.length+1,P=[];for(let H=0;H<D;H++)P[H]=V.i(H)<<1|V.i(H-1)>>>31;return new p(P,V.h)}function Bt(V,D){const P=D>>5;D%=32;const H=V.g.length-P,B=[];for(let F=0;F<H;F++)B[F]=D>0?V.i(F+P)>>>D|V.i(F+P+1)<<32-D:V.i(F+P);return new p(B,V.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,LT=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=T,p.fromString=S,Ua=p}).apply(typeof v0<"u"?v0:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var MT,nc,OT,rf,fp,PT,kT,VT;(function(){var r,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var E=0;E<f.length;++E){var x=f[E];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var a=n(this);function l(f,E){if(E)t:{var x=a;f=f.split(".");for(var N=0;N<f.length-1;N++){var X=f[N];if(!(X in x))break t;x=x[X]}f=f[f.length-1],N=x[f],E=E(N),E!=N&&E!=null&&t(x,f,{configurable:!0,writable:!0,value:E})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(E){var x=[],N;for(N in E)Object.prototype.hasOwnProperty.call(E,N)&&x.push([N,E[N]]);return x}});var h=h||{},p=this||self;function y(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function v(f,E,x){return f.call.apply(f.bind,arguments)}function T(f,E,x){return T=v,T.apply(null,arguments)}function S(f,E){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function C(f,E){function x(){}x.prototype=E.prototype,f.Z=E.prototype,f.prototype=new x,f.prototype.constructor=f,f.Ob=function(N,X,nt){for(var yt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)yt[zt-2]=arguments[zt];return E.prototype[X].apply(N,yt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function Z(f){const E=f.length;if(E>0){const x=Array(E);for(let N=0;N<E;N++)x[N]=f[N];return x}return[]}function et(f,E){for(let N=1;N<arguments.length;N++){const X=arguments[N];var x=typeof X;if(x=x!="object"?x:X?Array.isArray(X)?"array":x:"null",x=="array"||x=="object"&&typeof X.length=="number"){x=f.length||0;const nt=X.length||0;f.length=x+nt;for(let yt=0;yt<nt;yt++)f[x+yt]=X[yt]}else f.push(X)}}class Q{constructor(E,x){this.i=E,this.j=x,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function q(f){p.setTimeout(()=>{throw f},0)}function mt(){var f=V;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class dt{constructor(){this.h=this.g=null}add(E,x){const N=ht.get();N.set(E,x),this.h?this.h.next=N:this.g=N,this.h=N}}var ht=new Q(()=>new Dt,f=>f.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(E,x){this.h=E,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Ot,Bt=!1,V=new dt,D=()=>{const f=Promise.resolve(void 0);Ot=()=>{f.then(P)}};function P(){for(var f;f=mt();){try{f.h.call(f.g)}catch(x){q(x)}var E=ht;E.j(f),E.h<100&&(E.h++,f.next=E.g,E.g=f)}Bt=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const x=()=>{};p.addEventListener("test",x,E),p.removeEventListener("test",x,E)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function oe(f,E){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,E)}C(oe,B),oe.prototype.init=function(f,E){const x=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget,E||(x=="mouseover"?E=f.fromElement:x=="mouseout"&&(E=f.toElement)),this.relatedTarget=E,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),rt=0;function vt(f,E,x,N,X){this.listener=f,this.proxy=null,this.src=E,this.type=x,this.capture=!!N,this.ha=X,this.key=++rt,this.da=this.fa=!1}function pt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function te(f,E,x){for(const N in f)E.call(x,f[N],N,f)}function wt(f,E){for(const x in f)E.call(void 0,f[x],x,f)}function U(f){const E={};for(const x in f)E[x]=f[x];return E}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(f,E){let x,N;for(let X=1;X<arguments.length;X++){N=arguments[X];for(x in N)f[x]=N[x];for(let nt=0;nt<st.length;nt++)x=st[nt],Object.prototype.hasOwnProperty.call(N,x)&&(f[x]=N[x])}}function _t(f){this.src=f,this.g={},this.h=0}_t.prototype.add=function(f,E,x,N,X){const nt=f.toString();f=this.g[nt],f||(f=this.g[nt]=[],this.h++);const yt=Tt(f,E,N,X);return yt>-1?(E=f[yt],x||(E.fa=!1)):(E=new vt(E,this.src,nt,!!N,X),E.fa=x,f.push(E)),E};function bt(f,E){const x=E.type;if(x in f.g){var N=f.g[x],X=Array.prototype.indexOf.call(N,E,void 0),nt;(nt=X>=0)&&Array.prototype.splice.call(N,X,1),nt&&(pt(E),f.g[x].length==0&&(delete f.g[x],f.h--))}}function Tt(f,E,x,N){for(let X=0;X<f.length;++X){const nt=f[X];if(!nt.da&&nt.listener==E&&nt.capture==!!x&&nt.ha==N)return X}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),be={};function Ae(f,E,x,N,X){if(Array.isArray(E)){for(let nt=0;nt<E.length;nt++)Ae(f,E[nt],x,N,X);return null}return x=Dr(x),f&&f[Xe]?f.J(E,x,y(N)?!!N.capture:!1,X):sr(f,E,x,!1,N,X)}function sr(f,E,x,N,X,nt){if(!E)throw Error("Invalid event type");const yt=y(X)?!!X.capture:!!X;let zt=Nr(f);if(zt||(f[Ht]=zt=new _t(f)),x=zt.add(E,x,N,yt,nt),x.proxy)return x;if(N=Rr(),x.proxy=N,N.src=f,N.listener=x,f.addEventListener)F||(X=yt),X===void 0&&(X=!1),f.addEventListener(E.toString(),N,X);else if(f.attachEvent)f.attachEvent(Pi(E.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Rr(){function f(x){return E.call(f.src,f.listener,x)}const E=Gs;return f}function Oi(f,E,x,N,X){if(Array.isArray(E))for(var nt=0;nt<E.length;nt++)Oi(f,E[nt],x,N,X);else N=y(N)?!!N.capture:!!N,x=Dr(x),f&&f[Xe]?(f=f.i,nt=String(E).toString(),nt in f.g&&(E=f.g[nt],x=Tt(E,x,N,X),x>-1&&(pt(E[x]),Array.prototype.splice.call(E,x,1),E.length==0&&(delete f.g[nt],f.h--)))):f&&(f=Nr(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Tt(E,x,N,X)),(x=f>-1?E[f]:null)&&Ir(x))}function Ir(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Xe])bt(E.i,f);else{var x=f.type,N=f.proxy;E.removeEventListener?E.removeEventListener(x,N,f.capture):E.detachEvent?E.detachEvent(Pi(x),N):E.addListener&&E.removeListener&&E.removeListener(N),(x=Nr(E))?(bt(x,f),x.h==0&&(x.src=null,E[Ht]=null)):pt(f)}}}function Pi(f){return f in be?be[f]:be[f]="on"+f}function Gs(f,E){if(f.da)f=!0;else{E=new oe(E,this);const x=f.listener,N=f.ha||f.src;f.fa&&Ir(f),f=x.call(N,E)}return f}function Nr(f){return f=f[Ht],f instanceof _t?f:null}var as="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dr(f){return typeof f=="function"?f:(f[as]||(f[as]=function(E){return f.handleEvent(E)}),f[as])}function qe(){H.call(this),this.i=new _t(this),this.M=this,this.G=null}C(qe,H),qe.prototype[Xe]=!0,qe.prototype.removeEventListener=function(f,E,x,N){Oi(this,f,E,x,N)};function Fe(f,E){var x,N=f.G;if(N)for(x=[];N;N=N.G)x.push(N);if(f=f.M,N=E.type||E,typeof E=="string")E=new B(E,f);else if(E instanceof B)E.target=E.target||f;else{var X=E;E=new B(N,f),gt(E,X)}X=!0;let nt,yt;if(x)for(yt=x.length-1;yt>=0;yt--)nt=E.g=x[yt],X=ki(nt,N,!0,E)&&X;if(nt=E.g=f,X=ki(nt,N,!0,E)&&X,X=ki(nt,N,!1,E)&&X,x)for(yt=0;yt<x.length;yt++)nt=E.g=x[yt],X=ki(nt,N,!1,E)&&X}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var f=this.i;for(const E in f.g){const x=f.g[E];for(let N=0;N<x.length;N++)pt(x[N]);delete f.g[E],f.h--}}this.G=null},qe.prototype.J=function(f,E,x,N){return this.i.add(String(f),E,!1,x,N)},qe.prototype.K=function(f,E,x,N){return this.i.add(String(f),E,!0,x,N)};function ki(f,E,x,N){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();let X=!0;for(let nt=0;nt<E.length;++nt){const yt=E[nt];if(yt&&!yt.da&&yt.capture==x){const zt=yt.listener,le=yt.ha||yt.src;yt.fa&&bt(f.i,yt),X=zt.call(le,N)!==!1&&X}}return X&&!N.defaultPrevented}function Yo(f,E){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:p.setTimeout(f,E||0)}function Qa(f){f.g=Yo(()=>{f.g=null,f.i&&(f.i=!1,Qa(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class xn extends H{constructor(E,x){super(),this.m=E,this.l=x,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Qa(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(f){H.call(this),this.h=f,this.g={}}C(os,H);var ls=[];function Zs(f){te(f.g,function(E,x){this.g.hasOwnProperty(x)&&Ir(E)},f),f.g={}}os.prototype.N=function(){os.Z.N.call(this),Zs(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=p.JSON.stringify,du=p.JSON.parse,Ya=class{stringify(f){return p.JSON.stringify(f,void 0)}parse(f){return p.JSON.parse(f,void 0)}};function Xa(){}function Xo(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function We(){B.call(this,"d")}C(We,B);function Hn(){B.call(this,"c")}C(Hn,B);var ze={},Lr=null;function Ks(){return Lr=Lr||new qe}ze.Ia="serverreachability";function Wo(f){B.call(this,ze.Ia,f)}C(Wo,B);function pi(f){const E=Ks();Fe(E,new Wo(E))}ze.STAT_EVENT="statevent";function Mr(f,E){B.call(this,ze.STAT_EVENT,f),this.stat=E}C(Mr,B);function Ue(f){const E=Ks();Fe(E,new Mr(E,f))}ze.Ja="timingevent";function Vi(f,E){B.call(this,ze.Ja,f),this.size=E}C(Vi,B);function zi(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){f()},E)}function gi(){this.g=!0}gi.prototype.ua=function(){this.g=!1};function mu(f,E,x,N,X,nt){f.info(function(){if(f.g)if(nt){var yt="",zt=nt.split("&");for(let ue=0;ue<zt.length;ue++){var le=zt[ue].split("=");if(le.length>1){const Re=le[0];le=le[1];const ii=Re.split("_");yt=ii.length>=2&&ii[1]=="type"?yt+(Re+"="+le+"&"):yt+(Re+"=redacted&")}}}else yt=null;else yt=nt;return"XMLHTTP REQ ("+N+") [attempt "+X+"]: "+E+`
`+x+`
`+yt})}function Jo(f,E,x,N,X,nt,yt){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+X+"]: "+E+`
`+x+`
`+nt+" "+yt})}function Ui(f,E,x,N){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+pu(f,x)+(N?" "+N:"")})}function or(f,E){f.info(function(){return"TIMEOUT: "+E})}gi.prototype.info=function(){};function pu(f,E){if(!f.g)return E;if(!E)return null;try{const nt=JSON.parse(E);if(nt){for(f=0;f<nt.length;f++)if(Array.isArray(nt[f])){var x=nt[f];if(!(x.length<2)){var N=x[1];if(Array.isArray(N)&&!(N.length<1)){var X=N[0];if(X!="noop"&&X!="stop"&&X!="close")for(let yt=1;yt<N.length;yt++)N[yt]=""}}}}return ar(nt)}catch{return E}}var us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ja;function pn(){}C(pn,Xa),pn.prototype.g=function(){return new XMLHttpRequest},Ja=new pn;function Ct(f){return encodeURIComponent(String(f))}function $a(f){var E=1;f=f.split(":");const x=[];for(;E>0&&f.length;)x.push(f.shift()),E--;return f.length&&x.push(f.join(":")),x}function Xn(f,E,x,N){this.j=f,this.i=E,this.l=x,this.S=N||1,this.V=new os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Be={},Ge={};function _i(f,E,x){f.M=1,f.A=ye(De(E)),f.u=x,f.R=!0,yi(f,null)}function yi(f,E){f.F=Date.now(),Bi(f),f.B=De(f.A);var x=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),Pr(x.i,"t",N),f.C=0,x=f.j.L,f.h=new Wn,f.g=ao(f.j,x?E:null,!f.u),f.P>0&&(f.O=new xn(T(f.Y,f,f.g),f.P)),E=f.V,x=f.g,N=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(ls[0]=X.toString()),X=ls);for(let nt=0;nt<X.length;nt++){const yt=Ae(x,X[nt],N||E.handleEvent,!1,E.h||E);if(!yt)break;E.g[yt.key]=yt}E=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,E)):(f.v="GET",f.g.ea(f.B,f.v,null,E)),pi(),mu(f.i,f.v,f.B,f.l,f.S,f.u)}Xn.prototype.ba=function(f){f=f.target;const E=this.O;E&&bi(f)==3?E.j():this.Y(f)},Xn.prototype.Y=function(f){try{if(f==this.g)t:{const zt=bi(this.g),le=this.g.ya(),ue=this.g.ca();if(!(zt<3)&&(zt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||zt!=4||le==7||(le==8||ue<=0?pi(3):pi(2)),vi(this);var E=this.g.ca();this.X=E;var x=$o(this);if(this.o=E==200,Jo(this.i,this.v,this.B,this.l,this.S,zt,E),this.o){if(this.U&&!this.L){e:{if(this.g){var N,X=this.g;if((N=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(N)){var nt=N;break e}}nt=null}if(f=nt)Ui(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ji(this,f);else{this.o=!1,this.m=3,Ue(12),gn(this),Jn(this);break t}}if(this.R){f=!0;let Re;for(;!this.K&&this.C<x.length;)if(Re=el(this,x),Re==Ge){zt==4&&(this.m=4,Ue(14),f=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(Re==Be){this.m=4,Ue(15),Ui(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Ui(this.i,this.l,Re,null),ji(this,Re);if(tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||x.length!=0||this.h.h||(this.m=1,Ue(16),f=!1),this.o=this.o&&f,!f)Ui(this.i,this.l,x,"[Invalid Chunked Response]"),gn(this),Jn(this);else if(x.length>0&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.aa&&!yt.P&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),ro(yt),yt.P=!0,Ue(11))}}else Ui(this.i,this.l,x,null),ji(this,x);zt==4&&gn(this),this.o&&!this.K&&(zt==4?Gn(this.j,this):(this.o=!1,Bi(this)))}else wi(this.g),E==400&&x.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),gn(this),Jn(this)}}}catch{}};function $o(f){if(!tl(f))return f.g.la();const E=nn(f.g);if(E==="")return"";let x="";const N=E.length,X=bi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return gn(f),Jn(f),"";f.h.i=new p.TextDecoder}for(let nt=0;nt<N;nt++)f.h.h=!0,x+=f.h.i.decode(E[nt],{stream:!(X&&nt==N-1)});return E.length=0,f.h.g+=x,f.C=0,f.h.g}function tl(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function el(f,E){var x=f.C,N=E.indexOf(`
`,x);return N==-1?Ge:(x=Number(E.substring(x,N)),isNaN(x)?Be:(N+=1,N+x>E.length?Ge:(E=E.slice(N,N+x),f.C=N+x,E)))}Xn.prototype.cancel=function(){this.K=!0,gn(this)};function Bi(f){f.T=Date.now()+f.H,Qs(f,f.H)}function Qs(f,E){if(f.D!=null)throw Error("WatchDog timer not null");f.D=zi(T(f.aa,f),E)}function vi(f){f.D&&(p.clearTimeout(f.D),f.D=null)}Xn.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(or(this.i,this.B),this.M!=2&&(pi(),Ue(17)),gn(this),this.m=2,Jn(this)):Qs(this,this.T-f)};function Jn(f){f.j.I==0||f.K||Gn(f.j,f)}function gn(f){vi(f);var E=f.O;E&&typeof E.dispose=="function"&&E.dispose(),f.O=null,Zs(f.V),f.g&&(E=f.g,f.g=null,E.abort(),E.dispose())}function ji(f,E){try{var x=f.j;if(x.I!=0&&(x.g==f||$n(x.h,f))){if(!f.L&&$n(x.h,f)&&x.I==3){try{var N=x.Ba.g.parse(E)}catch{N=null}if(Array.isArray(N)&&N.length==3){var X=N;if(X[0]==0){t:if(!x.v){if(x.g)if(x.g.F+3e3<f.F)ea(x),Ur(x);else break t;ps(x),Ue(18)}}else x.xa=X[1],0<x.xa-x.K&&X[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=zi(T(x.Va,x),6e3));Hi(x.h)<=1&&x.ta&&(x.ta=void 0)}else xi(x,11)}else if((f.L||x.g==f)&&ea(x),!k(E))for(X=x.Ba.g.parse(E),E=0;E<X.length;E++){let ue=X[E];const Re=ue[0];if(!(Re<=x.K))if(x.K=Re,ue=ue[1],x.I==2)if(ue[0]=="c"){x.M=ue[1],x.ba=ue[2];const ii=ue[3];ii!=null&&(x.ka=ii,x.j.info("VER="+x.ka));const ri=ue[4];ri!=null&&(x.za=ri,x.j.info("SVER="+x.za));const Zn=ue[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(N=1.5*Zn,x.O=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const Ai=f.g;if(Ai){const gs=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var nt=N.h;nt.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(lr(nt,nt.h),nt.h=null))}if(N.G){const _s=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;_s&&(N.wa=_s,xt(N.J,N.G,_s))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-f.F,x.j.info("Handshake RTT: "+x.T+"ms")),N=x;var yt=f;if(N.na=so(N,N.L?N.ba:null,N.W),yt.L){Ys(N.h,yt);var zt=yt,le=N.O;le&&(zt.H=le),zt.D&&(vi(zt),Bi(zt)),N.g=yt}else io(N);x.i.length>0&&On(x)}else ue[0]!="stop"&&ue[0]!="close"||xi(x,7);else x.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?xi(x,7):Qt(x):ue[0]!="noop"&&x.l&&x.l.qa(ue),x.A=0)}}pi(4)}catch{}}var Ze=class{constructor(f,E){this.g=f,this.map=E}};function to(f){this.l=f||10,p.PerformanceNavigationTiming?(f=p.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function eo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Hi(f){return f.h?1:f.g?f.g.size:0}function $n(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function lr(f,E){f.g?f.g.add(E):f.h=E}function Ys(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}to.prototype.cancel=function(){if(this.i=Xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Xs(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const x of f.g.values())E=E.concat(x.G);return E}return Z(f.i)}var Or=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yt(f,E){if(f){f=f.split("&");for(let x=0;x<f.length;x++){const N=f[x].indexOf("=");let X,nt=null;N>=0?(X=f[x].substring(0,N),nt=f[x].substring(N+1)):X=f[x],E(X,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function Xt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;f instanceof Xt?(this.l=f.l,Le(this,f.j),this.o=f.o,this.g=f.g,qn(this,f.u),this.h=f.h,cs(this,ds(f.i)),this.m=f.m):f&&(E=String(f).match(Or))?(this.l=!1,Le(this,E[1]||"",!0),this.o=ti(E[2]||""),this.g=ti(E[3]||"",!0),qn(this,E[4]),this.h=ti(E[5]||"",!0),cs(this,E[6]||"",!0),this.m=ti(E[7]||"")):(this.l=!1,this.i=new ei(null,this.l))}Xt.prototype.toString=function(){const f=[];var E=this.j;E&&f.push(qi(E,Ws,!0),":");var x=this.g;return(x||E=="file")&&(f.push("//"),(E=this.o)&&f.push(qi(E,Ws,!0),"@"),f.push(Ct(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&f.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&f.push("/"),f.push(qi(x,x.charAt(0)=="/"?Ei:hs,!0))),(x=this.i.toString())&&f.push("?",x),(x=this.m)&&f.push("#",qi(x,Fi)),f.join("")},Xt.prototype.resolve=function(f){const E=De(this);let x=!!f.j;x?Le(E,f.j):x=!!f.o,x?E.o=f.o:x=!!f.g,x?E.g=f.g:x=f.u!=null;var N=f.h;if(x)qn(E,f.u);else if(x=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var X=E.h.lastIndexOf("/");X!=-1&&(N=E.h.slice(0,X+1)+N)}if(X=N,X==".."||X==".")N="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){N=X.lastIndexOf("/",0)==0,X=X.split("/");const nt=[];for(let yt=0;yt<X.length;){const zt=X[yt++];zt=="."?N&&yt==X.length&&nt.push(""):zt==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),N&&yt==X.length&&nt.push("")):(nt.push(zt),N=!0)}N=nt.join("/")}else N=X}return x?E.h=N:x=f.i.toString()!=="",x?cs(E,ds(f.i)):x=!!f.m,x&&(E.m=f.m),E};function De(f){return new Xt(f)}function Le(f,E,x){f.j=x?ti(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function qn(f,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);f.u=E}else f.u=null}function cs(f,E,x){E instanceof ei?(f.i=E,kr(f.i,f.l)):(x||(E=qi(E,ve)),f.i=new ei(E,f.l))}function xt(f,E,x){f.i.set(E,x)}function ye(f){return xt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ti(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qi(f,E,x){return typeof f=="string"?(f=encodeURI(f).replace(E,Ce),x&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ce(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ws=/[#\/\?@]/g,hs=/[#\?:]/g,Ei=/[#\?]/g,ve=/[#\?@]/g,Fi=/#/g;function ei(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function en(f){f.g||(f.g=new Map,f.h=0,f.i&&Yt(f.i,function(E,x){f.add(decodeURIComponent(E.replace(/\+/g," ")),x)}))}r=ei.prototype,r.add=function(f,E){en(this),this.i=null,f=Gi(this,f);let x=this.g.get(f);return x||this.g.set(f,x=[]),x.push(E),this.h+=1,this};function Js(f,E){en(f),E=Gi(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function ur(f,E){return en(f),E=Gi(f,E),f.g.has(E)}r.forEach=function(f,E){en(this),this.g.forEach(function(x,N){x.forEach(function(X){f.call(E,X,N,this)},this)},this)};function fs(f,E){en(f);let x=[];if(typeof E=="string")ur(f,E)&&(x=x.concat(f.g.get(Gi(f,E))));else for(f=Array.from(f.g.values()),E=0;E<f.length;E++)x=x.concat(f[E]);return x}r.set=function(f,E){return en(this),this.i=null,f=Gi(this,f),ur(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},r.get=function(f,E){return f?(f=fs(this,f),f.length>0?String(f[0]):E):E};function Pr(f,E,x){Js(f,E),x.length>0&&(f.i=null,f.g.set(Gi(f,E),Z(x)),f.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(let N=0;N<E.length;N++){var x=E[N];const X=Ct(x);x=fs(this,x);for(let nt=0;nt<x.length;nt++){let yt=X;x[nt]!==""&&(yt+="="+Ct(x[nt])),f.push(yt)}}return this.i=f.join("&")};function ds(f){const E=new ei;return E.i=f.i,f.g&&(E.g=new Map(f.g),E.h=f.h),E}function Gi(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function kr(f,E){E&&!f.j&&(en(f),f.i=null,f.g.forEach(function(x,N){const X=N.toLowerCase();N!=X&&(Js(this,N),Pr(this,X,x))},f)),f.j=E}function Dn(f,E){const x=new gi;if(p.Image){const N=new Image;N.onload=S(Ln,x,"TestLoadImage: loaded",!0,E,N),N.onerror=S(Ln,x,"TestLoadImage: error",!1,E,N),N.onabort=S(Ln,x,"TestLoadImage: abort",!1,E,N),N.ontimeout=S(Ln,x,"TestLoadImage: timeout",!1,E,N),p.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else E(!1)}function $s(f,E){const x=new gi,N=new AbortController,X=setTimeout(()=>{N.abort(),Ln(x,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:N.signal}).then(nt=>{clearTimeout(X),nt.ok?Ln(x,"TestPingServer: ok",!0,E):Ln(x,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),Ln(x,"TestPingServer: error",!1,E)})}function Ln(f,E,x,N,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),N(x)}catch{}}function Vr(){this.g=new Ya}function Pt(f){this.i=f.Sb||null,this.h=f.ab||!1}C(Pt,Xa),Pt.prototype.g=function(){return new _n(this.i,this.h)};function _n(f,E){qe.call(this),this.H=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(_n,qe),r=_n.prototype,r.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=E,this.readyState=1,Fn(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(E.body=f),(this.H||p).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},r.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;he(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function he(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}r.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?cr(this):Fn(this),this.readyState==3&&he(this)}},r.Oa=function(f){this.g&&(this.response=this.responseText=f,cr(this))},r.Na=function(f){this.g&&(this.response=f,cr(this))},r.ga=function(){this.g&&cr(this)};function cr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Fn(f)}r.setRequestHeader=function(f,E){this.A.append(f,E)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var x=E.next();!x.done;)x=x.value,f.push(x[0]+": "+x[1]),x=E.next();return f.join(`\r
`)};function Fn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Mn(f){let E="";return te(f,function(x,N){E+=N,E+=":",E+=x,E+=`\r
`}),E}function hr(f,E,x){t:{for(N in x){var N=!1;break t}N=!0}N||(x=Mn(x),typeof f=="string"?x!=null&&Ct(x):xt(f,E,x))}function ee(f){qe.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(ee,qe);var ni=/^https?$/i,fr=["POST","PUT"];r=ee.prototype,r.Fa=function(f){this.H=f},r.ea=function(f,E,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ja.g(),this.g.onreadystatechange=M(T(this.Ca,this));try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(nt){Me(this,nt);return}if(f=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var X in N)x.set(X,N[X]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const nt of N.keys())x.set(nt,N.get(nt));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(nt=>nt.toLowerCase()=="content-type"),X=p.FormData&&f instanceof p.FormData,!(Array.prototype.indexOf.call(fr,E,void 0)>=0)||N||X||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,yt]of x)this.g.setRequestHeader(nt,yt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(nt){Me(this,nt)}};function Me(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.o=5,Ti(f),Zi(f)}function Ti(f){f.A||(f.A=!0,Fe(f,"complete"),Fe(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Fe(this,"complete"),Fe(this,"abort"),Zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?zr(this):this.Xa())},r.Xa=function(){zr(this)};function zr(f){if(f.h&&typeof h<"u"){if(f.v&&bi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Fe(f,"readystatechange"),bi(f)==4){f.h=!1;try{const nt=f.ca();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var x;if(!(x=E)){var N;if(N=nt===0){let yt=String(f.D).match(Or)[1]||null;!yt&&p.self&&p.self.location&&(yt=p.self.location.protocol.slice(0,-1)),N=!ni.test(yt?yt.toLowerCase():"")}x=N}if(x)Fe(f,"complete"),Fe(f,"success");else{f.o=6;try{var X=bi(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",Ti(f)}}finally{Zi(f)}}}}function Zi(f,E){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const x=f.g;f.g=null,E||Fe(f,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function bi(f){return f.g?f.g.readyState:0}r.ca=function(){try{return bi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),du(E)}};function nn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function wi(f){const E={};f=(f.g&&bi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(k(f[N]))continue;var x=$a(f[N]);const X=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const nt=E[X]||[];E[X]=nt,nt.push(x)}wt(E,function(N){return N.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(f,E,x){return x&&x.internalChannelParams&&x.internalChannelParams[f]||E}function dr(f){this.za=0,this.i=[],this.j=new gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ki("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ki("baseRetryDelayMs",5e3,f),this.Za=Ki("retryDelaySeedMs",1e4,f),this.Ta=Ki("forwardChannelMaxRetries",2,f),this.va=Ki("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new to(f&&f.concurrentRequestLimit),this.Ba=new Vr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=dr.prototype,r.ka=8,r.I=1,r.connect=function(f,E,x,N){Ue(0),this.W=f,this.H=E||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.J=so(this,null,this.W),On(this)};function Qt(f){if(yn(f),f.I==3){var E=f.V++,x=De(f.J);if(xt(x,"SID",f.M),xt(x,"RID",E),xt(x,"TYPE","terminate"),mr(f,x),E=new Xn(f,f.j,E),E.M=2,E.A=ye(De(x)),x=!1,p.navigator&&p.navigator.sendBeacon)try{x=p.navigator.sendBeacon(E.A.toString(),"")}catch{}!x&&p.Image&&(new Image().src=E.A,x=!0),x||(E.g=ao(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Bi(E)}Si(f)}function Ur(f){f.g&&(ro(f),f.g.cancel(),f.g=null)}function yn(f){Ur(f),f.v&&(p.clearTimeout(f.v),f.v=null),ea(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&p.clearTimeout(f.m),f.m=null)}function On(f){if(!eo(f.h)&&!f.m){f.m=!0;var E=f.Ea;Ot||D(),Bt||(Ot(),Bt=!0),V.add(E,f),f.D=0}}function ms(f,E){return Hi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=E.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=zi(T(f.Ea,f,E),il(f,f.D)),f.D++,!0)}r.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new Xn(this,this.j,f);let nt=this.o;if(this.U&&(nt?(nt=U(nt),gt(nt,this.U)):nt=this.U),this.u!==null||this.R||(X.J=nt,nt=null),this.S)t:{for(var E=0,x=0;x<this.i.length;x++){e:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(E+=N,E>4096){E=x;break t}if(E===4096||x===this.i.length-1){E=x+1;break t}}E=1e3}else E=1e3;E=nl(this,X,E),x=De(this.J),xt(x,"RID",f),xt(x,"CVER",22),this.G&&xt(x,"X-HTTP-Session-Id",this.G),mr(this,x),nt&&(this.R?E="headers="+Ct(Mn(nt))+"&"+E:this.u&&hr(x,this.u,nt)),lr(this.h,X),this.Ra&&xt(x,"TYPE","init"),this.S?(xt(x,"$req",E),xt(x,"SID","null"),X.U=!0,_i(X,x,null)):_i(X,x,E),this.I=2}}else this.I==3&&(f?no(this,f):this.i.length==0||eo(this.h)||no(this))};function no(f,E){var x;E?x=E.l:x=f.V++;const N=De(f.J);xt(N,"SID",f.M),xt(N,"RID",x),xt(N,"AID",f.K),mr(f,N),f.u&&f.o&&hr(N,f.u,f.o),x=new Xn(f,f.j,x,f.D+1),f.u===null&&(x.J=f.o),E&&(f.i=E.G.concat(f.i)),E=nl(f,x,1e3),x.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),lr(f.h,x),_i(x,N,E)}function mr(f,E){f.H&&te(f.H,function(x,N){xt(E,N,x)}),f.l&&te({},function(x,N){xt(E,N,x)})}function nl(f,E,x){x=Math.min(f.i.length,x);const N=f.l?T(f.l.Ka,f.l,f):null;t:{var X=f.i;let zt=-1;for(;;){const le=["count="+x];zt==-1?x>0?(zt=X[0].g,le.push("ofs="+zt)):zt=0:le.push("ofs="+zt);let ue=!0;for(let Re=0;Re<x;Re++){var nt=X[Re].g;const ii=X[Re].map;if(nt-=zt,nt<0)zt=Math.max(0,X[Re].g-100),ue=!1;else try{nt="req"+nt+"_"||"";try{var yt=ii instanceof Map?ii:Object.entries(ii);for(const[ri,Zn]of yt){let Ai=Zn;y(Zn)&&(Ai=ar(Zn)),le.push(nt+ri+"="+encodeURIComponent(Ai))}}catch(ri){throw le.push(nt+"type="+encodeURIComponent("_badmap")),ri}}catch{N&&N(ii)}}if(ue){yt=le.join("&");break t}}yt=void 0}return f=f.i.splice(0,x),E.G=f,yt}function io(f){if(!f.g&&!f.v){f.Y=1;var E=f.Da;Ot||D(),Bt||(Ot(),Bt=!0),V.add(E,f),f.A=0}}function ps(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=zi(T(f.Da,f),il(f,f.A)),f.A++,!0)}r.Da=function(){if(this.v=null,ta(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=zi(T(this.Wa,this),f)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),Ur(this),ta(this))};function ro(f){f.B!=null&&(p.clearTimeout(f.B),f.B=null)}function ta(f){f.g=new Xn(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var E=De(f.na);xt(E,"RID","rpc"),xt(E,"SID",f.M),xt(E,"AID",f.K),xt(E,"CI",f.F?"0":"1"),!f.F&&f.ia&&xt(E,"TO",f.ia),xt(E,"TYPE","xmlhttp"),mr(f,E),f.u&&f.o&&hr(E,f.u,f.o),f.O&&(f.g.H=f.O);var x=f.g;f=f.ba,x.M=1,x.A=ye(De(E)),x.u=null,x.R=!0,yi(x,f)}r.Va=function(){this.C!=null&&(this.C=null,Ur(this),ps(this),Ue(19))};function ea(f){f.C!=null&&(p.clearTimeout(f.C),f.C=null)}function Gn(f,E){var x=null;if(f.g==E){ea(f),ro(f),f.g=null;var N=2}else if($n(f.h,E))x=E.G,Ys(f.h,E),N=1;else return;if(f.I!=0){if(E.o)if(N==1){x=E.u?E.u.length:0,E=Date.now()-E.F;var X=f.D;N=Ks(),Fe(N,new Vi(N,x)),On(f)}else io(f);else if(X=E.m,X==3||X==0&&E.X>0||!(N==1&&ms(f,E)||N==2&&ps(f)))switch(x&&x.length>0&&(E=f.h,E.i=E.i.concat(x)),X){case 1:xi(f,5);break;case 4:xi(f,10);break;case 3:xi(f,6);break;default:xi(f,2)}}}function il(f,E){let x=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(x*=2),x*E}function xi(f,E){if(f.j.info("Error code "+E),E==2){var x=T(f.bb,f),N=f.Ua;const X=!N;N=new Xt(N||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Le(N,"https"),ye(N),X?Dn(N.toString(),x):$s(N.toString(),x)}else Ue(2);f.I=0,f.l&&f.l.pa(E),Si(f),yn(f)}r.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function Si(f){if(f.I=0,f.ja=[],f.l){const E=Xs(f.h);(E.length!=0||f.i.length!=0)&&(et(f.ja,E),et(f.ja,f.i),f.h.i.length=0,Z(f.i),f.i.length=0),f.l.oa()}}function so(f,E,x){var N=x instanceof Xt?De(x):new Xt(x);if(N.g!="")E&&(N.g=E+"."+N.g),qn(N,N.u);else{var X=p.location;N=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;const nt=new Xt(null);N&&Le(nt,N),E&&(nt.g=E),X&&qn(nt,X),x&&(nt.h=x),N=nt}return x=f.G,E=f.wa,x&&E&&xt(N,x,E),xt(N,"VER",f.ka),mr(f,N),N}function ao(f,E,x){if(E&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Aa&&!f.ma?new ee(new Pt({ab:x})):new ee(f.ma),E.Fa(f.L),E}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function na(){}r=na.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Br(){}Br.prototype.g=function(f,E){return new vn(f,E)};function vn(f,E){qe.call(this),this.g=new dr(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(f?f["X-WebChannel-Client-Profile"]=E.sa:f={"X-WebChannel-Client-Profile":E.sa}),this.g.U=f,(f=E&&E.Qb)&&!k(f)&&(this.g.u=f),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!k(E)&&(this.g.G=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new pr(this)}C(vn,qe),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Qt(this.g)},vn.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var x={};x.__data__=f,f=x}else this.v&&(x={},x.__data__=ar(f),f=x);E.i.push(new Ze(E.Ya++,f)),E.I==3&&On(E)},vn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,vn.Z.N.call(this)};function oo(f){We.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){t:{for(const x in E){f=x;break t}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}C(oo,We);function rl(){Hn.call(this),this.status=1}C(rl,Hn);function pr(f){this.g=f}C(pr,na),pr.prototype.ra=function(){Fe(this.g,"a")},pr.prototype.qa=function(f){Fe(this.g,new oo(f))},pr.prototype.pa=function(f){Fe(this.g,new rl)},pr.prototype.oa=function(){Fe(this.g,"b")},Br.prototype.createWebChannel=Br.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,VT=function(){return new Br},kT=function(){return Ks()},PT=ze,fp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,rf=us,Wa.COMPLETE="complete",OT=Wa,Xo.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",qe.prototype.listen=qe.prototype.J,nc=Xo,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,MT=ee}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});const E0="@firebase/firestore",T0="4.9.3";class Un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");let lu="12.7.0";const jo=new zp("@firebase/firestore");function kl(){return jo.logLevel}function At(r,...t){if(jo.logLevel<=re.DEBUG){const n=t.map(Wp);jo.debug(`Firestore (${lu}): ${r}`,...n)}}function Bs(r,...t){if(jo.logLevel<=re.ERROR){const n=t.map(Wp);jo.error(`Firestore (${lu}): ${r}`,...n)}}function Ql(r,...t){if(jo.logLevel<=re.WARN){const n=t.map(Wp);jo.warn(`Firestore (${lu}): ${r}`,...n)}}function Wp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Vt(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,zT(r,a,n)}function zT(r,t,n){let a=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Bs(a),new Error(a)}function _e(r,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||zT(t,l,a)}function Ft(r,t){return r}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Fs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ba{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class UT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class u2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Un.UNAUTHENTICATED)))}shutdown(){}}class c2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class h2{constructor(t){this.t=t,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_e(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,n(v)):Promise.resolve();let h=new Ba;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ba,t.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},y=v=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ba)}}),0),p()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(_e(typeof a.accessToken=="string",31837,{l:a}),new UT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new Un(t)}}class f2{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d2{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new f2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,br(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){_e(this.o===void 0,3512);const a=h=>{h.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const p=h.token!==this.m;return this.m=h.token,At("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new b0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function p2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class Jp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=p2(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<n&&(a+=t.charAt(l[h]%62))}return a}}function se(r,t){return r<t?-1:r>t?1:0}function dp(r,t){const n=Math.min(r.length,t.length);for(let a=0;a<n;a++){const l=r.charAt(a),h=t.charAt(a);if(l!==h)return Ym(l)===Ym(h)?se(l,h):Ym(l)?1:-1}return se(r.length,t.length)}const g2=55296,_2=57343;function Ym(r){const t=r.charCodeAt(0);return t>=g2&&t<=_2}function Yl(r,t,n){return r.length===t.length&&r.every(((a,l)=>n(a,t[l])))}const w0="__name__";class Wr{constructor(t,n,a){n===void 0?n=0:n>t.length&&Vt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&Vt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return Wr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Wr?t.forEach((a=>{n.push(a)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const h=Wr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return se(t.length,n.length)}static compareSegments(t,n){const a=Wr.isNumericId(t),l=Wr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Wr.extractNumericId(t).compare(Wr.extractNumericId(n)):dp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ua.fromString(t.substring(4,t.length-2))}}class Ne extends Wr{construct(t,n,a){return new Ne(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new St(ct.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new Ne(n)}static emptyPath(){return new Ne([])}}const y2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Wr{construct(t,n,a){return new In(t,n,a)}static isValidIdentifier(t){return y2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new In([w0])}static fromServerFormat(t){const n=[];let a="",l=0;const h=()=>{if(a.length===0)throw new St(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let p=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new St(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new St(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else y==="`"?(p=!p,l++):y!=="."||p?(a+=y,l++):(h(),l++)}if(h(),p)throw new St(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new In(n)}static emptyPath(){return new In([])}}class Mt{constructor(t){this.path=t}static fromPath(t){return new Mt(Ne.fromString(t))}static fromName(t){return new Mt(Ne.fromString(t).popFirst(5))}static empty(){return new Mt(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mt(new Ne(t.slice()))}}function BT(r,t,n){if(!n)throw new St(ct.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function v2(r,t,n,a){if(t===!0&&a===!0)throw new St(ct.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function x0(r){if(!Mt.isDocumentKey(r))throw new St(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function S0(r){if(Mt.isDocumentKey(r))throw new St(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Vt(12329,{type:typeof r})}function Xl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new St(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pf(r);throw new St(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function cn(r,t){const n={typeString:r};return t&&(n.value=t),n}function Dc(r,t){if(!jT(r))throw new St(ct.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const p=r[a];if(l&&typeof p!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&p!==h.value){n=`Expected '${a}' field to equal '${h.value}'`;break}}if(n)throw new St(ct.INVALID_ARGUMENT,n);return!0}const A0=-62135596800,C0=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(t){return Pe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*C0);return new Pe(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new St(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new St(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<A0)throw new St(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(t){return this.seconds===t.seconds?se(this.nanoseconds,t.nanoseconds):se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Dc(t,Pe._jsonSchema))return new Pe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-A0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pe._jsonSchemaVersion="firestore/timestamp/1.0",Pe._jsonSchema={type:cn("string",Pe._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};class jt{static fromTimestamp(t){return new jt(t)}static min(){return new jt(new Pe(0,0))}static max(){return new jt(new Pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const pc=-1;function E2(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=jt.fromTimestamp(a===1e9?new Pe(n+1,0):new Pe(n,a));return new Ha(l,Mt.empty(),t)}function T2(r){return new Ha(r.readTime,r.key,pc)}class Ha{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Ha(jt.min(),Mt.empty(),pc)}static max(){return new Ha(jt.max(),Mt.empty(),pc)}}function b2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Mt.comparator(r.documentKey,t.documentKey),n!==0?n:se(r.largestBatchId,t.largestBatchId))}const w2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function uu(r){if(r.code!==ct.FAILED_PRECONDITION||r.message!==w2)throw r;At("LocalStore","Unexpectedly lost primary lease")}class ft{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ft(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(a,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof ft?n:ft.resolve(n)}catch(n){return ft.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):ft.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):ft.reject(n)}static resolve(t){return new ft(((n,a)=>{n(t)}))}static reject(t){return new ft(((n,a)=>{a(t)}))}static waitFor(t){return new ft(((n,a)=>{let l=0,h=0,p=!1;t.forEach((y=>{++l,y.next((()=>{++h,p&&h===l&&n()}),(v=>a(v)))})),p=!0,h===l&&n()}))}static or(t){let n=ft.resolve(!1);for(const a of t)n=n.next((l=>l?ft.resolve(l):a()));return n}static forEach(t,n){const a=[];return t.forEach(((l,h)=>{a.push(n.call(this,l,h))})),this.waitFor(a)}static mapArray(t,n){return new ft(((a,l)=>{const h=t.length,p=new Array(h);let y=0;for(let v=0;v<h;v++){const T=v;n(t[T]).next((S=>{p[T]=S,++y,y===h&&a(p)}),(S=>l(S)))}}))}static doWhile(t,n){return new ft(((a,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):a()};h()}))}}function S2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cu(r){return r.name==="IndexedDbTransactionError"}class kf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}kf.ce=-1;const $p=-1;function Vf(r){return r==null}function vf(r){return r===0&&1/r==-1/0}function A2(r){return typeof r=="number"&&Number.isInteger(r)&&!vf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const HT="";function C2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=R0(t)),t=R2(r.get(n),t);return R0(t)}function R2(r,t){let n=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":n+="";break;case HT:n+="";break;default:n+=h}}return n}function R0(r){return r+HT+""}function I0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Fo(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function qT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class He{constructor(t,n){this.comparator=t,this.root=n||Rn.EMPTY}insert(t,n){return new He(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(t){return new He(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,a)=>(t(n,a),!1)))}toString(){const t=[];return this.inorderTraversal(((n,a)=>(t.push(`${n}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zh(this.root,t,this.comparator,!0)}}class Zh{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?a(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Rn{constructor(t,n,a,l,h){this.key=t,this.value=n,this.color=a??Rn.RED,this.left=l??Rn.EMPTY,this.right=h??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,h){return new Rn(t??this.key,n??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,a),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Rn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Vt(27949);return t+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt(57766)}get value(){throw Vt(16141)}get color(){throw Vt(16727)}get left(){throw Vt(29726)}get right(){throw Vt(36894)}copy(t,n,a,l,h){return this}insert(t,n,a){return new Rn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mn{constructor(t){this.comparator=t,this.data=new He(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,a)=>(t(n),!1)))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new N0(this.data.getIterator())}getIteratorFrom(t){return new N0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((a=>{n=n.add(a)})),n}isEqual(t){if(!(t instanceof mn)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new mn(this.comparator);return n.data=t,n}}class N0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xr{constructor(t){this.fields=t,t.sort(In.comparator)}static empty(){return new xr([])}unionWith(t){let n=new mn(In.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new xr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Yl(this.fields,t.fields,((n,a)=>n.isEqual(a)))}}class FT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new FT("Invalid base64 string: "+h):h}})(t);return new Nn(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let p=0;p<l.length;++p)h+=String.fromCharCode(l[p]);return h})(t);return new Nn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const I2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(r){if(_e(!!r,39018),typeof r=="string"){let t=0;const n=I2.exec(r);if(_e(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:tn(r.seconds),nanos:tn(r.nanos)}}function tn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fa(r){return typeof r=="string"?Nn.fromBase64String(r):Nn.fromUint8Array(r)}const GT="server_timestamp",ZT="__type__",KT="__previous_value__",QT="__local_write_time__";function tg(r){return(r?.mapValue?.fields||{})[ZT]?.stringValue===GT}function zf(r){const t=r.mapValue.fields[KT];return tg(t)?zf(t):t}function gc(r){const t=qa(r.mapValue.fields[QT].timestampValue);return new Pe(t.seconds,t.nanos)}class N2{constructor(t,n,a,l,h,p,y,v,T,S){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=p,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=T,this.isUsingEmulator=S}}const Ef="(default)";class _c{constructor(t,n){this.projectId=t,this.database=n||Ef}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database===Ef}isEqual(t){return t instanceof _c&&t.projectId===this.projectId&&t.database===this.database}}const YT="__type__",D2="__max__",Kh={mapValue:{}},XT="__vector__",Tf="value";function Ga(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tg(r)?4:M2(r)?9007199254740991:L2(r)?10:11:Vt(28295,{value:r})}function ss(r,t){if(r===t)return!0;const n=Ga(r);if(n!==Ga(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return gc(r).isEqual(gc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const p=qa(l.timestampValue),y=qa(h.timestampValue);return p.seconds===y.seconds&&p.nanos===y.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return Fa(l.bytesValue).isEqual(Fa(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return tn(l.geoPointValue.latitude)===tn(h.geoPointValue.latitude)&&tn(l.geoPointValue.longitude)===tn(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return tn(l.integerValue)===tn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const p=tn(l.doubleValue),y=tn(h.doubleValue);return p===y?vf(p)===vf(y):isNaN(p)&&isNaN(y)}return!1})(r,t);case 9:return Yl(r.arrayValue.values||[],t.arrayValue.values||[],ss);case 10:case 11:return(function(l,h){const p=l.mapValue.fields||{},y=h.mapValue.fields||{};if(I0(p)!==I0(y))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(y[v]===void 0||!ss(p[v],y[v])))return!1;return!0})(r,t);default:return Vt(52216,{left:r})}}function yc(r,t){return(r.values||[]).find((n=>ss(n,t)))!==void 0}function Wl(r,t){if(r===t)return 0;const n=Ga(r),a=Ga(t);if(n!==a)return se(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(r.booleanValue,t.booleanValue);case 2:return(function(h,p){const y=tn(h.integerValue||h.doubleValue),v=tn(p.integerValue||p.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,t);case 3:return D0(r.timestampValue,t.timestampValue);case 4:return D0(gc(r),gc(t));case 5:return dp(r.stringValue,t.stringValue);case 6:return(function(h,p){const y=Fa(h),v=Fa(p);return y.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(h,p){const y=h.split("/"),v=p.split("/");for(let T=0;T<y.length&&T<v.length;T++){const S=se(y[T],v[T]);if(S!==0)return S}return se(y.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,p){const y=se(tn(h.latitude),tn(p.latitude));return y!==0?y:se(tn(h.longitude),tn(p.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return L0(r.arrayValue,t.arrayValue);case 10:return(function(h,p){const y=h.fields||{},v=p.fields||{},T=y[Tf]?.arrayValue,S=v[Tf]?.arrayValue,C=se(T?.values?.length||0,S?.values?.length||0);return C!==0?C:L0(T,S)})(r.mapValue,t.mapValue);case 11:return(function(h,p){if(h===Kh.mapValue&&p===Kh.mapValue)return 0;if(h===Kh.mapValue)return 1;if(p===Kh.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),T=p.fields||{},S=Object.keys(T);v.sort(),S.sort();for(let C=0;C<v.length&&C<S.length;++C){const M=dp(v[C],S[C]);if(M!==0)return M;const Z=Wl(y[v[C]],T[S[C]]);if(Z!==0)return Z}return se(v.length,S.length)})(r.mapValue,t.mapValue);default:throw Vt(23264,{he:n})}}function D0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return se(r,t);const n=qa(r),a=qa(t),l=se(n.seconds,a.seconds);return l!==0?l:se(n.nanos,a.nanos)}function L0(r,t){const n=r.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const h=Wl(n[l],a[l]);if(h)return h}return se(n.length,a.length)}function Jl(r){return mp(r)}function mp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=qa(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Fa(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",l=!0;for(const h of n.values||[])l?l=!1:a+=",",a+=mp(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const p of a)h?h=!1:l+=",",l+=`${p}:${mp(n.fields[p])}`;return l+"}"})(r.mapValue):Vt(61005,{value:r})}function sf(r){switch(Ga(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zf(r);return t?16+sf(t):16;case 5:return 2*r.stringValue.length;case 6:return Fa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+sf(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Fo(a.fields,((h,p)=>{l+=h.length+sf(p)})),l})(r.mapValue);default:throw Vt(13486,{value:r})}}function M0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function pp(r){return!!r&&"integerValue"in r}function eg(r){return!!r&&"arrayValue"in r}function O0(r){return!!r&&"nullValue"in r}function P0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function af(r){return!!r&&"mapValue"in r}function L2(r){return(r?.mapValue?.fields||{})[YT]?.stringValue===XT}function lc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Fo(r.mapValue.fields,((n,a)=>t.mapValue.fields[n]=lc(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=lc(r.arrayValue.values[n]);return t}return{...r}}function M2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===D2}class nr{constructor(t){this.value=t}static empty(){return new nr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!af(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=lc(n)}setAll(t){let n=In.emptyPath(),a={},l=[];t.forEach(((p,y)=>{if(!n.isImmediateParentOf(y)){const v=this.getFieldsMap(n);this.applyChanges(v,a,l),a={},l=[],n=y.popLast()}p?a[y.lastSegment()]=lc(p):l.push(y.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,a,l)}delete(t){const n=this.field(t.popLast());af(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ss(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];af(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){Fo(n,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new nr(lc(this.value))}}function WT(r){const t=[];return Fo(r.fields,((n,a)=>{const l=new In([n]);if(af(a)){const h=WT(a.mapValue).fields;if(h.length===0)t.push(l);else for(const p of h)t.push(l.child(p))}else t.push(l)})),new xr(t)}class Bn{constructor(t,n,a,l,h,p,y){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=h,this.data=p,this.documentState=y}static newInvalidDocument(t){return new Bn(t,0,jt.min(),jt.min(),jt.min(),nr.empty(),0)}static newFoundDocument(t,n,a,l){return new Bn(t,1,n,jt.min(),a,l,0)}static newNoDocument(t,n){return new Bn(t,2,n,jt.min(),jt.min(),nr.empty(),0)}static newUnknownDocument(t,n){return new Bn(t,3,n,jt.min(),jt.min(),nr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Bn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bf{constructor(t,n){this.position=t,this.inclusive=n}}function k0(r,t,n){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],p=r.position[l];if(h.field.isKeyField()?a=Mt.comparator(Mt.fromName(p.referenceValue),n.key):a=Wl(p,n.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function V0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ss(r.position[n],t.position[n]))return!1;return!0}class vc{constructor(t,n="asc"){this.field=t,this.dir=n}}function O2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class JT{}class un extends JT{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new k2(t,n,a):n==="array-contains"?new U2(t,a):n==="in"?new B2(t,a):n==="not-in"?new j2(t,a):n==="array-contains-any"?new H2(t,a):new un(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new V2(t,a):new z2(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wl(n,this.value)):n!==null&&Ga(this.value)===Ga(n)&&this.matchesComparison(Wl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends JT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ar(t,n)}matches(t){return $T(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $T(r){return r.op==="and"}function tb(r){return P2(r)&&$T(r)}function P2(r){for(const t of r.filters)if(t instanceof Ar)return!1;return!0}function gp(r){if(r instanceof un)return r.field.canonicalString()+r.op.toString()+Jl(r.value);if(tb(r))return r.filters.map((t=>gp(t))).join(",");{const t=r.filters.map((n=>gp(n))).join(",");return`${r.op}(${t})`}}function eb(r,t){return r instanceof un?(function(a,l){return l instanceof un&&a.op===l.op&&a.field.isEqual(l.field)&&ss(a.value,l.value)})(r,t):r instanceof Ar?(function(a,l){return l instanceof Ar&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,p,y)=>h&&eb(p,l.filters[y])),!0):!1})(r,t):void Vt(19439)}function nb(r){return r instanceof un?(function(n){return`${n.field.canonicalString()} ${n.op} ${Jl(n.value)}`})(r):r instanceof Ar?(function(n){return n.op.toString()+" {"+n.getFilters().map(nb).join(" ,")+"}"})(r):"Filter"}class k2 extends un{constructor(t,n,a){super(t,n,a),this.key=Mt.fromName(a.referenceValue)}matches(t){const n=Mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class V2 extends un{constructor(t,n){super(t,"in",n),this.keys=ib("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class z2 extends un{constructor(t,n){super(t,"not-in",n),this.keys=ib("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function ib(r,t){return(t.arrayValue?.values||[]).map((n=>Mt.fromName(n.referenceValue)))}class U2 extends un{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return eg(n)&&yc(n.arrayValue,this.value)}}class B2 extends un{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&yc(this.value.arrayValue,n)}}class j2 extends un{constructor(t,n){super(t,"not-in",n)}matches(t){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yc(this.value.arrayValue,n)}}class H2 extends un{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>yc(this.value.arrayValue,a)))}}class q2{constructor(t,n=null,a=[],l=[],h=null,p=null,y=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=p,this.endAt=y,this.Te=null}}function z0(r,t=null,n=[],a=[],l=null,h=null,p=null){return new q2(r,t,n,a,l,h,p)}function ng(r){const t=Ft(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((a=>gp(a))).join(","),n+="|ob:",n+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Vf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>Jl(a))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>Jl(a))).join(",")),t.Te=n}return t.Te}function ig(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!O2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!eb(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!V0(r.startAt,t.startAt)&&V0(r.endAt,t.endAt)}function _p(r){return Mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hu{constructor(t,n=null,a=[],l=[],h=null,p="F",y=null,v=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=p,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F2(r,t,n,a,l,h,p,y){return new hu(r,t,n,a,l,h,p,y)}function rb(r){return new hu(r)}function U0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sb(r){return r.collectionGroup!==null}function uc(r){const t=Ft(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let y=new mn(In.comparator);return p.filters.forEach((v=>{v.getFlattenedFilters().forEach((T=>{T.isInequality()&&(y=y.add(T.field))}))})),y})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new vc(h,a))})),n.has(In.keyField().canonicalString())||t.Ie.push(new vc(In.keyField(),a))}return t.Ie}function $r(r){const t=Ft(r);return t.Ee||(t.Ee=G2(t,uc(r))),t.Ee}function G2(r,t){if(r.limitType==="F")return z0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new vc(l.field,h)}));const n=r.endAt?new bf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new bf(r.startAt.position,r.startAt.inclusive):null;return z0(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function yp(r,t){const n=r.filters.concat([t]);return new hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function vp(r,t,n){return new hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Uf(r,t){return ig($r(r),$r(t))&&r.limitType===t.limitType}function ab(r){return`${ng($r(r))}|lt:${r.limitType}`}function Vl(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>nb(l))).join(", ")}]`),Vf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>Jl(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>Jl(l))).join(",")),`Target(${a})`})($r(r))}; limitType=${r.limitType})`}function Bf(r,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,l){for(const h of uc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(p,y,v){const T=k0(p,y,v);return p.inclusive?T<=0:T<0})(a.startAt,uc(a),l)||a.endAt&&!(function(p,y,v){const T=k0(p,y,v);return p.inclusive?T>=0:T>0})(a.endAt,uc(a),l))})(r,t)}function Z2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ob(r){return(t,n)=>{let a=!1;for(const l of uc(r)){const h=K2(l,t,n);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function K2(r,t,n){const a=r.field.isKeyField()?Mt.comparator(t.key,n.key):(function(h,p,y){const v=p.data.field(h),T=y.data.field(h);return v!==null&&T!==null?Wl(v,T):Vt(42886)})(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Vt(19790,{direction:r.dir})}}class Go{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Fo(this.inner,((n,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return qT(this.inner)}size(){return this.innerSize}}const Q2=new He(Mt.comparator);function js(){return Q2}const lb=new He(Mt.comparator);function ic(...r){let t=lb;for(const n of r)t=t.insert(n.key,n);return t}function ub(r){let t=lb;return r.forEach(((n,a)=>t=t.insert(n,a.overlayedDocument))),t}function ko(){return cc()}function cb(){return cc()}function cc(){return new Go((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Y2=new He(Mt.comparator),X2=new mn(Mt.comparator);function ae(...r){let t=X2;for(const n of r)t=t.add(n);return t}const W2=new mn(se);function J2(){return W2}function rg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(t)?"-0":t}}function hb(r){return{integerValue:""+r}}function $2(r,t){return A2(t)?hb(t):rg(r,t)}class jf{constructor(){this._=void 0}}function tI(r,t,n){return r instanceof Ec?(function(l,h){const p={fields:{[ZT]:{stringValue:GT},[QT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&tg(h)&&(h=zf(h)),h&&(p.fields[KT]=h),{mapValue:p}})(n,t):r instanceof Tc?db(r,t):r instanceof bc?mb(r,t):(function(l,h){const p=fb(l,h),y=B0(p)+B0(l.Ae);return pp(p)&&pp(l.Ae)?hb(y):rg(l.serializer,y)})(r,t)}function eI(r,t,n){return r instanceof Tc?db(r,t):r instanceof bc?mb(r,t):n}function fb(r,t){return r instanceof wf?(function(a){return pp(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class Ec extends jf{}class Tc extends jf{constructor(t){super(),this.elements=t}}function db(r,t){const n=pb(t);for(const a of r.elements)n.some((l=>ss(l,a)))||n.push(a);return{arrayValue:{values:n}}}class bc extends jf{constructor(t){super(),this.elements=t}}function mb(r,t){let n=pb(t);for(const a of r.elements)n=n.filter((l=>!ss(l,a)));return{arrayValue:{values:n}}}class wf extends jf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function B0(r){return tn(r.integerValue||r.doubleValue)}function pb(r){return eg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class nI{constructor(t,n){this.field=t,this.transform=n}}function iI(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Tc&&l instanceof Tc||a instanceof bc&&l instanceof bc?Yl(a.elements,l.elements,ss):a instanceof wf&&l instanceof wf?ss(a.Ae,l.Ae):a instanceof Ec&&l instanceof Ec})(r.transform,t.transform)}class rI{constructor(t,n){this.version=t,this.transformResults=n}}class ts{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ts}static exists(t){return new ts(void 0,t)}static updateTime(t){return new ts(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function of(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Hf{}function gb(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new yb(r.key,ts.none()):new Lc(r.key,r.data,ts.none());{const n=r.data,a=nr.empty();let l=new mn(In.comparator);for(let h of t.fields)if(!l.has(h)){let p=n.field(h);p===null&&h.length>1&&(h=h.popLast(),p=n.field(h)),p===null?a.delete(h):a.set(h,p),l=l.add(h)}return new Zo(r.key,a,new xr(l.toArray()),ts.none())}}function sI(r,t,n){r instanceof Lc?(function(l,h,p){const y=l.value.clone(),v=H0(l.fieldTransforms,h,p.transformResults);y.setAll(v),h.convertToFoundDocument(p.version,y).setHasCommittedMutations()})(r,t,n):r instanceof Zo?(function(l,h,p){if(!of(l.precondition,h))return void h.convertToUnknownDocument(p.version);const y=H0(l.fieldTransforms,h,p.transformResults),v=h.data;v.setAll(_b(l)),v.setAll(y),h.convertToFoundDocument(p.version,v).setHasCommittedMutations()})(r,t,n):(function(l,h,p){h.convertToNoDocument(p.version).setHasCommittedMutations()})(0,t,n)}function hc(r,t,n,a){return r instanceof Lc?(function(h,p,y,v){if(!of(h.precondition,p))return y;const T=h.value.clone(),S=q0(h.fieldTransforms,v,p);return T.setAll(S),p.convertToFoundDocument(p.version,T).setHasLocalMutations(),null})(r,t,n,a):r instanceof Zo?(function(h,p,y,v){if(!of(h.precondition,p))return y;const T=q0(h.fieldTransforms,v,p),S=p.data;return S.setAll(_b(h)),S.setAll(T),p.convertToFoundDocument(p.version,S).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(r,t,n,a):(function(h,p,y){return of(h.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):y})(r,t,n)}function aI(r,t){let n=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=fb(a.transform,l||null);h!=null&&(n===null&&(n=nr.empty()),n.set(a.field,h))}return n||null}function j0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Yl(a,l,((h,p)=>iI(h,p)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Lc extends Hf{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Zo extends Hf{constructor(t,n,a,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function _b(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}})),t}function H0(r,t,n){const a=new Map;_e(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const h=r[l],p=h.transform,y=t.data.field(h.field);a.set(h.field,eI(p,y,n[l]))}return a}function q0(r,t,n){const a=new Map;for(const l of r){const h=l.transform,p=n.data.field(l.field);a.set(l.field,tI(h,p,t))}return a}class yb extends Hf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oI extends Hf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lI{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&sI(h,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=hc(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=hc(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=cb();return this.mutations.forEach((l=>{const h=t.get(l.key),p=h.overlayedDocument;let y=this.applyToLocalView(p,h.mutatedFields);y=n.has(l.key)?null:y;const v=gb(p,y);v!==null&&a.set(l.key,v),p.isValidDocument()||p.convertToNoDocument(jt.min())})),a}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),ae())}isEqual(t){return this.batchId===t.batchId&&Yl(this.mutations,t.mutations,((n,a)=>j0(n,a)))&&Yl(this.baseMutations,t.baseMutations,((n,a)=>j0(n,a)))}}class sg{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){_e(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Y2})();const h=t.mutations;for(let p=0;p<h.length;p++)l=l.insert(h[p].key,a[p].version);return new sg(t,n,a,l)}}class uI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cI{constructor(t,n){this.count=t,this.unchangedNames=n}}var ln,ce;function hI(r){switch(r){case ct.OK:return Vt(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Vt(15467,{code:r})}}function vb(r){if(r===void 0)return Bs("GRPC error has no .code"),ct.UNKNOWN;switch(r){case ln.OK:return ct.OK;case ln.CANCELLED:return ct.CANCELLED;case ln.UNKNOWN:return ct.UNKNOWN;case ln.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case ln.INTERNAL:return ct.INTERNAL;case ln.UNAVAILABLE:return ct.UNAVAILABLE;case ln.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case ln.NOT_FOUND:return ct.NOT_FOUND;case ln.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case ln.ABORTED:return ct.ABORTED;case ln.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case ln.DATA_LOSS:return ct.DATA_LOSS;default:return Vt(39323,{code:r})}}(ce=ln||(ln={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";function fI(){return new TextEncoder}const dI=new Ua([4294967295,4294967295],0);function F0(r){const t=fI().encode(r),n=new LT;return n.update(t),new Uint8Array(n.digest())}function G0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Ua([n,a],0),new Ua([l,h],0)]}class ag{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new rc(`Invalid padding: ${n}`);if(a<0)throw new rc(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new rc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ua.fromNumber(this.ge)}ye(t,n,a){let l=t.add(n.multiply(Ua.fromNumber(a)));return l.compare(dI)===1&&(l=new Ua([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=F0(t),[a,l]=G0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);if(!this.we(p))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),p=new ag(h,l,n);return a.forEach((y=>p.insert(y))),p}insert(t){if(this.ge===0)return;const n=F0(t),[a,l]=G0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);this.Se(p)}}Se(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qf{constructor(t,n,a,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,Mc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new qf(jt.min(),l,new He(se),js(),ae())}}class Mc{constructor(t,n,a,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Mc(a,n,ae(),ae(),ae())}}class lf{constructor(t,n,a,l){this.be=t,this.removedTargetIds=n,this.key=a,this.De=l}}class Eb{constructor(t,n){this.targetId=t,this.Ce=n}}class Tb{constructor(t,n,a=Nn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class Z0{constructor(){this.ve=0,this.Fe=K0(),this.Me=Nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ae(),n=ae(),a=ae();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Vt(38017,{changeType:h})}})),new Mc(this.Me,this.xe,t,n,a)}qe(){this.Oe=!1,this.Fe=K0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mI{constructor(t){this.Ge=t,this.ze=new Map,this.je=js(),this.Je=Qh(),this.He=Qh(),this.Ye=new He(se)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:Vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,a=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(_p(h))if(a===0){const p=new Mt(h.path);this.et(n,p,Bn.newNoDocument(p,jt.min()))}else _e(a===1,20013,{expectedCount:a});else{const p=this._t(n);if(p!==a){const y=this.ut(t),v=y?this.ct(y,t,p):1;if(v!==0){this.it(n);const T=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,T)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=n;let p,y;try{p=Fa(a).toUint8Array()}catch(v){if(v instanceof FT)return Ql("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new ag(p,l,h)}catch(v){return Ql(v instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((h=>{const p=this.Ge.ht(),y=`projects/${p.projectId}/databases/${p.database}/documents/${h.path.canonicalString()}`;t.mightContain(y)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,p)=>{const y=this.ot(p);if(y){if(h.current&&_p(y.target)){const v=new Mt(y.target.path);this.It(v).has(p)||this.Et(p,v)||this.et(p,v,Bn.newNoDocument(v,t))}h.Be&&(n.set(p,h.ke()),h.qe())}}));let a=ae();this.He.forEach(((h,p)=>{let y=!0;p.forEachWhile((v=>{const T=this.ot(v);return!T||T.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(h))})),this.je.forEach(((h,p)=>p.setReadTime(t)));const l=new qf(t,n,this.Ye,this.je,a);return this.je=js(),this.Je=Qh(),this.He=Qh(),this.Ye=new He(se),l}Xe(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Z0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new mn(se),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new mn(se),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||At("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Z0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Qh(){return new He(Mt.comparator)}function K0(){return new He(Mt.comparator)}const pI={asc:"ASCENDING",desc:"DESCENDING"},gI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_I={and:"AND",or:"OR"};class yI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ep(r,t){return r.useProto3Json||Vf(t)?t:{value:t}}function xf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function vI(r,t){return xf(r,t.toTimestamp())}function es(r){return _e(!!r,49232),jt.fromTimestamp((function(n){const a=qa(n);return new Pe(a.seconds,a.nanos)})(r))}function og(r,t){return Tp(r,t).canonicalString()}function Tp(r,t){const n=(function(l){return new Ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function wb(r){const t=Ne.fromString(r);return _e(Rb(t),10190,{key:t.toString()}),t}function bp(r,t){return og(r.databaseId,t.path)}function Xm(r,t){const n=wb(t);if(n.get(1)!==r.databaseId.projectId)throw new St(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new St(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Mt(Sb(n))}function xb(r,t){return og(r.databaseId,t)}function EI(r){const t=wb(r);return t.length===4?Ne.emptyPath():Sb(t)}function wp(r){return new Ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Sb(r){return _e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Q0(r,t,n){return{name:bp(r,t),fields:n.value.mapValue.fields}}function TI(r,t){let n;if("targetChange"in t){t.targetChange;const a=(function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:Vt(39313,{state:T})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(T,S){return T.useProto3Json?(_e(S===void 0||typeof S=="string",58123),Nn.fromBase64String(S||"")):(_e(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Nn.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),p=t.targetChange.cause,y=p&&(function(T){const S=T.code===void 0?ct.UNKNOWN:vb(T.code);return new St(S,T.message||"")})(p);n=new Tb(a,l,h,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Xm(r,a.document.name),h=es(a.document.updateTime),p=a.document.createTime?es(a.document.createTime):jt.min(),y=new nr({mapValue:{fields:a.document.fields}}),v=Bn.newFoundDocument(l,h,p,y),T=a.targetIds||[],S=a.removedTargetIds||[];n=new lf(T,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Xm(r,a.document),h=a.readTime?es(a.readTime):jt.min(),p=Bn.newNoDocument(l,h),y=a.removedTargetIds||[];n=new lf([],y,p.key,p)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Xm(r,a.document),h=a.removedTargetIds||[];n=new lf([],h,l,null)}else{if(!("filter"in t))return Vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,p=new cI(l,h),y=a.targetId;n=new Eb(y,p)}}return n}function bI(r,t){let n;if(t instanceof Lc)n={update:Q0(r,t.key,t.value)};else if(t instanceof yb)n={delete:bp(r,t.key)};else if(t instanceof Zo)n={update:Q0(r,t.key,t.data),updateMask:DI(t.fieldMask)};else{if(!(t instanceof oI))return Vt(16599,{Vt:t.type});n={verify:bp(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((a=>(function(h,p){const y=p.transform;if(y instanceof Ec)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Tc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof bc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof wf)return{fieldPath:p.field.canonicalString(),increment:y.Ae};throw Vt(20930,{transform:p.transform})})(0,a)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:vI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Vt(27497)})(r,t.precondition)),n}function wI(r,t){return r&&r.length>0?(_e(t!==void 0,14353),r.map((n=>(function(l,h){let p=l.updateTime?es(l.updateTime):es(h);return p.isEqual(jt.min())&&(p=es(h)),new rI(p,l.transformResults||[])})(n,t)))):[]}function xI(r,t){return{documents:[xb(r,t.path)]}}function SI(r,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=xb(r,l);const h=(function(T){if(T.length!==0)return Cb(Ar.create(T,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const p=(function(T){if(T.length!==0)return T.map((S=>(function(M){return{field:zl(M.field),direction:RI(M.dir)}})(S)))})(t.orderBy);p&&(n.structuredQuery.orderBy=p);const y=Ep(r,t.limit);return y!==null&&(n.structuredQuery.limit=y),t.startAt&&(n.structuredQuery.startAt=(function(T){return{before:T.inclusive,values:T.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(T){return{before:!T.inclusive,values:T.position}})(t.endAt)),{ft:n,parent:l}}function AI(r){let t=EI(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){_e(a===1,65062);const S=n.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let h=[];n.where&&(h=(function(C){const M=Ab(C);return M instanceof Ar&&tb(M)?M.getFilters():[M]})(n.where));let p=[];n.orderBy&&(p=(function(C){return C.map((M=>(function(et){return new vc(Ul(et.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(M)))})(n.orderBy));let y=null;n.limit&&(y=(function(C){let M;return M=typeof C=="object"?C.value:C,Vf(M)?null:M})(n.limit));let v=null;n.startAt&&(v=(function(C){const M=!!C.before,Z=C.values||[];return new bf(Z,M)})(n.startAt));let T=null;return n.endAt&&(T=(function(C){const M=!C.before,Z=C.values||[];return new bf(Z,M)})(n.endAt)),F2(t,l,p,h,y,"F",v,T)}function CI(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Ab(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Ul(n.unaryFilter.field);return un.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ul(n.unaryFilter.field);return un.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ul(n.unaryFilter.field);return un.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ul(n.unaryFilter.field);return un.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vt(61313);default:return Vt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return un.create(Ul(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vt(58110);default:return Vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ar.create(n.compositeFilter.filters.map((a=>Ab(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Vt(1026)}})(n.compositeFilter.op))})(r):Vt(30097,{filter:r})}function RI(r){return pI[r]}function II(r){return gI[r]}function NI(r){return _I[r]}function zl(r){return{fieldPath:r.canonicalString()}}function Ul(r){return In.fromServerFormat(r.fieldPath)}function Cb(r){return r instanceof un?(function(n){if(n.op==="=="){if(P0(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NAN"}};if(O0(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P0(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NOT_NAN"}};if(O0(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(n.field),op:II(n.op),value:n.value}}})(r):r instanceof Ar?(function(n){const a=n.getFilters().map((l=>Cb(l)));return a.length===1?a[0]:{compositeFilter:{op:NI(n.op),filters:a}}})(r):Vt(54877,{filter:r})}function DI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Rb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Pa{constructor(t,n,a,l,h=jt.min(),p=jt.min(),y=Nn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(t){return new Pa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class LI{constructor(t){this.yt=t}}function MI(r){const t=AI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vp(t,t.limit,"L"):t}class OI{constructor(){this.Cn=new PI}addToCollectionParentIndex(t,n){return this.Cn.add(n),ft.resolve()}getCollectionParents(t,n){return ft.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return ft.resolve()}deleteFieldIndex(t,n){return ft.resolve()}deleteAllFieldIndexes(t){return ft.resolve()}createTargetIndexes(t,n){return ft.resolve()}getDocumentsMatchingTarget(t,n){return ft.resolve(null)}getIndexType(t,n){return ft.resolve(0)}getFieldIndexes(t,n){return ft.resolve([])}getNextCollectionGroupToUpdate(t){return ft.resolve(null)}getMinOffset(t,n){return ft.resolve(Ha.min())}getMinOffsetFromCollectionGroup(t,n){return ft.resolve(Ha.min())}updateCollectionGroup(t,n,a){return ft.resolve()}updateIndexEntries(t,n){return ft.resolve()}}class PI{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new mn(Ne.comparator),h=!l.has(a);return this.index[n]=l.add(a),h}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new mn(Ne.comparator)).toArray()}}const Y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ib=41943040;class di{static withCacheSize(t){return new di(t,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(Ib,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);class $l{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $l(0)}static cr(){return new $l(-1)}}const X0="LruGarbageCollector",kI=1048576;function W0([r,t],[n,a]){const l=se(r,n);return l===0?se(t,a):l}class VI{constructor(t){this.Ir=t,this.buffer=new mn(W0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();W0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zI{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){At(X0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cu(n)?At(X0,"Ignoring IndexedDB error during garbage collection: ",n):await uu(n)}await this.Vr(3e5)}))}}class UI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(t,n){if(n===0)return ft.resolve(kf.ce);const a=new VI(n);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,n,a){return this.mr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(Y0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let a,l,h,p,y,v,T;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,p=Date.now(),this.nthSequenceNumber(t,l)))).next((C=>(a=C,y=Date.now(),this.removeTargets(t,a,n)))).next((C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((C=>(T=Date.now(),kl()<=re.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-S}ms
	Determined least recently used ${l} in `+(y-p)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${C} documents in `+(T-v)+`ms
Total Duration: ${T-S}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:C}))))}}function BI(r,t){return new UI(r,t)}class jI{constructor(){this.changes=new Go((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Bn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ft.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class HI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class qI{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(a!==null&&hc(a.mutation,l,xr.empty(),Pe.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.getLocalViewOfDocuments(t,a,ae()).next((()=>a))))}getLocalViewOfDocuments(t,n,a=ae()){const l=ko();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,a).next((h=>{let p=ic();return h.forEach(((y,v)=>{p=p.insert(y,v.overlayedDocument)})),p}))))}getOverlayedDocuments(t,n){const a=ko();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,ae())))}populateOverlays(t,n,a){const l=[];return a.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((p,y)=>{n.set(p,y)}))}))}computeViews(t,n,a,l){let h=js();const p=cc(),y=(function(){return cc()})();return n.forEach(((v,T)=>{const S=a.get(T.key);l.has(T.key)&&(S===void 0||S.mutation instanceof Zo)?h=h.insert(T.key,T):S!==void 0?(p.set(T.key,S.mutation.getFieldMask()),hc(S.mutation,T,S.mutation.getFieldMask(),Pe.now())):p.set(T.key,xr.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((T,S)=>p.set(T,S))),n.forEach(((T,S)=>y.set(T,new HI(S,p.get(T)??null)))),y)))}recalculateAndSaveOverlays(t,n){const a=cc();let l=new He(((p,y)=>p-y)),h=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((p=>{for(const y of p)y.keys().forEach((v=>{const T=n.get(v);if(T===null)return;let S=a.get(v)||xr.empty();S=y.applyToLocalView(T,S),a.set(v,S);const C=(l.get(y.batchId)||ae()).add(v);l=l.insert(y.batchId,C)}))})).next((()=>{const p=[],y=l.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),T=v.key,S=v.value,C=cb();S.forEach((M=>{if(!h.has(M)){const Z=gb(n.get(M),a.get(M));Z!==null&&C.set(M,Z),h=h.add(M)}})),p.push(this.documentOverlayCache.saveOverlays(t,T,C))}return ft.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,n,a,l){return(function(p){return Mt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):sb(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next((h=>{const p=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-h.size):ft.resolve(ko());let y=pc,v=h;return p.next((T=>ft.forEach(T,((S,C)=>(y<C.largestBatchId&&(y=C.largestBatchId),h.get(S)?ft.resolve():this.remoteDocumentCache.getEntry(t,S).next((M=>{v=v.insert(S,M)}))))).next((()=>this.populateOverlays(t,T,h))).next((()=>this.computeViews(t,v,T,ae()))).next((S=>({batchId:y,changes:ub(S)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Mt(n)).next((a=>{let l=ic();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const h=n.collectionGroup;let p=ic();return this.indexManager.getCollectionParents(t,h).next((y=>ft.forEach(y,(v=>{const T=(function(C,M){return new hu(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(n,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,T,a,l).next((S=>{S.forEach(((C,M)=>{p=p.insert(C,M)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(t,n,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next((p=>(h=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,h,l)))).next((p=>{h.forEach(((v,T)=>{const S=T.getKey();p.get(S)===null&&(p=p.insert(S,Bn.newInvalidDocument(S)))}));let y=ic();return p.forEach(((v,T)=>{const S=h.get(v);S!==void 0&&hc(S.mutation,T,xr.empty(),Pe.now()),Bf(n,T)&&(y=y.insert(v,T))})),y}))}}class FI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return ft.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:es(l.createTime)}})(n)),ft.resolve()}getNamedQuery(t,n){return ft.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:MI(l.bundledQuery),readTime:es(l.readTime)}})(n)),ft.resolve()}}class GI{constructor(){this.overlays=new He(Mt.comparator),this.qr=new Map}getOverlay(t,n){return ft.resolve(this.overlays.get(n))}getOverlays(t,n){const a=ko();return ft.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,n,a){return a.forEach(((l,h)=>{this.St(t,n,h)})),ft.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),ft.resolve()}getOverlaysForCollection(t,n,a){const l=ko(),h=n.length+1,p=new Mt(n.child("")),y=this.overlays.getIteratorFrom(p);for(;y.hasNext();){const v=y.getNext().value,T=v.getKey();if(!n.isPrefixOf(T.path))break;T.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return ft.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let h=new He(((T,S)=>T-S));const p=this.overlays.getIterator();for(;p.hasNext();){const T=p.getNext().value;if(T.getKey().getCollectionGroup()===n&&T.largestBatchId>a){let S=h.get(T.largestBatchId);S===null&&(S=ko(),h=h.insert(T.largestBatchId,S)),S.set(T.getKey(),T)}}const y=ko(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((T,S)=>y.set(T,S))),!(y.size()>=l)););return ft.resolve(y)}St(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new uI(n,a));let h=this.qr.get(n);h===void 0&&(h=ae(),this.qr.set(n,h)),this.qr.set(n,h.add(a.key))}}class ZI{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(t){return ft.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ft.resolve()}}class lg{constructor(){this.Qr=new mn(wn.$r),this.Ur=new mn(wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const a=new wn(t,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,n){t.forEach((a=>this.addReference(a,n)))}removeReference(t,n){this.Gr(new wn(t,n))}zr(t,n){t.forEach((a=>this.removeReference(a,n)))}jr(t){const n=new Mt(new Ne([])),a=new wn(n,t),l=new wn(n,t+1),h=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),h.push(p.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Mt(new Ne([])),a=new wn(n,t),l=new wn(n,t+1);let h=ae();return this.Ur.forEachInRange([a,l],(p=>{h=h.add(p.key)})),h}containsKey(t){const n=new wn(t,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class wn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Mt.comparator(t.key,n.key)||se(t.Yr,n.Yr)}static Kr(t,n){return se(t.Yr,n.Yr)||Mt.comparator(t.key,n.key)}}class KI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new mn(wn.$r)}checkEmpty(t){return ft.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new lI(h,n,a,l);this.mutationQueue.push(p);for(const y of l)this.Zr=this.Zr.add(new wn(y.key,h)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return ft.resolve(p)}lookupMutationBatch(t,n){return ft.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.ei(a),h=l<0?0:l;return ft.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(this.mutationQueue.length===0?$p:this.tr-1)}getAllMutationBatches(t){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new wn(n,0),l=new wn(n,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],(p=>{const y=this.Xr(p.Yr);h.push(y)})),ft.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new mn(se);return n.forEach((l=>{const h=new wn(l,0),p=new wn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,p],(y=>{a=a.add(y.Yr)}))})),ft.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let h=a;Mt.isDocumentKey(h)||(h=h.child(""));const p=new wn(new Mt(h),0);let y=new mn(se);return this.Zr.forEachWhile((v=>{const T=v.key.path;return!!a.isPrefixOf(T)&&(T.length===l&&(y=y.add(v.Yr)),!0)}),p),ft.resolve(this.ti(y))}ti(t){const n=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ft.forEach(n.mutations,(l=>{const h=new wn(l.key,n.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,n){const a=new wn(n,0),l=this.Zr.firstAfterOrEqual(a);return ft.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ft.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class QI{constructor(t){this.ri=t,this.docs=(function(){return new He(Mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),h=l?l.size:0,p=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:p}),this.size+=p-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return ft.resolve(a?a.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(t,n){let a=js();return n.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Bn.newInvalidDocument(l))})),ft.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let h=js();const p=n.path,y=new Mt(p.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:T,value:{document:S}}=v.getNext();if(!p.isPrefixOf(T.path))break;T.path.length>p.length+1||b2(T2(S),a)<=0||(l.has(S.key)||Bf(n,S))&&(h=h.insert(S.key,S.mutableCopy()))}return ft.resolve(h)}getAllFromCollectionGroup(t,n,a,l){Vt(9500)}ii(t,n){return ft.forEach(this.docs,(a=>n(a)))}newChangeBuffer(t){return new YI(this)}getSize(t){return ft.resolve(this.size)}}class YI extends jI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),ft.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class XI{constructor(t){this.persistence=t,this.si=new Go((n=>ng(n)),ig),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.oi=0,this._i=new lg,this.targetCount=0,this.ai=$l.ur()}forEachTarget(t,n){return this.si.forEach(((a,l)=>n(l))),ft.resolve()}getLastRemoteSnapshotVersion(t){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ft.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ft.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new $l(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,ft.resolve()}updateTargetData(t,n){return this.Pr(n),ft.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ft.resolve()}removeTargets(t,n,a){let l=0;const h=[];return this.si.forEach(((p,y)=>{y.sequenceNumber<=n&&a.get(y.targetId)===null&&(this.si.delete(p),h.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),ft.waitFor(h).next((()=>l))}getTargetCount(t){return ft.resolve(this.targetCount)}getTargetData(t,n){const a=this.si.get(n)||null;return ft.resolve(a)}addMatchingKeys(t,n,a){return this._i.Wr(n,a),ft.resolve()}removeMatchingKeys(t,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((p=>{h.push(l.markPotentiallyOrphaned(t,p))})),ft.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),ft.resolve()}getMatchingKeysForTargetId(t,n){const a=this._i.Hr(n);return ft.resolve(a)}containsKey(t,n){return ft.resolve(this._i.containsKey(n))}}class Nb{constructor(t,n){this.ui={},this.overlays={},this.ci=new kf(0),this.li=!1,this.li=!0,this.hi=new ZI,this.referenceDelegate=t(this),this.Pi=new XI(this),this.indexManager=new OI,this.remoteDocumentCache=(function(l){return new QI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new LI(n),this.Ii=new FI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new GI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ui[t.toKey()];return a||(a=new KI(n,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,a){At("MemoryPersistence","Starting transaction:",t);const l=new WI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,n){return ft.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,n))))}}class WI extends x2{constructor(t){super(),this.currentSequenceNumber=t}}class ug{constructor(t){this.persistence=t,this.Ri=new lg,this.Vi=null}static mi(t){return new ug(t)}get fi(){if(this.Vi)return this.Vi;throw Vt(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ft.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ft.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),ft.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.fi,(a=>{const l=Mt.fromPath(a);return this.gi(t,l).next((h=>{h||n.removeEntry(l,jt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return ft.or([()=>ft.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Sf{constructor(t,n){this.persistence=t,this.pi=new Go((a=>C2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=BI(this,n)}static mi(t,n){return new Sf(t,n)}Ei(){}di(t){return ft.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>n.next((l=>a+l))))}wr(t){let n=0;return this.pr(t,(a=>{n++})).next((()=>n))}pr(t,n){return ft.forEach(this.pi,((a,l)=>this.br(t,a,l).next((h=>h?ft.resolve():n(l)))))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(p=>this.br(t,p,n).next((y=>{y||(a++,h.removeEntry(p,jt.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),ft.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),ft.resolve()}removeReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),ft.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),ft.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=sf(t.data.value)),n}br(t,n,a){return ft.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return ft.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class cg{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Es=a,this.ds=l}static As(t,n){let a=ae(),l=ae();for(const h of n.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new cg(t,n.fromCache,a,l)}}class JI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class $I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return H1()?8:S2(jn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,l){const h={result:null};return this.ys(t,n).next((p=>{h.result=p})).next((()=>{if(!h.result)return this.ws(t,n,l,a).next((p=>{h.result=p}))})).next((()=>{if(h.result)return;const p=new JI;return this.Ss(t,n,p).next((y=>{if(h.result=y,this.Vs)return this.bs(t,n,p,y.size)}))})).next((()=>h.result))}bs(t,n,a,l){return a.documentReadCount<this.fs?(kl()<=re.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Vl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ft.resolve()):(kl()<=re.DEBUG&&At("QueryEngine","Query:",Vl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(kl()<=re.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Vl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$r(n))):ft.resolve())}ys(t,n){if(U0(n))return ft.resolve(null);let a=$r(n);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=vp(n,null,"F"),a=$r(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const p=ae(...h);return this.ps.getDocuments(t,p).next((y=>this.indexManager.getMinOffset(t,a).next((v=>{const T=this.Ds(n,y);return this.Cs(n,T,p,v.readTime)?this.ys(t,vp(n,null,"F")):this.vs(t,T,n,v)}))))})))))}ws(t,n,a,l){return U0(n)||l.isEqual(jt.min())?ft.resolve(null):this.ps.getDocuments(t,a).next((h=>{const p=this.Ds(n,h);return this.Cs(n,p,a,l)?ft.resolve(null):(kl()<=re.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Vl(n)),this.vs(t,p,n,E2(l,pc)).next((y=>y)))}))}Ds(t,n){let a=new mn(ob(t));return n.forEach(((l,h)=>{Bf(t,h)&&(a=a.add(h))})),a}Cs(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,n,a){return kl()<=re.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Vl(n)),this.ps.getDocumentsMatchingQuery(t,n,Ha.min(),a)}vs(t,n,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((h=>(n.forEach((p=>{h=h.insert(p.key,p)})),h)))}}const hg="LocalStore",tN=3e8;class eN{constructor(t,n,a,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new He(se),this.xs=new Go((h=>ng(h)),ig),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function nN(r,t,n,a){return new eN(r,t,n,a)}async function Db(r,t){const n=Ft(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,n.Bs(t),n.mutationQueue.getAllMutationBatches(a)))).next((h=>{const p=[],y=[];let v=ae();for(const T of l){p.push(T.batchId);for(const S of T.mutations)v=v.add(S.key)}for(const T of h){y.push(T.batchId);for(const S of T.mutations)v=v.add(S.key)}return n.localDocuments.getDocuments(a,v).next((T=>({Ls:T,removedBatchIds:p,addedBatchIds:y})))}))}))}function iN(r,t){const n=Ft(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,T,S){const C=T.batch,M=C.keys();let Z=ft.resolve();return M.forEach((et=>{Z=Z.next((()=>S.getEntry(v,et))).next((Q=>{const q=T.docVersions.get(et);_e(q!==null,48541),Q.version.compareTo(q)<0&&(C.applyToRemoteDocument(Q,T),Q.isValidDocument()&&(Q.setReadTime(T.commitVersion),S.addEntry(Q)))}))})),Z.next((()=>y.mutationQueue.removeMutationBatch(v,C)))})(n,a,t,h).next((()=>h.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let v=ae();for(let T=0;T<y.mutationResults.length;++T)y.mutationResults[T].transformResults.length>0&&(v=v.add(y.batch.mutations[T].key));return v})(t)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function Lb(r){const t=Ft(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function rN(r,t){const n=Ft(r),a=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const p=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const y=[];t.targetChanges.forEach(((S,C)=>{const M=l.get(C);if(!M)return;y.push(n.Pi.removeMatchingKeys(h,S.removedDocuments,C).next((()=>n.Pi.addMatchingKeys(h,S.addedDocuments,C))));let Z=M.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(C)!==null?Z=Z.withResumeToken(Nn.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):S.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(S.resumeToken,a)),l=l.insert(C,Z),(function(Q,q,mt){return Q.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=tN?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,Z,S)&&y.push(n.Pi.updateTargetData(h,Z))}));let v=js(),T=ae();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(h,S))})),y.push(sN(h,p,t.documentUpdates).next((S=>{v=S.ks,T=S.qs}))),!a.isEqual(jt.min())){const S=n.Pi.getLastRemoteSnapshotVersion(h).next((C=>n.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));y.push(S)}return ft.waitFor(y).next((()=>p.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,v,T))).next((()=>v))})).then((h=>(n.Ms=l,h)))}function sN(r,t,n){let a=ae(),l=ae();return n.forEach((h=>a=a.add(h))),t.getEntries(r,a).next((h=>{let p=js();return n.forEach(((y,v)=>{const T=h.get(y);v.isFoundDocument()!==T.isFoundDocument()&&(l=l.add(y)),v.isNoDocument()&&v.version.isEqual(jt.min())?(t.removeEntry(y,v.readTime),p=p.insert(y,v)):!T.isValidDocument()||v.version.compareTo(T.version)>0||v.version.compareTo(T.version)===0&&T.hasPendingWrites?(t.addEntry(v),p=p.insert(y,v)):At(hg,"Ignoring outdated watch update for ",y,". Current version:",T.version," Watch version:",v.version)})),{ks:p,qs:l}}))}function aN(r,t){const n=Ft(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=$p),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function oN(r,t){const n=Ft(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,t).next((h=>h?(l=h,ft.resolve(l)):n.Pi.allocateTargetId(a).next((p=>(l=new Pa(t,p,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(t,a.targetId)),a}))}async function xp(r,t,n){const a=Ft(r),l=a.Ms.get(t),h=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",h,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!cu(p))throw p;At(hg,`Failed to update sequence numbers for target ${t}: ${p}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function J0(r,t,n){const a=Ft(r);let l=jt.min(),h=ae();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(v,T,S){const C=Ft(v),M=C.xs.get(S);return M!==void 0?ft.resolve(C.Ms.get(M)):C.Pi.getTargetData(T,S)})(a,p,$r(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,y.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,t,n?l:jt.min(),n?h:ae()))).next((y=>(lN(a,Z2(t),y),{documents:y,Qs:h})))))}function lN(r,t,n){let a=r.Os.get(t)||jt.min();n.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(t,a)}class $0{constructor(){this.activeTargetIds=J2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uN{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,a){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class cN{Oo(t){}shutdown(){}}const tE="ConnectivityMonitor";class eE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){At(tE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){At(tE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yh=null;function Sp(){return Yh===null?Yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yh++,"0x"+Yh.toString(16)}const Wm="RestConnection",hN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Ef?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,n,a,l,h){const p=Sp(),y=this.zo(t,n.toUriEncodedString());At(Wm,`Sending RPC '${t}' ${p}:`,y,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:T}=new URL(y),S=su(T);return this.Jo(t,y,v,a,S).then((C=>(At(Wm,`Received RPC '${t}' ${p}: `,C),C)),(C=>{throw Ql(Wm,`RPC '${t}' ${p} failed with error: `,C,"url: ",y,"request:",a),C}))}Ho(t,n,a,l,h,p){return this.Go(t,n,a,l,h)}jo(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}zo(t,n){const a=hN[t];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class dN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const zn="WebChannelConnection";class mN extends fN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,a,l,h){const p=Sp();return new Promise(((y,v)=>{const T=new MT;T.setWithCredentials(!0),T.listenOnce(OT.COMPLETE,(()=>{try{switch(T.getLastErrorCode()){case rf.NO_ERROR:const C=T.getResponseJson();At(zn,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(C)),y(C);break;case rf.TIMEOUT:At(zn,`RPC '${t}' ${p} timed out`),v(new St(ct.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const M=T.getStatus();if(At(zn,`RPC '${t}' ${p} failed with status:`,M,"response text:",T.getResponseText()),M>0){let Z=T.getResponseJson();Array.isArray(Z)&&(Z=Z[0]);const et=Z?.error;if(et&&et.status&&et.message){const Q=(function(mt){const dt=mt.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(dt)>=0?dt:ct.UNKNOWN})(et.status);v(new St(Q,et.message))}else v(new St(ct.UNKNOWN,"Server responded with status "+T.getStatus()))}else v(new St(ct.UNAVAILABLE,"Connection failed."));break;default:Vt(9055,{l_:t,streamId:p,h_:T.getLastErrorCode(),P_:T.getLastError()})}}finally{At(zn,`RPC '${t}' ${p} completed.`)}}));const S=JSON.stringify(l);At(zn,`RPC '${t}' ${p} sending request:`,l),T.send(n,"POST",S,a,15)}))}T_(t,n,a){const l=Sp(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=VT(),y=kT(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(v.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,n,a),v.encodeInitMessageHeaders=!0;const S=h.join("");At(zn,`Creating RPC '${t}' stream ${l}: ${S}`,v);const C=p.createWebChannel(S,v);this.I_(C);let M=!1,Z=!1;const et=new dN({Yo:q=>{Z?At(zn,`Not sending because RPC '${t}' stream ${l} is closed:`,q):(M||(At(zn,`Opening RPC '${t}' stream ${l} transport.`),C.open(),M=!0),At(zn,`RPC '${t}' stream ${l} sending:`,q),C.send(q))},Zo:()=>C.close()}),Q=(q,mt,dt)=>{q.listen(mt,(ht=>{try{dt(ht)}catch(Dt){setTimeout((()=>{throw Dt}),0)}}))};return Q(C,nc.EventType.OPEN,(()=>{Z||(At(zn,`RPC '${t}' stream ${l} transport opened.`),et.o_())})),Q(C,nc.EventType.CLOSE,(()=>{Z||(Z=!0,At(zn,`RPC '${t}' stream ${l} transport closed`),et.a_(),this.E_(C))})),Q(C,nc.EventType.ERROR,(q=>{Z||(Z=!0,Ql(zn,`RPC '${t}' stream ${l} transport errored. Name:`,q.name,"Message:",q.message),et.a_(new St(ct.UNAVAILABLE,"The operation could not be completed")))})),Q(C,nc.EventType.MESSAGE,(q=>{if(!Z){const mt=q.data[0];_e(!!mt,16349);const dt=mt,ht=dt?.error||dt[0]?.error;if(ht){At(zn,`RPC '${t}' stream ${l} received error:`,ht);const Dt=ht.status;let Ot=(function(D){const P=ln[D];if(P!==void 0)return vb(P)})(Dt),Bt=ht.message;Ot===void 0&&(Ot=ct.INTERNAL,Bt="Unknown error status: "+Dt+" with message "+ht.message),Z=!0,et.a_(new St(Ot,Bt)),C.close()}else At(zn,`RPC '${t}' stream ${l} received:`,mt),et.u_(mt)}})),Q(y,PT.STAT_EVENT,(q=>{q.stat===fp.PROXY?At(zn,`RPC '${t}' stream ${l} detected buffering proxy`):q.stat===fp.NOPROXY&&At(zn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Jm(){return typeof document<"u"?document:null}function Ff(r){return new yI(r,!0)}class Mb{constructor(t,n,a=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&At("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nE="PersistentStream";class Ob{constructor(t,n,a,l,h,p,y,v){this.Mi=t,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Mb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ct.RESOURCE_EXHAUSTED?(Bs(n.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{t((()=>{const l=new St(ct.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,n){const a=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return At(nE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(At(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pN extends Ob{constructor(t,n,a,l,h,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=TI(this.serializer,t),a=(function(h){if(!("targetChange"in h))return jt.min();const p=h.targetChange;return p.targetIds&&p.targetIds.length?jt.min():p.readTime?es(p.readTime):jt.min()})(t);return this.listener.H_(n,a)}Y_(t){const n={};n.database=wp(this.serializer),n.addTarget=(function(h,p){let y;const v=p.target;if(y=_p(v)?{documents:xI(h,v)}:{query:SI(h,v).ft},y.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){y.resumeToken=bb(h,p.resumeToken);const T=Ep(h,p.expectedCount);T!==null&&(y.expectedCount=T)}else if(p.snapshotVersion.compareTo(jt.min())>0){y.readTime=xf(h,p.snapshotVersion.toTimestamp());const T=Ep(h,p.expectedCount);T!==null&&(y.expectedCount=T)}return y})(this.serializer,t);const a=CI(this.serializer,t);a&&(n.labels=a),this.q_(n)}Z_(t){const n={};n.database=wp(this.serializer),n.removeTarget=t,this.q_(n)}}class gN extends Ob{constructor(t,n,a,l,h,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=wI(t.writeResults,t.commitTime),a=es(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=wp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((a=>bI(this.serializer,a)))};this.q_(n)}}class _N{}class yN extends _N{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new St(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Go(t,Tp(n,a),l,h,p))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new St(ct.UNKNOWN,h.toString())}))}Ho(t,n,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,y])=>this.connection.Ho(t,Tp(n,a),l,p,y,h))).catch((p=>{throw p.name==="FirebaseError"?(p.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new St(ct.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bs(n),this.aa=!1):At("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ho="RemoteStore";class EN{constructor(t,n,a,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{Ko(this)&&(At(Ho,"Restarting streams for network reachability change."),await(async function(v){const T=Ft(v);T.Ea.add(4),await Oc(T),T.Ra.set("Unknown"),T.Ea.delete(4),await Gf(T)})(this))}))})),this.Ra=new vN(a,l)}}async function Gf(r){if(Ko(r))for(const t of r.da)await t(!0)}async function Oc(r){for(const t of r.da)await t(!1)}function Pb(r,t){const n=Ft(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),pg(n)?mg(n):fu(n).O_()&&dg(n,t))}function fg(r,t){const n=Ft(r),a=fu(n);n.Ia.delete(t),a.O_()&&kb(n,t),n.Ia.size===0&&(a.O_()?a.L_():Ko(n)&&n.Ra.set("Unknown"))}function dg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fu(r).Y_(t)}function kb(r,t){r.Va.Ue(t),fu(r).Z_(t)}function mg(r){r.Va=new mI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fu(r).start(),r.Ra.ua()}function pg(r){return Ko(r)&&!fu(r).x_()&&r.Ia.size>0}function Ko(r){return Ft(r).Ea.size===0}function Vb(r){r.Va=void 0}async function TN(r){r.Ra.set("Online")}async function bN(r){r.Ia.forEach(((t,n)=>{dg(r,t)}))}async function wN(r,t){Vb(r),pg(r)?(r.Ra.ha(t),mg(r)):r.Ra.set("Unknown")}async function xN(r,t,n){if(r.Ra.set("Online"),t instanceof Tb&&t.state===2&&t.cause)try{await(async function(l,h){const p=h.cause;for(const y of h.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,p),l.Ia.delete(y),l.Va.removeTarget(y))})(r,t)}catch(a){At(Ho,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Af(r,a)}else if(t instanceof lf?r.Va.Ze(t):t instanceof Eb?r.Va.st(t):r.Va.tt(t),!n.isEqual(jt.min()))try{const a=await Lb(r.localStore);n.compareTo(a)>=0&&await(function(h,p){const y=h.Va.Tt(p);return y.targetChanges.forEach(((v,T)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(T);S&&h.Ia.set(T,S.withResumeToken(v.resumeToken,p))}})),y.targetMismatches.forEach(((v,T)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(Nn.EMPTY_BYTE_STRING,S.snapshotVersion)),kb(h,v);const C=new Pa(S.target,v,T,S.sequenceNumber);dg(h,C)})),h.remoteSyncer.applyRemoteEvent(y)})(r,n)}catch(a){At(Ho,"Failed to raise snapshot:",a),await Af(r,a)}}async function Af(r,t,n){if(!cu(t))throw t;r.Ea.add(1),await Oc(r),r.Ra.set("Offline"),n||(n=()=>Lb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{At(Ho,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Gf(r)}))}function zb(r,t){return t().catch((n=>Af(r,n,t)))}async function Zf(r){const t=Ft(r),n=Za(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:$p;for(;SN(t);)try{const l=await aN(t.localStore,a);if(l===null){t.Ta.length===0&&n.L_();break}a=l.batchId,AN(t,l)}catch(l){await Af(t,l)}Ub(t)&&Bb(t)}function SN(r){return Ko(r)&&r.Ta.length<10}function AN(r,t){r.Ta.push(t);const n=Za(r);n.O_()&&n.X_&&n.ea(t.mutations)}function Ub(r){return Ko(r)&&!Za(r).x_()&&r.Ta.length>0}function Bb(r){Za(r).start()}async function CN(r){Za(r).ra()}async function RN(r){const t=Za(r);for(const n of r.Ta)t.ea(n.mutations)}async function IN(r,t,n){const a=r.Ta.shift(),l=sg.from(a,t,n);await zb(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Zf(r)}async function NN(r,t){t&&Za(r).X_&&await(async function(a,l){if((function(p){return hI(p)&&p!==ct.ABORTED})(l.code)){const h=a.Ta.shift();Za(a).B_(),await zb(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Zf(a)}})(r,t),Ub(r)&&Bb(r)}async function iE(r,t){const n=Ft(r);n.asyncQueue.verifyOperationInProgress(),At(Ho,"RemoteStore received new credentials");const a=Ko(n);n.Ea.add(3),await Oc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Gf(n)}async function DN(r,t){const n=Ft(r);t?(n.Ea.delete(2),await Gf(n)):t||(n.Ea.add(2),await Oc(n),n.Ra.set("Unknown"))}function fu(r){return r.ma||(r.ma=(function(n,a,l){const h=Ft(n);return h.sa(),new pN(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:TN.bind(null,r),t_:bN.bind(null,r),r_:wN.bind(null,r),H_:xN.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),pg(r)?mg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Vb(r))}))),r.ma}function Za(r){return r.fa||(r.fa=(function(n,a,l){const h=Ft(n);return h.sa(),new gN(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:CN.bind(null,r),r_:NN.bind(null,r),ta:RN.bind(null,r),na:IN.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Zf(r)):(await r.fa.stop(),r.Ta.length>0&&(At(Ho,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class gg{constructor(t,n,a,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,h){const p=Date.now()+a,y=new gg(t,n,p,l,h);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(r,t){if(Bs("AsyncQueue",`${t}: ${r}`),cu(r))return new St(ct.UNAVAILABLE,`${t}: ${r}`);throw r}class ql{static emptySet(t){return new ql(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Mt.comparator(n.key,a.key):(n,a)=>Mt.comparator(n.key,a.key),this.keyedMap=ic(),this.sortedSet=new He(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,a)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ql)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new ql;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}class rE{constructor(){this.ga=new He(Mt.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,a)=>{t.push(a)})),t}}class tu{constructor(t,n,a,l,h,p,y,v,T){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=p,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=T}static fromInitialDocuments(t,n,a,l,h){const p=[];return n.forEach((y=>{p.push({type:0,doc:y})})),new tu(t,n,ql.emptySet(n),p,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class LN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class MN{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Ft(n),h=l.queries;l.queries=sE(),h.forEach(((p,y)=>{for(const v of y.Sa)v.onError(a)}))})(this,new St(ct.ABORTED,"Firestore shutting down"))}}function sE(){return new Go((r=>ab(r)),Uf)}async function ON(r,t){const n=Ft(r);let a=3;const l=t.query;let h=n.queries.get(l);h?!h.ba()&&t.Da()&&(a=2):(h=new LN,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(p){const y=_g(p,`Initialization of query '${Vl(t.query)}' failed`);return void t.onError(y)}n.queries.set(l,h),h.Sa.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&yg(n)}async function PN(r,t){const n=Ft(r),a=t.query;let l=3;const h=n.queries.get(a);if(h){const p=h.Sa.indexOf(t);p>=0&&(h.Sa.splice(p,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function kN(r,t){const n=Ft(r);let a=!1;for(const l of t){const h=l.query,p=n.queries.get(h);if(p){for(const y of p.Sa)y.Fa(l)&&(a=!0);p.wa=l}}a&&yg(n)}function VN(r,t,n){const a=Ft(r),l=a.queries.get(t);if(l)for(const h of l.Sa)h.onError(n);a.queries.delete(t)}function yg(r){r.Ca.forEach((t=>{t.next()}))}var Ap,aE;(aE=Ap||(Ap={})).Ma="default",aE.Cache="cache";class zN{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new tu(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=tu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ap.Cache}}class jb{constructor(t){this.key=t}}class Hb{constructor(t){this.key=t}}class UN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=ob(t),this.tu=new ql(this.eu)}get nu(){return this.Ya}ru(t,n){const a=n?n.iu:new rE,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,p=l,y=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,T=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,C)=>{const M=l.get(S),Z=Bf(this.query,C)?C:null,et=!!M&&this.mutatedKeys.has(M.key),Q=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let q=!1;M&&Z?M.data.isEqual(Z.data)?et!==Q&&(a.track({type:3,doc:Z}),q=!0):this.su(M,Z)||(a.track({type:2,doc:Z}),q=!0,(v&&this.eu(Z,v)>0||T&&this.eu(Z,T)<0)&&(y=!0)):!M&&Z?(a.track({type:0,doc:Z}),q=!0):M&&!Z&&(a.track({type:1,doc:M}),q=!0,(v||T)&&(y=!0)),q&&(Z?(p=p.add(Z),h=Q?h.add(S):h.delete(S)):(p=p.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const S=this.query.limitType==="F"?p.last():p.first();p=p.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{tu:p,iu:a,Cs:y,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const p=t.iu.ya();p.sort(((S,C)=>(function(Z,et){const Q=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt(20277,{Rt:q})}};return Q(Z)-Q(et)})(S.type,C.type)||this.eu(S.doc,C.doc))),this.ou(a),l=l??!1;const y=n&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,T=v!==this.Za;return this.Za=v,p.length!==0||T?{snapshot:new tu(this.query,t.tu,h,p,t.mutatedKeys,v===0,T,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ae(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return t.forEach((a=>{this.Xa.has(a)||n.push(new Hb(a))})),this.Xa.forEach((a=>{t.has(a)||n.push(new jb(a))})),n}cu(t){this.Ya=t.Qs,this.Xa=ae();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return tu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vg="SyncEngine";class BN{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class jN{constructor(t){this.key=t,this.hu=!1}}class HN{constructor(t,n,a,l,h,p){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Go((y=>ab(y)),Uf),this.Iu=new Map,this.Eu=new Set,this.du=new He(Mt.comparator),this.Au=new Map,this.Ru=new lg,this.Vu={},this.mu=new Map,this.fu=$l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qN(r,t,n=!0){const a=Qb(r);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await qb(a,t,n,!0),l}async function FN(r,t){const n=Qb(r);await qb(n,t,!0,!1)}async function qb(r,t,n,a){const l=await oN(r.localStore,$r(t)),h=l.targetId,p=r.sharedClientState.addLocalQueryTarget(h,n);let y;return a&&(y=await GN(r,t,h,p==="current",l.resumeToken)),r.isPrimaryClient&&n&&Pb(r.remoteStore,l),y}async function GN(r,t,n,a,l){r.pu=(C,M,Z)=>(async function(Q,q,mt,dt){let ht=q.view.ru(mt);ht.Cs&&(ht=await J0(Q.localStore,q.query,!1).then((({documents:V})=>q.view.ru(V,ht))));const Dt=dt&&dt.targetChanges.get(q.targetId),Ot=dt&&dt.targetMismatches.get(q.targetId)!=null,Bt=q.view.applyChanges(ht,Q.isPrimaryClient,Dt,Ot);return lE(Q,q.targetId,Bt.au),Bt.snapshot})(r,C,M,Z);const h=await J0(r.localStore,t,!0),p=new UN(t,h.Qs),y=p.ru(h.documents),v=Mc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),T=p.applyChanges(y,r.isPrimaryClient,v);lE(r,n,T.au);const S=new BN(t,n,p);return r.Tu.set(t,S),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),T.snapshot}async function ZN(r,t,n){const a=Ft(r),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((p=>!Uf(p,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await xp(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&fg(a.remoteStore,l.targetId),Cp(a,l.targetId)})).catch(uu)):(Cp(a,l.targetId),await xp(a.localStore,l.targetId,!0))}async function KN(r,t){const n=Ft(r),a=n.Tu.get(t),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),fg(n.remoteStore,a.targetId))}async function QN(r,t,n){const a=eD(r);try{const l=await(function(p,y){const v=Ft(p),T=Pe.now(),S=y.reduce(((Z,et)=>Z.add(et.key)),ae());let C,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Z=>{let et=js(),Q=ae();return v.Ns.getEntries(Z,S).next((q=>{et=q,et.forEach(((mt,dt)=>{dt.isValidDocument()||(Q=Q.add(mt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Z,et))).next((q=>{C=q;const mt=[];for(const dt of y){const ht=aI(dt,C.get(dt.key).overlayedDocument);ht!=null&&mt.push(new Zo(dt.key,ht,WT(ht.value.mapValue),ts.exists(!0)))}return v.mutationQueue.addMutationBatch(Z,T,mt,y)})).next((q=>{M=q;const mt=q.applyToLocalDocumentSet(C,Q);return v.documentOverlayCache.saveOverlays(Z,q.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:ub(C)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(p,y,v){let T=p.Vu[p.currentUser.toKey()];T||(T=new He(se)),T=T.insert(y,v),p.Vu[p.currentUser.toKey()]=T})(a,l.batchId,n),await Pc(a,l.changes),await Zf(a.remoteStore)}catch(l){const h=_g(l,"Failed to persist write");n.reject(h)}}async function Fb(r,t){const n=Ft(r);try{const a=await rN(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const p=n.Au.get(h);p&&(_e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?_e(p.hu,14607):l.removedDocuments.size>0&&(_e(p.hu,42227),p.hu=!1))})),await Pc(n,a,t)}catch(a){await uu(a)}}function oE(r,t,n){const a=Ft(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((h,p)=>{const y=p.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(p,y){const v=Ft(p);v.onlineState=y;let T=!1;v.queries.forEach(((S,C)=>{for(const M of C.Sa)M.va(y)&&(T=!0)})),T&&yg(v)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function YN(r,t,n){const a=Ft(r);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Au.get(t),h=l&&l.key;if(h){let p=new He(Mt.comparator);p=p.insert(h,Bn.newNoDocument(h,jt.min()));const y=ae().add(h),v=new qf(jt.min(),new Map,new He(se),p,y);await Fb(a,v),a.du=a.du.remove(h),a.Au.delete(t),Eg(a)}else await xp(a.localStore,t,!1).then((()=>Cp(a,t,n))).catch(uu)}async function XN(r,t){const n=Ft(r),a=t.batch.batchId;try{const l=await iN(n.localStore,t);Zb(n,a,null),Gb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Pc(n,l)}catch(l){await uu(l)}}async function WN(r,t,n){const a=Ft(r);try{const l=await(function(p,y){const v=Ft(p);return v.persistence.runTransaction("Reject batch","readwrite-primary",(T=>{let S;return v.mutationQueue.lookupMutationBatch(T,y).next((C=>(_e(C!==null,37113),S=C.keys(),v.mutationQueue.removeMutationBatch(T,C)))).next((()=>v.mutationQueue.performConsistencyCheck(T))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(T,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,S))).next((()=>v.localDocuments.getDocuments(T,S)))}))})(a.localStore,t);Zb(a,t,n),Gb(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Pc(a,l)}catch(l){await uu(l)}}function Gb(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function Zb(r,t,n){const a=Ft(r);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Cp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||Kb(r,a)}))}function Kb(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(fg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Eg(r))}function lE(r,t,n){for(const a of n)a instanceof jb?(r.Ru.addReference(a.key,t),JN(r,a)):a instanceof Hb?(At(vg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||Kb(r,a.key)):Vt(19791,{wu:a})}function JN(r,t){const n=t.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(At(vg,"New document in limbo: "+n),r.Eu.add(a),Eg(r))}function Eg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new Mt(Ne.fromString(t)),a=r.fu.next();r.Au.set(a,new jN(n)),r.du=r.du.insert(n,a),Pb(r.remoteStore,new Pa($r(rb(n.path)),a,"TargetPurposeLimboResolution",kf.ce))}}async function Pc(r,t,n){const a=Ft(r),l=[],h=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,v)=>{p.push(a.pu(v,t,n).then((T=>{if((T||n)&&a.isPrimaryClient){const S=T?!T.fromCache:n?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(T){l.push(T);const S=cg.As(v.targetId,T);h.push(S)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(v,T){const S=Ft(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>ft.forEach(T,(M=>ft.forEach(M.Es,(Z=>S.persistence.referenceDelegate.addReference(C,M.targetId,Z))).next((()=>ft.forEach(M.ds,(Z=>S.persistence.referenceDelegate.removeReference(C,M.targetId,Z)))))))))}catch(C){if(!cu(C))throw C;At(hg,"Failed to update sequence numbers: "+C)}for(const C of T){const M=C.targetId;if(!C.fromCache){const Z=S.Ms.get(M),et=Z.snapshotVersion,Q=Z.withLastLimboFreeSnapshotVersion(et);S.Ms=S.Ms.insert(M,Q)}}})(a.localStore,h))}async function $N(r,t){const n=Ft(r);if(!n.currentUser.isEqual(t)){At(vg,"User change. New user:",t.toKey());const a=await Db(n.localStore,t);n.currentUser=t,(function(h,p){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new St(ct.CANCELLED,p))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Pc(n,a.Ls)}}function tD(r,t){const n=Ft(r),a=n.Au.get(t);if(a&&a.hu)return ae().add(a.key);{let l=ae();const h=n.Iu.get(t);if(!h)return l;for(const p of h){const y=n.Tu.get(p);l=l.unionWith(y.view.nu)}return l}}function Qb(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YN.bind(null,t),t.Pu.H_=kN.bind(null,t.eventManager),t.Pu.yu=VN.bind(null,t.eventManager),t}function eD(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WN.bind(null,t),t}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ff(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return nN(this.persistence,new $I,t.initialUser,this.serializer)}Cu(t){return new Nb(ug.mi,this.serializer)}Du(t){return new uN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class nD extends Cf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){_e(this.persistence.referenceDelegate instanceof Sf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new zI(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new Nb((a=>Sf.mi(a,n)),this.serializer)}}class Rp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>oE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=$N.bind(null,this.syncEngine),await DN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new MN})()}createDatastore(t){const n=Ff(t.databaseInfo.databaseId),a=(function(h){return new mN(h)})(t.databaseInfo);return(function(h,p,y,v){return new yN(h,p,y,v)})(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return(function(a,l,h,p,y){return new EN(a,l,h,p,y)})(this.localStore,this.datastore,t.asyncQueue,(n=>oE(this.syncEngine,n,0)),(function(){return eE.v()?new eE:new cN})())}createSyncEngine(t,n){return(function(l,h,p,y,v,T,S){const C=new HN(l,h,p,y,v,T);return S&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ft(n);At(Ho,"RemoteStore shutting down."),a.Ea.add(5),await Oc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rp.provider={build:()=>new Rp};class iD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Bs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ka="FirestoreClient";class rD{constructor(t,n,a,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=Un.UNAUTHENTICATED,this.clientId=Jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async p=>{At(Ka,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(At(Ka,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=_g(n,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function $m(r,t){r.asyncQueue.verifyOperationInProgress(),At(Ka,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await Db(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function uE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await sD(r);At(Ka,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((a=>iE(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>iE(t.remoteStore,l))),r._onlineComponents=t}async function sD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){At(Ka,"Using user provided OfflineComponentProvider");try{await $m(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ct.FAILED_PRECONDITION||l.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Ql("Error using user provided cache. Falling back to memory cache: "+n),await $m(r,new Cf)}}else At(Ka,"Using default OfflineComponentProvider"),await $m(r,new nD(void 0));return r._offlineComponents}async function Yb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(At(Ka,"Using user provided OnlineComponentProvider"),await uE(r,r._uninitializedComponentsProvider._online)):(At(Ka,"Using default OnlineComponentProvider"),await uE(r,new Rp))),r._onlineComponents}function aD(r){return Yb(r).then((t=>t.syncEngine))}async function oD(r){const t=await Yb(r),n=t.eventManager;return n.onListen=qN.bind(null,t.syncEngine),n.onUnlisten=ZN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=FN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=KN.bind(null,t.syncEngine),n}function lD(r,t,n={}){const a=new Ba;return r.asyncQueue.enqueueAndForget((async()=>(function(h,p,y,v,T){const S=new iD({next:M=>{S.Nu(),p.enqueueAndForget((()=>PN(h,C))),M.fromCache&&v.source==="server"?T.reject(new St(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(M)},error:M=>T.reject(M)}),C=new zN(y,S,{includeMetadataChanges:!0,qa:!0});return ON(h,C)})(await oD(r),r.asyncQueue,t,n,a))),a.promise}function Xb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const cE=new Map;const Wb="firestore.googleapis.com",hE=!0;class fE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new St(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wb,this.ssl=hE}else this.host=t.host,this.ssl=t.ssl??hE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Ib;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kI)throw new St(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}v2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xb(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kf{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new u2;switch(a.type){case"firstParty":return new d2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new St(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=cE.get(n);a&&(At("ComponentProvider","Removing Datastore"),cE.delete(n),a.terminate())})(this),Promise.resolve()}}function uD(r,t,n,a={}){r=Xl(r,Kf);const l=su(t),h=r._getSettings(),p={...h,emulatorOptions:r._getEmulatorOptions()},y=`${t}:${n}`;l&&(QE(`https://${y}`),YE("Firestore",!0)),h.host!==Wb&&h.host!==y&&Ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:l,emulatorOptions:a};if(!zo(v,p)&&(r._setSettings(v),a.mockUserToken)){let T,S;if(typeof a.mockUserToken=="string")T=a.mockUserToken,S=Un.MOCK_USER;else{T=M1(a.mockUserToken,r._app?.options.projectId);const C=a.mockUserToken.sub||a.mockUserToken.user_id;if(!C)throw new St(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Un(C)}r._authCredentials=new c2(new UT(T,S))}}class Qo{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Qo(this.firestore,t,this._query)}}class dn{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Dc(n,dn._jsonSchema))return new dn(t,a||null,new Mt(Ne.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:cn("string",dn._jsonSchemaVersion),referencePath:cn("string")};class ja extends Qo{constructor(t,n,a){super(t,n,rb(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new Mt(t))}withConverter(t){return new ja(this.firestore,t,this._path)}}function eu(r,t,...n){if(r=mi(r),BT("collection","path",t),r instanceof Kf){const a=Ne.fromString(t,...n);return S0(a),new ja(r,null,a)}{if(!(r instanceof dn||r instanceof ja))throw new St(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ne.fromString(t,...n));return S0(a),new ja(r.firestore,null,a)}}function Jb(r,t,...n){if(r=mi(r),arguments.length===1&&(t=Jp.newId()),BT("doc","path",t),r instanceof Kf){const a=Ne.fromString(t,...n);return x0(a),new dn(r,null,new Mt(a))}{if(!(r instanceof dn||r instanceof ja))throw new St(ct.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ne.fromString(t,...n));return x0(a),new dn(r.firestore,r instanceof ja?r.converter:null,new Mt(a))}}const dE="AsyncQueue";class mE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Mb(this,"async_queue_retry"),this._c=()=>{const a=Jm();a&&At(dE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=Jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ba;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!cu(t))throw t;At(dE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Bs("INTERNAL UNHANDLED ERROR: ",pE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=gg.createAndSchedule(this,t,n,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Vt(47125,{Pc:pE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function pE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Qf extends Kf{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new mE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mE(t),this._firestoreClient=void 0,await t}}}function cD(r,t){const n=typeof r=="object"?r:$E(),a=typeof r=="string"?r:Ef,l=Bp(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=D1("firestore");h&&uD(l,...h)}return l}function $b(r){if(r._terminated)throw new St(ct.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||hD(r),r._firestoreClient}function hD(r){const t=r._freezeSettings(),n=(function(l,h,p,y){return new N2(l,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Xb(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new rD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}class ir{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ir(Nn.fromBase64String(t))}catch(n){throw new St(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ir(Nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Dc(t,ir._jsonSchema))return ir.fromBase64String(t.bytes)}}ir._jsonSchemaVersion="firestore/bytes/1.0",ir._jsonSchema={type:cn("string",ir._jsonSchemaVersion),bytes:cn("string")};class Tg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new St(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bg{constructor(t){this._methodName=t}}class ns{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new St(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new St(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return se(this._lat,t._lat)||se(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(t){if(Dc(t,ns._jsonSchema))return new ns(t.latitude,t.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:cn("string",ns._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};class is{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Dc(t,is._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new is(t.vectorValues);throw new St(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:cn("string",is._jsonSchemaVersion),vectorValues:cn("object")};const fD=/^__.*__$/;class dD{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new Zo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(t,this.data,n,this.fieldTransforms)}}function tw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt(40011,{Ac:r})}}class wg{constructor(t,n,a,l,h,p){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new wg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.gc(t),a}yc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Rf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(tw(this.Ac)&&fD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class mD{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Ff(t)}Cc(t,n,a,l=!1){return new wg({Ac:t,methodName:n,Dc:a,path:In.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xg(r){const t=r._freezeSettings(),n=Ff(r._databaseId);return new mD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function ew(r,t,n,a,l,h={}){const p=r.Cc(h.merge||h.mergeFields?2:0,t,n,l);rw("Data must be an object, but it was:",p,a);const y=nw(a,p);let v,T;if(h.merge)v=new xr(p.fieldMask),T=p.fieldTransforms;else if(h.mergeFields){const S=[];for(const C of h.mergeFields){const M=gD(t,C,n);if(!p.contains(M))throw new St(ct.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);yD(S,M)||S.push(M)}v=new xr(S),T=p.fieldTransforms.filter((C=>v.covers(C.field)))}else v=null,T=p.fieldTransforms;return new dD(new nr(y),v,T)}class Sg extends bg{_toFieldTransform(t){return new nI(t.path,new Ec)}isEqual(t){return t instanceof Sg}}function pD(r,t,n,a=!1){return Ag(n,r.Cc(a?4:3,t))}function Ag(r,t){if(iw(r=mi(r)))return rw("Unsupported field value:",t,r),nw(r,t);if(r instanceof bg)return(function(a,l){if(!tw(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const h=[];let p=0;for(const y of a){let v=Ag(y,l.wc(p));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),p++}return{arrayValue:{values:h}}})(r,t)}return(function(a,l){if((a=mi(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return $2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Pe.fromDate(a);return{timestampValue:xf(l.serializer,h)}}if(a instanceof Pe){const h=new Pe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:xf(l.serializer,h)}}if(a instanceof ns)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ir)return{bytesValue:bb(l.serializer,a._byteString)};if(a instanceof dn){const h=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(h))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:og(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof is)return(function(p,y){return{mapValue:{fields:{[YT]:{stringValue:XT},[Tf]:{arrayValue:{values:p.toArray().map((T=>{if(typeof T!="number")throw y.Sc("VectorValues must only contain numeric values.");return rg(y.serializer,T)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Pf(a)}`)})(r,t)}function nw(r,t){const n={};return qT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fo(r,((a,l)=>{const h=Ag(l,t.mc(a));h!=null&&(n[a]=h)})),{mapValue:{fields:n}}}function iw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Pe||r instanceof ns||r instanceof ir||r instanceof dn||r instanceof bg||r instanceof is)}function rw(r,t,n){if(!iw(n)||!jT(n)){const a=Pf(n);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function gD(r,t,n){if((t=mi(t))instanceof Tg)return t._internalPath;if(typeof t=="string")return sw(r,t);throw Rf("Field path arguments must be of type string or ",r,!1,void 0,n)}const _D=new RegExp("[~\\*/\\[\\]]");function sw(r,t,n){if(t.search(_D)>=0)throw Rf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Tg(...t.split("."))._internalPath}catch{throw Rf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Rf(r,t,n,a,l){const h=a&&!a.isEmpty(),p=l!==void 0;let y=`Function ${t}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||p)&&(v+=" (found",h&&(v+=` in field ${a}`),p&&(v+=` in document ${l}`),v+=")"),new St(ct.INVALID_ARGUMENT,y+r+v)}function yD(r,t){return r.some((n=>n.isEqual(t)))}class aw{constructor(t,n,a,l,h){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new vD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Yf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vD extends aw{data(){return super.data()}}function Yf(r,t){return typeof t=="string"?sw(r,t):t instanceof Tg?t._internalPath:t._delegate._internalPath}function ED(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new St(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class ow extends Cg{}function Ip(r,t,...n){let a=[];t instanceof Cg&&a.push(t),a=a.concat(n),(function(h){const p=h.filter((v=>v instanceof Rg)).length,y=h.filter((v=>v instanceof Xf)).length;if(p>1||p>0&&y>0)throw new St(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class Xf extends ow{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new Xf(t,n,a)}_apply(t){const n=this._parse(t);return lw(t._query,n),new Qo(t.firestore,t.converter,yp(t._query,n))}_parse(t){const n=xg(t.firestore);return(function(h,p,y,v,T,S,C){let M;if(T.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new St(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){yE(C,S);const et=[];for(const Q of C)et.push(_E(v,h,Q));M={arrayValue:{values:et}}}else M=_E(v,h,C)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||yE(C,S),M=pD(y,p,C,S==="in"||S==="not-in");return un.create(T,S,M)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function gE(r,t,n){const a=t,l=Yf("where",r);return Xf._create(l,a,n)}class Rg extends Cg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Rg(t,n)}_parse(t){const n=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let p=l;const y=h.getFlattenedFilters();for(const v of y)lw(p,v),p=yp(p,v)})(t._query,n),new Qo(t.firestore,t.converter,yp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends ow{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Ig(t,n)}_apply(t){const n=(function(l,h,p){if(l.startAt!==null)throw new St(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new St(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(h,p)})(t._query,this._field,this._direction);return new Qo(t.firestore,t.converter,(function(l,h){const p=l.explicitOrderBy.concat([h]);return new hu(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function TD(r,t="asc"){const n=t,a=Yf("orderBy",r);return Ig._create(a,n)}function _E(r,t,n){if(typeof(n=mi(n))=="string"){if(n==="")throw new St(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sb(t)&&n.indexOf("/")!==-1)throw new St(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(Ne.fromString(n));if(!Mt.isDocumentKey(a))throw new St(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return M0(r,new Mt(a))}if(n instanceof dn)return M0(r,n._key);throw new St(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(n)}.`)}function yE(r,t){if(!Array.isArray(r)||r.length===0)throw new St(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lw(r,t){const n=(function(l,h){for(const p of l)for(const y of p.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new St(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new St(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class bD{convertValue(t,n="none"){switch(Ga(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return Fo(t,((l,h)=>{a[l]=this.convertValue(h,n)})),a}convertVectorValue(t){const n=t.fields?.[Tf].arrayValue?.values?.map((a=>tn(a.doubleValue)));return new is(n)}convertGeoPoint(t){return new ns(tn(t.latitude),tn(t.longitude))}convertArray(t,n){return(t.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const a=zf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(gc(t));default:return null}}convertTimestamp(t){const n=qa(t);return new Pe(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=Ne.fromString(t);_e(Rb(a),9688,{name:t});const l=new _c(a.get(1),a.get(3)),h=new Mt(a.popFirst(5));return l.isEqual(n)||Bs(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}function uw(r,t,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,a}class Xh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fl extends aw{constructor(t,n,a,l,h,p){super(t,n,a,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(Yf("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Fl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fl._jsonSchema={type:cn("string",Fl._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class uf extends Fl{data(t={}){return super.data(t)}}class Gl{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Xh(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((a=>{t.call(n,new uf(this._firestore,this._userDataWriter,a.key,a,new Xh(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new St(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((y=>{const v=new uf(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Xh(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new uf(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Xh(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let T=-1,S=-1;return y.type!==0&&(T=p.indexOf(y.doc.key),p=p.delete(y.doc.key)),y.type!==1&&(p=p.add(y.doc),S=p.indexOf(y.doc.key)),{type:wD(y.type),doc:v,oldIndex:T,newIndex:S}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Gl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function wD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt(61501,{type:r})}}Gl._jsonSchemaVersion="firestore/querySnapshot/1.0",Gl._jsonSchema={type:cn("string",Gl._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class xD extends bD{constructor(t){super(),this.firestore=t}convertBytes(t){return new ir(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function wc(r){r=Xl(r,Qo);const t=Xl(r.firestore,Qf),n=$b(t),a=new xD(t);return ED(r._query),lD(n,r._query).then((l=>new Gl(t,a,r,l)))}function SD(r,t,n){r=Xl(r,dn);const a=Xl(r.firestore,Qf),l=uw(r.converter,t,n);return cw(a,[ew(xg(a),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,ts.none())])}function AD(r,t){const n=Xl(r.firestore,Qf),a=Jb(r),l=uw(r.converter,t);return cw(n,[ew(xg(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,ts.exists(!1))]).then((()=>a))}function cw(r,t){return(function(a,l){const h=new Ba;return a.asyncQueue.enqueueAndForget((async()=>QN(await aD(a),l,h))),h.promise})($b(r),t)}function CD(){return new Sg("serverTimestamp")}(function(t,n=!0){(function(l){lu=l})(au),Zl(new Uo("firestore",((a,{instanceIdentifier:l,options:h})=>{const p=a.getProvider("app").getImmediate(),y=new Qf(new h2(a.getProvider("auth-internal")),new m2(p,a.getProvider("app-check-internal")),(function(T,S){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new St(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(T.options.projectId,S)})(p,l),p);return h={useFetchStreams:n,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),za(E0,T0,t),za(E0,T0,"esm2020")})();const RD={apiKey:"AIzaSyDyPzPk6CZBJ0armWcK145KnQg4X2EJ1Gc",authDomain:"la-nba.firebaseapp.com",projectId:"la-nba",storageBucket:"la-nba.firebasestorage.app",messagingSenderId:"222296057914",appId:"1:222296057914:web:3f3702623b48f6506aed03"},hw=JE(RD),tp=s2(hw),ID=new Ms,qo=cD(hw),fw=Y.createContext();function kc(){return Y.useContext(fw)}function ND({children:r}){const[t,n]=Y.useState(null),[a,l]=Y.useState(!0);function h(){return mR(tp,ID)}function p(){return QC(tp)}Y.useEffect(()=>KC(tp,T=>{n(T),l(!1)}),[]);const y={currentUser:t,login:h,logout:p};return I.jsx(fw.Provider,{value:y,children:!a&&r})}function ec({children:r}){const{currentUser:t}=kc();return t?r:I.jsx(BS,{to:"/"})}function DD(){const{login:r,currentUser:t}=kc(),n=qs();Y.useEffect(()=>{t&&n("/overview")},[t,n]);const a=async()=>{try{const h=(await r()).user;await SD(Jb(qo,"users",h.uid),{uid:h.uid,displayName:h.displayName,email:h.email,photoURL:h.photoURL,lastLogin:new Date},{merge:!0}),n("/overview")}catch(l){console.error("Failed to log in",l)}};return I.jsxs("div",{className:"relative h-[100dvh] w-full flex flex-col bg-background-dark max-w-[430px] mx-auto overflow-hidden text-white antialiased",children:[I.jsx("div",{className:"absolute inset-0 z-0",children:I.jsx("div",{className:"w-full h-full bg-center bg-cover opacity-60",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuCyFS12cE_tdsJCcYWBRFI5_dm4dNftwFwFHYBIONKZS--oHxvHki6fjPcsSzItxp2gr4YdIXhoDMEaUcsmgn373vc9cOULt-X_WDUabdSxzEvu-hC_koF5HudSf_pDLhLH-gWulGmvAVBYrUkDsrJF6_P1OOrhkvFjQRfWVm3rTqC3DatZIQZjAwbA6o7p4DTEs8F4UPEbruOBnGn6dYXWvgvN7reYe2J4AgIoDAaLmr91Eq9tdNk5BZ-D8MT_7Ite6qHXL3RUYOQ")'},children:I.jsx("div",{className:"absolute inset-0 bg-overlay"})})}),I.jsxs("div",{className:"relative z-10 flex flex-col h-full px-6 pt-16 pb-8",children:[" ",I.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center",children:[I.jsx("div",{className:"mb-8 inline-flex p-4 rounded-3xl bg-lakers-gold/10 border border-lakers-gold/30 backdrop-blur-md",children:I.jsx("span",{className:"material-symbols-outlined text-lakers-gold text-5xl",children:"sports_basketball"})}),I.jsxs("h1",{className:"font-display font-bold text-6xl tracking-tight mb-4 text-glow",children:["",I.jsx("br",{}),"LA",I.jsx("span",{className:"text-lakers-gold italic",children:" BRON JAMES"})]})]}),I.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-10",children:[I.jsx("div",{className:"glass-panel rounded-2xl p-6 shadow-2xl",children:I.jsx("div",{className:"space-y-6",children:I.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-4 bg-lakers-gold text-lakers-purple font-bold h-14 rounded-xl active:scale-[0.98] transition-all shadow-[0_0_20px_rgba(253,185,39,0.3)]",children:[I.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[I.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"currentColor",fillOpacity:"0.8"}),I.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"currentColor",fillOpacity:"0.8"}),I.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"currentColor",fillOpacity:"0.8"}),I.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 12-4.53z",fill:"currentColor",fillOpacity:"0.8"})]}),I.jsx("span",{className:"text-base",children:"Continue with Google"})]})})}),I.jsx("div",{className:"pt-4 flex justify-center opacity-20",children:I.jsx("div",{className:"h-1.5 w-32 bg-lakers-gold rounded-full"})})]})]})]})}function dw(){const r=qs(),t=Hs(),n=a=>t.pathname===a;return I.jsxs("nav",{className:"fixed bottom-0 w-full max-w-[430px] bg-background-dark/95 border-t border-white/10 px-6 py-4 backdrop-blur-xl flex justify-between items-center z-50",children:[I.jsxs("button",{onClick:()=>r("/overview"),className:`flex flex-col items-center gap-1 cursor-pointer transition-colors ${n("/overview")?"text-primary":"text-gray-500 hover:text-primary"}`,children:[I.jsx("span",{className:`material-symbols-outlined text-2xl ${n("/overview")?"fill-icon":""}`,children:"dashboard"}),I.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Overview"})]}),I.jsxs("button",{onClick:()=>r("/itinerary"),className:`flex flex-col items-center gap-1 cursor-pointer transition-colors ${n("/itinerary")?"text-primary":"text-gray-500 hover:text-primary"}`,children:[I.jsx("span",{className:"material-symbols-outlined text-2xl",children:"explore"}),I.jsx("span",{className:"text-[10px] font-medium uppercase tracking-tighter",children:"Guide"})]}),I.jsxs("button",{onClick:()=>r("/add-expense"),className:`flex flex-col items-center gap-1 cursor-pointer transition-colors ${n("/add-expense")?"text-primary":"text-gray-500 hover:text-primary"}`,children:[I.jsx("span",{className:"material-symbols-outlined text-2xl",children:"payments"}),I.jsx("span",{className:"text-[10px] font-medium uppercase tracking-tighter",children:"Expenses"})]}),I.jsxs("button",{className:"flex flex-col items-center gap-1 text-gray-500 hover:text-primary transition-colors cursor-pointer",children:[I.jsx("span",{className:"material-symbols-outlined text-2xl",children:"settings"}),I.jsx("span",{className:"text-[10px] font-medium uppercase tracking-tighter",children:"Settings"})]})]})}const Ng=JSON.parse(`[{"id":1,"date":"2026-02-18","weekday":"Wednesday","title":"","location":"San Gabriel","weather":"Sunny 72F","events":[{"time":"16:50","title":"Arrive ONT Airport","description":"","location":"Ontario International Airport","mapLink":"https://www.google.com/maps/@34.0559976,-117.6006671,17z?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"flight_land"},{"time":"18:00","title":"Pick up Rental Car","description":" Rental Car Center ","location":"Rental Car Center","mapLink":"","icon":"directions_car"},{"time":"19:00","title":"Check-in Airbnb","description":"8753 East Arcadia Avenue, San Gabriel, CA 91775","location":"8753 East Arcadia Avenue, San Gabriel","mapLink":"https://www.google.com/maps/place/8753+E+Arcadia+Ave,+San+Gabriel,+CA+91775%E7%BE%8E%E5%9C%8B/@34.1254364,-118.0776999,17z/data=!3m1!4b1!4m5!3m4!1s0x80c2db121b2a8ea5:0xe1b50a082194721d!8m2!3d34.1254364!4d-118.0776999?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"home"},{"time":"20:00","title":"Dinner: Golden Deli / 101 Noodle Express","description":"(Golden Deli)  (101 Noodle Express)","location":"San Gabriel","mapLink":"","icon":"restaurant"}]},{"id":2,"date":"2026-02-19","weekday":"Thursday","title":"Pasadena  & ","location":"Pasadena","weather":"Sunny 75F","events":[{"time":"10:00","title":"Breakfast: Vroman's / Great Maple","description":"Vroman's Bookstore  Great Maple ","location":"Pasadena","mapLink":"","icon":"coffee"},{"time":"11:00","title":"The Huntington Library","description":" & ","location":"The Huntington","mapLink":"https://www.google.com/maps/place/%E6%BC%A2%E5%BA%AD%E9%A0%93%E5%9C%96%E6%9B%B8%E9%A4%A8/@34.1290452,-118.1145242,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2db4d02615c73:0xb328d70c295f1904!8m2!3d34.1290452!4d-118.1145242!16zL20vMDFtcjBr?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"local_library"},{"time":"14:00","title":"Old Pasadena Shopping","description":" Colorado Blvd ","location":"Colorado Blvd","mapLink":"","icon":"shopping_bag"},{"time":"16:00","title":"Trader Joe's","description":"(South Pasadena) /","location":"South Pasadena","mapLink":"https://www.google.com/maps/search/Trader+Joe's+South+Pasadena/@34.1141032,-118.157228,16z/data=!3m1!4b1?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"shopping_cart"},{"time":"17:30","title":"Super King Market","description":"(Altadena) ","location":"Altadena","mapLink":"https://www.google.com/maps/place/Super+King+Market/@34.1846991,-118.1595127,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c25899a57b05:0xa20b9c5d1873f201!8m2!3d34.1846991!4d-118.1595127!16s%2Fg%2F1tp8_9j0?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"store"},{"time":"19:00","title":"Dinner: Sam Woo BBQ / Boiling Point","description":" San Gabriel ","location":"San Gabriel","mapLink":"","icon":"restaurant"}]},{"id":3,"date":"2026-02-20","weekday":"Friday","title":" GAME DAY - DTLA & Hollywood","location":"DTLA / Hollywood","weather":"Sunny 74F","events":[{"time":"09:30","title":"Breakfast: Eggslut","description":"Grand Central Market  (Eggslut)","location":"Grand Central Market","mapLink":"https://www.google.com/maps/place/Grand+Central+Market/@34.050872,-118.2490552,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c64b8e4372e7:0x489d4efdeb06d3d8!8m2!3d34.050872!4d-118.2490552!16zL20vMDdmN3M5?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"egg_alt"},{"time":"11:30","title":"Beverly Hills & Rodeo Drive","description":" Rodeo Drive ","location":"Beverly Hills","mapLink":"","icon":"diamond"},{"time":"13:30","title":"Lunch: The Grove / Farmers Market","description":" The Grove ","location":"The Grove","mapLink":"","icon":"lunch_dining"},{"time":"15:00","title":"Hollywood Walk of Fame","description":"","location":"Hollywood Blvd","mapLink":"","icon":"star"},{"time":"16:30","title":"Head to Arena (Parking)","description":" Crypto.com Arena","location":"Crypto.com Arena","mapLink":"https://www.google.com/maps/place/%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3%E7%B6%B2%E9%AB%94%E8%82%B2%E9%A4%A8/@34.0430175,-118.2672541,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c7b85dea2a93:0x1ff47c3ceb7bb2d5!8m2!3d34.0430175!4d-118.2672541!16zL20vMDJrazVz?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"directions_car"},{"time":"19:00","title":"Lakers vs Clippers","description":" (GAME START)","location":"Crypto.com Arena","mapLink":"","icon":"sports_basketball"},{"time":"22:00","title":"Return to San Gabriel","description":" San Gabriel ","location":"San Gabriel","mapLink":"https://www.google.com/maps/place/8753+E+Arcadia+Ave,+San+Gabriel,+CA+91775%E7%BE%8E%E5%9C%8B/@34.1254364,-118.0776999,17z/data=!3m1!4b1!4m5!3m4!1s0x80c2db121b2a8ea5:0xe1b50a082194721d!8m2!3d34.1254364!4d-118.0776999?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"home"}]},{"id":4,"date":"2026-02-21","weekday":"Saturday","title":"","location":"Universal City","weather":"Sunny 70F","events":[{"time":"09:00","title":"Universal Studios","description":"","location":"Universal City","mapLink":"https://www.google.com/maps/place/%E5%A5%BD%E8%90%8A%E5%A1%A2%E7%92%B0%E7%90%83%E5%BD%B1%E5%9F%8E/@34.1370756,-118.358177,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2be4f253238cf:0xd3dd5027799c9a71!8m2!3d34.1370713!4d-118.3533061!16zL20vMDVxc3k4?entry=tts&g_ep=EgoyMDI2MDExMy4wIPu8ASoASAFQAw%3D%3D&skid=1b3f85f7-56a0-4a7c-b9a0-d5ed0e3c5d20","icon":"movie"}]},{"id":5,"date":"2026-02-22","weekday":"Sunday","title":" Las Vegas","location":"Las Vegas","weather":"Sunny 65F","events":[{"time":"10:00","title":"Checkout Airbnb","description":"","location":"San Gabriel","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Brunch: Yi Mei Deli","description":" San Gabriel  (: )","location":"San Gabriel","mapLink":"","icon":"breakfast_dining"},{"time":"12:30","title":"Drive to Las Vegas","description":" Las Vegas 4 ","location":"I-15 North","mapLink":"","icon":"directions_car"},{"time":"14:30","title":"Stop: Barstow Outlets","description":" Outlets at Barstow /","location":"Barstow","mapLink":"https://www.google.com/maps/search/?api=1&query=Outlets+at+Barstow","icon":"shopping_bag"},{"time":"17:30","title":"Check-in: Treasure Island / Luxor","description":" Las Vegas","location":"Las Vegas Strip","mapLink":"","icon":"hotel"},{"time":"19:00","title":"The Strip Walk & Dinner","description":" Bellagio Venetian Sphere ","location":"Las Vegas Blvd","mapLink":"","icon":"nightlife"}]},{"id":6,"date":"2026-02-23","weekday":"Monday","title":"  (KKday Tour)","location":"Grand Canyon / Las Vegas","weather":"Sunny 50F","events":[{"time":"06:00","title":"Tour Pickup","description":" KKday Grand Canyon South Rim ","location":"Hotel Lobby","mapLink":"","icon":"directions_bus"},{"time":"13:00","title":"Grand Canyon South Rim","description":" (Mather Point, Yavapai Point)","location":"Grand Canyon National Park","mapLink":"","icon":"landscape"},{"time":"20:30","title":"Return to Las Vegas","description":" Las Vegas ","location":"Las Vegas","mapLink":"","icon":"home"},{"time":"21:00","title":"Dinner: In-N-Out / Buffet","description":" In-N-Out  Buffet","location":"Las Vegas","mapLink":"","icon":"fastfood"}]},{"id":7,"date":"2026-02-24","weekday":"Tuesday","title":" & ","location":"Ontario","weather":"Sunny 72F","events":[{"time":"10:30","title":"Checkout Hotel","description":"","location":"Las Vegas","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Seven Magic Mountains","description":" (Seven Magic Mountains) ","location":"S Las Vegas Blvd","mapLink":"https://www.google.com/maps/place/Seven+Magic+Mountains/@35.8392389,-115.270961,17z/data=!3m1!4b1!4m6!3m5!1s0x80cf35779dba7553:0x91f1fabf13d53cdd!8m2!3d35.8392389!4d-115.270961!16s%2Fg%2F11cn5s05x0?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"photo_camera"},{"time":"13:00","title":"Drive to Ontario","description":" Ontario 3.5 - 4 ","location":"I-15 South","mapLink":"","icon":"directions_car"},{"time":"16:00","title":"Ontario Mills Outlets","description":" Outlet ","location":"Ontario","mapLink":"https://www.google.com/maps/place/Ontario+Mills/@34.0729887,-117.5545679,17z/data=!3m1!4b1!4m6!3m5!1s0x80c33582234a6999:0x2c606dc846c3f534!8m2!3d34.0729843!4d-117.551993!16zL20vMDJoeXgw?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"shopping_bag"},{"time":"19:00","title":"Check-in: Hotel d'Lins","description":" Hotel d'Lins Ontario Airport","location":"3400 Shelby St, Ontario, CA 91764","mapLink":"","icon":"hotel"}]},{"id":8,"date":"2026-02-25","weekday":"Wednesday","title":"","location":"ONT Airport","weather":"Sunny 72F","events":[{"time":"10:00","title":"Checkout","description":" Hotel d'Lins ","location":"Hotel d'Lins","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Rancho Santa Ana Botanic Garden","description":" Claremont ","location":"Claremont","mapLink":"https://www.google.com/maps/place/California+Botanic+Garden/@34.1107605,-117.713958,17z/data=!3m1!4b1!4m6!3m5!1s0x80c331ca6d3842ff:0x8a008e9e0e1050cc!8m2!3d34.1107605!4d-117.713958!16zL20vMDV0Ym43?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"park"},{"time":"15:00","title":"Early Dinner / Last Shopping","description":"","location":"Ontario","mapLink":"","icon":"restaurant"},{"time":"19:30","title":"Return Rental Car","description":" ONT Rental Car Center ","location":"ONT Rental Car Center","mapLink":"","icon":"no_crash"},{"time":"20:30","title":"Airport Check-in","description":"","location":"ONT Airport","mapLink":"","icon":"flight_takeoff"},{"time":"22:50","title":"Flight CI23 Departure","description":" CI23 ","location":"ONT Airport","mapLink":"","icon":"airplanemode_active"}]}]`);function LD(){const r=qs(),{currentUser:t,logout:n}=kc(),[a,l]=Y.useState(0),h=async()=>{if(window.confirm("Are you sure you want to log out?"))try{await n(),r("/")}catch(p){console.error("Failed to log out",p)}};return Y.useEffect(()=>{async function p(){if(t)try{const y=Ip(eu(qo,"expenses"),gE("paidBy","==",t.uid)),v=await wc(y),T=Ip(eu(qo,"expenses"),gE("splitWith","array-contains",t.uid)),S=await wc(T);let C=0;const M=et=>{const Q=et.data(),q=parseFloat(Q.amount)||0,mt=Q.currency||"USD",ht=(Q.splitWith||[]).length+1,Dt=q/ht;mt==="TWD"?C+=Dt/32:C+=Dt},Z=new Set;v.forEach(et=>{Z.has(et.id)||(M(et),Z.add(et.id))}),S.forEach(et=>{Z.has(et.id)||(M(et),Z.add(et.id))}),l(C)}catch(y){console.error("Error fetching expenses:",y)}}p()},[t]),I.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-28 font-display shadow-2xl",children:[I.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-lakers-purple ios-blur p-4 border-b border-primary/20",children:[I.jsx("div",{className:"flex size-10 items-center justify-center cursor-pointer active:opacity-50 transition-opacity",children:I.jsx("span",{className:"material-symbols-outlined text-primary",children:"chevron_left"})}),I.jsx("h1",{className:"text-primary text-base font-extrabold flex-1 text-center tracking-tight uppercase",children:"LA Trip Overview"}),I.jsx("div",{onClick:h,className:"flex size-10 items-center justify-center cursor-pointer hover:opacity-80 transition-opacity",title:"Click to Logout",children:t?.photoURL?I.jsx("img",{src:t.photoURL,alt:"User",className:"size-8 rounded-full border-2 border-primary shadow-lg"}):I.jsx("button",{className:"size-8 rounded-full bg-primary text-lakers-purple flex items-center justify-center border-2 border-primary shadow-lg",children:I.jsx("span",{className:"material-symbols-outlined text-[20px] fill-icon",children:"person"})})})]}),I.jsxs("main",{className:"flex-1 px-5 pt-6 space-y-6",children:[I.jsx("section",{children:I.jsxs("div",{className:"relative rounded-2xl bg-card-dark border-4 border-primary overflow-hidden shadow-2xl",children:[I.jsx("div",{className:"absolute top-0 right-0 p-4 z-20",children:I.jsxs("div",{className:"flex items-center gap-1 bg-lakers-purple/90 px-2 py-1 rounded-full border border-primary/30",children:[I.jsx("span",{className:"material-symbols-outlined text-primary text-[14px]",children:"sync_alt"}),I.jsx("span",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:"USD / TWD"})]})}),I.jsx("div",{className:"relative w-full h-32 bg-center bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBbIfNtpxEJBkZ8nYoWabGRJZepciIRWK4jMVZPfjItvYa9li7pRYX8TrXIArgl87Yh5Djf_pEfmr2eoPqW639TGnFeWm1r_ysOIOaQQqGTVrJJjwadrfrB5b95zhiANEEoHRW2FyWshCDf1NoPpUapy6OL41TA8a18js9_Fr-xuM8NOXE1PF8U-6O7Jmwvl0b8Qnj9tgGZxzjVmHu1Bc4Iu4KbnV02UfiX1yKMc3IxFtk8NDEOTFYIUZ86hblVP0Twpk_vhw7yA00")'},children:I.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card-dark via-card-dark/20 to-transparent"})}),I.jsxs("div",{className:"px-5 pb-5 -mt-6 relative z-10 flex flex-col",children:[I.jsx("span",{className:"text-lakers-purple text-[11px] font-black tracking-[0.15em] uppercase mb-1 bg-primary/90 self-start px-2 py-0.5 rounded",children:"Total My Expenses"}),I.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[I.jsxs("div",{className:"flex items-baseline gap-2",children:[I.jsxs("p",{className:"text-lakers-purple text-4xl font-black tracking-tighter",children:["$",a.toFixed(2)]}),I.jsx("span",{className:"text-lakers-purple/60 text-sm font-bold",children:"USD"})]}),I.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[I.jsx("span",{className:"material-symbols-outlined text-[16px] text-lakers-purple/50",children:"payments"}),I.jsxs("p",{className:"text-lakers-purple/80 text-xl font-bold leading-none",children:[" NT$ ",(a*32).toLocaleString()]}),I.jsx("span",{className:"text-lakers-purple/40 text-[10px] font-bold uppercase tracking-tighter",children:"TWD"})]})]}),I.jsx("button",{onClick:()=>r("/expenses"),className:"mt-5 w-full bg-primary text-lakers-purple py-4 rounded-xl font-black text-xs uppercase tracking-widest active:scale-[0.98] transition-transform shadow-lg border-b-4 border-yellow-600",children:"View Expense Details"})]})]})}),I.jsx("section",{className:"grid grid-cols-1 gap-4",children:I.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-br from-lakers-purple to-[#3b1a5a] p-5 rounded-2xl border border-primary/20 shadow-xl",children:[I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsx("div",{className:"size-14 bg-primary rounded-2xl flex items-center justify-center shadow-inner",children:I.jsx("span",{className:"material-symbols-outlined text-lakers-purple text-4xl fill-icon",children:"partly_cloudy_day"})}),I.jsxs("div",{children:[I.jsxs("p",{className:"text-white text-xl font-black",children:["74F ",I.jsx("span",{className:"text-primary font-medium ml-1",children:"Sunny"})]}),I.jsxs("p",{className:"text-primary/70 text-[11px] font-bold flex items-center gap-1 uppercase tracking-wider",children:[I.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"location_on"})," Los Angeles, CA"]})]})]}),I.jsxs("div",{className:"text-right",children:[I.jsx("p",{className:"text-primary text-[10px] font-black uppercase tracking-wider mb-1",children:"Golden Hour"}),I.jsx("p",{className:"text-white/90 text-xs font-bold",children:"Starts in 2h 15m"})]})]})}),I.jsxs("div",{className:"flex items-center justify-between border-b-2 border-lakers-purple/30 pb-3",children:[I.jsx("h2",{className:"text-white text-xl font-black tracking-tight uppercase",children:"8-Day Itinerary"}),I.jsxs("div",{className:"flex items-center gap-1 bg-lakers-purple px-3 py-1.5 rounded-full border border-primary/30",children:[I.jsx("span",{className:"material-symbols-outlined text-[16px] text-primary fill-icon",children:"calendar_month"}),I.jsx("span",{className:"text-primary text-[10px] font-black uppercase tracking-wider",children:"Oct 12 - 19"})]})]}),I.jsxs("section",{className:"space-y-4 pb-8",children:[Ng.map((p,y)=>I.jsxs("div",{onClick:()=>r(`/day/${p.id}`),className:`flex items-center gap-4 border p-4 rounded-2xl active:bg-white/5 transition-colors cursor-pointer shadow-md ${p.id===1?"bg-lakers-purple/10 border-l-4 border-primary":"bg-card-dark border-white/5"}`,children:[I.jsxs("div",{className:`flex flex-col items-center justify-center size-14 rounded-xl shadow-md ${p.id===1?"bg-primary text-lakers-purple":"bg-white/5 text-gray-400"}`,children:[I.jsx("span",{className:"text-[10px] font-black uppercase leading-none mb-0.5",children:"2"}),I.jsx("span",{className:`font-black leading-none ${p.id===1?"text-2xl":"text-xl"}`,children:parseInt(p.date.split("-")[2])})]}),I.jsxs("div",{className:"flex-1",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[I.jsxs("span",{className:`${p.id===1?"text-primary":"text-gray-500"} text-[10px] font-black uppercase tracking-widest`,children:["Day 0",p.id]}),p.id===1&&I.jsx("span",{className:"size-1.5 bg-primary rounded-full"}),p.id===1&&I.jsx("span",{className:"text-primary text-[10px] font-bold uppercase",children:p.location})]}),I.jsx("p",{className:"text-white text-base font-extrabold leading-snug",children:p.title})]}),I.jsx("span",{className:`material-symbols-outlined ${p.id===1?"text-primary font-bold":"text-gray-700"}`,children:"arrow_forward_ios"})]},p.id)),I.jsxs("button",{className:"w-full py-6 text-primary text-[11px] font-black uppercase tracking-[0.3em] flex items-center justify-center gap-2 bg-lakers-purple/5 rounded-2xl border border-primary/10 mt-2",children:["Expand All 8 Days",I.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"keyboard_double_arrow_down"})]})]})]}),I.jsx(dw,{})]})}function MD(){const r=qs();return I.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-24 font-display",children:[I.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-lakers-purple ios-blur p-4 border-b border-primary/20",children:[I.jsx("div",{onClick:()=>r(-1),className:"flex size-10 items-center justify-center cursor-pointer active:opacity-50 transition-opacity",children:I.jsx("span",{className:"material-symbols-outlined text-primary",children:"arrow_back"})}),I.jsx("h1",{className:"text-primary text-base font-black flex-1 text-center tracking-tight uppercase",children:"Full Itinerary"}),I.jsx("div",{className:"size-10"})]}),I.jsx("main",{className:"flex-1 px-5 pt-6 space-y-6",children:Ng.map(t=>I.jsxs("div",{onClick:()=>r(`/day/${t.id}`),className:"group flex items-start gap-4 p-4 rounded-2xl border border-primary/20 bg-card-dark active:bg-white/5 cursor-pointer shadow-sm",children:[I.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[3rem]",children:[I.jsx("span",{className:"text-primary/60 text-[10px] font-bold uppercase",children:t.weekday.substring(0,3)}),I.jsx("span",{className:"text-2xl font-black text-white",children:parseInt(t.date.split("-")[2])})]}),I.jsxs("div",{className:"flex-1",children:[I.jsxs("p",{className:"text-primary text-xs font-black uppercase tracking-wider mb-1",children:["Day ",t.id,"  ",t.location]}),I.jsx("h3",{className:"text-white text-lg font-bold leading-tight mb-2",children:t.title}),I.jsx("div",{className:"flex flex-wrap gap-2",children:t.events.slice(0,3).map((n,a)=>I.jsx("span",{className:"text-white/60 text-xs bg-lakers-purple/20 px-2 py-1 rounded-md border border-primary/10",children:n.title},a))})]}),I.jsx("span",{className:"material-symbols-outlined text-primary/40 group-active:text-primary self-center",children:"chevron_right"})]},t.id))}),I.jsx(dw,{})]})}function mw(r,t){const n=Y.useRef(t);Y.useEffect(function(){t!==n.current&&r.attributionControl!=null&&(n.current!=null&&r.attributionControl.removeAttribution(n.current),t!=null&&r.attributionControl.addAttribution(t)),n.current=t},[r,t])}const OD=1;function PD(r){return Object.freeze({__version:OD,map:r})}function kD(r,t){return Object.freeze({...r,...t})}const Dg=Y.createContext(null);function pw(){const r=Y.use(Dg);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function VD(r){function t(n,a){const{instance:l,context:h}=r(n).current;Y.useImperativeHandle(a,()=>l);const{children:p}=n;return p==null?null:ep.createElement(Dg,{value:h},p)}return Y.forwardRef(t)}function zD(r){function t(n,a){const[l,h]=Y.useState(!1),{instance:p}=r(n,h).current;Y.useImperativeHandle(a,()=>p),Y.useEffect(function(){l&&p.update()},[p,l,n.children]);const y=p._contentNode;return y?b1.createPortal(n.children,y):null}return Y.forwardRef(t)}function UD(r){function t(n,a){const{instance:l}=r(n).current;return Y.useImperativeHandle(a,()=>l),null}return Y.forwardRef(t)}function gw(r,t){const n=Y.useRef(void 0);Y.useEffect(function(){return t!=null&&r.instance.on(t),n.current=t,function(){n.current!=null&&r.instance.off(n.current),n.current=null}},[r,t])}function Lg(r,t){const n=r.pane??t.pane;return n?{...r,pane:n}:r}function BD(r,t){return function(a,l){const h=pw(),p=r(Lg(a,h),h);return mw(h.map,a.attribution),gw(p.current,a.eventHandlers),t(p.current,h,a,l),p}}var sc={exports:{}};var jD=sc.exports,vE;function HD(){return vE||(vE=1,(function(r,t){(function(n,a){a(t)})(jD,(function(n){var a="1.9.4";function l(s){var u,d,_,b;for(d=1,_=arguments.length;d<_;d++){b=arguments[d];for(u in b)s[u]=b[u]}return s}var h=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function p(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var _=d.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var y=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++y),s._leaflet_id}function T(s,u,d){var _,b,A,O;return O=function(){_=!1,b&&(A.apply(d,b),b=!1)},A=function(){_?b=arguments:(s.apply(d,arguments),setTimeout(O,u),_=!0)},A}function S(s,u,d){var _=u[1],b=u[0],A=_-b;return s===_&&d?s:((s-b)%A+A)%A+b}function C(){return!1}function M(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function Z(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function et(s){return Z(s).split(/\s+/)}function Q(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function q(s,u,d){var _=[];for(var b in s)_.push(encodeURIComponent(d?b.toUpperCase():b)+"="+encodeURIComponent(s[b]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var mt=/\{ *([\w_ -]+) *\}/g;function dt(s,u){return s.replace(mt,function(d,_){var b=u[_];if(b===void 0)throw new Error("No value provided for variable "+d);return typeof b=="function"&&(b=b(u)),b})}var ht=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Dt(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var Ot="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Bt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var V=0;function D(s){var u=+new Date,d=Math.max(0,16-(u-V));return V=u+d,window.setTimeout(s,d)}var P=window.requestAnimationFrame||Bt("RequestAnimationFrame")||D,H=window.cancelAnimationFrame||Bt("CancelAnimationFrame")||Bt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function B(s,u,d){if(d&&P===D)s.call(u);else return P.call(window,p(s,u))}function F(s){s&&H.call(window,s)}var k={__proto__:null,extend:l,create:h,bind:p,get lastId(){return y},stamp:v,throttle:T,wrapNum:S,falseFn:C,formatNum:M,trim:Z,splitWords:et,setOptions:Q,getParamString:q,template:dt,isArray:ht,indexOf:Dt,emptyImageUrl:Ot,requestFn:P,cancelFn:H,requestAnimFrame:B,cancelAnimFrame:F};function oe(){}oe.extend=function(s){var u=function(){Q(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(u[b]=this[b]);return s.statics&&l(u,s.statics),s.includes&&(Xe(s.includes),l.apply(null,[_].concat(s.includes))),l(_,s),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,O=_._initHooks.length;A<O;A++)_._initHooks[A].call(this)}},u},oe.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},oe.mergeOptions=function(s){return l(this.prototype.options,s),this},oe.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Xe(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=ht(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rt={on:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=et(s);for(var b=0,A=s.length;b<A;b++)this._on(s[b],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=et(s);for(var b=arguments.length===1,A=0,O=s.length;A<O;A++)b?this._off(s[A]):this._off(s[A],u,d)}return this},_on:function(s,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var b={fn:u,ctx:d};_&&(b.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(b)}},_off:function(s,u,d){var _,b,A;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(b=0,A=_.length;b<A;b++)_[b].fn=C;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var O=this._listens(s,u,d);if(O!==!1){var K=_[O];this._firingCount&&(K.fn=C,this._events[s]=_=_.slice()),_.splice(O,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var _=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var b=this._events[s];if(b){this._firingCount=this._firingCount+1||1;for(var A=0,O=b.length;A<O;A++){var K=b[A],$=K.fn;K.once&&this.off(s,$,K.ctx),$.call(K.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(s,u,d,_){typeof s!="string"&&console.warn('"string" type argument expected');var b=u;typeof u!="function"&&(_=!!u,b=void 0,d=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,b,d)!==!1)return!0;if(_){for(var O in this._eventParents)if(this._eventParents[O].listens(s,u,d,_))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var b=0,A=_.length;b<A;b++)if(_[b].fn===u&&_[b].ctx===d)return b;return!1},once:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=et(s);for(var b=0,A=s.length;b<A;b++)this._on(s[b],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};rt.addEventListener=rt.on,rt.removeEventListener=rt.clearAllEventListeners=rt.off,rt.addOneTimeEventListener=rt.once,rt.fireEvent=rt.fire,rt.hasEventListeners=rt.listens;var vt=oe.extend(rt);function pt(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var te=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(s){return this.clone()._add(wt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(wt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new pt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new pt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(s){s=wt(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=wt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=wt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function wt(s,u,d){return s instanceof pt?s:ht(s)?new pt(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new pt(s.x,s.y):new pt(s,u,d)}function U(s,u){if(s)for(var d=u?[s,u]:s,_=0,b=d.length;_<b;_++)this.extend(d[_])}U.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof pt||typeof s[0]=="number"||"x"in s)u=d=wt(s);else if(s=st(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return wt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return wt(this.min.x,this.max.y)},getTopRight:function(){return wt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof pt?s=wt(s):s=st(s),s instanceof U?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=st(s);var u=this.min,d=this.max,_=s.min,b=s.max,A=b.x>=u.x&&_.x<=d.x,O=b.y>=u.y&&_.y<=d.y;return A&&O},overlaps:function(s){s=st(s);var u=this.min,d=this.max,_=s.min,b=s.max,A=b.x>u.x&&_.x<d.x,O=b.y>u.y&&_.y<d.y;return A&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*s,b=Math.abs(u.y-d.y)*s;return st(wt(u.x-_,u.y-b),wt(d.x+_,d.y+b))},equals:function(s){return s?(s=st(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function st(s,u){return!s||s instanceof U?s:new U(s,u)}function gt(s,u){if(s)for(var d=u?[s,u]:s,_=0,b=d.length;_<b;_++)this.extend(d[_])}gt.prototype={extend:function(s){var u=this._southWest,d=this._northEast,_,b;if(s instanceof bt)_=s,b=s;else if(s instanceof gt){if(_=s._southWest,b=s._northEast,!_||!b)return this}else return s?this.extend(Tt(s)||_t(s)):this;return!u&&!d?(this._southWest=new bt(_.lat,_.lng),this._northEast=new bt(b.lat,b.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(b.lat,d.lat),d.lng=Math.max(b.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*s,b=Math.abs(u.lng-d.lng)*s;return new gt(new bt(u.lat-_,u.lng-b),new bt(d.lat+_,d.lng+b))},getCenter:function(){return new bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof bt||"lat"in s?s=Tt(s):s=_t(s);var u=this._southWest,d=this._northEast,_,b;return s instanceof gt?(_=s.getSouthWest(),b=s.getNorthEast()):_=b=s,_.lat>=u.lat&&b.lat<=d.lat&&_.lng>=u.lng&&b.lng<=d.lng},intersects:function(s){s=_t(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),b=s.getNorthEast(),A=b.lat>=u.lat&&_.lat<=d.lat,O=b.lng>=u.lng&&_.lng<=d.lng;return A&&O},overlaps:function(s){s=_t(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),b=s.getNorthEast(),A=b.lat>u.lat&&_.lat<d.lat,O=b.lng>u.lng&&_.lng<d.lng;return A&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=_t(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _t(s,u){return s instanceof gt?s:new gt(s,u)}function bt(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}bt.prototype={equals:function(s,u){if(!s)return!1;s=Tt(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+M(this.lat,s)+", "+M(this.lng,s)+")"},distanceTo:function(s){return be.distance(this,Tt(s))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return _t([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new bt(this.lat,this.lng,this.alt)}};function Tt(s,u,d){return s instanceof bt?s:ht(s)&&typeof s[0]!="object"?s.length===3?new bt(s[0],s[1],s[2]):s.length===2?new bt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new bt(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new bt(s,u,d)}var Ht={latLngToPoint:function(s,u){var d=this.projection.project(s),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(s,u){var d=this.scale(u),_=this.transformation.untransform(s,d);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),_=this.transformation.transform(u.min,d),b=this.transformation.transform(u.max,d);return new U(_,b)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?S(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?S(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new bt(d,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,b=u.lng-d.lng;if(_===0&&b===0)return s;var A=s.getSouthWest(),O=s.getNorthEast(),K=new bt(A.lat-_,A.lng-b),$=new bt(O.lat-_,O.lng-b);return new gt(K,$)}},be=l({},Ht,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,_=s.lat*d,b=u.lat*d,A=Math.sin((u.lat-s.lat)*d/2),O=Math.sin((u.lng-s.lng)*d/2),K=A*A+Math.cos(_)*Math.cos(b)*O*O,$=2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K));return this.R*$}}),Ae=6378137,sr={R:Ae,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,s.lat),-d),b=Math.sin(_*u);return new pt(this.R*s.lng*u,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(s){var u=180/Math.PI;return new bt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=Ae*Math.PI;return new U([-s,-s],[s,s])})()};function Rr(s,u,d,_){if(ht(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=_}Rr.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new pt((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Oi(s,u,d,_){return new Rr(s,u,d,_)}var Ir=l({},be,{code:"EPSG:3857",projection:sr,transformation:(function(){var s=.5/(Math.PI*sr.R);return Oi(s,.5,-s,.5)})()}),Pi=l({},Ir,{code:"EPSG:900913"});function Gs(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Nr(s,u){var d="",_,b,A,O,K,$;for(_=0,A=s.length;_<A;_++){for(K=s[_],b=0,O=K.length;b<O;b++)$=K[b],d+=(b?"L":"M")+$.x+" "+$.y;d+=u?Ct.svg?"z":"x":""}return d||"M0 0"}var as=document.documentElement.style,Dr="ActiveXObject"in window,qe=Dr&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),ki=pn("webkit"),Yo=pn("android"),Qa=pn("android 2")||pn("android 3"),xn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),os=Yo&&pn("Google")&&xn<537&&!("AudioNode"in window),ls=!!window.opera,Zs=!Fe&&pn("chrome"),ar=pn("gecko")&&!ki&&!ls&&!Dr,du=!Zs&&pn("safari"),Ya=pn("phantom"),Xa="OTransition"in as,Xo=navigator.platform.indexOf("Win")===0,Yn=Dr&&"transition"in as,We="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qa,Hn="MozPerspective"in as,ze=!window.L_DISABLE_3D&&(Yn||We||Hn)&&!Xa&&!Ya,Lr=typeof orientation<"u"||pn("mobile"),Ks=Lr&&ki,Wo=Lr&&We,pi=!window.PointerEvent&&window.MSPointerEvent,Mr=!!(window.PointerEvent||pi),Ue="ontouchstart"in window||!!window.TouchEvent,Vi=!window.L_NO_TOUCH&&(Ue||Mr),zi=Lr&&ls,gi=Lr&&ar,mu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jo=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",C,u),window.removeEventListener("testPassiveEventSupport",C,u)}catch{}return s})(),Ui=(function(){return!!document.createElement("canvas").getContext})(),or=!!(document.createElementNS&&Gs("svg").createSVGRect),pu=!!or&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),us=!or&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Wa=navigator.platform.indexOf("Mac")===0,Ja=navigator.platform.indexOf("Linux")===0;function pn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ct={ie:Dr,ielt9:qe,edge:Fe,webkit:ki,android:Yo,android23:Qa,androidStock:os,opera:ls,chrome:Zs,gecko:ar,safari:du,phantom:Ya,opera12:Xa,win:Xo,ie3d:Yn,webkit3d:We,gecko3d:Hn,any3d:ze,mobile:Lr,mobileWebkit:Ks,mobileWebkit3d:Wo,msPointer:pi,pointer:Mr,touch:Vi,touchNative:Ue,mobileOpera:zi,mobileGecko:gi,retina:mu,passiveEvents:Jo,canvas:Ui,svg:or,vml:us,inlineSvg:pu,mac:Wa,linux:Ja},$a=Ct.msPointer?"MSPointerDown":"pointerdown",Xn=Ct.msPointer?"MSPointerMove":"pointermove",Wn=Ct.msPointer?"MSPointerUp":"pointerup",Be=Ct.msPointer?"MSPointerCancel":"pointercancel",Ge={touchstart:$a,touchmove:Xn,touchend:Wn,touchcancel:Be},_i={touchstart:ji,touchmove:gn,touchend:gn,touchcancel:gn},yi={},$o=!1;function tl(s,u,d){return u==="touchstart"&&Jn(),_i[u]?(d=_i[u].bind(this,d),s.addEventListener(Ge[u],d,!1),d):(console.warn("wrong event specified:",u),C)}function el(s,u,d){if(!Ge[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(Ge[u],d,!1)}function Bi(s){yi[s.pointerId]=s}function Qs(s){yi[s.pointerId]&&(yi[s.pointerId]=s)}function vi(s){delete yi[s.pointerId]}function Jn(){$o||(document.addEventListener($a,Bi,!0),document.addEventListener(Xn,Qs,!0),document.addEventListener(Wn,vi,!0),document.addEventListener(Be,vi,!0),$o=!0)}function gn(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in yi)u.touches.push(yi[d]);u.changedTouches=[u],s(u)}}function ji(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Me(u),gn(s,u)}function Ze(s){var u={},d,_;for(_ in s)d=s[_],u[_]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var to=200;function eo(s,u){s.addEventListener("dblclick",u);var d=0,_;function b(A){if(A.detail!==1){_=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var O=zr(A);if(!(O.some(function($){return $ instanceof HTMLLabelElement&&$.attributes.for})&&!O.some(function($){return $ instanceof HTMLInputElement||$ instanceof HTMLSelectElement}))){var K=Date.now();K-d<=to?(_++,_===2&&u(Ze(A))):_=1,d=K}}}return s.addEventListener("click",b),{dblclick:u,simDblclick:b}}function Hi(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var $n=hs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),lr=hs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ys=lr==="webkitTransition"||lr==="OTransition"?lr+"End":"transitionend";function Xs(s){return typeof s=="string"?document.getElementById(s):s}function Or(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);d=_?_[u]:null}return d==="auto"?null:d}function Yt(s,u,d){var _=document.createElement(s);return _.className=u||"",d&&d.appendChild(_),_}function Xt(s){var u=s.parentNode;u&&u.removeChild(s)}function De(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Le(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function qn(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function cs(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=qi(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function xt(s,u){if(s.classList!==void 0)for(var d=et(u),_=0,b=d.length;_<b;_++)s.classList.add(d[_]);else if(!cs(s,u)){var A=qi(s);ti(s,(A?A+" ":"")+u)}}function ye(s,u){s.classList!==void 0?s.classList.remove(u):ti(s,Z((" "+qi(s)+" ").replace(" "+u+" "," ")))}function ti(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function qi(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ce(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Ws(s,u)}function Ws(s,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function hs(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function Ei(s,u,d){var _=u||new pt(0,0);s.style[$n]=(Ct.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function ve(s,u){s._leaflet_pos=u,Ct.any3d?Ei(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function Fi(s){return s._leaflet_pos||new pt(0,0)}var ei,en,Js;if("onselectstart"in document)ei=function(){Pt(window,"selectstart",Me)},en=function(){he(window,"selectstart",Me)};else{var ur=hs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ei=function(){if(ur){var s=document.documentElement.style;Js=s[ur],s[ur]="none"}},en=function(){ur&&(document.documentElement.style[ur]=Js,Js=void 0)}}function fs(){Pt(window,"dragstart",Me)}function Pr(){he(window,"dragstart",Me)}var ds,Gi;function kr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Dn(),ds=s,Gi=s.style.outlineStyle,s.style.outlineStyle="none",Pt(window,"keydown",Dn))}function Dn(){ds&&(ds.style.outlineStyle=Gi,ds=void 0,Gi=void 0,he(window,"keydown",Dn))}function $s(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ln(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var Vr={__proto__:null,TRANSFORM:$n,TRANSITION:lr,TRANSITION_END:Ys,get:Xs,getStyle:Or,create:Yt,remove:Xt,empty:De,toFront:Le,toBack:qn,hasClass:cs,addClass:xt,removeClass:ye,setClass:ti,getClass:qi,setOpacity:Ce,testProp:hs,setTransform:Ei,setPosition:ve,getPosition:Fi,get disableTextSelection(){return ei},get enableTextSelection(){return en},disableImageDrag:fs,enableImageDrag:Pr,preventOutline:kr,restoreOutline:Dn,getSizedParentNode:$s,getScale:Ln};function Pt(s,u,d,_){if(u&&typeof u=="object")for(var b in u)Mn(s,b,u[b],d);else{u=et(u);for(var A=0,O=u.length;A<O;A++)Mn(s,u[A],d,_)}return this}var _n="_leaflet_events";function he(s,u,d,_){if(arguments.length===1)cr(s),delete s[_n];else if(u&&typeof u=="object")for(var b in u)hr(s,b,u[b],d);else if(u=et(u),arguments.length===2)cr(s,function(K){return Dt(u,K)!==-1});else for(var A=0,O=u.length;A<O;A++)hr(s,u[A],d,_);return this}function cr(s,u){for(var d in s[_n]){var _=d.split(/\d/)[0];(!u||u(_))&&hr(s,_,null,null,d)}}var Fn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mn(s,u,d,_){var b=u+v(d)+(_?"_"+v(_):"");if(s[_n]&&s[_n][b])return this;var A=function(K){return d.call(_||s,K||window.event)},O=A;!Ct.touchNative&&Ct.pointer&&u.indexOf("touch")===0?A=tl(s,u,A):Ct.touch&&u==="dblclick"?A=eo(s,A):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Fn[u]||u,A,Ct.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(A=function(K){K=K||window.event,wi(s,K)&&O(K)},s.addEventListener(Fn[u],A,!1)):s.addEventListener(u,O,!1):s.attachEvent("on"+u,A),s[_n]=s[_n]||{},s[_n][b]=A}function hr(s,u,d,_,b){b=b||u+v(d)+(_?"_"+v(_):"");var A=s[_n]&&s[_n][b];if(!A)return this;!Ct.touchNative&&Ct.pointer&&u.indexOf("touch")===0?el(s,u,A):Ct.touch&&u==="dblclick"?Hi(s,A):"removeEventListener"in s?s.removeEventListener(Fn[u]||u,A,!1):s.detachEvent("on"+u,A),s[_n][b]=null}function ee(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ni(s){return Mn(s,"wheel",ee),this}function fr(s){return Pt(s,"mousedown touchstart dblclick contextmenu",ee),s._leaflet_disable_click=!0,this}function Me(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Ti(s){return Me(s),ee(s),this}function zr(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function Zi(s,u){if(!u)return new pt(s.clientX,s.clientY);var d=Ln(u),_=d.boundingClientRect;return new pt((s.clientX-_.left)/d.x-u.clientLeft,(s.clientY-_.top)/d.y-u.clientTop)}var bi=Ct.linux&&Ct.chrome?window.devicePixelRatio:Ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nn(s){return Ct.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/bi:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function wi(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var Ki={__proto__:null,on:Pt,off:he,stopPropagation:ee,disableScrollPropagation:ni,disableClickPropagation:fr,preventDefault:Me,stop:Ti,getPropagationPath:zr,getMousePosition:Zi,getWheelDelta:nn,isExternalTarget:wi,addListener:Pt,removeListener:he},dr=vt.extend({run:function(s,u,d,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Fi(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),ve(this._el,d),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Qt=vt.extend({options:{crs:Ir,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=Q(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Tt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=lr&&Ct.any3d&&!Ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pt(this._proxy,Ys,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(Tt(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var _=this.getZoomScale(u),b=this.getSize().divideBy(2),A=s instanceof pt?s:this.latLngToContainerPoint(s),O=A.subtract(b).multiplyBy(1-1/_),K=this.containerPointToLatLng(b.add(O));return this.setView(K,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():_t(s);var d=wt(u.paddingTopLeft||u.padding||[0,0]),_=wt(u.paddingBottomRight||u.padding||[0,0]),b=this.getBoundsZoom(s,!1,d.add(_));if(b=typeof u.maxZoom=="number"?Math.min(u.maxZoom,b):b,b===1/0)return{center:s.getCenter(),zoom:b};var A=_.subtract(d).divideBy(2),O=this.project(s.getSouthWest(),b),K=this.project(s.getNorthEast(),b),$=this.unproject(O.add(K).divideBy(2).add(A),b);return{center:$,zoom:b}},fitBounds:function(s,u){if(s=_t(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=wt(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new dr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){xt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!Ct.any3d)return this.setView(s,u,d);this._stop();var _=this.project(this.getCenter()),b=this.project(s),A=this.getSize(),O=this._zoom;s=Tt(s),u=u===void 0?O:u;var K=Math.max(A.x,A.y),$=K*this.getZoomScale(O,u),lt=b.distanceTo(_)||1,Et=1.42,Nt=Et*Et;function Zt(je){var yr=je?-1:1,Es=je?$:K,Tu=$*$-K*K+yr*Nt*Nt*lt*lt,bo=2*Es*Nt*lt,wo=Tu/bo,Qr=Math.sqrt(wo*wo+1)-wo,vr=Qr<1e-9?-18:Math.log(Qr);return vr}function hn(je){return(Math.exp(je)-Math.exp(-je))/2}function Ke(je){return(Math.exp(je)+Math.exp(-je))/2}function Kn(je){return hn(je)/Ke(je)}var fe=Zt(0);function de(je){return K*(Ke(fe)/Ke(fe+Et*je))}function Wt(je){return K*(Ke(fe)*Kn(fe+Et*je)-hn(fe))/Nt}function Zr(je){return 1-Math.pow(1-je,1.5)}var oi=Date.now(),ml=(Zt(1)-fe)/Et,Kr=d.duration?1e3*d.duration:1e3*ml*.8;function Eu(){var je=(Date.now()-oi)/Kr,yr=Zr(je)*ml;je<=1?(this._flyToFrame=B(Eu,this),this._move(this.unproject(_.add(b.subtract(_).multiplyBy(Wt(yr)/lt)),O),this.getScaleZoom(K/de(yr),O),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Eu.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=_t(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,_t(s));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=wt(u.paddingTopLeft||u.padding||[0,0]),_=wt(u.paddingBottomRight||u.padding||[0,0]),b=this.project(this.getCenter()),A=this.project(s),O=this.getPixelBounds(),K=st([O.min.add(d),O.max.subtract(_)]),$=K.getSize();if(!K.contains(A)){this._enforcingBounds=!0;var lt=A.subtract(K.getCenter()),Et=K.extend(A).getSize().subtract($);b.x+=lt.x<0?-Et.x:Et.x,b.y+=lt.y<0?-Et.y:Et.y,this.panTo(this.unproject(b),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),b=d.divideBy(2).round(),A=_.subtract(b);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),d=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,_=new bt(u,d),b=_.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var O=this.getBoundsZoom(b);this.setView(_,A.maxZoom?Math.min(O,A.maxZoom):O)}var K={latlng:_,bounds:b,timestamp:s.timestamp};for(var $ in s.coords)typeof s.coords[$]=="number"&&(K[$]=s.coords[$]);this.fire("locationfound",K)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Xt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Yt("div",d,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new gt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=_t(s),d=wt(d||[0,0]);var _=this.getZoom()||0,b=this.getMinZoom(),A=this.getMaxZoom(),O=s.getNorthWest(),K=s.getSouthEast(),$=this.getSize().subtract(d),lt=st(this.project(K,_),this.project(O,_)).getSize(),Et=Ct.any3d?this.options.zoomSnap:1,Nt=$.x/lt.x,Zt=$.y/lt.y,hn=u?Math.max(Nt,Zt):Math.min(Nt,Zt);return _=this.getScaleZoom(hn,_),Et&&(_=Math.round(_/(Et/100))*(Et/100),_=u?Math.ceil(_/Et)*Et:Math.floor(_/Et)*Et),Math.max(b,Math.min(A,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new U(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(s*d.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Tt(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(wt(s),u)},layerPointToLatLng:function(s){var u=wt(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(Tt(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Tt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(_t(s))},distance:function(s,u){return this.options.crs.distance(Tt(s),Tt(u))},containerPointToLayerPoint:function(s){return wt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return wt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(wt(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Tt(s)))},mouseEventToContainerPoint:function(s){return Zi(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Xs(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pt(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ct.any3d,xt(s,"leaflet-container"+(Ct.touch?" leaflet-touch":"")+(Ct.retina?" leaflet-retina":"")+(Ct.ielt9?" leaflet-oldie":"")+(Ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Or(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(s.markerPane,"leaflet-zoom-hide"),xt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){ve(this._mapPane,new pt(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var b=this._zoom!==u;this._moveStart(b,d)._move(s,u)._moveEnd(b),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,_){u===void 0&&(u=this._zoom);var b=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?d&&d.pinch&&this.fire("zoom",d):((b||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ve(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var u=s?he:Pt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ct.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],_,b=u==="mouseout"||u==="mouseover",A=s.target||s.srcElement,O=!1;A;){if(_=this._targets[v(A)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){O=!0;break}if(_&&_.listens(u,!0)&&(b&&!wi(A,s)||(d.push(_),b))||A===this._container)break;A=A.parentNode}return!d.length&&!O&&!b&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&kr(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var _=l({},s);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var b=this._findEventTargets(s,u);if(d){for(var A=[],O=0;O<d.length;O++)d[O].listens(u,!0)&&A.push(d[O]);b=A.concat(b)}if(b.length){u==="contextmenu"&&Me(s);var K=b[0],$={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var lt=K.getLatLng&&(!K._radius||K._radius<=10);$.containerPoint=lt?this.latLngToContainerPoint(K.getLatLng()):this.mouseEventToContainerPoint(s),$.layerPoint=this.containerPointToLayerPoint($.containerPoint),$.latlng=lt?K.getLatLng():this.layerPointToLatLng($.layerPoint)}for(O=0;O<b.length;O++)if(b[O].fire(u,$,!0),$.originalEvent._stopped||b[O].options.bubblingMouseEvents===!1&&Dt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return Fi(this._mapPane)||new pt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return st([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var _=this.project(s,u),b=this.getSize().divideBy(2),A=new U(_.subtract(b),_.add(b)),O=this._getBoundsOffset(A,d,u);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?s:this.unproject(_.add(O),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),_=new U(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,d){var _=st(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),b=_.min.subtract(s.min),A=_.max.subtract(s.max),O=this._rebound(b.x,-A.x),K=this._rebound(b.y,-A.y);return new pt(O,K)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),_=Ct.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=Yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=$n,_=this._proxy.style[d];Ei(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Ei(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),b=this._getCenterOffset(s)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(b)?!1:(B(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ur(s,u){return new Qt(s,u)}var yn=oe.extend({options:{position:"topright"},initialize:function(s){Q(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),_=s._controlCorners[d];return xt(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),On=function(s){return new yn(s)};Qt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=Yt("div",u+"control-container",this._container);function _(b,A){var O=u+b+" "+u+A;s[b+A]=Yt("div",O,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Xt(this._controlCorners[s]);Xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ms=yn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(s,u,d){Q(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return yn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Yt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),fr(u),ni(u);var _=this._section=Yt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Pt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Yt("a",s+"-toggle",u);b.href="#",b.title="Layers",b.setAttribute("role","button"),Pt(b,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){Me(A),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Yt("div",s+"-base",_),this._separator=Yt("div",s+"-separator",_),this._overlaysList=Yt("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(p(function(_,b){return this.options.sortFunction(_.layer,b.layer,_.name,b.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;De(this._baseLayersList),De(this._overlaysList),this._layerControlInputs=[];var s,u,d,_,b=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,b+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&b>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(v(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+v(this),d),this._layerControlInputs.push(_),_.layerId=v(s.layer),Pt(_,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+s.name;var A=document.createElement("span");u.appendChild(A),A.appendChild(_),A.appendChild(b);var O=s.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,_=[],b=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)u=s[A],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||b.push(d);for(A=0;A<b.length;A++)this._map.hasLayer(b[A])&&this._map.removeLayer(b[A]);for(A=0;A<_.length;A++)this._map.hasLayer(_[A])||this._map.addLayer(_[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,_=this._map.getZoom(),b=s.length-1;b>=0;b--)u=s[b],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Pt(s,"click",Me),this.expand();var u=this;setTimeout(function(){he(s,"click",Me),u._preventClick=!1})}}),no=function(s,u,d){return new ms(s,u,d)},mr=yn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=Yt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,_,b){var A=Yt("a",d,_);return A.innerHTML=s,A.href="#",A.title=u,A.setAttribute("role","button"),A.setAttribute("aria-label",u),fr(A),Pt(A,"click",Ti),Pt(A,"click",b,this),Pt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";ye(this._zoomInButton,u),ye(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(xt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(xt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qt.mergeOptions({zoomControl:!0}),Qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new mr,this.addControl(this.zoomControl))});var nl=function(s){return new mr(s)},io=yn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=Yt("div",u),_=this.options;return this._addScales(_,u+"-line",d),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=Yt("div",u,d)),s.imperial&&(this._iScale=Yt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,_,b;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(b=this._getRoundNum(u),this._updateScale(this._iScale,b+" ft",b/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),ps=function(s){return new io(s)},ro='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ta=yn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ct.inlineSvg?ro+" ":"")+"Leaflet</a>"},initialize:function(s){Q(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Yt("div","leaflet-control-attribution"),fr(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Qt.mergeOptions({attributionControl:!0}),Qt.addInitHook(function(){this.options.attributionControl&&new ta().addTo(this)});var ea=function(s){return new ta(s)};yn.Layers=ms,yn.Zoom=mr,yn.Scale=io,yn.Attribution=ta,On.layers=no,On.zoom=nl,On.scale=ps,On.attribution=ea;var Gn=oe.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gn.addTo=function(s,u){return s.addHandler(u,this),this};var il={Events:rt},xi=Ct.touch?"touchstart mousedown":"mousedown",Si=vt.extend({options:{clickTolerance:3},initialize:function(s,u,d,_){Q(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(Pt(this._dragStartTarget,xi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Si._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,xi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!cs(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Si._dragging===this&&this.finishDrag();return}if(!(Si._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Si._dragging=this,this._preventOutline&&kr(this._element),fs(),ei(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=$s(this._element);this._startPoint=new pt(u.clientX,u.clientY),this._startPos=Fi(this._element),this._parentScale=Ln(d);var _=s.type==="mousedown";Pt(document,_?"mousemove":"touchmove",this._onMove,this),Pt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new pt(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Me(s),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ve(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),Pr(),en();var u=this._moved&&this._moving;this._moving=!1,Si._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function so(s,u,d){var _,b=[1,4,2,8],A,O,K,$,lt,Et,Nt,Zt;for(A=0,Et=s.length;A<Et;A++)s[A]._code=nt(s[A],u);for(K=0;K<4;K++){for(Nt=b[K],_=[],A=0,Et=s.length,O=Et-1;A<Et;O=A++)$=s[A],lt=s[O],$._code&Nt?lt._code&Nt||(Zt=X(lt,$,Nt,u,d),Zt._code=nt(Zt,u),_.push(Zt)):(lt._code&Nt&&(Zt=X(lt,$,Nt,u,d),Zt._code=nt(Zt,u),_.push(Zt)),_.push($));s=_}return s}function ao(s,u){var d,_,b,A,O,K,$,lt,Et;if(!s||s.length===0)throw new Error("latlngs not passed");le(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Nt=Tt([0,0]),Zt=_t(s),hn=Zt.getNorthWest().distanceTo(Zt.getSouthWest())*Zt.getNorthEast().distanceTo(Zt.getNorthWest());hn<1700&&(Nt=na(s));var Ke=s.length,Kn=[];for(d=0;d<Ke;d++){var fe=Tt(s[d]);Kn.push(u.project(Tt([fe.lat-Nt.lat,fe.lng-Nt.lng])))}for(K=$=lt=0,d=0,_=Ke-1;d<Ke;_=d++)b=Kn[d],A=Kn[_],O=b.y*A.x-A.y*b.x,$+=(b.x+A.x)*O,lt+=(b.y+A.y)*O,K+=O*3;K===0?Et=Kn[0]:Et=[$/K,lt/K];var de=u.unproject(wt(Et));return Tt([de.lat+Nt.lat,de.lng+Nt.lng])}function na(s){for(var u=0,d=0,_=0,b=0;b<s.length;b++){var A=Tt(s[b]);u+=A.lat,d+=A.lng,_++}return Tt([u/_,d/_])}var Br={__proto__:null,clipPolygon:so,polygonCenter:ao,centroid:na};function vn(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=E(s,d),s=pr(s,d),s}function oo(s,u,d){return Math.sqrt(zt(s,u,d,!0))}function rl(s,u,d){return zt(s,u,d)}function pr(s,u){var d=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,b=new _(d);b[0]=b[d-1]=1,f(s,b,u,0,d-1);var A,O=[];for(A=0;A<d;A++)b[A]&&O.push(s[A]);return O}function f(s,u,d,_,b){var A=0,O,K,$;for(K=_+1;K<=b-1;K++)$=zt(s[K],s[_],s[b],!0),$>A&&(O=K,A=$);A>d&&(u[O]=1,f(s,u,d,_,O),f(s,u,d,O,b))}function E(s,u){for(var d=[s[0]],_=1,b=0,A=s.length;_<A;_++)yt(s[_],s[b])>u&&(d.push(s[_]),b=_);return b<A-1&&d.push(s[A-1]),d}var x;function N(s,u,d,_,b){var A=_?x:nt(s,d),O=nt(u,d),K,$,lt;for(x=O;;){if(!(A|O))return[s,u];if(A&O)return!1;K=A||O,$=X(s,u,K,d,b),lt=nt($,d),K===A?(s=$,A=lt):(u=$,O=lt)}}function X(s,u,d,_,b){var A=u.x-s.x,O=u.y-s.y,K=_.min,$=_.max,lt,Et;return d&8?(lt=s.x+A*($.y-s.y)/O,Et=$.y):d&4?(lt=s.x+A*(K.y-s.y)/O,Et=K.y):d&2?(lt=$.x,Et=s.y+O*($.x-s.x)/A):d&1&&(lt=K.x,Et=s.y+O*(K.x-s.x)/A),new pt(lt,Et,b)}function nt(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function yt(s,u){var d=u.x-s.x,_=u.y-s.y;return d*d+_*_}function zt(s,u,d,_){var b=u.x,A=u.y,O=d.x-b,K=d.y-A,$=O*O+K*K,lt;return $>0&&(lt=((s.x-b)*O+(s.y-A)*K)/$,lt>1?(b=d.x,A=d.y):lt>0&&(b+=O*lt,A+=K*lt)),O=s.x-b,K=s.y-A,_?O*O+K*K:new pt(b,A)}function le(s){return!ht(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ue(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),le(s)}function Re(s,u){var d,_,b,A,O,K,$,lt;if(!s||s.length===0)throw new Error("latlngs not passed");le(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Et=Tt([0,0]),Nt=_t(s),Zt=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Zt<1700&&(Et=na(s));var hn=s.length,Ke=[];for(d=0;d<hn;d++){var Kn=Tt(s[d]);Ke.push(u.project(Tt([Kn.lat-Et.lat,Kn.lng-Et.lng])))}for(d=0,_=0;d<hn-1;d++)_+=Ke[d].distanceTo(Ke[d+1])/2;if(_===0)lt=Ke[0];else for(d=0,A=0;d<hn-1;d++)if(O=Ke[d],K=Ke[d+1],b=O.distanceTo(K),A+=b,A>_){$=(A-_)/b,lt=[K.x-$*(K.x-O.x),K.y-$*(K.y-O.y)];break}var fe=u.unproject(wt(lt));return Tt([fe.lat+Et.lat,fe.lng+Et.lng])}var ii={__proto__:null,simplify:vn,pointToSegmentDistance:oo,closestPointOnSegment:rl,clipSegment:N,_getEdgeIntersection:X,_getBitCode:nt,_sqClosestPointOnSegment:zt,isFlat:le,_flat:ue,polylineCenter:Re},ri={project:function(s){return new pt(s.lng,s.lat)},unproject:function(s){return new bt(s.y,s.x)},bounds:new U([-180,-90],[180,90])},Zn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new U([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,_=s.lat*u,b=this.R_MINOR/d,A=Math.sqrt(1-b*b),O=A*Math.sin(_),K=Math.tan(Math.PI/4-_/2)/Math.pow((1-O)/(1+O),A/2);return _=-d*Math.log(Math.max(K,1e-10)),new pt(s.lng*u*d,_)},unproject:function(s){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,b=Math.sqrt(1-_*_),A=Math.exp(-s.y/d),O=Math.PI/2-2*Math.atan(A),K=0,$=.1,lt;K<15&&Math.abs($)>1e-7;K++)lt=b*Math.sin(O),lt=Math.pow((1-lt)/(1+lt),b/2),$=Math.PI/2-2*Math.atan(A*lt)-O,O+=$;return new bt(O*u,s.x*u/d)}},Ai={__proto__:null,LonLat:ri,Mercator:Zn,SphericalMercator:sr},gs=l({},be,{code:"EPSG:3395",projection:Zn,transformation:(function(){var s=.5/(Math.PI*Zn.R);return Oi(s,.5,-s,.5)})()}),_s=l({},be,{code:"EPSG:4326",projection:ri,transformation:Oi(1/180,1,-1/180,.5)}),ia=l({},Ht,{projection:ri,transformation:Oi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(d*d+_*_)},infinite:!0});Ht.Earth=be,Ht.EPSG3395=gs,Ht.EPSG3857=Ir,Ht.EPSG900913=Pi,Ht.EPSG4326=_s,Ht.Simple=ia;var Ci=vt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Qt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=v(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?ht(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=v(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var b=this._zoomBoundLayers[_].options;s=b.minZoom===void 0?s:Math.min(s,b.minZoom),u=b.maxZoom===void 0?u:Math.max(u,b.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ra=Ci.extend({initialize:function(s,u){Q(this,u),this._layers={};var d,_;if(s)for(d=0,_=s.length;d<_;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),Wf=function(s,u){return new ra(s,u)},Qi=ra.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ra.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ra.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new gt;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),zc=function(s,u){return new Qi(s,u)},Yi=oe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){Q(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var b=wt(_),A=wt(u==="shadow"&&d.shadowAnchor||d.iconAnchor||b&&b.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),b&&(s.style.width=b.x+"px",s.style.height=b.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Ct.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function lo(s){return new Yi(s)}var uo=Yi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof uo.imagePath!="string"&&(uo.imagePath=this._detectIconPath()),(this.options.imagePath||uo.imagePath)+Yi.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,_,b){var A=_.exec(d);return A&&A[b]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Yt("div","leaflet-default-icon-path",document.body),u=Or(s,"background-image")||Or(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),co=Gn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Si(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,A=Fi(u._icon),O=d.getPixelBounds(),K=d.getPixelOrigin(),$=st(O.min._subtract(K).add(b),O.max._subtract(K).subtract(b));if(!$.contains(A)){var lt=wt((Math.max($.max.x,A.x)-$.max.x)/(O.max.x-$.max.x)-(Math.min($.min.x,A.x)-$.min.x)/(O.min.x-$.min.x),(Math.max($.max.y,A.y)-$.max.y)/(O.max.y-$.max.y)-(Math.min($.min.y,A.y)-$.min.y)/(O.min.y-$.min.y)).multiplyBy(_);d.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),ve(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=B(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,_=Fi(u._icon),b=u._map.layerPointToLatLng(_);d&&ve(d,_),u._latlng=b,s.latlng=b,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ho=Ci.extend({options:{icon:new uo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){Q(this,u),this._latlng=Tt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=Tt(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),xt(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(d,"focus",this._panOnFocus,this);var b=s.icon.createShadow(this._shadow),A=!1;b!==this._shadow&&(this._removeShadow(),A=!0),b&&(xt(b,u),b.alt=""),this._shadow=b,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),Xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ve(this._icon,s),this._shadow&&ve(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),co)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new co(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ce(this._icon,s),this._shadow&&Ce(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?wt(u.iconSize):wt(0,0),_=u.iconAnchor?wt(u.iconAnchor):wt(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Uc(s,u){return new ho(s,u)}var Xi=Ci.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return Q(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),sa=Xi.extend({options:{fill:!0,radius:10},initialize:function(s,u){Q(this,u),this._latlng=Tt(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=Tt(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Xi.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),_=[s+d,u+d];this._pxBounds=new U(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Bc(s,u){return new sa(s,u)}var sl=sa.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),Q(this,u),this._latlng=Tt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new gt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Xi.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===be.distance){var b=Math.PI/180,A=this._mRadius/be.R/b,O=d.project([u+A,s]),K=d.project([u-A,s]),$=O.add(K).divideBy(2),lt=d.unproject($).lat,Et=Math.acos((Math.cos(A*b)-Math.sin(u*b)*Math.sin(lt*b))/(Math.cos(u*b)*Math.cos(lt*b)))/b;(isNaN(Et)||Et===0)&&(Et=A/Math.cos(Math.PI/180*u)),this._point=$.subtract(d.getPixelOrigin()),this._radius=isNaN(Et)?0:$.x-d.project([lt,s-Et]).x,this._radiusY=$.y-O.y}else{var Nt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Nt).x}this._updateBounds()}});function jc(s,u,d){return new sl(s,u,d)}var gr=Xi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){Q(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,_=zt,b,A,O=0,K=this._parts.length;O<K;O++)for(var $=this._parts[O],lt=1,Et=$.length;lt<Et;lt++){b=$[lt-1],A=$[lt];var Nt=_(s,b,A,!0);Nt<u&&(u=Nt,d=_(s,b,A))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Re(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=Tt(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new gt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return le(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=le(s),_=0,b=s.length;_<b;_++)d?(u[_]=Tt(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new U;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new pt(s,s);this._rawPxBounds&&(this._pxBounds=new U([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var _=s[0]instanceof bt,b=s.length,A,O;if(_){for(O=[],A=0;A<b;A++)O[A]=this._map.latLngToLayerPoint(s[A]),d.extend(O[A]);u.push(O)}else for(A=0;A<b;A++)this._projectLatlngs(s[A],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,b,A,O,K,$;for(d=0,b=0,A=this._rings.length;d<A;d++)for($=this._rings[d],_=0,O=$.length;_<O-1;_++)K=N($[_],$[_+1],s,_,!0),K&&(u[b]=u[b]||[],u[b].push(K[0]),(K[1]!==$[_+1]||_===O-2)&&(u[b].push(K[1]),b++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,_=s.length;d<_;d++)s[d]=vn(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,_,b,A,O,K,$=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,A=this._parts.length;d<A;d++)for(K=this._parts[d],_=0,O=K.length,b=O-1;_<O;b=_++)if(!(!u&&_===0)&&oo(s,K[b],K[_])<=$)return!0;return!1}});function Jf(s,u){return new gr(s,u)}gr._flat=ue;var aa=gr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ao(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=gr.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof bt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){gr.prototype._setLatLngs.call(this,s),le(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return le(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new pt(u,u);if(s=new U(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,b=this._rings.length,A;_<b;_++)A=so(this._rings[_],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,_,b,A,O,K,$,lt;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,$=this._parts.length;A<$;A++)for(d=this._parts[A],O=0,lt=d.length,K=lt-1;O<lt;K=O++)_=d[O],b=d[K],_.y>s.y!=b.y>s.y&&s.x<(b.x-_.x)*(s.y-_.y)/(b.y-_.y)+_.x&&(u=!u);return u||gr.prototype._containsPoint.call(this,s,!0)}});function $f(s,u){return new aa(s,u)}var _r=Qi.extend({initialize:function(s,u){Q(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=ht(s)?s:s.features,d,_,b;if(u){for(d=0,_=u.length;d<_;d++)b=u[d],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var O=En(s,A);return O?(O.feature=ll(s),O.defaultOptions=O.options,this.resetStyle(O),A.onEachFeature&&A.onEachFeature(s,O),this.addLayer(O)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function En(s,u){var d=s.type==="Feature"?s.geometry:s,_=d?d.coordinates:null,b=[],A=u&&u.pointToLayer,O=u&&u.coordsToLatLng||al,K,$,lt,Et;if(!_&&!d)return null;switch(d.type){case"Point":return K=O(_),oa(A,s,K,u);case"MultiPoint":for(lt=0,Et=_.length;lt<Et;lt++)K=O(_[lt]),b.push(oa(A,s,K,u));return new Qi(b);case"LineString":case"MultiLineString":return $=fo(_,d.type==="LineString"?0:1,O),new gr($,u);case"Polygon":case"MultiPolygon":return $=fo(_,d.type==="Polygon"?1:2,O),new aa($,u);case"GeometryCollection":for(lt=0,Et=d.geometries.length;lt<Et;lt++){var Nt=En({geometry:d.geometries[lt],type:"Feature",properties:s.properties},u);Nt&&b.push(Nt)}return new Qi(b);case"FeatureCollection":for(lt=0,Et=d.features.length;lt<Et;lt++){var Zt=En(d.features[lt],u);Zt&&b.push(Zt)}return new Qi(b);default:throw new Error("Invalid GeoJSON object.")}}function oa(s,u,d,_){return s?s(u,d):new ho(d,_&&_.markersInheritOptions&&_)}function al(s){return new bt(s[1],s[0],s[2])}function fo(s,u,d){for(var _=[],b=0,A=s.length,O;b<A;b++)O=u?fo(s[b],u-1,d):(d||al)(s[b]),_.push(O);return _}function ol(s,u){return s=Tt(s),s.alt!==void 0?[M(s.lng,u),M(s.lat,u),M(s.alt,u)]:[M(s.lng,u),M(s.lat,u)]}function mo(s,u,d,_){for(var b=[],A=0,O=s.length;A<O;A++)b.push(u?mo(s[A],le(s[A])?0:u-1,d,_):ol(s[A],_));return!u&&d&&b.length>0&&b.push(b[0].slice()),b}function jr(s,u){return s.feature?l({},s.feature,{geometry:u}):ll(u)}function ll(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Hr={toGeoJSON:function(s){return jr(this,{type:"Point",coordinates:ol(this.getLatLng(),s)})}};ho.include(Hr),sl.include(Hr),sa.include(Hr),gr.include({toGeoJSON:function(s){var u=!le(this._latlngs),d=mo(this._latlngs,u?1:0,!1,s);return jr(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),aa.include({toGeoJSON:function(s){var u=!le(this._latlngs),d=u&&!le(this._latlngs[0]),_=mo(this._latlngs,d?2:u?1:0,!0,s);return u||(_=[_]),jr(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),ra.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),jr(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(b){if(b.toGeoJSON){var A=b.toGeoJSON(s);if(d)_.push(A.geometry);else{var O=ll(A);O.type==="FeatureCollection"?_.push.apply(_,O.features):_.push(O)}}}),d?jr(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function ul(s,u){return new _r(s,u)}var po=ul,la=Ci.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=_t(u),Q(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Le(this._image),this},bringToBack:function(){return this._map&&qn(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=_t(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Yt("img");if(xt(u,"leaflet-image-layer"),this._zoomAnimated&&xt(u,"leaflet-zoom-animated"),this.options.className&&xt(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ei(this._image,d,u)},_reset:function(){var s=this._image,u=new U(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();ve(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){Ce(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Hc=function(s,u,d){return new la(s,u,d)},qr=la.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Yt("video");if(xt(u,"leaflet-image-layer"),this._zoomAnimated&&xt(u,"leaflet-zoom-animated"),this.options.className&&xt(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onloadeddata=p(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),_=[],b=0;b<d.length;b++)_.push(d[b].src);this._url=d.length>0?_:[u.src];return}ht(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var O=Yt("source");O.src=this._url[A],u.appendChild(O)}}});function ua(s,u,d){return new qr(s,u,d)}var cl=la.extend({_initImage:function(){var s=this._image=this._url;xt(s,"leaflet-image-layer"),this._zoomAnimated&&xt(s,"leaflet-zoom-animated"),this.options.className&&xt(s,this.options.className),s.onselectstart=C,s.onmousemove=C}});function qc(s,u,d){return new cl(s,u,d)}var Tn=Ci.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof bt||ht(s))?(this._latlng=Tt(s),Q(this,u)):(Q(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ce(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ce(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ce(this._container,0),this._removeTimeout=setTimeout(p(Xt,void 0,this._container),200)):Xt(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Tt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Le(this._container),this},bringToBack:function(){return this._map&&qn(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Qi){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=wt(this.options.offset),d=this._getAnchor();this._zoomAnimated?ve(this._container,s.add(d)):u=u.add(s).add(d);var _=this._containerBottom=-u.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Qt.include({_initOverlay:function(s,u,d,_){var b=u;return b instanceof s||(b=new s(_).setContent(u)),d&&b.setLatLng(d),b}}),Ci.include({_initOverlay:function(s,u,d,_){var b=d;return b instanceof s?(Q(b,_),b._source=this):(b=u&&!_?u:new s(_,this),b.setContent(d)),b}});var go=Tn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Tn.prototype.openOn.call(this,s)},onAdd:function(s){Tn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xi||this._source.on("preclick",ee))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xi||this._source.off("preclick",ee))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Yt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Yt("div",s+"-content-wrapper",u);if(this._contentNode=Yt("div",s+"-content",d),fr(u),ni(this._contentNode),Pt(u,"contextmenu",ee),this._tipContainer=Yt("div",s+"-tip-container",u),this._tip=Yt("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Yt("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Pt(_,"click",function(b){Me(b),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,b=this.options.maxHeight,A="leaflet-popup-scrolled";b&&_>b?(u.height=b+"px",xt(s,A)):ye(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();ve(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Or(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,b=new pt(this._containerLeft,-d-this._containerBottom);b._add(Fi(this._container));var A=s.layerPointToContainerPoint(b),O=wt(this.options.autoPanPadding),K=wt(this.options.autoPanPaddingTopLeft||O),$=wt(this.options.autoPanPaddingBottomRight||O),lt=s.getSize(),Et=0,Nt=0;A.x+_+$.x>lt.x&&(Et=A.x+_-lt.x+$.x),A.x-Et-K.x<0&&(Et=A.x-K.x),A.y+d+$.y>lt.y&&(Nt=A.y+d-lt.y+$.y),A.y-Nt-K.y<0&&(Nt=A.y-K.y),(Et||Nt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Et,Nt]))}},_getAnchor:function(){return wt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Fc=function(s,u){return new go(s,u)};Qt.mergeOptions({closePopupOnClick:!0}),Qt.include({openPopup:function(s,u,d){return this._initOverlay(go,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Ci.include({bindPopup:function(s,u){return this._popup=this._initOverlay(go,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Qi||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Ti(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Xi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var _o=Tn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Tn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Yt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,_=this._map,b=this._container,A=_.latLngToContainerPoint(_.getCenter()),O=_.layerPointToContainerPoint(s),K=this.options.direction,$=b.offsetWidth,lt=b.offsetHeight,Et=wt(this.options.offset),Nt=this._getAnchor();K==="top"?(u=$/2,d=lt):K==="bottom"?(u=$/2,d=0):K==="center"?(u=$/2,d=lt/2):K==="right"?(u=0,d=lt/2):K==="left"?(u=$,d=lt/2):O.x<A.x?(K="right",u=0,d=lt/2):(K="left",u=$+(Et.x+Nt.x)*2,d=lt/2),s=s.subtract(wt(u,d,!0)).add(Et).add(Nt),ye(b,"leaflet-tooltip-right"),ye(b,"leaflet-tooltip-left"),ye(b,"leaflet-tooltip-top"),ye(b,"leaflet-tooltip-bottom"),xt(b,"leaflet-tooltip-"+K),ve(b,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ce(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return wt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),td=function(s,u){return new _o(s,u)};Qt.include({openTooltip:function(s,u,d){return this._initOverlay(_o,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Ci.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_o,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Qi||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Pt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Pt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,_;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Gc=Yi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(De(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=wt(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function ed(s){return new Gc(s)}Yi.Default=uo;var ca=Ci.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){Q(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Xt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(qn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof pt?s:new pt(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),_=0,b=u.length,A;_<b;_++)A=u[_].style.zIndex,u[_]!==this._container&&A&&(d=s(d,+A));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ct.ielt9){Ce(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var _ in this._tiles){var b=this._tiles[_];if(!(!b.current||!b.loaded)){var A=Math.min(1,(s-b.loaded)/200);Ce(b.el,A),A<1?u=!0:(b.active?d=!0:this._onOpaqueTile(b),b.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(F(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=Yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(Xt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[s],b=this._map;return _||(_=this._levels[s]={},_.el=Yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=b.project(b.unproject(b.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,b.getCenter(),b.getZoom()),C(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Xt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,_){var b=Math.floor(s/2),A=Math.floor(u/2),O=d-1,K=new pt(+b,+A);K.z=+O;var $=this._tileCoordsToKey(K),lt=this._tiles[$];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),O>_?this._retainParent(b,A,O,_):!1)},_retainChildren:function(s,u,d,_){for(var b=2*s;b<2*s+2;b++)for(var A=2*u;A<2*u+2;A++){var O=new pt(b,A);O.z=d+1;var K=this._tileCoordsToKey(O),$=this._tiles[K];if($&&$.active){$.retain=!0;continue}else $&&$.loaded&&($.retain=!0);d+1<_&&this._retainChildren(b,A,d+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,_){var b=Math.round(u);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var A=this.options.updateWhenZooming&&b!==this._tileZoom;(!_||A)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var _=this._map.getZoomScale(d,s.zoom),b=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();Ct.any3d?Ei(s.el,b,_):ve(s.el,b)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),b=u.project(s,this._tileZoom).floor(),A=u.getSize().divideBy(_*2);return new U(b.subtract(A),b.add(A))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),b=this._pxBoundsToTileRange(_),A=b.getCenter(),O=[],K=this.options.keepBuffer,$=new U(b.getBottomLeft().subtract([K,-K]),b.getTopRight().add([K,-K]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var Et=this._tiles[lt].coords;(Et.z!==this._tileZoom||!$.contains(new pt(Et.x,Et.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var Nt=b.min.y;Nt<=b.max.y;Nt++)for(var Zt=b.min.x;Zt<=b.max.x;Zt++){var hn=new pt(Zt,Nt);if(hn.z=this._tileZoom,!!this._isValidTile(hn)){var Ke=this._tiles[this._tileCoordsToKey(hn)];Ke?Ke.current=!0:O.push(hn)}}if(O.sort(function(fe,de){return fe.distanceTo(A)-de.distanceTo(A)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Kn=document.createDocumentFragment();for(Zt=0;Zt<O.length;Zt++)this._addTile(O[Zt],Kn);this._level.el.appendChild(Kn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return _t(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),_=s.scaleBy(d),b=_.add(d),A=u.unproject(_,s.z),O=u.unproject(b,s.z);return[A,O]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new gt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new pt(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(Xt(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){xt(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=C,s.onmousemove=C,Ct.ielt9&&this.options.opacity<1&&Ce(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),_=this._tileCoordsToKey(s),b=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(b),this.createTile.length<2&&B(p(this._tileReady,this,s,null,b)),ve(b,d),this._tiles[_]={el:b,coords:s,current:!0},u.appendChild(b),this.fire("tileloadstart",{tile:b,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var _=this._tileCoordsToKey(s);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ce(d.el,0),F(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(xt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ct.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new pt(this._wrapX?S(s.x,this._wrapX):s.x,this._wrapY?S(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new U(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Zc(s){return new ca(s)}var Fr=ca.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=Q(this,u),u.detectRetina&&Ct.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return Pt(d,"load",p(this._tileOnLoad,this,u,d)),Pt(d,"error",p(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:Ct.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return dt(this._url,l(u,this.options))},_tileOnLoad:function(s,u){Ct.ielt9?setTimeout(p(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=C,u.onerror=C,!u.complete)){u.src=Ot;var d=this._tiles[s].coords;Xt(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",Ot),ca.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===Ot))return ca.prototype._tileReady.call(this,s,u,d)}});function si(s,u){return new Fr(s,u)}var yo=Fr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=Q(this,u);var b=u.detectRetina&&Ct.retina?2:1,A=this.getTileSize();d.width=A.x*b,d.height=A.y*b,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Fr.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,_=st(d.project(u[0]),d.project(u[1])),b=_.min,A=_.max,O=(this._wmsVersion>=1.3&&this._crs===_s?[b.y,b.x,A.y,A.x]:[b.x,b.y,A.x,A.y]).join(","),K=Fr.prototype.getTileUrl.call(this,s);return K+q(this.wmsParams,K,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function ai(s,u){return new yo(s,u)}Fr.WMS=yo,si.wms=ai;var Pn=Ci.extend({options:{padding:.1},initialize:function(s){Q(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,u),A=_.multiplyBy(-d).add(b).subtract(this._map._getNewPixelOrigin(s,u));Ct.any3d?Ei(this._container,A,d):ve(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new U(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),hl=Pn.extend({options:{tolerance:0},getEvents:function(){var s=Pn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Pt(s,"mousemove",this._onMouseMove,this),Pt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,Xt(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pn.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),_=Ct.retina?2:1;ve(u,s.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Pn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],_,b;for(b=0;b<u.length;b++){if(_=Number(u[b]),isNaN(_))return;d.push(_)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new U,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,_,b,A,O=s._parts,K=O.length,$=this._ctx;if(K){for($.beginPath(),d=0;d<K;d++){for(_=0,b=O[d].length;_<b;_++)A=O[d][_],$[_?"lineTo":"moveTo"](A.x,A.y);u&&$.closePath()}this._fillStroke($,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,_=Math.max(Math.round(s._radius),1),b=(Math.max(Math.round(s._radiusY),1)||_)/_;b!==1&&(d.save(),d.scale(1,b)),d.beginPath(),d.arc(u.x,u.y/b,_,0,Math.PI*2,!1),b!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,_,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(ye(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,_,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(xt(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function vo(s){return Ct.canvas?new hl(s):null}var Gr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),gu={_initContainer:function(){this._container=Yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Gr("shape");xt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Gr("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;Xt(u),s.removeInteractiveTarget(u),delete this._layers[v(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,_=s.options,b=s._container;b.stroked=!!_.stroke,b.filled=!!_.fill,_.stroke?(u||(u=s._stroke=Gr("stroke")),b.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=ht(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(b.removeChild(u),s._stroke=null),_.fill?(d||(d=s._fill=Gr("fill")),b.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(b.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),_=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Le(s._container)},_bringToBack:function(s){qn(s._container)}},Wi=Ct.vml?Gr:Gs,ha=Pn.extend({_initContainer:function(){this._container=Wi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xt(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pn.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),ve(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Wi("path");s.options.className&&xt(u,s.options.className),s.options.interactive&&xt(u,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Xt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Nr(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||d,b="a"+d+","+_+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+b+d*2+",0 "+b+-d*2+",0 ";this._setPath(s,A)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Le(s._path)},_bringToBack:function(s){qn(s._path)}});Ct.vml&&ha.include(gu);function Eo(s){return Ct.svg||Ct.vml?new ha(s):null}Qt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&vo(s)||Eo(s)}});var ys=aa.extend({initialize:function(s,u){aa.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=_t(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function nd(s,u){return new ys(s,u)}ha.create=Wi,ha.pointsToPath=Nr,_r.geometryToLayer=En,_r.coordsToLatLng=al,_r.coordsToLatLngs=fo,_r.latLngToCoords=ol,_r.latLngsToCoords=mo,_r.getFeature=jr,_r.asFeature=ll,Qt.mergeOptions({boxZoom:!0});var kn=Gn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ei(),fs(),this._startPoint=this._map.mouseEventToContainerPoint(s),Pt(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Yt("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new U(this._point,this._startPoint),d=u.getSize();ve(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Xt(this._box),ye(this._container,"leaflet-crosshair")),en(),Pr(),he(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new gt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qt.addInitHook("addHandler","boxZoom",kn),Qt.mergeOptions({doubleClickZoom:!0});var fl=Gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,b=s.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(b):u.setZoomAround(s.containerPoint,b)}});Qt.addInitHook("addHandler","doubleClickZoom",fl),Qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ji=Gn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Si(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=_t(this._map.options.maxBounds);this._offsetLimit=st(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,b=(_-u+d)%s+u-d,A=(_+u+d)%s-u-d,O=Math.abs(b+d)<Math.abs(A+d)?b:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(s){var u=this._map,d=u.options,_=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,O=d.easeLinearity,K=b.multiplyBy(O/A),$=K.distanceTo([0,0]),lt=Math.min(d.inertiaMaxSpeed,$),Et=K.multiplyBy(lt/$),Nt=lt/(d.inertiaDeceleration*O),Zt=Et.multiplyBy(-Nt/2).round();!Zt.x&&!Zt.y?u.fire("moveend"):(Zt=u._limitOffset(Zt,u.options.maxBounds),B(function(){u.panBy(Zt,{duration:Nt,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Qt.addInitHook("addHandler","dragging",Ji),Qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _u=Gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Pt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,_,b;for(_=0,b=d.left.length;_<b;_++)u[d.left[_]]=[-1*s,0];for(_=0,b=d.right.length;_<b;_++)u[d.right[_]]=[s,0];for(_=0,b=d.down.length;_<b;_++)u[d.down[_]]=[0,s];for(_=0,b=d.up.length;_<b;_++)u[d.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,_,b;for(_=0,b=d.zoomIn.length;_<b;_++)u[d.zoomIn[_]]=s;for(_=0,b=d.zoomOut.length;_<b;_++)u[d.zoomOut[_]]=-s},_addHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=wt(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(wt(_),d.options.maxBounds)),d.options.worldCopyJump){var b=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(b)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Ti(s)}}});Qt.addInitHook("addHandler","keyboard",_u),Qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var To=Gn.extend({addHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=nn(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),_),Ti(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,A=d?Math.ceil(b/d)*d:b,O=s._limitZoom(u+(this._delta>0?A:-A))-u;this._delta=0,this._startTime=null,O&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+O):s.setZoomAround(this._lastMousePos,u+O))}});Qt.addInitHook("addHandler","scrollWheelZoom",To);var vs=600;Qt.mergeOptions({tapHold:Ct.touchNative&&Ct.safari&&Ct.mobile,tapTolerance:15});var dl=Gn.extend({addHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new pt(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Pt(document,"touchend",Me),Pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),vs),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){he(document,"touchend",Me),he(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new pt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Qt.addInitHook("addHandler","tapHold",dl),Qt.mergeOptions({touchZoom:Ct.touch,bounceAtZoomLimits:!0});var yu=Gn.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),Me(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),b=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(b,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&b<1||this._zoom>u.getMaxZoom()&&b>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var A=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(b===1&&A.x===0&&A.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var O=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(O,this,!0),Me(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qt.addInitHook("addHandler","touchZoom",yu),Qt.BoxZoom=kn,Qt.DoubleClickZoom=fl,Qt.Drag=Ji,Qt.Keyboard=_u,Qt.ScrollWheelZoom=To,Qt.TapHold=dl,Qt.TouchZoom=yu,n.Bounds=U,n.Browser=Ct,n.CRS=Ht,n.Canvas=hl,n.Circle=sl,n.CircleMarker=sa,n.Class=oe,n.Control=yn,n.DivIcon=Gc,n.DivOverlay=Tn,n.DomEvent=Ki,n.DomUtil=Vr,n.Draggable=Si,n.Evented=vt,n.FeatureGroup=Qi,n.GeoJSON=_r,n.GridLayer=ca,n.Handler=Gn,n.Icon=Yi,n.ImageOverlay=la,n.LatLng=bt,n.LatLngBounds=gt,n.Layer=Ci,n.LayerGroup=ra,n.LineUtil=ii,n.Map=Qt,n.Marker=ho,n.Mixin=il,n.Path=Xi,n.Point=pt,n.PolyUtil=Br,n.Polygon=aa,n.Polyline=gr,n.Popup=go,n.PosAnimation=dr,n.Projection=Ai,n.Rectangle=ys,n.Renderer=Pn,n.SVG=ha,n.SVGOverlay=cl,n.TileLayer=Fr,n.Tooltip=_o,n.Transformation=Rr,n.Util=k,n.VideoOverlay=qr,n.bind=p,n.bounds=st,n.canvas=vo,n.circle=jc,n.circleMarker=Bc,n.control=On,n.divIcon=ed,n.extend=l,n.featureGroup=zc,n.geoJSON=ul,n.geoJson=po,n.gridLayer=Zc,n.icon=lo,n.imageOverlay=Hc,n.latLng=Tt,n.latLngBounds=_t,n.layerGroup=Wf,n.map=Ur,n.marker=Uc,n.point=wt,n.polygon=$f,n.polyline=Jf,n.popup=Fc,n.rectangle=nd,n.setOptions=Q,n.stamp=v,n.svg=Eo,n.svgOverlay=qc,n.tileLayer=si,n.tooltip=td,n.transformation=Oi,n.version=a,n.videoOverlay=ua;var vu=window.L;n.noConflict=function(){return window.L=vu,this},window.L=n}))})(sc,sc.exports)),sc.exports}var Vc=HD();const _w=TE(Vc);function Mg(r,t,n){return Object.freeze({instance:r,context:t,container:n})}function Og(r,t){return t==null?function(a,l){const h=Y.useRef(void 0);return h.current||(h.current=r(a,l)),h}:function(a,l){const h=Y.useRef(void 0);h.current||(h.current=r(a,l));const p=Y.useRef(a),{instance:y}=h.current;return Y.useEffect(function(){p.current!==a&&(t(y,a,p.current),p.current=a)},[y,a,t]),h}}function qD(r,t){Y.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){t.layerContainer?.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function yw(r){return function(n){const a=pw(),l=r(Lg(n,a),a);return mw(a.map,n.attribution),gw(l.current,n.eventHandlers),qD(l.current,a),l}}function FD(r,t){const n=Og(r,t),a=yw(n);return VD(a)}function GD(r,t){const n=Og(r),a=BD(n,t);return zD(a)}function ZD(r,t){const n=Og(r,t),a=yw(n);return UD(a)}function KD(r,t,n){const{opacity:a,zIndex:l}=t;a!=null&&a!==n.opacity&&r.setOpacity(a),l!=null&&l!==n.zIndex&&r.setZIndex(l)}function QD({bounds:r,boundsOptions:t,center:n,children:a,className:l,id:h,placeholder:p,style:y,whenReady:v,zoom:T,...S},C){const[M]=Y.useState({className:l,id:h,style:y}),[Z,et]=Y.useState(null),Q=Y.useRef(void 0);Y.useImperativeHandle(C,()=>Z?.map??null,[Z]);const q=Y.useCallback(dt=>{if(dt!==null&&!Q.current){const ht=new Vc.Map(dt,S);Q.current=ht,n!=null&&T!=null?ht.setView(n,T):r!=null&&ht.fitBounds(r,t),v!=null&&ht.whenReady(v),et(PD(ht))}},[]);Y.useEffect(()=>()=>{Z?.map.remove()},[Z]);const mt=Z?ep.createElement(Dg,{value:Z},a):p??null;return ep.createElement("div",{...M,ref:q},mt)}const YD=Y.forwardRef(QD),XD=FD(function({position:t,...n},a){const l=new Vc.Marker(t,n);return Mg(l,kD(a,{overlayContainer:l}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),WD=GD(function(t,n){const a=new Vc.Popup(t,n.overlayContainer);return Mg(a,n)},function(t,n,{position:a},l){Y.useEffect(function(){const{instance:p}=t;function y(T){T.popup===p&&(p.update(),l(!0))}function v(T){T.popup===p&&l(!1)}return n.map.on({popupopen:y,popupclose:v}),n.overlayContainer==null?(a!=null&&p.setLatLng(a),p.openOn(n.map)):n.overlayContainer.bindPopup(p),function(){n.map.off({popupopen:y,popupclose:v}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(p)}},[t,n,l,a])}),JD=ZD(function({url:t,...n},a){const l=new Vc.TileLayer(t,Lg(n,a));return Mg(l,a)},function(t,n,a){KD(t,n,a);const{url:l}=n;l!=null&&l!==a.url&&t.setUrl(l)}),$D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",tL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let eL=_w.icon({iconUrl:$D,shadowUrl:tL,iconSize:[25,41],iconAnchor:[12,41]});_w.Marker.prototype.options.icon=eL;function nL({mapLink:r}){const[t,n]=Y.useState(null);return Y.useEffect(()=>{if(r)try{const a=r.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(a){n([parseFloat(a[1]),parseFloat(a[2])]);return}const l=r.match(/q=(-?\d+\.\d+),(-?\d+\.\d+)/);if(l){n([parseFloat(l[1]),parseFloat(l[2])]);return}}catch(a){console.error("Failed to parse map coords",a)}},[r]),t?I.jsx("div",{className:"h-48 w-full relative z-0",children:I.jsxs(YD,{center:t,zoom:15,scrollWheelZoom:!1,className:"h-full w-full",attributionControl:!1,children:[I.jsx(JD,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),I.jsx(XD,{position:t,children:I.jsx(WD,{children:I.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:"Open in Google Maps"})})})]})}):I.jsx("div",{className:"h-32 bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400 text-xs",children:"Map not available"})}const EE={"San Gabriel":{lat:34.0961,lng:-118.1058},Pasadena:{lat:34.1478,lng:-118.1445},"DTLA / Hollywood":{lat:34.0522,lng:-118.2437},"Universal City":{lat:34.1381,lng:-118.3534},"Las Vegas":{lat:36.1699,lng:-115.1398},"Grand Canyon / Las Vegas":{lat:36.0544,lng:-112.1401},Ontario:{lat:34.0633,lng:-117.6509},"ONT Airport":{lat:34.056,lng:-117.6012}};function iL(){const{id:r}=AS(),t=qs(),n=Ng.find(h=>h.id===parseInt(r)),[a,l]=Y.useState(null);return Y.useEffect(()=>{if(!n)return;const h=EE[n.location]||EE["San Gabriel"];async function p(){try{const v=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${h.lat}&longitude=${h.lng}&current_weather=true&temperature_unit=fahrenheit`)).json();l(v.current_weather)}catch(y){console.error("Failed to fetch weather",y)}}p()},[n]),n?I.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-light dark:bg-background-dark min-h-screen pb-24 font-display text-slate-900 dark:text-white",children:[I.jsx("nav",{className:"sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md px-4 py-4",children:I.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[I.jsx("button",{onClick:()=>t(-1),className:"w-10 h-10 flex items-center justify-center rounded-full bg-slate-200 dark:bg-card-dark text-slate-900 dark:text-white shadow-sm active:scale-95 transition-transform",children:I.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_back_ios_new"})}),I.jsxs("div",{className:"text-center",children:[I.jsx("h1",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest",children:n.date}),I.jsxs("p",{className:"text-lg font-extrabold text-primary",children:["Day ",n.id,": ",n.location]})]}),I.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-slate-200 dark:bg-card-dark text-slate-900 dark:text-white shadow-sm",children:I.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"more_vert"})})]})}),I.jsxs("main",{className:"max-w-md mx-auto px-4 space-y-6",children:[I.jsx("div",{className:"grid grid-cols-2 gap-4",children:I.jsxs("div",{className:"col-span-2 lakers-gradient p-5 rounded-xl shadow-lg text-white",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[I.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/20 backdrop-blur-sm flex items-center justify-center",children:I.jsx("span",{className:"material-symbols-outlined text-white text-[20px]",children:"cloudy_snowing"})}),I.jsx("span",{className:"text-xs font-bold opacity-80 uppercase tracking-wider",children:"Local Forecast"})]}),I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"text-4xl font-black",children:a?I.jsxs(I.Fragment,{children:[Math.round(a.temperature),"F ",I.jsxs("span",{className:"text-xl font-normal opacity-60",children:["/ ",Math.round((a.temperature-32)*5/9),"C"]})]}):"Loading..."}),I.jsx("span",{className:"text-xs text-white/80 font-bold uppercase tracking-widest mt-1",children:a?"Current Temp":n.weather})]})]})}),I.jsxs("div",{className:"relative space-y-8",children:[I.jsx("div",{className:"absolute left-[19px] top-6 bottom-0 w-0.5 bg-slate-200 dark:bg-white/10"}),n.events.map((h,p)=>I.jsxs("div",{className:"relative pl-12",children:[I.jsx("div",{className:`absolute left-0 top-1 w-10 h-10 flex items-center justify-center rounded-full z-10 shadow-lg ${p===0?"bg-primary text-white shadow-primary/20":"bg-white dark:bg-card-dark border-2 border-primary text-primary"}`,children:I.jsx("span",{className:"material-symbols-outlined text-sm",children:h.icon})}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex items-baseline justify-between",children:[I.jsx("h3",{className:"text-lg font-bold leading-tight",children:h.title}),I.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded whitespace-nowrap ${p===0?"text-primary bg-primary/10":"opacity-40 bg-slate-200 dark:bg-white/5"}`,children:h.time})]}),h.description&&I.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm leading-relaxed",children:h.description}),h.mapLink&&I.jsxs("div",{className:"rounded-xl overflow-hidden bg-white dark:bg-card-dark border border-slate-100 dark:border-white/5 shadow-sm",children:[I.jsx(nL,{mapLink:h.mapLink}),I.jsxs("div",{className:"p-3 flex items-center justify-between",children:[I.jsx("span",{className:"text-xs font-medium opacity-60 truncate max-w-[180px]",children:h.location}),I.jsxs("a",{href:h.mapLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary text-xs font-bold uppercase tracking-tight hover:underline",children:[I.jsx("span",{className:"material-symbols-outlined text-sm",children:"directions"}),"Open Maps"]})]})]})]})]},p))]}),I.jsxs("div",{className:"bg-primary p-6 rounded-2xl text-white shadow-xl shadow-primary/20 mt-8 mb-24",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsx("h4",{className:"font-bold text-lg",children:"Daily Summary"}),I.jsxs("span",{className:"text-xs font-bold bg-white/20 px-3 py-1 rounded-full uppercase",children:["Day ",n.id]})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between text-sm",children:[I.jsx("span",{className:"opacity-80",children:"Accommodation"}),I.jsx("span",{className:"font-semibold",children:"$0.00 (Prepaid)"})]}),I.jsxs("div",{className:"flex justify-between text-sm",children:[I.jsx("span",{className:"opacity-80",children:"Activities & Dining"}),I.jsx("span",{className:"font-semibold",children:"$120.45"})]}),I.jsxs("div",{className:"pt-3 border-t border-white/20 flex justify-between items-end",children:[I.jsx("span",{className:"text-sm opacity-80 font-medium uppercase tracking-wider",children:"Total Spent"}),I.jsx("span",{className:"text-2xl font-black",children:"$120.45"})]})]})]})]}),I.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-[360px] bg-white/90 dark:bg-card-dark/90 backdrop-blur-xl rounded-full px-2 py-2 flex items-center justify-between shadow-2xl border border-white/10 z-[100]",children:[I.jsxs("button",{onClick:()=>t("/itinerary"),className:"flex-1 flex flex-col items-center justify-center py-2 text-primary",children:[I.jsx("span",{className:"material-symbols-outlined",children:"calendar_month"}),I.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Days"})]}),I.jsxs("button",{onClick:()=>t("/overview"),className:"flex-1 flex flex-col items-center justify-center py-2 text-slate-400 hover:text-white transition-colors",children:[I.jsx("span",{className:"material-symbols-outlined",children:"dashboard"}),I.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Dash"})]}),I.jsx("div",{className:"flex-1 flex justify-center -mt-8",children:I.jsx("button",{onClick:()=>t("/add-expense"),className:"w-14 h-14 bg-primary text-white rounded-full shadow-lg flex items-center justify-center ring-4 ring-background-light dark:ring-background-dark active:scale-95 transition-transform",children:I.jsx("span",{className:"material-symbols-outlined text-3xl",children:"add"})})}),I.jsxs("button",{onClick:()=>t("/add-expense"),className:"flex-1 flex flex-col items-center justify-center py-2 text-slate-400 hover:text-white transition-colors",children:[I.jsx("span",{className:"material-symbols-outlined",children:"payments"}),I.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Split"})]}),I.jsxs("button",{className:"flex-1 flex flex-col items-center justify-center py-2 text-slate-400 hover:text-white transition-colors",children:[I.jsx("span",{className:"material-symbols-outlined",children:"person"}),I.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Profile"})]})]})]}):I.jsx("div",{className:"text-white text-center pt-20",children:"Day not found"})}function rL(){const r=qs(),{currentUser:t}=kc(),[n,a]=Y.useState(""),[l,h]=Y.useState("USD"),[p,y]=Y.useState(""),[v,T]=Y.useState([]),[S,C]=Y.useState(!1),[M,Z]=Y.useState([]);Y.useEffect(()=>{async function q(){try{const mt=await wc(eu(qo,"users")),dt=[];mt.forEach(ht=>{ht.id!==t?.uid&&dt.push(ht.data())}),Z(dt)}catch(mt){console.error("Error fetching users:",mt)}}q()},[t]);const et=q=>{v.includes(q)?T(v.filter(mt=>mt!==q)):T([...v,q])},Q=async()=>{if(!n||!p){alert("");return}C(!0);try{await AD(eu(qo,"expenses"),{amount:l(n).value,currency:l,item:p,paidBy:t.uid,splitWith:v,createdAt:CD()}),r("/overview")}catch(q){console.error("Error adding document: ",q),alert("")}finally{C(!1)}};return I.jsxs("div",{className:"relative flex h-full min-h-screen w-full max-w-[430px] mx-auto flex-col bg-background-dark overflow-x-hidden shadow-2xl font-display text-white",children:[I.jsxs("header",{className:"sticky top-0 z-20 flex items-center bg-lakers-purple px-4 pt-4 pb-4 justify-between border-b border-white/10",children:[I.jsx("button",{onClick:()=>r(-1),className:"text-primary text-base font-medium",children:""}),I.jsx("h1",{className:"text-primary text-[17px] font-bold uppercase tracking-wide",children:""}),I.jsx("div",{className:"flex w-12 items-center justify-end",children:I.jsx("button",{onClick:Q,disabled:S,className:"text-primary text-base font-bold disabled:opacity-50",children:""})})]}),I.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar px-4 pt-6 pb-32",children:[I.jsx("div",{className:"bg-card-dark rounded-xl p-5 mb-6 shadow-sm border border-primary/20",children:I.jsxs("div",{className:"flex flex-col gap-6",children:[I.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I.jsx("p",{className:"text-primary/70 text-[10px] font-bold uppercase tracking-widest",children:""}),I.jsxs("div",{className:"flex bg-black/20 p-0.5 rounded-full",children:[I.jsx("button",{onClick:()=>h("USD"),className:`px-2 py-0.5 rounded-full text-[9px] font-bold transition-all ${l==="USD"?"bg-primary text-lakers-purple shadow-sm":"text-white/40"}`,children:"USD"}),I.jsx("button",{onClick:()=>h("TWD"),className:`px-2 py-0.5 rounded-full text-[9px] font-bold transition-all ${l==="TWD"?"bg-primary text-lakers-purple shadow-sm":"text-white/40"}`,children:"TWD"})]})]}),I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx("span",{className:"text-primary text-3xl font-bold leading-none",children:l==="USD"?"$":"NT$"}),I.jsx("input",{value:n,onChange:q=>a(q.target.value),className:"bg-transparent border-none text-primary text-5xl font-bold p-0 focus:ring-0 w-48 text-center placeholder:text-white/30 placeholder:font-bold",placeholder:"0.00",type:"number",step:"0.01"})]})]}),I.jsx("div",{className:"h-px bg-white/10 w-full"}),I.jsxs("div",{className:"flex flex-col",children:[I.jsx("label",{className:"text-primary/70 text-[10px] font-bold uppercase tracking-widest mb-2",children:""}),I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("span",{className:"material-symbols-outlined text-primary text-xl",children:"receipt_long"}),I.jsx("input",{value:p,onChange:q=>y(q.target.value),className:"bg-transparent border-none text-white text-lg font-medium p-0 focus:ring-0 flex-1 placeholder:text-white/30",placeholder:": ",type:"text"})]})]})]})}),I.jsxs("div",{className:"bg-card-dark rounded-xl p-5 mb-6 shadow-sm border border-primary/20",children:[I.jsxs("div",{className:"flex items-center justify-between mb-6",children:[I.jsx("h3",{className:"text-white text-base font-bold leading-tight",children:""}),I.jsxs("div",{className:"flex items-center gap-1 text-primary/70",children:[I.jsx("span",{className:"material-symbols-outlined text-sm",children:"group"}),I.jsx("span",{className:"text-[11px] font-medium italic",children:""})]})]}),I.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 custom-scrollbar",children:M.length===0?I.jsx("p",{className:"text-sm text-gray-500 italic",children:" ()"}):M.map(q=>I.jsxs("button",{onClick:()=>et(q.uid),className:`flex flex-col items-center gap-2 min-w-[64px] transition-opacity ${v.includes(q.uid)?"opacity-100":"opacity-40"}`,children:[I.jsxs("div",{className:`relative p-0.5 rounded-full ring-2 ${v.includes(q.uid)?"ring-primary":"ring-transparent"} ring-offset-2 ring-offset-card-dark`,children:[q.photoURL?I.jsx("img",{alt:q.displayName,className:"w-12 h-12 rounded-full object-cover bg-slate-200",src:q.photoURL}):I.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-600 flex items-center justify-center text-white font-bold",children:q.displayName?q.displayName[0]:"?"}),v.includes(q.uid)&&I.jsx("div",{className:"absolute -bottom-1 -right-1 bg-primary text-white rounded-full p-0.5 border-2 border-card-dark",children:I.jsx("span",{className:"material-symbols-outlined text-[12px] block font-bold text-lakers-purple",children:"check"})})]}),I.jsx("p",{className:"text-white text-[11px] font-bold truncate w-16 text-center",children:q.displayName||"User"})]},q.uid))}),I.jsxs("div",{className:"mt-6 p-1 bg-black/20 rounded-lg flex",children:[I.jsx("button",{className:"flex-1 py-2 px-4 rounded-md text-xs font-bold transition-all bg-primary text-lakers-purple shadow-sm",children:""}),I.jsx("button",{className:"flex-1 py-2 px-4 rounded-md text-xs font-bold transition-all text-white/40",children:""})]})]}),I.jsx("div",{className:"bg-card-dark rounded-xl p-5 shadow-sm border border-primary/20",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex flex-col",children:[I.jsx("p",{className:"text-primary/70 text-[10px] font-bold uppercase tracking-wider",children:""}),I.jsxs("p",{className:"text-primary text-2xl font-bold",children:[l==="USD"?"$":"NT$",n&&v.length+1>0?l(n).divide(v.length+1).toString():"0.00"]})]}),I.jsxs("div",{className:"bg-primary/20 text-primary px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-tight",children:[v.length+1," "]})]})})]}),I.jsx("div",{className:"fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-[430px] p-6 bg-gradient-to-t from-background-dark via-background-dark to-transparent pt-10 z-30",children:I.jsxs("button",{onClick:Q,disabled:S,className:"w-full bg-primary hover:bg-primary/90 text-lakers-purple font-bold py-4 rounded-xl shadow-lg shadow-primary/20 transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[I.jsx("span",{className:"material-symbols-outlined",children:"add"}),""]})})]})}function sL(){const r=qs(),{currentUser:t}=kc(),[n,a]=Y.useState("USD"),[l,h]=Y.useState([]),[p,y]=Y.useState({}),[v,T]=Y.useState(!0);Y.useEffect(()=>{async function et(){try{const Q=await wc(eu(qo,"users")),q={};Q.forEach(Dt=>{q[Dt.id]=Dt.data()}),y(q);const mt=Ip(eu(qo,"expenses"),TD("createdAt","desc")),dt=await wc(mt),ht=[];dt.forEach(Dt=>{ht.push({id:Dt.id,...Dt.data()})}),h(ht)}catch(Q){console.error("Error fetching data:",Q)}finally{T(!1)}}et()},[]);const S=(et,Q)=>{const q=parseFloat(et);return n==="USD"?Q==="TWD"?q/32:q:Q==="USD"?q*32:q},C=et=>et?et.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",M=et=>{if(!et)return"Unknown Date";const Q=et.toDate(),q=new Date,mt=new Date;return mt.setDate(mt.getDate()-1),Q.toDateString()===q.toDateString()?"Today":Q.toDateString()===mt.toDateString()?"Yesterday":Q.toLocaleDateString("en-US",{month:"short",day:"numeric"})},Z=l.reduce((et,Q)=>{const q=M(Q.createdAt);return et[q]||(et[q]=[]),et[q].push(Q),et},{});return I.jsxs("div",{className:"relative flex h-full min-h-screen w-full max-w-[430px] mx-auto flex-col bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display overflow-x-hidden shadow-2xl",children:[I.jsxs("header",{className:"sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md pt-6 px-4",children:[I.jsxs("div",{className:"flex items-center justify-between mb-4",children:[I.jsx("button",{onClick:()=>r("/overview"),className:"text-lakers-gold cursor-pointer",children:I.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios"})}),I.jsx("h1",{className:"text-xl font-extrabold tracking-tight uppercase italic dark:text-white",children:"All Expense Details"}),I.jsx("div",{className:"text-lakers-gold",children:I.jsx("span",{className:"material-symbols-outlined text-3xl",children:"more_horiz"})})]}),I.jsxs("div",{className:"flex bg-slate-200 dark:bg-[#362b40] p-1 rounded-xl mb-6 shadow-inner",children:[I.jsxs("label",{className:`flex cursor-pointer h-10 grow items-center justify-center overflow-hidden rounded-lg px-2 transition-all duration-200 ${n==="USD"?"bg-primary text-white":"text-slate-500 dark:text-[#ae9ebd]"}`,children:[I.jsx("span",{className:"truncate",children:"USD"}),I.jsx("input",{checked:n==="USD",onChange:()=>a("USD"),className:"invisible w-0",name:"currency",type:"radio",value:"USD"})]}),I.jsxs("label",{className:`flex cursor-pointer h-10 grow items-center justify-center overflow-hidden rounded-lg px-2 transition-all duration-200 ${n==="TWD"?"bg-primary text-white":"text-slate-500 dark:text-[#ae9ebd]"}`,children:[I.jsx("span",{className:"truncate",children:"TWD"}),I.jsx("input",{checked:n==="TWD",onChange:()=>a("TWD"),className:"invisible w-0",name:"currency",type:"radio",value:"TWD"})]})]})]}),I.jsxs("main",{className:"flex-1 px-4 py-2 space-y-4 pb-32 overflow-y-auto custom-scrollbar",children:[Object.keys(Z).map(et=>I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-center gap-3 py-2 pt-4",children:[I.jsx("div",{className:"h-[1px] flex-1 bg-primary/20"}),I.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-primary/60 dark:text-primary",children:et}),I.jsx("div",{className:"h-[1px] flex-1 bg-primary/20"})]}),Z[et].map(Q=>{let q=p[Q.paidBy];!q&&t&&t.uid===Q.paidBy&&(q={displayName:t.displayName,photoURL:t.photoURL}),q||(q={displayName:"Unknown"});const mt=q.displayName?q.displayName[0]:"?",dt=S(Q.amount,Q.currency),ht=Q.splitWith||[];return I.jsxs("div",{className:"bg-white dark:bg-card-dark rounded-xl overflow-hidden shadow-xl border-l-4 border-lakers-gold mb-4",children:[I.jsxs("div",{className:"p-5",children:[I.jsxs("div",{className:"flex justify-between items-start mb-4",children:[I.jsxs("div",{className:"max-w-[70%]",children:[I.jsx("h3",{className:"text-lg font-bold leading-tight dark:text-white",children:Q.item}),I.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[I.jsx("span",{className:"material-symbols-outlined text-sm text-primary",children:"sell"}),I.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase tracking-tighter",children:"General"})]})]}),I.jsxs("div",{className:"text-right",children:[I.jsxs("p",{className:"text-xl font-black text-lakers-gold gold-glow",children:[n==="USD"?"$":"NT$",dt.toFixed(2)]}),I.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:["Total ",n]})]})]}),I.jsxs("div",{className:"flex items-center justify-between mt-6",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"relative",children:I.jsx("div",{className:"size-10 rounded-full border-2 border-lakers-gold overflow-hidden bg-primary flex items-center justify-center",children:q.photoURL?I.jsx("img",{src:q.photoURL,alt:q.displayName,className:"w-full h-full object-cover"}):I.jsx("span",{className:"text-white font-bold text-xs",children:mt})})}),I.jsxs("div",{children:[I.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none mb-1",children:"Paid by"}),I.jsx("p",{className:"text-sm font-bold dark:text-white",children:q.displayName})]})]}),I.jsxs("div",{className:"flex flex-col items-end",children:[I.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none mb-2",children:"Split with"}),I.jsxs("div",{className:"flex -space-x-3",children:[ht.slice(0,3).map(Dt=>{let Ot=p[Dt];return!Ot&&t&&t.uid===Dt&&(Ot={displayName:t.displayName,photoURL:t.photoURL}),I.jsx("div",{className:"size-8 rounded-full ring-2 ring-white dark:ring-card-dark bg-slate-700 flex items-center justify-center text-[10px] font-bold text-white shadow-md overflow-hidden",children:Ot?.photoURL?I.jsx("img",{src:Ot.photoURL,alt:Ot.displayName,className:"w-full h-full object-cover"}):I.jsx("span",{children:Ot?.displayName?Ot.displayName[0]:"?"})},Dt)}),ht.length>3&&I.jsxs("div",{className:"size-8 rounded-full ring-2 ring-white dark:ring-card-dark bg-slate-700 flex items-center justify-center text-[10px] font-bold text-white shadow-md",children:["+",ht.length-3]}),ht.length===0&&I.jsx("span",{className:"text-xs text-slate-500 font-bold",children:"None"})]})]})]})]}),I.jsx("div",{className:"px-5 py-3 bg-slate-50 dark:bg-black/20 flex justify-between items-center border-t border-slate-100 dark:border-white/5",children:I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"material-symbols-outlined text-lg text-slate-400",children:"schedule"}),I.jsx("span",{className:"text-xs font-medium text-slate-400",children:C(Q.createdAt)})]})})]},Q.id)})]},et)),l.length===0&&!v&&I.jsx("div",{className:"text-center py-10 text-slate-500",children:"No expenses found."})]}),I.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 flex items-center justify-center z-40",children:I.jsx("button",{onClick:()=>r("/add-expense"),className:"bg-primary text-lakers-gold w-16 h-16 rounded-full shadow-[0_8px_25px_rgba(89,46,127,0.5)] flex items-center justify-center active:scale-95 transition-transform border-4 border-background-dark",children:I.jsx("span",{className:"material-symbols-outlined text-3xl font-black",children:"add"})})}),I.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 max-w-[430px] mx-auto h-20 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-xl border-t border-primary/20 flex justify-around items-center px-6 pb-4 z-50",children:[I.jsxs("button",{onClick:()=>r("/itinerary"),className:"flex flex-col items-center gap-1 text-slate-400",children:[I.jsx("span",{className:"material-symbols-outlined",children:"explore"}),I.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Trip"})]}),I.jsxs("button",{onClick:()=>r("/expenses"),className:"flex flex-col items-center gap-1 text-primary dark:text-lakers-gold",children:[I.jsx("span",{className:"material-symbols-outlined",style:{fontVariationSettings:"'FILL' 1"},children:"payments"}),I.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Expenses"})]}),I.jsxs("div",{className:"flex flex-col items-center gap-1 text-slate-400",children:[I.jsx("span",{className:"material-symbols-outlined",children:"group"}),I.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Squad"})]}),I.jsxs("div",{className:"flex flex-col items-center gap-1 text-slate-400",children:[I.jsx("span",{className:"material-symbols-outlined",children:"settings"}),I.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Menu"})]})]})]})}function aL(){return I.jsx(f1,{basename:"/la-nba/",children:I.jsx(ND,{children:I.jsxs(HS,{children:[I.jsx(Mo,{path:"/",element:I.jsx(DD,{})}),I.jsx(Mo,{path:"/overview",element:I.jsx(ec,{children:I.jsx(LD,{})})}),I.jsx(Mo,{path:"/itinerary",element:I.jsx(ec,{children:I.jsx(MD,{})})}),I.jsx(Mo,{path:"/day/:id",element:I.jsx(ec,{children:I.jsx(iL,{})})}),I.jsx(Mo,{path:"/add-expense",element:I.jsx(ec,{children:I.jsx(rL,{})})}),I.jsx(Mo,{path:"/expenses",element:I.jsx(ec,{children:I.jsx(sL,{})})})]})})})}qx.createRoot(document.getElementById("root")).render(I.jsx(Y.StrictMode,{children:I.jsx(aL,{})}));
