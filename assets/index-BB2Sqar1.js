(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function IE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vm={exports:{}},tc={};var Vv;function Qx(){if(Vv)return tc;Vv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,h){var p=null;if(h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:p,ref:l!==void 0?l:null,props:h}}return tc.Fragment=t,tc.jsx=n,tc.jsxs=n,tc}var zv;function Yx(){return zv||(zv=1,Vm.exports=Qx()),Vm.exports}var I=Yx(),zm={exports:{}},qt={};var Uv;function Xx(){if(Uv)return qt;Uv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function G(U){return U===null||typeof U!="object"?null:(U=D&&U[D]||U["@@iterator"],typeof U=="function"?U:null)}var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,q={};function ot(U,st,gt){this.props=U,this.context=st,this.refs=q,this.updater=gt||nt}ot.prototype.isReactComponent={},ot.prototype.setState=function(U,st){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,st,"setState")},ot.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function lt(){}lt.prototype=ot.prototype;function ct(U,st,gt){this.props=U,this.context=st,this.refs=q,this.updater=gt||nt}var Dt=ct.prototype=new lt;Dt.constructor=ct,Y(Dt,ot.prototype),Dt.isPureReactComponent=!0;var Lt=Array.isArray;function Bt(){}var k={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function P(U,st,gt){var _t=gt.ref;return{$$typeof:r,type:U,key:st,ref:_t!==void 0?_t:null,props:gt}}function H(U,st){return P(U.type,st,U.props)}function B(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function F(U){var st={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(gt){return st[gt]})}var V=/\/+/g;function oe(U,st){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):st.toString(36)}function Xe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Bt,Bt):(U.status="pending",U.then(function(st){U.status==="pending"&&(U.status="fulfilled",U.value=st)},function(st){U.status==="pending"&&(U.status="rejected",U.reason=st)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function rt(U,st,gt,_t,bt){var Tt=typeof U;(Tt==="undefined"||Tt==="boolean")&&(U=null);var Ht=!1;if(U===null)Ht=!0;else switch(Tt){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(U.$$typeof){case r:case t:Ht=!0;break;case S:return Ht=U._init,rt(Ht(U._payload),st,gt,_t,bt)}}if(Ht)return bt=bt(U),Ht=_t===""?"."+oe(U,0):_t,Lt(bt)?(gt="",Ht!=null&&(gt=Ht.replace(V,"$&/")+"/"),rt(bt,st,gt,"",function(ar){return ar})):bt!=null&&(B(bt)&&(bt=H(bt,gt+(bt.key==null||U&&U.key===bt.key?"":(""+bt.key).replace(V,"$&/")+"/")+Ht)),st.push(bt)),1;Ht=0;var be=_t===""?".":_t+":";if(Lt(U))for(var Ae=0;Ae<U.length;Ae++)_t=U[Ae],Tt=be+oe(_t,Ae),Ht+=rt(_t,st,gt,Tt,bt);else if(Ae=G(U),typeof Ae=="function")for(U=Ae.call(U),Ae=0;!(_t=U.next()).done;)_t=_t.value,Tt=be+oe(_t,Ae++),Ht+=rt(_t,st,gt,Tt,bt);else if(Tt==="object"){if(typeof U.then=="function")return rt(Xe(U),st,gt,_t,bt);throw st=String(U),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function vt(U,st,gt){if(U==null)return U;var _t=[],bt=0;return rt(U,_t,"","",function(Tt){return st.call(gt,Tt,bt++)}),_t}function pt(U){if(U._status===-1){var st=U._result;st=st(),st.then(function(gt){(U._status===0||U._status===-1)&&(U._status=1,U._result=gt)},function(gt){(U._status===0||U._status===-1)&&(U._status=2,U._result=gt)}),U._status===-1&&(U._status=0,U._result=st)}if(U._status===1)return U._result.default;throw U._result}var te=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},wt={map:vt,forEach:function(U,st,gt){vt(U,function(){st.apply(this,arguments)},gt)},count:function(U){var st=0;return vt(U,function(){st++}),st},toArray:function(U){return vt(U,function(st){return st})||[]},only:function(U){if(!B(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return qt.Activity=A,qt.Children=wt,qt.Component=ot,qt.Fragment=n,qt.Profiler=l,qt.PureComponent=ct,qt.StrictMode=a,qt.Suspense=y,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,qt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return k.H.useMemoCache(U)}},qt.cache=function(U){return function(){return U.apply(null,arguments)}},qt.cacheSignal=function(){return null},qt.cloneElement=function(U,st,gt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var _t=Y({},U.props),bt=U.key;if(st!=null)for(Tt in st.key!==void 0&&(bt=""+st.key),st)!M.call(st,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&st.ref===void 0||(_t[Tt]=st[Tt]);var Tt=arguments.length-2;if(Tt===1)_t.children=gt;else if(1<Tt){for(var Ht=Array(Tt),be=0;be<Tt;be++)Ht[be]=arguments[be+2];_t.children=Ht}return P(U.type,bt,_t)},qt.createContext=function(U){return U={$$typeof:p,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:h,_context:U},U},qt.createElement=function(U,st,gt){var _t,bt={},Tt=null;if(st!=null)for(_t in st.key!==void 0&&(Tt=""+st.key),st)M.call(st,_t)&&_t!=="key"&&_t!=="__self"&&_t!=="__source"&&(bt[_t]=st[_t]);var Ht=arguments.length-2;if(Ht===1)bt.children=gt;else if(1<Ht){for(var be=Array(Ht),Ae=0;Ae<Ht;Ae++)be[Ae]=arguments[Ae+2];bt.children=be}if(U&&U.defaultProps)for(_t in Ht=U.defaultProps,Ht)bt[_t]===void 0&&(bt[_t]=Ht[_t]);return P(U,Tt,bt)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(U){return{$$typeof:v,render:U}},qt.isValidElement=B,qt.lazy=function(U){return{$$typeof:S,_payload:{_status:-1,_result:U},_init:pt}},qt.memo=function(U,st){return{$$typeof:T,type:U,compare:st===void 0?null:st}},qt.startTransition=function(U){var st=k.T,gt={};k.T=gt;try{var _t=U(),bt=k.S;bt!==null&&bt(gt,_t),typeof _t=="object"&&_t!==null&&typeof _t.then=="function"&&_t.then(Bt,te)}catch(Tt){te(Tt)}finally{st!==null&&gt.types!==null&&(st.types=gt.types),k.T=st}},qt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},qt.use=function(U){return k.H.use(U)},qt.useActionState=function(U,st,gt){return k.H.useActionState(U,st,gt)},qt.useCallback=function(U,st){return k.H.useCallback(U,st)},qt.useContext=function(U){return k.H.useContext(U)},qt.useDebugValue=function(){},qt.useDeferredValue=function(U,st){return k.H.useDeferredValue(U,st)},qt.useEffect=function(U,st){return k.H.useEffect(U,st)},qt.useEffectEvent=function(U){return k.H.useEffectEvent(U)},qt.useId=function(){return k.H.useId()},qt.useImperativeHandle=function(U,st,gt){return k.H.useImperativeHandle(U,st,gt)},qt.useInsertionEffect=function(U,st){return k.H.useInsertionEffect(U,st)},qt.useLayoutEffect=function(U,st){return k.H.useLayoutEffect(U,st)},qt.useMemo=function(U,st){return k.H.useMemo(U,st)},qt.useOptimistic=function(U,st){return k.H.useOptimistic(U,st)},qt.useReducer=function(U,st,gt){return k.H.useReducer(U,st,gt)},qt.useRef=function(U){return k.H.useRef(U)},qt.useState=function(U){return k.H.useState(U)},qt.useSyncExternalStore=function(U,st,gt){return k.H.useSyncExternalStore(U,st,gt)},qt.useTransition=function(){return k.H.useTransition()},qt.version="19.2.3",qt}var Bv;function Op(){return Bv||(Bv=1,zm.exports=Xx()),zm.exports}var K=Op();const sp=IE(K);var Um={exports:{}},ec={},Bm={exports:{}},jm={};var jv;function Wx(){return jv||(jv=1,(function(r){function t(rt,vt){var pt=rt.length;rt.push(vt);t:for(;0<pt;){var te=pt-1>>>1,wt=rt[te];if(0<l(wt,vt))rt[te]=vt,rt[pt]=wt,pt=te;else break t}}function n(rt){return rt.length===0?null:rt[0]}function a(rt){if(rt.length===0)return null;var vt=rt[0],pt=rt.pop();if(pt!==vt){rt[0]=pt;t:for(var te=0,wt=rt.length,U=wt>>>1;te<U;){var st=2*(te+1)-1,gt=rt[st],_t=st+1,bt=rt[_t];if(0>l(gt,pt))_t<wt&&0>l(bt,gt)?(rt[te]=bt,rt[_t]=pt,te=_t):(rt[te]=gt,rt[st]=pt,te=st);else if(_t<wt&&0>l(bt,pt))rt[te]=bt,rt[_t]=pt,te=_t;else break t}}return vt}function l(rt,vt){var pt=rt.sortIndex-vt.sortIndex;return pt!==0?pt:rt.id-vt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var p=Date,v=p.now();r.unstable_now=function(){return p.now()-v}}var y=[],T=[],S=1,A=null,D=3,G=!1,nt=!1,Y=!1,q=!1,ot=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Dt(rt){for(var vt=n(T);vt!==null;){if(vt.callback===null)a(T);else if(vt.startTime<=rt)a(T),vt.sortIndex=vt.expirationTime,t(y,vt);else break;vt=n(T)}}function Lt(rt){if(Y=!1,Dt(rt),!nt)if(n(y)!==null)nt=!0,Bt||(Bt=!0,F());else{var vt=n(T);vt!==null&&Xe(Lt,vt.startTime-rt)}}var Bt=!1,k=-1,M=5,P=-1;function H(){return q?!0:!(r.unstable_now()-P<M)}function B(){if(q=!1,Bt){var rt=r.unstable_now();P=rt;var vt=!0;try{t:{nt=!1,Y&&(Y=!1,lt(k),k=-1),G=!0;var pt=D;try{e:{for(Dt(rt),A=n(y);A!==null&&!(A.expirationTime>rt&&H());){var te=A.callback;if(typeof te=="function"){A.callback=null,D=A.priorityLevel;var wt=te(A.expirationTime<=rt);if(rt=r.unstable_now(),typeof wt=="function"){A.callback=wt,Dt(rt),vt=!0;break e}A===n(y)&&a(y),Dt(rt)}else a(y);A=n(y)}if(A!==null)vt=!0;else{var U=n(T);U!==null&&Xe(Lt,U.startTime-rt),vt=!1}}break t}finally{A=null,D=pt,G=!1}vt=void 0}}finally{vt?F():Bt=!1}}}var F;if(typeof ct=="function")F=function(){ct(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,oe=V.port2;V.port1.onmessage=B,F=function(){oe.postMessage(null)}}else F=function(){ot(B,0)};function Xe(rt,vt){k=ot(function(){rt(r.unstable_now())},vt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(rt){switch(D){case 1:case 2:case 3:var vt=3;break;default:vt=D}var pt=D;D=vt;try{return rt()}finally{D=pt}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(rt,vt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var pt=D;D=rt;try{return vt()}finally{D=pt}},r.unstable_scheduleCallback=function(rt,vt,pt){var te=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?te+pt:te):pt=te,rt){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=pt+wt,rt={id:S++,callback:vt,priorityLevel:rt,startTime:pt,expirationTime:wt,sortIndex:-1},pt>te?(rt.sortIndex=pt,t(T,rt),n(y)===null&&rt===n(T)&&(Y?(lt(k),k=-1):Y=!0,Xe(Lt,pt-te))):(rt.sortIndex=wt,t(y,rt),nt||G||(nt=!0,Bt||(Bt=!0,F()))),rt},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(rt){var vt=D;return function(){var pt=D;D=vt;try{return rt.apply(this,arguments)}finally{D=pt}}}})(jm)),jm}var Hv;function Jx(){return Hv||(Hv=1,Bm.exports=Wx()),Bm.exports}var Hm={exports:{}},Vn={};var qv;function $x(){if(qv)return Vn;qv=1;var r=Op();function t(y){var T="https://react.dev/errors/"+y;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)T+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,T,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:T,implementation:S}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,T){if(y==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Vn.createPortal=function(y,T){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return h(y,T,null,S)},Vn.flushSync=function(y){var T=p.T,S=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=T,a.p=S,a.d.f()}},Vn.preconnect=function(y,T){typeof y=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,a.d.C(y,T))},Vn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Vn.preinit=function(y,T){if(typeof y=="string"&&T&&typeof T.as=="string"){var S=T.as,A=v(S,T.crossOrigin),D=typeof T.integrity=="string"?T.integrity:void 0,G=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;S==="style"?a.d.S(y,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:G}):S==="script"&&a.d.X(y,{crossOrigin:A,integrity:D,fetchPriority:G,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},Vn.preinitModule=function(y,T){if(typeof y=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var S=v(T.as,T.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&a.d.M(y)},Vn.preload=function(y,T){if(typeof y=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var S=T.as,A=v(S,T.crossOrigin);a.d.L(y,S,{crossOrigin:A,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},Vn.preloadModule=function(y,T){if(typeof y=="string")if(T){var S=v(T.as,T.crossOrigin);a.d.m(y,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:S,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else a.d.m(y)},Vn.requestFormReset=function(y){a.d.r(y)},Vn.unstable_batchedUpdates=function(y,T){return y(T)},Vn.useFormState=function(y,T,S){return p.H.useFormState(y,T,S)},Vn.useFormStatus=function(){return p.H.useHostTransitionStatus()},Vn.version="19.2.3",Vn}var Fv;function NE(){if(Fv)return Hm.exports;Fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hm.exports=$x(),Hm.exports}var Gv;function t1(){if(Gv)return ec;Gv=1;var r=Jx(),t=Op(),n=NE();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function p(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(a(188))}function T(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return y(m),e;if(g===c)return y(m),i;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=g;else{for(var w=!1,R=m.child;R;){if(R===o){w=!0,o=m,c=g;break}if(R===c){w=!0,c=m,o=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===o){w=!0,o=g,c=m;break}if(R===c){w=!0,c=g,o=m;break}R=R.sibling}if(!w)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function S(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=S(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),nt=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),Bt=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case ot:return"Profiler";case q:return"StrictMode";case Lt:return"Suspense";case Bt:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case nt:return"Portal";case ct:return e.displayName||"Context";case lt:return(e._context.displayName||"Context")+".Consumer";case Dt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return i=e.displayName||null,i!==null?i:oe(e.type)||"Memo";case M:i=e._payload,e=e._init;try{return oe(e(i))}catch{}}return null}var Xe=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},te=[],wt=-1;function U(e){return{current:e}}function st(e){0>wt||(e.current=te[wt],te[wt]=null,wt--)}function gt(e,i){wt++,te[wt]=e.current,e.current=i}var _t=U(null),bt=U(null),Tt=U(null),Ht=U(null);function be(e,i){switch(gt(Tt,i),gt(bt,e),gt(_t,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?av(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=av(i),e=ov(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(_t),gt(_t,e)}function Ae(){st(_t),st(bt),st(Tt)}function ar(e){e.memoizedState!==null&&gt(Ht,e);var i=_t.current,o=ov(i,e.type);i!==o&&(gt(bt,e),gt(_t,o))}function Ir(e){bt.current===e&&(st(_t),st(bt)),Ht.current===e&&(st(Ht),Xu._currentValue=pt)}var Oi,Nr;function Pi(e){if(Oi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Oi=i&&i[1]||"",Nr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oi+e+Nr}var Ks=!1;function Dr(e,i){if(!e||Ks)return"";Ks=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(it){var tt=it}Reflect.construct(e,[],ft)}else{try{ft.call()}catch(it){tt=it}e.call(ft.prototype)}}else{try{throw Error()}catch(it){tt=it}(ft=e())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(it){if(it&&tt&&typeof it.stack=="string")return[it.stack,tt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],R=g[1];if(w&&R){var z=w.split(`
`),J=R.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===J.length)for(c=z.length-1,m=J.length-1;1<=c&&0<=m&&z[c]!==J[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==J[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==J[m]){var at=`
`+z[c].replace(" at new "," at ");return e.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",e.displayName)),at}while(1<=c&&0<=m);break}}}finally{Ks=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Pi(o):""}function os(e,i){switch(e.tag){case 26:case 27:case 5:return Pi(e.type);case 16:return Pi("Lazy");case 13:return e.child!==i&&i!==null?Pi("Suspense Fallback"):Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 15:return Dr(e.type,!1);case 11:return Dr(e.type.render,!1);case 1:return Dr(e.type,!0);case 31:return Pi("Activity");default:return""}}function Lr(e){try{var i="",o=null;do i+=os(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var qe=Object.prototype.hasOwnProperty,Fe=r.unstable_scheduleCallback,ki=r.unstable_cancelCallback,tl=r.unstable_shouldYield,Ja=r.unstable_requestPaint,xn=r.unstable_now,ls=r.unstable_getCurrentPriorityLevel,us=r.unstable_ImmediatePriority,Qs=r.unstable_UserBlockingPriority,or=r.unstable_NormalPriority,pu=r.unstable_LowPriority,$a=r.unstable_IdlePriority,to=r.log,el=r.unstable_setDisableYieldValue,Xn=null,We=null;function Hn(e){if(typeof to=="function"&&el(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Xn,e)}catch{}}var ze=Math.clz32?Math.clz32:nl,Mr=Math.log,Ys=Math.LN2;function nl(e){return e>>>=0,e===0?32:31-(Mr(e)/Ys|0)|0}var pi=256,Or=262144,Ue=4194304;function Vi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zi(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,g=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var R=c&134217727;return R!==0?(c=R&~g,c!==0?m=Vi(c):(w&=R,w!==0?m=Vi(w):o||(o=R&~e,o!==0&&(m=Vi(o))))):(R=c&~g,R!==0?m=Vi(R):w!==0?m=Vi(w):o||(o=c&~e,o!==0&&(m=Vi(o)))),m===0?0:i!==0&&i!==m&&(i&g)===0&&(g=m&-m,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:m}function gi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function gu(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function il(){var e=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),e}function Ui(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function lr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _u(e,i,o,c,m,g){var w=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var R=e.entanglements,z=e.expirationTimes,J=e.hiddenUpdates;for(o=w&~o;0<o;){var at=31-ze(o),ft=1<<at;R[at]=0,z[at]=-1;var tt=J[at];if(tt!==null)for(J[at]=null,at=0;at<tt.length;at++){var it=tt[at];it!==null&&(it.lane&=-536870913)}o&=~ft}c!==0&&cs(e,c,0),g!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=g&~(w&~i))}function cs(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-ze(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function eo(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-ze(o),m=1<<c;m&i|e[c]&i&&(e[c]|=i),o&=~m}}function no(e,i){var o=i&-i;return o=(o&42)!==0?1:pn(o),(o&(e.suspendedLanes|i))!==0?0:o}function pn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ct(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function io(){var e=vt.p;return e!==0?e:(e=window.event,e===void 0?32:Nv(e.type))}function Wn(e,i){var o=vt.p;try{return vt.p=e,i()}finally{vt.p=o}}var Jn=Math.random().toString(36).slice(2),Be="__reactFiber$"+Jn,Ge="__reactProps$"+Jn,_i="__reactContainer$"+Jn,yi="__reactEvents$"+Jn,rl="__reactListeners$"+Jn,sl="__reactHandles$"+Jn,al="__reactResources$"+Jn,Bi="__reactMarker$"+Jn;function Xs(e){delete e[Be],delete e[Ge],delete e[yi],delete e[rl],delete e[sl]}function vi(e){var i=e[Be];if(i)return i;for(var o=e.parentNode;o;){if(i=o[_i]||o[Be]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=mv(e);e!==null;){if(o=e[Be])return o;e=mv(e)}return i}e=o,o=e.parentNode}return null}function $n(e){if(e=e[Be]||e[_i]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function ji(e){var i=e[al];return i||(i=e[al]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(e){e[Bi]=!0}var ro=new Set,so={};function Hi(e,i){ti(e,i),ti(e+"Capture",i)}function ti(e,i){for(so[e]=i,e=0;e<i.length;e++)ro.add(i[e])}var ur=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ws={},Js={};function Pr(e){return qe.call(Js,e)?!0:qe.call(Ws,e)?!1:ur.test(e)?Js[e]=!0:(Ws[e]=!0,!1)}function Yt(e,i,o){if(Pr(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Xt(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Le(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function Me(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hs(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function xt(e){if(!e._valueTracker){var i=qn(e)?"checked":"value";e._valueTracker=hs(e,i,""+e[i])}}function ye(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=qn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qi=/[\n"\\]/g;function Ce(e){return e.replace(qi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $s(e,i,o,c,m,g,w,R){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),i!=null?w==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Me(i)):e.value!==""+Me(i)&&(e.value=""+Me(i)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),i!=null?Ei(e,w,Me(i)):o!=null?Ei(e,w,Me(o)):c!=null&&e.removeAttribute("value"),m==null&&g!=null&&(e.defaultChecked=!!g),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+Me(R):e.removeAttribute("name")}function fs(e,i,o,c,m,g,w,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){xt(e);return}o=o!=null?""+Me(o):"",i=i!=null?""+Me(i):o,R||i===e.value||(e.value=i),e.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=R?e.checked:!!c,e.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),xt(e)}function Ei(e,i,o){i==="number"&&ei(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ve(e,i,o,c){if(e=e.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=i.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Me(o),i=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function Fi(e,i,o){if(i!=null&&(i=""+Me(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Me(o):""}function ni(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(Xe(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Me(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),xt(e)}function en(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cr(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||ta.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function ds(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&cr(e,m,c)}else for(var g in i)i.hasOwnProperty(g)&&cr(e,g,i[g])}function kr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ms=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vr(e){return Gi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var ea=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zr=null,Pt=null;function _n(e){var i=$n(e);if(i&&(e=i.stateNode)){var o=e[Ge]||null;t:switch(e=i.stateNode,i.type){case"input":if($s(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ce(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var m=c[Ge]||null;if(!m)throw Error(a(90));$s(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&ye(c)}break t;case"textarea":Fi(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&ve(e,!!o.multiple,i,!1)}}}var he=!1;function hr(e,i,o){if(he)return e(i,o);he=!0;try{var c=e(i);return c}finally{if(he=!1,(zr!==null||Pt!==null)&&(xh(),zr&&(i=zr,e=Pt,Pt=zr=null,_n(i),e)))for(i=0;i<e.length;i++)_n(e[i])}}function Fn(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Ge]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(Mn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){fr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{fr=!1}var ii=null,dr=null,Oe=null;function Ti(){if(Oe)return Oe;var e,i=dr,o=i.length,c,m="value"in ii?ii.value:ii.textContent,g=m.length;for(e=0;e<o&&i[e]===m[e];e++);var w=o-e;for(c=1;c<=w&&i[o-c]===m[g-c];c++);return Oe=m.slice(e,1<c?1-c:void 0)}function Ur(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function bi(){return!1}function nn(e){function i(o,c,m,g,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(o=e[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Zi:bi,this.isPropagationStopped=bi,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),i}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=nn(wi),mr=A({},wi,{view:0,detail:0}),Qt=nn(mr),Br,yn,On,ps=A({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==On&&(On&&e.type==="mousemove"?(Br=e.screenX-On.screenX,yn=e.screenY-On.screenY):yn=Br=0,On=e),Br)},movementY:function(e){return"movementY"in e?e.movementY:yn}}),ao=nn(ps),pr=A({},ps,{dataTransfer:0}),ol=nn(pr),oo=A({},mr,{relatedTarget:0}),gs=nn(oo),lo=A({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),na=nn(lo),ia=A({},wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gn=nn(ia),ll=A({},wi,{data:0}),xi=nn(ll),Si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ra(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=co[e])?!!i[e]:!1}function jr(){return ra}var vn=A({},mr,{key:function(e){if(e.key){var i=Si[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ur(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(e){return e.type==="keypress"?Ur(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ur(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ho=nn(vn),ul=A({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gr=nn(ul),f=A({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),E=nn(f),x=A({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=nn(x),X=A({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),et=nn(X),yt=A({},wi,{newState:0,oldState:0}),zt=nn(yt),le=[9,13,27,32],ue=Mn&&"CompositionEvent"in window,Re=null;Mn&&"documentMode"in document&&(Re=document.documentMode);var ri=Mn&&"TextEvent"in window&&!Re,si=Mn&&(!ue||Re&&8<Re&&11>=Re),Zn=" ",Ai=!1;function _s(e,i){switch(e){case"keyup":return le.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ys(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function Ci(e,i){switch(e){case"compositionend":return ys(i);case"keypress":return i.which!==32?null:(Ai=!0,Zn);case"textInput":return e=i.data,e===Zn&&Ai?null:e;default:return null}}function aa(e,i){if(sa)return e==="compositionend"||!ue&&_s(e,i)?(e=Ti(),Oe=dr=ii=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return si&&i.locale!=="ko"?null:i.data;default:return null}}var ed={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qi(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!ed[e.type]:i==="textarea"}function jc(e,i,o,c){zr?Pt?Pt.push(c):Pt=[c]:zr=c,i=Dh(i,"onChange"),0<i.length&&(o=new Ki("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var Yi=null,fo=null;function mo(e){tv(e,0)}function po(e){var i=gn(e);if(ye(i))return e}function go(e,i){if(e==="change")return i}var Hc=!1;if(Mn){var Xi;if(Mn){var oa="oninput"in document;if(!oa){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),oa=typeof qc.oninput=="function"}Xi=oa}else Xi=!1;Hc=Xi&&(!document.documentMode||9<document.documentMode)}function cl(){Yi&&(Yi.detachEvent("onpropertychange",Fc),fo=Yi=null)}function Fc(e){if(e.propertyName==="value"&&po(fo)){var i=[];jc(i,fo,e,Ln(e)),hr(mo,i)}}function _r(e,i,o){e==="focusin"?(cl(),Yi=i,fo=o,Yi.attachEvent("onpropertychange",Fc)):e==="focusout"&&cl()}function nd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(fo)}function la(e,i){if(e==="click")return po(i)}function id(e,i){if(e==="input"||e==="change")return po(i)}function yr(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:yr;function ua(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!qe.call(i,m)||!En(e[m],i[m]))return!1}return!0}function hl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _o(e,i){var o=hl(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=hl(o)}}function fl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?fl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function yo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ei(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=ei(e.document)}return i}function Hr(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var dl=Mn&&"documentMode"in document&&11>=document.documentMode,qr=null,ml=null,vo=null,ca=!1;function Gc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ca||qr==null||qr!==ei(c)||(c=qr,"selectionStart"in c&&Hr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),vo&&ua(vo,c)||(vo=c,c=Dh(ml,"onSelect"),0<c.length&&(i=new Ki("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=qr)))}function Fr(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var ha={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},pl={},Zc={};Mn&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Tn(e){if(pl[e])return pl[e];if(!ha[e])return e;var i=ha[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Zc)return pl[e]=i[o];return e}var Eo=Tn("animationend"),Kc=Tn("animationiteration"),To=Tn("animationstart"),rd=Tn("transitionrun"),Qc=Tn("transitionstart"),sd=Tn("transitioncancel"),fa=Tn("transitionend"),Yc=new Map,Gr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gr.push("scrollEnd");function ai(e,i){Yc.set(e,i),Hi(i,[e])}var bo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},oi=[],Pn=0,gl=0;function wo(){for(var e=Pn,i=gl=Pn=0;i<e;){var o=oi[i];oi[i++]=null;var c=oi[i];oi[i++]=null;var m=oi[i];oi[i++]=null;var g=oi[i];if(oi[i++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}g!==0&&da(o,m,g)}}function Zr(e,i,o,c){oi[Pn++]=e,oi[Pn++]=i,oi[Pn++]=o,oi[Pn++]=c,gl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function yu(e,i,o,c){return Zr(e,i,o,c),xo(e)}function Wi(e,i){return Zr(e,null,null,i),xo(e)}function da(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(m=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,m&&i!==null&&(m=31-ze(o),e=g.hiddenUpdates,c=e[m],c===null?e[m]=[i]:c.push(i),i.lane=o|536870912),g):null}function xo(e){if(50<qu)throw qu=0,om=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var vs={};function ad(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,i,o,c){return new ad(e,i,o,c)}function _l(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,i){var o=e.alternate;return o===null?(o=kn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function vu(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function So(e,i,o,c,m,g){var w=0;if(c=e,typeof e=="function")_l(e)&&(w=1);else if(typeof e=="string")w=kx(e,o,_t.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case P:return e=kn(31,o,i,m),e.elementType=P,e.lanes=g,e;case Y:return Es(o.children,m,g,i);case q:w=8,m|=24;break;case ot:return e=kn(12,o,i,m|2),e.elementType=ot,e.lanes=g,e;case Lt:return e=kn(13,o,i,m),e.elementType=Lt,e.lanes=g,e;case Bt:return e=kn(19,o,i,m),e.elementType=Bt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:w=10;break t;case lt:w=9;break t;case Dt:w=11;break t;case k:w=14;break t;case M:w=16,c=null;break t}w=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=kn(w,o,i,m),i.elementType=e,i.type=c,i.lanes=g,i}function Es(e,i,o,c){return e=kn(7,e,c,i),e.lanes=o,e}function yl(e,i,o){return e=kn(6,e,null,i),e.lanes=o,e}function Eu(e){var i=kn(18,null,null,0);return i.stateNode=e,i}function Tu(e,i,o){return i=kn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var s=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=s.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Lr(i)},s.set(e,i),i)}return{value:e,source:i,stack:Lr(i)}}var d=[],_=0,b=null,C=0,O=[],Q=0,$=null,ht=1,Et="";function Nt(e,i){d[_++]=C,d[_++]=b,b=e,C=i}function Zt(e,i,o){O[Q++]=ht,O[Q++]=Et,O[Q++]=$,$=e;var c=ht;e=Et;var m=32-ze(c)-1;c&=~(1<<m),o+=1;var g=32-ze(i)+m;if(30<g){var w=m-m%5;g=(c&(1<<w)-1).toString(32),c>>=w,m-=w,ht=1<<32-ze(i)+m|o<<m|c,Et=g+e}else ht=1<<g|o<<m|c,Et=e}function fn(e){e.return!==null&&(Nt(e,1),Zt(e,1,0))}function Ke(e){for(;e===b;)b=d[--_],d[_]=null,C=d[--_],d[_]=null;for(;e===$;)$=O[--Q],O[Q]=null,Et=O[--Q],O[Q]=null,ht=O[--Q],O[Q]=null}function Kn(e,i){O[Q++]=ht,O[Q++]=Et,O[Q++]=$,ht=i.id,Et=i.overflow,$=e}var fe=null,de=null,Wt=!1,Kr=null,li=!1,vl=Error(a(519));function Qr(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ao(u(i,e)),vl}function bu(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Be]=e,i[Ge]=c,o){case"dialog":$t("cancel",i),$t("close",i);break;case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(o=0;o<Gu.length;o++)$t(Gu[o],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"details":$t("toggle",i);break;case"input":$t("invalid",i),fs(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$t("invalid",i);break;case"textarea":$t("invalid",i),ni(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||rv(i.textContent,o)?(c.popover!=null&&($t("beforetoggle",i),$t("toggle",i)),c.onScroll!=null&&$t("scroll",i),c.onScrollEnd!=null&&$t("scrollend",i),c.onClick!=null&&(i.onclick=Dn),i=!0):i=!1,i||Qr(e,!0)}function je(e){for(fe=e.return;fe;)switch(fe.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:fe=fe.return}}function vr(e){if(e!==fe)return!1;if(!Wt)return je(e),Wt=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||bm(e.type,e.memoizedProps)),o=!o),o&&de&&Qr(e),je(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=dv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=dv(e)}else i===27?(i=de,Ca(e.type)?(e=Cm,Cm=null,de=e):de=i):de=fe?tr(e.stateNode.nextSibling):null;return!0}function Ts(){de=fe=null,Wt=!1}function wu(){var e=Kr;return e!==null&&(fi===null?fi=e:fi.push.apply(fi,e),Kr=null),e}function Ao(e){Kr===null?Kr=[e]:Kr.push(e)}var Co=U(null),Yr=null,Er=null;function ma(e,i,o){gt(Co,i._currentValue),i._currentValue=o}function bs(e){e._currentValue=Co.current,st(Co)}function od(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function ld(e,i,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;t:for(;g!==null;){var R=g;g=m;for(var z=0;z<i.length;z++)if(R.context===i[z]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),od(g.return,o,e),c||(w=null);break t}g=R.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(a(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),od(w,o,e),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===e){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function El(e,i,o,c){e=null;for(var m=i,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var R=m.type;En(m.pendingProps.value,w.value)||(e!==null?e.push(R):e=[R])}}else if(m===Ht.current){if(w=m.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Xu):e=[Xu])}m=m.return}e!==null&&ld(i,e,o,c),i.flags|=262144}function Xc(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ro(e){Yr=e,Er=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return qg(Yr,e)}function Wc(e,i){return Yr===null&&Ro(e),qg(e,i)}function qg(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Er===null){if(e===null)throw Error(a(308));Er=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Er=Er.next=i;return o}var Lw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},Mw=r.unstable_scheduleCallback,Ow=r.unstable_NormalPriority,rn={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new Lw,data:new Map,refCount:0}}function xu(e){e.refCount--,e.refCount===0&&Mw(Ow,function(){e.controller.abort()})}var Su=null,cd=0,Tl=0,bl=null;function Pw(e,i){if(Su===null){var o=Su=[];cd=0,Tl=dm(),bl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return cd++,i.then(Fg,Fg),i}function Fg(){if(--cd===0&&Su!==null){bl!==null&&(bl.status="fulfilled");var e=Su;Su=null,Tl=0,bl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function kw(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Gg=rt.S;rt.S=function(e,i){Ry=xn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Pw(e,i),Gg!==null&&Gg(e,i)};var Io=U(null);function hd(){var e=Io.current;return e!==null?e:Ie.pooledCache}function Jc(e,i){i===null?gt(Io,Io.current):gt(Io,i.pool)}function Zg(){var e=hd();return e===null?null:{parent:rn._currentValue,pool:e}}var wl=Error(a(460)),fd=Error(a(474)),$c=Error(a(542)),th={then:function(){}};function Kg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qg(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(Dn,Dn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xg(e),e;default:if(typeof i.status=="string")i.then(Dn,Dn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xg(e),e}throw Do=i,wl}}function No(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Do=o,wl):o}}var Do=null;function Yg(){if(Do===null)throw Error(a(459));var e=Do;return Do=null,e}function Xg(e){if(e===wl||e===$c)throw Error(a(483))}var xl=null,Au=0;function eh(e){var i=Au;return Au+=1,xl===null&&(xl=[]),Qg(xl,e,i)}function Cu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function nh(e,i){throw i.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Wg(e){function i(Z,j){if(e){var W=Z.deletions;W===null?(Z.deletions=[j],Z.flags|=16):W.push(j)}}function o(Z,j){if(!e)return null;for(;j!==null;)i(Z,j),j=j.sibling;return null}function c(Z){for(var j=new Map;Z!==null;)Z.key!==null?j.set(Z.key,Z):j.set(Z.index,Z),Z=Z.sibling;return j}function m(Z,j){return Z=Ji(Z,j),Z.index=0,Z.sibling=null,Z}function g(Z,j,W){return Z.index=W,e?(W=Z.alternate,W!==null?(W=W.index,W<j?(Z.flags|=67108866,j):W):(Z.flags|=67108866,j)):(Z.flags|=1048576,j)}function w(Z){return e&&Z.alternate===null&&(Z.flags|=67108866),Z}function R(Z,j,W,ut){return j===null||j.tag!==6?(j=yl(W,Z.mode,ut),j.return=Z,j):(j=m(j,W),j.return=Z,j)}function z(Z,j,W,ut){var Mt=W.type;return Mt===Y?at(Z,j,W.props.children,ut,W.key):j!==null&&(j.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===M&&No(Mt)===j.type)?(j=m(j,W.props),Cu(j,W),j.return=Z,j):(j=So(W.type,W.key,W.props,null,Z.mode,ut),Cu(j,W),j.return=Z,j)}function J(Z,j,W,ut){return j===null||j.tag!==4||j.stateNode.containerInfo!==W.containerInfo||j.stateNode.implementation!==W.implementation?(j=Tu(W,Z.mode,ut),j.return=Z,j):(j=m(j,W.children||[]),j.return=Z,j)}function at(Z,j,W,ut,Mt){return j===null||j.tag!==7?(j=Es(W,Z.mode,ut,Mt),j.return=Z,j):(j=m(j,W),j.return=Z,j)}function ft(Z,j,W){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=yl(""+j,Z.mode,W),j.return=Z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return W=So(j.type,j.key,j.props,null,Z.mode,W),Cu(W,j),W.return=Z,W;case nt:return j=Tu(j,Z.mode,W),j.return=Z,j;case M:return j=No(j),ft(Z,j,W)}if(Xe(j)||F(j))return j=Es(j,Z.mode,W,null),j.return=Z,j;if(typeof j.then=="function")return ft(Z,eh(j),W);if(j.$$typeof===ct)return ft(Z,Wc(Z,j),W);nh(Z,j)}return null}function tt(Z,j,W,ut){var Mt=j!==null?j.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Mt!==null?null:R(Z,j,""+W,ut);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case G:return W.key===Mt?z(Z,j,W,ut):null;case nt:return W.key===Mt?J(Z,j,W,ut):null;case M:return W=No(W),tt(Z,j,W,ut)}if(Xe(W)||F(W))return Mt!==null?null:at(Z,j,W,ut,null);if(typeof W.then=="function")return tt(Z,j,eh(W),ut);if(W.$$typeof===ct)return tt(Z,j,Wc(Z,W),ut);nh(Z,W)}return null}function it(Z,j,W,ut,Mt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Z=Z.get(W)||null,R(j,Z,""+ut,Mt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case G:return Z=Z.get(ut.key===null?W:ut.key)||null,z(j,Z,ut,Mt);case nt:return Z=Z.get(ut.key===null?W:ut.key)||null,J(j,Z,ut,Mt);case M:return ut=No(ut),it(Z,j,W,ut,Mt)}if(Xe(ut)||F(ut))return Z=Z.get(W)||null,at(j,Z,ut,Mt,null);if(typeof ut.then=="function")return it(Z,j,W,eh(ut),Mt);if(ut.$$typeof===ct)return it(Z,j,W,Wc(j,ut),Mt);nh(j,ut)}return null}function Rt(Z,j,W,ut){for(var Mt=null,me=null,It=j,Kt=j=0,ie=null;It!==null&&Kt<W.length;Kt++){It.index>Kt?(ie=It,It=null):ie=It.sibling;var pe=tt(Z,It,W[Kt],ut);if(pe===null){It===null&&(It=ie);break}e&&It&&pe.alternate===null&&i(Z,It),j=g(pe,j,Kt),me===null?Mt=pe:me.sibling=pe,me=pe,It=ie}if(Kt===W.length)return o(Z,It),Wt&&Nt(Z,Kt),Mt;if(It===null){for(;Kt<W.length;Kt++)It=ft(Z,W[Kt],ut),It!==null&&(j=g(It,j,Kt),me===null?Mt=It:me.sibling=It,me=It);return Wt&&Nt(Z,Kt),Mt}for(It=c(It);Kt<W.length;Kt++)ie=it(It,Z,Kt,W[Kt],ut),ie!==null&&(e&&ie.alternate!==null&&It.delete(ie.key===null?Kt:ie.key),j=g(ie,j,Kt),me===null?Mt=ie:me.sibling=ie,me=ie);return e&&It.forEach(function(La){return i(Z,La)}),Wt&&Nt(Z,Kt),Mt}function kt(Z,j,W,ut){if(W==null)throw Error(a(151));for(var Mt=null,me=null,It=j,Kt=j=0,ie=null,pe=W.next();It!==null&&!pe.done;Kt++,pe=W.next()){It.index>Kt?(ie=It,It=null):ie=It.sibling;var La=tt(Z,It,pe.value,ut);if(La===null){It===null&&(It=ie);break}e&&It&&La.alternate===null&&i(Z,It),j=g(La,j,Kt),me===null?Mt=La:me.sibling=La,me=La,It=ie}if(pe.done)return o(Z,It),Wt&&Nt(Z,Kt),Mt;if(It===null){for(;!pe.done;Kt++,pe=W.next())pe=ft(Z,pe.value,ut),pe!==null&&(j=g(pe,j,Kt),me===null?Mt=pe:me.sibling=pe,me=pe);return Wt&&Nt(Z,Kt),Mt}for(It=c(It);!pe.done;Kt++,pe=W.next())pe=it(It,Z,Kt,pe.value,ut),pe!==null&&(e&&pe.alternate!==null&&It.delete(pe.key===null?Kt:pe.key),j=g(pe,j,Kt),me===null?Mt=pe:me.sibling=pe,me=pe);return e&&It.forEach(function(Kx){return i(Z,Kx)}),Wt&&Nt(Z,Kt),Mt}function Se(Z,j,W,ut){if(typeof W=="object"&&W!==null&&W.type===Y&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case G:t:{for(var Mt=W.key;j!==null;){if(j.key===Mt){if(Mt=W.type,Mt===Y){if(j.tag===7){o(Z,j.sibling),ut=m(j,W.props.children),ut.return=Z,Z=ut;break t}}else if(j.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===M&&No(Mt)===j.type){o(Z,j.sibling),ut=m(j,W.props),Cu(ut,W),ut.return=Z,Z=ut;break t}o(Z,j);break}else i(Z,j);j=j.sibling}W.type===Y?(ut=Es(W.props.children,Z.mode,ut,W.key),ut.return=Z,Z=ut):(ut=So(W.type,W.key,W.props,null,Z.mode,ut),Cu(ut,W),ut.return=Z,Z=ut)}return w(Z);case nt:t:{for(Mt=W.key;j!==null;){if(j.key===Mt)if(j.tag===4&&j.stateNode.containerInfo===W.containerInfo&&j.stateNode.implementation===W.implementation){o(Z,j.sibling),ut=m(j,W.children||[]),ut.return=Z,Z=ut;break t}else{o(Z,j);break}else i(Z,j);j=j.sibling}ut=Tu(W,Z.mode,ut),ut.return=Z,Z=ut}return w(Z);case M:return W=No(W),Se(Z,j,W,ut)}if(Xe(W))return Rt(Z,j,W,ut);if(F(W)){if(Mt=F(W),typeof Mt!="function")throw Error(a(150));return W=Mt.call(W),kt(Z,j,W,ut)}if(typeof W.then=="function")return Se(Z,j,eh(W),ut);if(W.$$typeof===ct)return Se(Z,j,Wc(Z,W),ut);nh(Z,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,j!==null&&j.tag===6?(o(Z,j.sibling),ut=m(j,W),ut.return=Z,Z=ut):(o(Z,j),ut=yl(W,Z.mode,ut),ut.return=Z,Z=ut),w(Z)):o(Z,j)}return function(Z,j,W,ut){try{Au=0;var Mt=Se(Z,j,W,ut);return xl=null,Mt}catch(It){if(It===wl||It===$c)throw It;var me=kn(29,It,null,Z.mode);return me.lanes=ut,me.return=Z,me}}}var Lo=Wg(!0),Jg=Wg(!1),pa=!1;function dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ga(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _a(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=xo(e),da(e,null,o),i}return Zr(e,c,i,o),xo(e)}function Ru(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,eo(e,o)}}function pd(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?m=g=i:g=g.next=i}else m=g=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var gd=!1;function Iu(){if(gd){var e=bl;if(e!==null)throw e}}function Nu(e,i,o,c){gd=!1;var m=e.updateQueue;pa=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var z=R,J=z.next;z.next=null,w===null?g=J:w.next=J,w=z;var at=e.alternate;at!==null&&(at=at.updateQueue,R=at.lastBaseUpdate,R!==w&&(R===null?at.firstBaseUpdate=J:R.next=J,at.lastBaseUpdate=z))}if(g!==null){var ft=m.baseState;w=0,at=J=z=null,R=g;do{var tt=R.lane&-536870913,it=tt!==R.lane;if(it?(ne&tt)===tt:(c&tt)===tt){tt!==0&&tt===Tl&&(gd=!0),at!==null&&(at=at.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Rt=e,kt=R;tt=i;var Se=o;switch(kt.tag){case 1:if(Rt=kt.payload,typeof Rt=="function"){ft=Rt.call(Se,ft,tt);break t}ft=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=kt.payload,tt=typeof Rt=="function"?Rt.call(Se,ft,tt):Rt,tt==null)break t;ft=A({},ft,tt);break t;case 2:pa=!0}}tt=R.callback,tt!==null&&(e.flags|=64,it&&(e.flags|=8192),it=m.callbacks,it===null?m.callbacks=[tt]:it.push(tt))}else it={lane:tt,tag:R.tag,payload:R.payload,callback:R.callback,next:null},at===null?(J=at=it,z=ft):at=at.next=it,w|=tt;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;it=R,R=it.next,it.next=null,m.lastBaseUpdate=it,m.shared.pending=null}}while(!0);at===null&&(z=ft),m.baseState=z,m.firstBaseUpdate=J,m.lastBaseUpdate=at,g===null&&(m.shared.lanes=0),ba|=w,e.lanes=w,e.memoizedState=ft}}function $g(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function t_(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)$g(o[e],i)}var Sl=U(null),ih=U(0);function e_(e,i){e=Ds,gt(ih,e),gt(Sl,i),Ds=e|i.baseLanes}function _d(){gt(ih,Ds),gt(Sl,Sl.current)}function yd(){Ds=ih.current,st(Sl),st(ih)}var Ri=U(null),$i=null;function ya(e){var i=e.alternate;gt(Je,Je.current&1),gt(Ri,e),$i===null&&(i===null||Sl.current!==null||i.memoizedState!==null)&&($i=e)}function vd(e){gt(Je,Je.current),gt(Ri,e),$i===null&&($i=e)}function n_(e){e.tag===22?(gt(Je,Je.current),gt(Ri,e),$i===null&&($i=e)):va()}function va(){gt(Je,Je.current),gt(Ri,Ri.current)}function Ii(e){st(Ri),$i===e&&($i=null),st(Je)}var Je=U(0);function rh(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Sm(o)||Am(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ws=0,Gt=null,we=null,sn=null,sh=!1,Al=!1,Mo=!1,ah=0,Du=0,Cl=null,Vw=0;function Qe(){throw Error(a(321))}function Ed(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!En(e[o],i[o]))return!1;return!0}function Td(e,i,o,c,m,g){return ws=g,Gt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,rt.H=e===null||e.memoizedState===null?U_:kd,Mo=!1,g=o(c,m),Mo=!1,Al&&(g=r_(i,o,c,m)),i_(e),g}function i_(e){rt.H=Ou;var i=we!==null&&we.next!==null;if(ws=0,sn=we=Gt=null,sh=!1,Du=0,Cl=null,i)throw Error(a(300));e===null||an||(e=e.dependencies,e!==null&&Xc(e)&&(an=!0))}function r_(e,i,o,c){Gt=e;var m=0;do{if(Al&&(Cl=null),Du=0,Al=!1,25<=m)throw Error(a(301));if(m+=1,sn=we=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}rt.H=B_,g=i(o,c)}while(Al);return g}function zw(){var e=rt.H,i=e.useState()[0];return i=typeof i.then=="function"?Lu(i):i,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(Gt.flags|=1024),i}function bd(){var e=ah!==0;return ah=0,e}function wd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function xd(e){if(sh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}sh=!1}ws=0,sn=we=Gt=null,Al=!1,Du=ah=0,Cl=null}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Gt.memoizedState=sn=e:sn=sn.next=e,sn}function $e(){if(we===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var i=sn===null?Gt.memoizedState:sn.next;if(i!==null)sn=i,we=e;else{if(e===null)throw Gt.alternate===null?Error(a(467)):Error(a(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},sn===null?Gt.memoizedState=sn=e:sn=sn.next=e}return sn}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lu(e){var i=Du;return Du+=1,Cl===null&&(Cl=[]),e=Qg(Cl,e,i),i=Gt,(sn===null?i.memoizedState:sn.next)===null&&(i=i.alternate,rt.H=i===null||i.memoizedState===null?U_:kd),e}function lh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lu(e);if(e.$$typeof===ct)return Sn(e)}throw Error(a(438,String(e)))}function Sd(e){var i=null,o=Gt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Gt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=oh(),Gt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=H;return i.index++,o}function xs(e,i){return typeof i=="function"?i(e):i}function uh(e){var i=$e();return Ad(i,we,e)}function Ad(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=e.baseQueue,g=c.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}i.baseQueue=m=g,c.pending=null}if(g=e.baseState,m===null)e.memoizedState=g;else{i=m.next;var R=w=null,z=null,J=i,at=!1;do{var ft=J.lane&-536870913;if(ft!==J.lane?(ne&ft)===ft:(ws&ft)===ft){var tt=J.revertLane;if(tt===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ft===Tl&&(at=!0);else if((ws&tt)===tt){J=J.next,tt===Tl&&(at=!0);continue}else ft={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},z===null?(R=z=ft,w=g):z=z.next=ft,Gt.lanes|=tt,ba|=tt;ft=J.action,Mo&&o(g,ft),g=J.hasEagerState?J.eagerState:o(g,ft)}else tt={lane:ft,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},z===null?(R=z=tt,w=g):z=z.next=tt,Gt.lanes|=ft,ba|=ft;J=J.next}while(J!==null&&J!==i);if(z===null?w=g:z.next=R,!En(g,e.memoizedState)&&(an=!0,at&&(o=bl,o!==null)))throw o;e.memoizedState=g,e.baseState=w,e.baseQueue=z,c.lastRenderedState=g}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Cd(e){var i=$e(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,g=i.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do g=e(g,w.action),w=w.next;while(w!==m);En(g,i.memoizedState)||(an=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function s_(e,i,o){var c=Gt,m=$e(),g=Wt;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=i();var w=!En((we||m).memoizedState,o);if(w&&(m.memoizedState=o,an=!0),m=m.queue,Nd(l_.bind(null,c,m,e),[e]),m.getSnapshot!==i||w||sn!==null&&sn.memoizedState.tag&1){if(c.flags|=2048,Rl(9,{destroy:void 0},o_.bind(null,c,m,o,i),null),Ie===null)throw Error(a(349));g||(ws&127)!==0||a_(c,i,o)}return o}function a_(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Gt.updateQueue,i===null?(i=oh(),Gt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function o_(e,i,o,c){i.value=o,i.getSnapshot=c,u_(i)&&c_(e)}function l_(e,i,o){return o(function(){u_(i)&&c_(e)})}function u_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!En(e,o)}catch{return!0}}function c_(e){var i=Wi(e,2);i!==null&&di(i,e,2)}function Rd(e){var i=Qn();if(typeof e=="function"){var o=e;if(e=o(),Mo){Hn(!0);try{o()}finally{Hn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},i}function h_(e,i,o,c){return e.baseState=o,Ad(e,we,typeof c=="function"?c:xs)}function Uw(e,i,o,c,m){if(fh(e))throw Error(a(485));if(e=i.action,e!==null){var g={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};rt.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,f_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function f_(e,i){var o=i.action,c=i.payload,m=e.state;if(i.isTransition){var g=rt.T,w={};rt.T=w;try{var R=o(m,c),z=rt.S;z!==null&&z(w,R),d_(e,i,R)}catch(J){Id(e,i,J)}finally{g!==null&&w.types!==null&&(g.types=w.types),rt.T=g}}else try{g=o(m,c),d_(e,i,g)}catch(J){Id(e,i,J)}}function d_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){m_(e,i,c)},function(c){return Id(e,i,c)}):m_(e,i,o)}function m_(e,i,o){i.status="fulfilled",i.value=o,p_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,f_(e,o)))}function Id(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,p_(i),i=i.next;while(i!==c)}e.action=null}function p_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function g_(e,i){return i}function __(e,i){if(Wt){var o=Ie.formState;if(o!==null){t:{var c=Gt;if(Wt){if(de){e:{for(var m=de,g=li;m.nodeType!==8;){if(!g){m=null;break e}if(m=tr(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){de=tr(m.nextSibling),c=m.data==="F!";break t}}Qr(c)}c=!1}c&&(i=o[0])}}return o=Qn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g_,lastRenderedState:i},o.queue=c,o=k_.bind(null,Gt,c),c.dispatch=o,c=Rd(!1),g=Pd.bind(null,Gt,!1,c.queue),c=Qn(),m={state:i,dispatch:null,action:e,pending:null},c.queue=m,o=Uw.bind(null,Gt,m,g,o),m.dispatch=o,c.memoizedState=e,[i,o,!1]}function y_(e){var i=$e();return v_(i,we,e)}function v_(e,i,o){if(i=Ad(e,i,g_)[0],e=uh(xs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Lu(i)}catch(w){throw w===wl?$c:w}else c=i;i=$e();var m=i.queue,g=m.dispatch;return o!==i.memoizedState&&(Gt.flags|=2048,Rl(9,{destroy:void 0},Bw.bind(null,m,o),null)),[c,g,e]}function Bw(e,i){e.action=i}function E_(e){var i=$e(),o=we;if(o!==null)return v_(i,o,e);$e(),i=i.memoizedState,o=$e();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function Rl(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Gt.updateQueue,i===null&&(i=oh(),Gt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function T_(){return $e().memoizedState}function ch(e,i,o,c){var m=Qn();Gt.flags|=e,m.memoizedState=Rl(1|i,{destroy:void 0},o,c===void 0?null:c)}function hh(e,i,o,c){var m=$e();c=c===void 0?null:c;var g=m.memoizedState.inst;we!==null&&c!==null&&Ed(c,we.memoizedState.deps)?m.memoizedState=Rl(i,g,o,c):(Gt.flags|=e,m.memoizedState=Rl(1|i,g,o,c))}function b_(e,i){ch(8390656,8,e,i)}function Nd(e,i){hh(2048,8,e,i)}function jw(e){Gt.flags|=4;var i=Gt.updateQueue;if(i===null)i=oh(),Gt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function w_(e){var i=$e().memoizedState;return jw({ref:i,nextImpl:e}),function(){if((ge&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function x_(e,i){return hh(4,2,e,i)}function S_(e,i){return hh(4,4,e,i)}function A_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function C_(e,i,o){o=o!=null?o.concat([e]):null,hh(4,4,A_.bind(null,i,e),o)}function Dd(){}function R_(e,i){var o=$e();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Ed(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function I_(e,i){var o=$e();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Ed(i,c[1]))return c[0];if(c=e(),Mo){Hn(!0);try{e()}finally{Hn(!1)}}return o.memoizedState=[c,i],c}function Ld(e,i,o){return o===void 0||(ws&1073741824)!==0&&(ne&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=Ny(),Gt.lanes|=e,ba|=e,o)}function N_(e,i,o,c){return En(o,i)?o:Sl.current!==null?(e=Ld(e,o,c),En(e,i)||(an=!0),e):(ws&42)===0||(ws&1073741824)!==0&&(ne&261930)===0?(an=!0,e.memoizedState=o):(e=Ny(),Gt.lanes|=e,ba|=e,i)}function D_(e,i,o,c,m){var g=vt.p;vt.p=g!==0&&8>g?g:8;var w=rt.T,R={};rt.T=R,Pd(e,!1,i,o);try{var z=m(),J=rt.S;if(J!==null&&J(R,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var at=kw(z,c);Mu(e,i,at,Li(e))}else Mu(e,i,c,Li(e))}catch(ft){Mu(e,i,{then:function(){},status:"rejected",reason:ft},Li())}finally{vt.p=g,w!==null&&R.types!==null&&(w.types=R.types),rt.T=w}}function Hw(){}function Md(e,i,o,c){if(e.tag!==5)throw Error(a(476));var m=L_(e).queue;D_(e,m,i,pt,o===null?Hw:function(){return M_(e),o(c)})}function L_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:pt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function M_(e){var i=L_(e);i.next===null&&(i=e.alternate.memoizedState),Mu(e,i.next.queue,{},Li())}function Od(){return Sn(Xu)}function O_(){return $e().memoizedState}function P_(){return $e().memoizedState}function qw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Li();e=ga(o);var c=_a(i,e,o);c!==null&&(di(c,i,o),Ru(c,i,o)),i={cache:ud()},e.payload=i;return}i=i.return}}function Fw(e,i,o){var c=Li();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},fh(e)?V_(i,o):(o=yu(e,i,o,c),o!==null&&(di(o,e,c),z_(o,i,c)))}function k_(e,i,o){var c=Li();Mu(e,i,o,c)}function Mu(e,i,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(fh(e))V_(i,m);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,R=g(w,o);if(m.hasEagerState=!0,m.eagerState=R,En(R,w))return Zr(e,i,m,0),Ie===null&&wo(),!1}catch{}if(o=yu(e,i,m,c),o!==null)return di(o,e,c),z_(o,i,c),!0}return!1}function Pd(e,i,o,c){if(c={lane:2,revertLane:dm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},fh(e)){if(i)throw Error(a(479))}else i=yu(e,o,c,2),i!==null&&di(i,e,2)}function fh(e){var i=e.alternate;return e===Gt||i!==null&&i===Gt}function V_(e,i){Al=sh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function z_(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,eo(e,o)}}var Ou={readContext:Sn,use:lh,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Ou.useEffectEvent=Qe;var U_={readContext:Sn,use:lh,useCallback:function(e,i){return Qn().memoizedState=[e,i===void 0?null:i],e},useContext:Sn,useEffect:b_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,ch(4194308,4,A_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return ch(4194308,4,e,i)},useInsertionEffect:function(e,i){ch(4,2,e,i)},useMemo:function(e,i){var o=Qn();i=i===void 0?null:i;var c=e();if(Mo){Hn(!0);try{e()}finally{Hn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=Qn();if(o!==void 0){var m=o(i);if(Mo){Hn(!0);try{o(i)}finally{Hn(!1)}}}else m=i;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=Fw.bind(null,Gt,e),[c.memoizedState,e]},useRef:function(e){var i=Qn();return e={current:e},i.memoizedState=e},useState:function(e){e=Rd(e);var i=e.queue,o=k_.bind(null,Gt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Dd,useDeferredValue:function(e,i){var o=Qn();return Ld(o,e,i)},useTransition:function(){var e=Rd(!1);return e=D_.bind(null,Gt,e.queue,!0,!1),Qn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Gt,m=Qn();if(Wt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ie===null)throw Error(a(349));(ne&127)!==0||a_(c,i,o)}m.memoizedState=o;var g={value:o,getSnapshot:i};return m.queue=g,b_(l_.bind(null,c,g,e),[e]),c.flags|=2048,Rl(9,{destroy:void 0},o_.bind(null,c,g,o,i),null),o},useId:function(){var e=Qn(),i=Ie.identifierPrefix;if(Wt){var o=Et,c=ht;o=(c&~(1<<32-ze(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=ah++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=Vw++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Od,useFormState:__,useActionState:__,useOptimistic:function(e){var i=Qn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Pd.bind(null,Gt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Sd,useCacheRefresh:function(){return Qn().memoizedState=qw.bind(null,Gt)},useEffectEvent:function(e){var i=Qn(),o={impl:e};return i.memoizedState=o,function(){if((ge&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},kd={readContext:Sn,use:lh,useCallback:R_,useContext:Sn,useEffect:Nd,useImperativeHandle:C_,useInsertionEffect:x_,useLayoutEffect:S_,useMemo:I_,useReducer:uh,useRef:T_,useState:function(){return uh(xs)},useDebugValue:Dd,useDeferredValue:function(e,i){var o=$e();return N_(o,we.memoizedState,e,i)},useTransition:function(){var e=uh(xs)[0],i=$e().memoizedState;return[typeof e=="boolean"?e:Lu(e),i]},useSyncExternalStore:s_,useId:O_,useHostTransitionStatus:Od,useFormState:y_,useActionState:y_,useOptimistic:function(e,i){var o=$e();return h_(o,we,e,i)},useMemoCache:Sd,useCacheRefresh:P_};kd.useEffectEvent=w_;var B_={readContext:Sn,use:lh,useCallback:R_,useContext:Sn,useEffect:Nd,useImperativeHandle:C_,useInsertionEffect:x_,useLayoutEffect:S_,useMemo:I_,useReducer:Cd,useRef:T_,useState:function(){return Cd(xs)},useDebugValue:Dd,useDeferredValue:function(e,i){var o=$e();return we===null?Ld(o,e,i):N_(o,we.memoizedState,e,i)},useTransition:function(){var e=Cd(xs)[0],i=$e().memoizedState;return[typeof e=="boolean"?e:Lu(e),i]},useSyncExternalStore:s_,useId:O_,useHostTransitionStatus:Od,useFormState:E_,useActionState:E_,useOptimistic:function(e,i){var o=$e();return we!==null?h_(o,we,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Sd,useCacheRefresh:P_};B_.useEffectEvent=w_;function Vd(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:A({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var zd={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Li(),m=ga(c);m.payload=i,o!=null&&(m.callback=o),i=_a(e,m,c),i!==null&&(di(i,e,c),Ru(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Li(),m=ga(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=_a(e,m,c),i!==null&&(di(i,e,c),Ru(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Li(),c=ga(o);c.tag=2,i!=null&&(c.callback=i),i=_a(e,c,o),i!==null&&(di(i,e,o),Ru(i,e,o))}};function j_(e,i,o,c,m,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,w):i.prototype&&i.prototype.isPureReactComponent?!ua(o,c)||!ua(m,g):!0}function H_(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&zd.enqueueReplaceState(i,i.state,null)}function Oo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=A({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}function q_(e){bo(e)}function F_(e){console.error(e)}function G_(e){bo(e)}function dh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Z_(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ud(e,i,o){return o=ga(o),o.tag=3,o.payload={element:null},o.callback=function(){dh(e,i)},o}function K_(e){return e=ga(e),e.tag=3,e}function Q_(e,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;e.payload=function(){return m(g)},e.callback=function(){Z_(i,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){Z_(i,o,c),typeof m!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function Gw(e,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&El(i,o,m,!0),o=Ri.current,o!==null){switch(o.tag){case 31:case 13:return $i===null?Sh():o.alternate===null&&Ye===0&&(Ye=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===th?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),cm(e,c,m)),!1;case 22:return o.flags|=65536,c===th?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),cm(e,c,m)),!1}throw Error(a(435,o.tag))}return cm(e,c,m),Sh(),!1}if(Wt)return i=Ri.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==vl&&(e=Error(a(422),{cause:c}),Ao(u(e,o)))):(c!==vl&&(i=Error(a(423),{cause:c}),Ao(u(i,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=u(c,o),m=Ud(e.stateNode,c,m),pd(e,m),Ye!==4&&(Ye=2)),!1;var g=Error(a(520),{cause:c});if(g=u(g,o),Hu===null?Hu=[g]:Hu.push(g),Ye!==4&&(Ye=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=Ud(o.stateNode,c,e),pd(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(wa===null||!wa.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=K_(m),Q_(m,e,o,c),pd(o,m),!1}o=o.return}while(o!==null);return!1}var Bd=Error(a(461)),an=!1;function An(e,i,o,c){i.child=e===null?Jg(i,null,o,c):Lo(i,e.child,o,c)}function Y_(e,i,o,c,m){o=o.render;var g=i.ref;if("ref"in c){var w={};for(var R in c)R!=="ref"&&(w[R]=c[R])}else w=c;return Ro(i),c=Td(e,i,o,w,g,m),R=bd(),e!==null&&!an?(wd(e,i,m),Ss(e,i,m)):(Wt&&R&&fn(i),i.flags|=1,An(e,i,c,m),i.child)}function X_(e,i,o,c,m){if(e===null){var g=o.type;return typeof g=="function"&&!_l(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,W_(e,i,g,c,m)):(e=So(o.type,null,c,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!Qd(e,m)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:ua,o(w,c)&&e.ref===i.ref)return Ss(e,i,m)}return i.flags|=1,e=Ji(g,c),e.ref=i.ref,e.return=i,i.child=e}function W_(e,i,o,c,m){if(e!==null){var g=e.memoizedProps;if(ua(g,c)&&e.ref===i.ref)if(an=!1,i.pendingProps=c=g,Qd(e,m))(e.flags&131072)!==0&&(an=!0);else return i.lanes=e.lanes,Ss(e,i,m)}return jd(e,i,o,c,m)}function J_(e,i,o,c){var m=c.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=i.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,i.child=null;return $_(e,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jc(i,g!==null?g.cachePool:null),g!==null?e_(i,g):_d(),n_(i);else return c=i.lanes=536870912,$_(e,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Jc(i,g.cachePool),e_(i,g),va(),i.memoizedState=null):(e!==null&&Jc(i,null),_d(),va());return An(e,i,m,o),i.child}function Pu(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function $_(e,i,o,c,m){var g=hd();return g=g===null?null:{parent:rn._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},e!==null&&Jc(i,null),_d(),n_(i),e!==null&&El(e,i,c,!0),i.childLanes=m,null}function mh(e,i){return i=gh({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function ty(e,i,o){return Lo(i,e.child,null,o),e=mh(i,i.pendingProps),e.flags|=2,Ii(i),i.memoizedState=null,e}function Zw(e,i,o){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Wt){if(c.mode==="hidden")return e=mh(i,c),i.lanes=536870912,Pu(null,e);if(vd(i),(e=de)?(e=fv(e,li),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:$!==null?{id:ht,overflow:Et}:null,retryLane:536870912,hydrationErrors:null},o=Eu(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Qr(i);return i.lanes=536870912,null}return mh(i,c)}var g=e.memoizedState;if(g!==null){var w=g.dehydrated;if(vd(i),m)if(i.flags&256)i.flags&=-257,i=ty(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(an||El(e,i,o,!1),m=(o&e.childLanes)!==0,an||m){if(c=Ie,c!==null&&(w=no(c,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,Wi(e,w),di(c,e,w),Bd;Sh(),i=ty(e,i,o)}else e=g.treeContext,de=tr(w.nextSibling),fe=i,Wt=!0,Kr=null,li=!1,e!==null&&Kn(i,e),i=mh(i,c),i.flags|=4096;return i}return e=Ji(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ph(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function jd(e,i,o,c,m){return Ro(i),o=Td(e,i,o,c,void 0,m),c=bd(),e!==null&&!an?(wd(e,i,m),Ss(e,i,m)):(Wt&&c&&fn(i),i.flags|=1,An(e,i,o,m),i.child)}function ey(e,i,o,c,m,g){return Ro(i),i.updateQueue=null,o=r_(i,c,o,m),i_(e),c=bd(),e!==null&&!an?(wd(e,i,g),Ss(e,i,g)):(Wt&&c&&fn(i),i.flags|=1,An(e,i,o,g),i.child)}function ny(e,i,o,c,m){if(Ro(i),i.stateNode===null){var g=vs,w=o.contextType;typeof w=="object"&&w!==null&&(g=Sn(w)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=zd,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},dd(i),w=o.contextType,g.context=typeof w=="object"&&w!==null?Sn(w):vs,g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Vd(i,o,w,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&zd.enqueueReplaceState(g,g.state,null),Nu(i,c,g,m),Iu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var R=i.memoizedProps,z=Oo(o,R);g.props=z;var J=g.context,at=o.contextType;w=vs,typeof at=="object"&&at!==null&&(w=Sn(at));var ft=o.getDerivedStateFromProps;at=typeof ft=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,at||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||J!==w)&&H_(i,g,c,w),pa=!1;var tt=i.memoizedState;g.state=tt,Nu(i,c,g,m),Iu(),J=i.memoizedState,R||tt!==J||pa?(typeof ft=="function"&&(Vd(i,o,ft,c),J=i.memoizedState),(z=pa||j_(i,o,z,c,tt,J,w))?(at||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=J),g.props=c,g.state=J,g.context=w,c=z):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,md(e,i),w=i.memoizedProps,at=Oo(o,w),g.props=at,ft=i.pendingProps,tt=g.context,J=o.contextType,z=vs,typeof J=="object"&&J!==null&&(z=Sn(J)),R=o.getDerivedStateFromProps,(J=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ft||tt!==z)&&H_(i,g,c,z),pa=!1,tt=i.memoizedState,g.state=tt,Nu(i,c,g,m),Iu();var it=i.memoizedState;w!==ft||tt!==it||pa||e!==null&&e.dependencies!==null&&Xc(e.dependencies)?(typeof R=="function"&&(Vd(i,o,R,c),it=i.memoizedState),(at=pa||j_(i,o,at,c,tt,it,z)||e!==null&&e.dependencies!==null&&Xc(e.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,it,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,it,z)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&tt===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&tt===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=it),g.props=c,g.state=it,g.context=z,c=at):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&tt===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&tt===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,ph(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=Lo(i,e.child,null,m),i.child=Lo(i,null,o,m)):An(e,i,o,m),i.memoizedState=g.state,e=i.child):e=Ss(e,i,m),e}function iy(e,i,o,c){return Ts(),i.flags|=256,An(e,i,o,c),i.child}var Hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(e){return{baseLanes:e,cachePool:Zg()}}function Fd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Di),e}function ry(e,i,o){var c=i.pendingProps,m=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),w&&(m=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,e===null){if(Wt){if(m?ya(i):va(),(e=de)?(e=fv(e,li),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:$!==null?{id:ht,overflow:Et}:null,retryLane:536870912,hydrationErrors:null},o=Eu(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Qr(i);return Am(e)?i.lanes=32:i.lanes=536870912,null}var R=c.children;return c=c.fallback,m?(va(),m=i.mode,R=gh({mode:"hidden",children:R},m),c=Es(c,m,o,null),R.return=i,c.return=i,R.sibling=c,i.child=R,c=i.child,c.memoizedState=qd(o),c.childLanes=Fd(e,w,o),i.memoizedState=Hd,Pu(null,c)):(ya(i),Gd(i,R))}var z=e.memoizedState;if(z!==null&&(R=z.dehydrated,R!==null)){if(g)i.flags&256?(ya(i),i.flags&=-257,i=Zd(e,i,o)):i.memoizedState!==null?(va(),i.child=e.child,i.flags|=128,i=null):(va(),R=c.fallback,m=i.mode,c=gh({mode:"visible",children:c.children},m),R=Es(R,m,o,null),R.flags|=2,c.return=i,R.return=i,c.sibling=R,i.child=c,Lo(i,e.child,null,o),c=i.child,c.memoizedState=qd(o),c.childLanes=Fd(e,w,o),i.memoizedState=Hd,i=Pu(null,c));else if(ya(i),Am(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var J=w.dgst;w=J,c=Error(a(419)),c.stack="",c.digest=w,Ao({value:c,source:null,stack:null}),i=Zd(e,i,o)}else if(an||El(e,i,o,!1),w=(o&e.childLanes)!==0,an||w){if(w=Ie,w!==null&&(c=no(w,o),c!==0&&c!==z.retryLane))throw z.retryLane=c,Wi(e,c),di(w,e,c),Bd;Sm(R)||Sh(),i=Zd(e,i,o)}else Sm(R)?(i.flags|=192,i.child=e.child,i=null):(e=z.treeContext,de=tr(R.nextSibling),fe=i,Wt=!0,Kr=null,li=!1,e!==null&&Kn(i,e),i=Gd(i,c.children),i.flags|=4096);return i}return m?(va(),R=c.fallback,m=i.mode,z=e.child,J=z.sibling,c=Ji(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,J!==null?R=Ji(J,R):(R=Es(R,m,o,null),R.flags|=2),R.return=i,c.return=i,c.sibling=R,i.child=c,Pu(null,c),c=i.child,R=e.child.memoizedState,R===null?R=qd(o):(m=R.cachePool,m!==null?(z=rn._currentValue,m=m.parent!==z?{parent:z,pool:z}:m):m=Zg(),R={baseLanes:R.baseLanes|o,cachePool:m}),c.memoizedState=R,c.childLanes=Fd(e,w,o),i.memoizedState=Hd,Pu(e.child,c)):(ya(i),o=e.child,e=o.sibling,o=Ji(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(w=i.deletions,w===null?(i.deletions=[e],i.flags|=16):w.push(e)),i.child=o,i.memoizedState=null,o)}function Gd(e,i){return i=gh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function gh(e,i){return e=kn(22,e,null,i),e.lanes=0,e}function Zd(e,i,o){return Lo(i,e.child,null,o),e=Gd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function sy(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),od(e.return,i,o)}function Kd(e,i,o,c,m,g){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=m,w.treeForkCount=g)}function ay(e,i,o){var c=i.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var w=Je.current,R=(w&2)!==0;if(R?(w=w&1|2,i.flags|=128):w&=1,gt(Je,w),An(e,i,c,o),c=Wt?C:0,!R&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sy(e,o,i);else if(e.tag===19)sy(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(o=i.child,m=null;o!==null;)e=o.alternate,e!==null&&rh(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Kd(i,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&rh(e)===null){i.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}Kd(i,!0,o,null,g,c);break;case"together":Kd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Ss(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),ba|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(El(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=Ji(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=Ji(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Qd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Xc(e)))}function Kw(e,i,o){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),ma(i,rn,e.memoizedState.cache),Ts();break;case 27:case 5:ar(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:ma(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,vd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ya(i),i.flags|=128,null):(o&i.child.childLanes)!==0?ry(e,i,o):(ya(i),e=Ss(e,i,o),e!==null?e.sibling:null);ya(i);break;case 19:var m=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(El(e,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return ay(e,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),gt(Je,Je.current),c)break;return null;case 22:return i.lanes=0,J_(e,i,o,i.pendingProps);case 24:ma(i,rn,e.memoizedState.cache)}return Ss(e,i,o)}function oy(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)an=!0;else{if(!Qd(e,o)&&(i.flags&128)===0)return an=!1,Kw(e,i,o);an=(e.flags&131072)!==0}else an=!1,Wt&&(i.flags&1048576)!==0&&Zt(i,C,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=No(i.elementType),i.type=e,typeof e=="function")_l(e)?(c=Oo(e,c),i.tag=1,i=ny(null,i,e,c,o)):(i.tag=0,i=jd(null,i,e,c,o));else{if(e!=null){var m=e.$$typeof;if(m===Dt){i.tag=11,i=Y_(null,i,e,c,o);break t}else if(m===k){i.tag=14,i=X_(null,i,e,c,o);break t}}throw i=oe(e)||e,Error(a(306,i,""))}}return i;case 0:return jd(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=Oo(c,i.pendingProps),ny(e,i,c,m,o);case 3:t:{if(be(i,i.stateNode.containerInfo),e===null)throw Error(a(387));c=i.pendingProps;var g=i.memoizedState;m=g.element,md(e,i),Nu(i,c,null,o);var w=i.memoizedState;if(c=w.cache,ma(i,rn,c),c!==g.cache&&ld(i,[rn],o,!0),Iu(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=iy(e,i,c,o);break t}else if(c!==m){m=u(Error(a(424)),i),Ao(m),i=iy(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,de=tr(e.firstChild),fe=i,Wt=!0,Kr=null,li=!0,o=Jg(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ts(),c===m){i=Ss(e,i,o);break t}An(e,i,c,o)}i=i.child}return i;case 26:return ph(e,i),e===null?(o=yv(i.type,null,i.pendingProps,null))?i.memoizedState=o:Wt||(o=i.type,e=i.pendingProps,c=Lh(Tt.current).createElement(o),c[Be]=i,c[Ge]=e,Cn(c,o,e),Ze(c),i.stateNode=c):i.memoizedState=yv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ar(i),e===null&&Wt&&(c=i.stateNode=pv(i.type,i.pendingProps,Tt.current),fe=i,li=!0,m=de,Ca(i.type)?(Cm=m,de=tr(c.firstChild)):de=m),An(e,i,i.pendingProps.children,o),ph(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Wt&&((m=c=de)&&(c=wx(c,i.type,i.pendingProps,li),c!==null?(i.stateNode=c,fe=i,de=tr(c.firstChild),li=!1,m=!0):m=!1),m||Qr(i)),ar(i),m=i.type,g=i.pendingProps,w=e!==null?e.memoizedProps:null,c=g.children,bm(m,g)?c=null:w!==null&&bm(m,w)&&(i.flags|=32),i.memoizedState!==null&&(m=Td(e,i,zw,null,null,o),Xu._currentValue=m),ph(e,i),An(e,i,c,o),i.child;case 6:return e===null&&Wt&&((e=o=de)&&(o=xx(o,i.pendingProps,li),o!==null?(i.stateNode=o,fe=i,de=null,e=!0):e=!1),e||Qr(i)),null;case 13:return ry(e,i,o);case 4:return be(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Lo(i,null,c,o):An(e,i,c,o),i.child;case 11:return Y_(e,i,i.type,i.pendingProps,o);case 7:return An(e,i,i.pendingProps,o),i.child;case 8:return An(e,i,i.pendingProps.children,o),i.child;case 12:return An(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,ma(i,i.type,c.value),An(e,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Ro(i),m=Sn(m),c=c(m),i.flags|=1,An(e,i,c,o),i.child;case 14:return X_(e,i,i.type,i.pendingProps,o);case 15:return W_(e,i,i.type,i.pendingProps,o);case 19:return ay(e,i,o);case 31:return Zw(e,i,o);case 22:return J_(e,i,o,i.pendingProps);case 24:return Ro(i),c=Sn(rn),e===null?(m=hd(),m===null&&(m=Ie,g=ud(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),i.memoizedState={parent:c,cache:m},dd(i),ma(i,rn,m)):((e.lanes&o)!==0&&(md(e,i),Nu(i,null,null,o),Iu()),m=e.memoizedState,g=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),ma(i,rn,c)):(c=g.cache,ma(i,rn,c),c!==m.cache&&ld(i,[rn],o,!0))),An(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function As(e){e.flags|=4}function Yd(e,i,o,c,m){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(Oy())e.flags|=8192;else throw Do=th,fd}else e.flags&=-16777217}function ly(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wv(i))if(Oy())e.flags|=8192;else throw Do=th,fd}function _h(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?il():536870912,e.lanes|=i,Ll|=i)}function ku(e,i){if(!Wt)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Pe(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function Qw(e,i,o){var c=i.pendingProps;switch(Ke(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(i),null;case 1:return Pe(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),bs(rn),Ae(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(vr(i)?As(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wu())),Pe(i),null;case 26:var m=i.type,g=i.memoizedState;return e===null?(As(i),g!==null?(Pe(i),ly(i,g)):(Pe(i),Yd(i,m,null,c,o))):g?g!==e.memoizedState?(As(i),Pe(i),ly(i,g)):(Pe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&As(i),Pe(i),Yd(i,m,e,c,o)),null;case 27:if(Ir(i),o=Tt.current,m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&As(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Pe(i),null}e=_t.current,vr(i)?bu(i):(e=pv(m,c,o),i.stateNode=e,As(i))}return Pe(i),null;case 5:if(Ir(i),m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&As(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Pe(i),null}if(g=_t.current,vr(i))bu(i);else{var w=Lh(Tt.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?w.createElement(m,{is:c.is}):w.createElement(m)}}g[Be]=i,g[Ge]=c;t:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break t;for(;w.sibling===null;){if(w.return===null||w.return===i)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=g;t:switch(Cn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&As(i)}}return Pe(i),Yd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&As(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=Tt.current,vr(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,m=fe,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[Be]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||rv(e.nodeValue,o)),e||Qr(i,!0)}else e=Lh(e).createTextNode(c),e[Be]=i,i.stateNode=e}return Pe(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=vr(i),o!==null){if(e===null){if(!c)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Be]=i}else Ts(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),e=!1}else o=wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(Ii(i),i):(Ii(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Pe(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=vr(i),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Be]=i}else Ts(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),m=!1}else m=wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Ii(i),i):(Ii(i),null)}return Ii(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),_h(i,i.updateQueue),Pe(i),null);case 4:return Ae(),e===null&&_m(i.stateNode.containerInfo),Pe(i),null;case 10:return bs(i.type),Pe(i),null;case 19:if(st(Je),c=i.memoizedState,c===null)return Pe(i),null;if(m=(i.flags&128)!==0,g=c.rendering,g===null)if(m)ku(c,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=rh(e),g!==null){for(i.flags|=128,ku(c,!1),e=g.updateQueue,i.updateQueue=e,_h(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)vu(o,e),o=o.sibling;return gt(Je,Je.current&1|2),Wt&&Nt(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&xn()>bh&&(i.flags|=128,m=!0,ku(c,!1),i.lanes=4194304)}else{if(!m)if(e=rh(g),e!==null){if(i.flags|=128,m=!0,e=e.updateQueue,i.updateQueue=e,_h(i,e),ku(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Wt)return Pe(i),null}else 2*xn()-c.renderingStartTime>bh&&o!==536870912&&(i.flags|=128,m=!0,ku(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(e=c.last,e!==null?e.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=xn(),e.sibling=null,o=Je.current,gt(Je,m?o&1|2:o&1),Wt&&Nt(i,c.treeForkCount),e):(Pe(i),null);case 22:case 23:return Ii(i),yd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Pe(i),i.subtreeFlags&6&&(i.flags|=8192)):Pe(i),o=i.updateQueue,o!==null&&_h(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&st(Io),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),bs(rn),Pe(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Yw(e,i){switch(Ke(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return bs(rn),Ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ir(i),null;case 31:if(i.memoizedState!==null){if(Ii(i),i.alternate===null)throw Error(a(340));Ts()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Ii(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ts()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return st(Je),null;case 4:return Ae(),null;case 10:return bs(i.type),null;case 22:case 23:return Ii(i),yd(),e!==null&&st(Io),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return bs(rn),null;case 25:return null;default:return null}}function uy(e,i){switch(Ke(i),i.tag){case 3:bs(rn),Ae();break;case 26:case 27:case 5:Ir(i);break;case 4:Ae();break;case 31:i.memoizedState!==null&&Ii(i);break;case 13:Ii(i);break;case 19:st(Je);break;case 10:bs(i.type);break;case 22:case 23:Ii(i),yd(),e!==null&&st(Io);break;case 24:bs(rn)}}function Vu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==m)}}catch(R){Te(i,i.return,R)}}function Ea(e,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&e)===e){var w=c.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,m=i;var z=o,J=R;try{J()}catch(at){Te(m,z,at)}}}c=c.next}while(c!==g)}}catch(at){Te(i,i.return,at)}}function cy(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{t_(i,o)}catch(c){Te(e,e.return,c)}}}function hy(e,i,o){o.props=Oo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Te(e,i,c)}}function zu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){Te(e,i,m)}}function Xr(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Te(e,i,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Te(e,i,m)}else o.current=null}function fy(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Te(e,e.return,m)}}function Xd(e,i,o){try{var c=e.stateNode;_x(c,e.type,o,i),c[Ge]=i}catch(m){Te(e,e.return,m)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ca(e.type)||e.tag===4}function Wd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jd(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Dn));else if(c!==4&&(c===27&&Ca(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(Jd(e,i,o),e=e.sibling;e!==null;)Jd(e,i,o),e=e.sibling}function yh(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Ca(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(yh(e,i,o),e=e.sibling;e!==null;)yh(e,i,o),e=e.sibling}function my(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);Cn(i,c,o),i[Be]=e,i[Ge]=o}catch(g){Te(e,e.return,g)}}var Cs=!1,on=!1,$d=!1,py=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Xw(e,i){if(e=e.containerInfo,Em=Uh,e=yo(e),Hr(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var w=0,R=-1,z=-1,J=0,at=0,ft=e,tt=null;e:for(;;){for(var it;ft!==o||m!==0&&ft.nodeType!==3||(R=w+m),ft!==g||c!==0&&ft.nodeType!==3||(z=w+c),ft.nodeType===3&&(w+=ft.nodeValue.length),(it=ft.firstChild)!==null;)tt=ft,ft=it;for(;;){if(ft===e)break e;if(tt===o&&++J===m&&(R=w),tt===g&&++at===c&&(z=w),(it=ft.nextSibling)!==null)break;ft=tt,tt=ft.parentNode}ft=it}o=R===-1||z===-1?null:{start:R,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tm={focusedElem:e,selectionRange:o},Uh=!1,bn=i;bn!==null;)if(i=bn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,bn=e;else for(;bn!==null;){switch(i=bn,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)m=e[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Rt=Oo(o.type,m);e=c.getSnapshotBeforeUpdate(Rt,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(kt){Te(o,o.return,kt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)xm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,bn=e;break}bn=i.return}}function gy(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Is(e,o),c&4&&Vu(5,o);break;case 1:if(Is(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(w){Te(o,o.return,w)}else{var m=Oo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(m,i,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Te(o,o.return,w)}}c&64&&cy(o),c&512&&zu(o,o.return);break;case 3:if(Is(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{t_(e,i)}catch(w){Te(o,o.return,w)}}break;case 27:i===null&&c&4&&my(o);case 26:case 5:Is(e,o),i===null&&c&4&&fy(o),c&512&&zu(o,o.return);break;case 12:Is(e,o);break;case 31:Is(e,o),c&4&&vy(e,o);break;case 13:Is(e,o),c&4&&Ey(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=sx.bind(null,o),Sx(e,o))));break;case 22:if(c=o.memoizedState!==null||Cs,!c){i=i!==null&&i.memoizedState!==null||on,m=Cs;var g=on;Cs=c,(on=i)&&!g?Ns(e,o,(o.subtreeFlags&8772)!==0):Is(e,o),Cs=m,on=g}break;case 30:break;default:Is(e,o)}}function _y(e){var i=e.alternate;i!==null&&(e.alternate=null,_y(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Xs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,ui=!1;function Rs(e,i,o){for(o=o.child;o!==null;)yy(e,i,o),o=o.sibling}function yy(e,i,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Xn,o)}catch{}switch(o.tag){case 26:on||Xr(o,i),Rs(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:on||Xr(o,i);var c=ke,m=ui;Ca(o.type)&&(ke=o.stateNode,ui=!1),Rs(e,i,o),Ku(o.stateNode),ke=c,ui=m;break;case 5:on||Xr(o,i);case 6:if(c=ke,m=ui,ke=null,Rs(e,i,o),ke=c,ui=m,ke!==null)if(ui)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(o.stateNode)}catch(g){Te(o,i,g)}else try{ke.removeChild(o.stateNode)}catch(g){Te(o,i,g)}break;case 18:ke!==null&&(ui?(e=ke,cv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Bl(e)):cv(ke,o.stateNode));break;case 4:c=ke,m=ui,ke=o.stateNode.containerInfo,ui=!0,Rs(e,i,o),ke=c,ui=m;break;case 0:case 11:case 14:case 15:Ea(2,o,i),on||Ea(4,o,i),Rs(e,i,o);break;case 1:on||(Xr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&hy(o,i,c)),Rs(e,i,o);break;case 21:Rs(e,i,o);break;case 22:on=(c=on)||o.memoizedState!==null,Rs(e,i,o),on=c;break;default:Rs(e,i,o)}}function vy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bl(e)}catch(o){Te(i,i.return,o)}}}function Ey(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bl(e)}catch(o){Te(i,i.return,o)}}function Ww(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new py),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new py),i;default:throw Error(a(435,e.tag))}}function vh(e,i){var o=Ww(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var m=ax.bind(null,e,c);c.then(m,m)}})}function ci(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=e,w=i,R=w;t:for(;R!==null;){switch(R.tag){case 27:if(Ca(R.type)){ke=R.stateNode,ui=!1;break t}break;case 5:ke=R.stateNode,ui=!1;break t;case 3:case 4:ke=R.stateNode.containerInfo,ui=!0;break t}R=R.return}if(ke===null)throw Error(a(160));yy(g,w,m),ke=null,ui=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ty(i,e),i=i.sibling}var Tr=null;function Ty(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ci(i,e),hi(e),c&4&&(Ea(3,e,e.return),Vu(3,e),Ea(5,e,e.return));break;case 1:ci(i,e),hi(e),c&512&&(on||o===null||Xr(o,o.return)),c&64&&Cs&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Tr;if(ci(i,e),hi(e),c&512&&(on||o===null||Xr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Bi]||g[Be]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Cn(g,c,o),g[Be]=e,Ze(g),c=g;break t;case"link":var w=Tv("link","href",m).get(c+(o.href||""));if(w){for(var R=0;R<w.length;R++)if(g=w[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(R,1);break e}}g=m.createElement(c),Cn(g,c,o),m.head.appendChild(g);break;case"meta":if(w=Tv("meta","content",m).get(c+(o.content||""))){for(R=0;R<w.length;R++)if(g=w[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(R,1);break e}}g=m.createElement(c),Cn(g,c,o),m.head.appendChild(g);break;default:throw Error(a(468,c))}g[Be]=e,Ze(g),c=g}e.stateNode=c}else bv(m,e.type,e.stateNode);else e.stateNode=Ev(m,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?bv(m,e.type,e.stateNode):Ev(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Xd(e,e.memoizedProps,o.memoizedProps)}break;case 27:ci(i,e),hi(e),c&512&&(on||o===null||Xr(o,o.return)),o!==null&&c&4&&Xd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(ci(i,e),hi(e),c&512&&(on||o===null||Xr(o,o.return)),e.flags&32){m=e.stateNode;try{en(m,"")}catch(Rt){Te(e,e.return,Rt)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Xd(e,m,o!==null?o.memoizedProps:m)),c&1024&&($d=!0);break;case 6:if(ci(i,e),hi(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Rt){Te(e,e.return,Rt)}}break;case 3:if(Ph=null,m=Tr,Tr=Mh(i.containerInfo),ci(i,e),Tr=m,hi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Bl(i.containerInfo)}catch(Rt){Te(e,e.return,Rt)}$d&&($d=!1,by(e));break;case 4:c=Tr,Tr=Mh(e.stateNode.containerInfo),ci(i,e),hi(e),Tr=c;break;case 12:ci(i,e),hi(e);break;case 31:ci(i,e),hi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,vh(e,c)));break;case 13:ci(i,e),hi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Th=xn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,vh(e,c)));break;case 22:m=e.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,J=Cs,at=on;if(Cs=J||m,on=at||z,ci(i,e),on=at,Cs=J,hi(e),c&8192)t:for(i=e.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||z||Cs||on||Po(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){z=o=i;try{if(g=z.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=z.stateNode;var ft=z.memoizedProps.style,tt=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;R.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(Rt){Te(z,z.return,Rt)}}}else if(i.tag===6){if(o===null){z=i;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(Rt){Te(z,z.return,Rt)}}}else if(i.tag===18){if(o===null){z=i;try{var it=z.stateNode;m?hv(it,!0):hv(z.stateNode,!1)}catch(Rt){Te(z,z.return,Rt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,vh(e,o))));break;case 19:ci(i,e),hi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,vh(e,c)));break;case 30:break;case 21:break;default:ci(i,e),hi(e)}}function hi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(dy(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,g=Wd(e);yh(e,g,m);break;case 5:var w=o.stateNode;o.flags&32&&(en(w,""),o.flags&=-33);var R=Wd(e);yh(e,R,w);break;case 3:case 4:var z=o.stateNode.containerInfo,J=Wd(e);Jd(e,J,z);break;default:throw Error(a(161))}}catch(at){Te(e,e.return,at)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function by(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;by(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Is(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)gy(e,i.alternate,i),i=i.sibling}function Po(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ea(4,i,i.return),Po(i);break;case 1:Xr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&hy(i,i.return,o),Po(i);break;case 27:Ku(i.stateNode);case 26:case 5:Xr(i,i.return),Po(i);break;case 22:i.memoizedState===null&&Po(i);break;case 30:Po(i);break;default:Po(i)}e=e.sibling}}function Ns(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=e,g=i,w=g.flags;switch(g.tag){case 0:case 11:case 15:Ns(m,g,o),Vu(4,g);break;case 1:if(Ns(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){Te(c,c.return,J)}if(c=g,m=c.updateQueue,m!==null){var R=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)$g(z[m],R)}catch(J){Te(c,c.return,J)}}o&&w&64&&cy(g),zu(g,g.return);break;case 27:my(g);case 26:case 5:Ns(m,g,o),o&&c===null&&w&4&&fy(g),zu(g,g.return);break;case 12:Ns(m,g,o);break;case 31:Ns(m,g,o),o&&w&4&&vy(m,g);break;case 13:Ns(m,g,o),o&&w&4&&Ey(m,g);break;case 22:g.memoizedState===null&&Ns(m,g,o),zu(g,g.return);break;case 30:break;default:Ns(m,g,o)}i=i.sibling}}function tm(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&xu(o))}function em(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xu(e))}function br(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wy(e,i,o,c),i=i.sibling}function wy(e,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:br(e,i,o,c),m&2048&&Vu(9,i);break;case 1:br(e,i,o,c);break;case 3:br(e,i,o,c),m&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xu(e)));break;case 12:if(m&2048){br(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,w=g.id,R=g.onPostCommit;typeof R=="function"&&R(w,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){Te(i,i.return,z)}}else br(e,i,o,c);break;case 31:br(e,i,o,c);break;case 13:br(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,w=i.alternate,i.memoizedState!==null?g._visibility&2?br(e,i,o,c):Uu(e,i):g._visibility&2?br(e,i,o,c):(g._visibility|=2,Il(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&tm(w,i);break;case 24:br(e,i,o,c),m&2048&&em(i.alternate,i);break;default:br(e,i,o,c)}}function Il(e,i,o,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,w=i,R=o,z=c,J=w.flags;switch(w.tag){case 0:case 11:case 15:Il(g,w,R,z,m),Vu(8,w);break;case 23:break;case 22:var at=w.stateNode;w.memoizedState!==null?at._visibility&2?Il(g,w,R,z,m):Uu(g,w):(at._visibility|=2,Il(g,w,R,z,m)),m&&J&2048&&tm(w.alternate,w);break;case 24:Il(g,w,R,z,m),m&&J&2048&&em(w.alternate,w);break;default:Il(g,w,R,z,m)}i=i.sibling}}function Uu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,m=c.flags;switch(c.tag){case 22:Uu(o,c),m&2048&&tm(c.alternate,c);break;case 24:Uu(o,c),m&2048&&em(c.alternate,c);break;default:Uu(o,c)}i=i.sibling}}var Bu=8192;function Nl(e,i,o){if(e.subtreeFlags&Bu)for(e=e.child;e!==null;)xy(e,i,o),e=e.sibling}function xy(e,i,o){switch(e.tag){case 26:Nl(e,i,o),e.flags&Bu&&e.memoizedState!==null&&Vx(o,Tr,e.memoizedState,e.memoizedProps);break;case 5:Nl(e,i,o);break;case 3:case 4:var c=Tr;Tr=Mh(e.stateNode.containerInfo),Nl(e,i,o),Tr=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Bu,Bu=16777216,Nl(e,i,o),Bu=c):Nl(e,i,o));break;default:Nl(e,i,o)}}function Sy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ju(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];bn=c,Cy(c,e)}Sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 0:case 11:case 15:ju(e),e.flags&2048&&Ea(9,e,e.return);break;case 3:ju(e);break;case 12:ju(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Eh(e)):ju(e);break;default:ju(e)}}function Eh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];bn=c,Cy(c,e)}Sy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ea(8,i,i.return),Eh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Eh(i));break;default:Eh(i)}e=e.sibling}}function Cy(e,i){for(;bn!==null;){var o=bn;switch(o.tag){case 0:case 11:case 15:Ea(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:xu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,bn=c;else t:for(o=e;bn!==null;){c=bn;var m=c.sibling,g=c.return;if(_y(c),c===o){bn=null;break t}if(m!==null){m.return=g,bn=m;break t}bn=g}}}var Jw={getCacheForType:function(e){var i=Sn(rn),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return Sn(rn).controller.signal}},$w=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ie=null,Jt=null,ne=0,Ee=0,Ni=null,Ta=!1,Dl=!1,nm=!1,Ds=0,Ye=0,ba=0,ko=0,im=0,Di=0,Ll=0,Hu=null,fi=null,rm=!1,Th=0,Ry=0,bh=1/0,wh=null,wa=null,dn=0,xa=null,Ml=null,Ls=0,sm=0,am=null,Iy=null,qu=0,om=null;function Li(){return(ge&2)!==0&&ne!==0?ne&-ne:rt.T!==null?dm():io()}function Ny(){if(Di===0)if((ne&536870912)===0||Wt){var e=Or;Or<<=1,(Or&3932160)===0&&(Or=262144),Di=e}else Di=536870912;return e=Ri.current,e!==null&&(e.flags|=32),Di}function di(e,i,o){(e===Ie&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Ol(e,0),Sa(e,ne,Di,!1)),lr(e,o),((ge&2)===0||e!==Ie)&&(e===Ie&&((ge&2)===0&&(ko|=o),Ye===4&&Sa(e,ne,Di,!1)),Wr(e))}function Dy(e,i,o){if((ge&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||gi(e,i),m=c?nx(e,i):um(e,i,!0),g=c;do{if(m===0){Dl&&!c&&Sa(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!tx(o)){m=um(e,i,!1),g=!1;continue}if(m===2){if(g=i,e.errorRecoveryDisabledLanes&g)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;t:{var R=e;m=Hu;var z=R.current.memoizedState.isDehydrated;if(z&&(Ol(R,w).flags|=256),w=um(R,w,!1),w!==2){if(nm&&!z){R.errorRecoveryDisabledLanes|=g,ko|=g,m=4;break t}g=fi,fi=m,g!==null&&(fi===null?fi=g:fi.push.apply(fi,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){Ol(e,0),Sa(e,i,0,!0);break}t:{switch(c=e,g=m,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Sa(c,i,Di,!Ta);break t;case 2:fi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=Th+300-xn(),10<m)){if(Sa(c,i,Di,!Ta),zi(c,0,!0)!==0)break t;Ls=i,c.timeoutHandle=lv(Ly.bind(null,c,o,fi,wh,rm,i,Di,ko,Ll,Ta,g,"Throttled",-0,0),m);break t}Ly(c,o,fi,wh,rm,i,Di,ko,Ll,Ta,g,null,-0,0)}}break}while(!0);Wr(e)}function Ly(e,i,o,c,m,g,w,R,z,J,at,ft,tt,it){if(e.timeoutHandle=-1,ft=i.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},xy(i,g,ft);var Rt=(g&62914560)===g?Th-xn():(g&4194048)===g?Ry-xn():0;if(Rt=zx(ft,Rt),Rt!==null){Ls=g,e.cancelPendingCommit=Rt(By.bind(null,e,i,g,o,c,m,w,R,z,at,ft,null,tt,it)),Sa(e,g,w,!J);return}}By(e,i,g,o,c,m,w,R,z)}function tx(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!En(g(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Sa(e,i,o,c){i&=~im,i&=~ko,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var m=i;0<m;){var g=31-ze(m),w=1<<g;c[g]=-1,m&=~w}o!==0&&cs(e,o,i)}function xh(){return(ge&6)===0?(Fu(0),!1):!0}function lm(){if(Jt!==null){if(Ee===0)var e=Jt.return;else e=Jt,Er=Yr=null,xd(e),xl=null,Au=0,e=Jt;for(;e!==null;)uy(e.alternate,e),e=e.return;Jt=null}}function Ol(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Ex(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Ls=0,lm(),Ie=e,Jt=o=Ji(e.current,null),ne=i,Ee=0,Ni=null,Ta=!1,Dl=gi(e,i),nm=!1,Ll=Di=im=ko=ba=Ye=0,fi=Hu=null,rm=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var m=31-ze(c),g=1<<m;i|=e[m],c&=~g}return Ds=i,wo(),o}function My(e,i){Gt=null,rt.H=Ou,i===wl||i===$c?(i=Yg(),Ee=3):i===fd?(i=Yg(),Ee=4):Ee=i===Bd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ni=i,Jt===null&&(Ye=1,dh(e,u(i,e.current)))}function Oy(){var e=Ri.current;return e===null?!0:(ne&4194048)===ne?$i===null:(ne&62914560)===ne||(ne&536870912)!==0?e===$i:!1}function Py(){var e=rt.H;return rt.H=Ou,e===null?Ou:e}function ky(){var e=rt.A;return rt.A=Jw,e}function Sh(){Ye=4,Ta||(ne&4194048)!==ne&&Ri.current!==null||(Dl=!0),(ba&134217727)===0&&(ko&134217727)===0||Ie===null||Sa(Ie,ne,Di,!1)}function um(e,i,o){var c=ge;ge|=2;var m=Py(),g=ky();(Ie!==e||ne!==i)&&(wh=null,Ol(e,i)),i=!1;var w=Ye;t:do try{if(Ee!==0&&Jt!==null){var R=Jt,z=Ni;switch(Ee){case 8:lm(),w=6;break t;case 3:case 2:case 9:case 6:Ri.current===null&&(i=!0);var J=Ee;if(Ee=0,Ni=null,Pl(e,R,z,J),o&&Dl){w=0;break t}break;default:J=Ee,Ee=0,Ni=null,Pl(e,R,z,J)}}ex(),w=Ye;break}catch(at){My(e,at)}while(!0);return i&&e.shellSuspendCounter++,Er=Yr=null,ge=c,rt.H=m,rt.A=g,Jt===null&&(Ie=null,ne=0,wo()),w}function ex(){for(;Jt!==null;)Vy(Jt)}function nx(e,i){var o=ge;ge|=2;var c=Py(),m=ky();Ie!==e||ne!==i?(wh=null,bh=xn()+500,Ol(e,i)):Dl=gi(e,i);t:do try{if(Ee!==0&&Jt!==null){i=Jt;var g=Ni;e:switch(Ee){case 1:Ee=0,Ni=null,Pl(e,i,g,1);break;case 2:case 9:if(Kg(g)){Ee=0,Ni=null,zy(i);break}i=function(){Ee!==2&&Ee!==9||Ie!==e||(Ee=7),Wr(e)},g.then(i,i);break t;case 3:Ee=7;break t;case 4:Ee=5;break t;case 7:Kg(g)?(Ee=0,Ni=null,zy(i)):(Ee=0,Ni=null,Pl(e,i,g,7));break;case 5:var w=null;switch(Jt.tag){case 26:w=Jt.memoizedState;case 5:case 27:var R=Jt;if(w?wv(w):R.stateNode.complete){Ee=0,Ni=null;var z=R.sibling;if(z!==null)Jt=z;else{var J=R.return;J!==null?(Jt=J,Ah(J)):Jt=null}break e}}Ee=0,Ni=null,Pl(e,i,g,5);break;case 6:Ee=0,Ni=null,Pl(e,i,g,6);break;case 8:lm(),Ye=6;break t;default:throw Error(a(462))}}ix();break}catch(at){My(e,at)}while(!0);return Er=Yr=null,rt.H=c,rt.A=m,ge=o,Jt!==null?0:(Ie=null,ne=0,wo(),Ye)}function ix(){for(;Jt!==null&&!tl();)Vy(Jt)}function Vy(e){var i=oy(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,i===null?Ah(e):Jt=i}function zy(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=ey(o,i,i.pendingProps,i.type,void 0,ne);break;case 11:i=ey(o,i,i.pendingProps,i.type.render,i.ref,ne);break;case 5:xd(i);default:uy(o,i),i=Jt=vu(i,Ds),i=oy(o,i,Ds)}e.memoizedProps=e.pendingProps,i===null?Ah(e):Jt=i}function Pl(e,i,o,c){Er=Yr=null,xd(i),xl=null,Au=0;var m=i.return;try{if(Gw(e,m,i,o,ne)){Ye=1,dh(e,u(o,e.current)),Jt=null;return}}catch(g){if(m!==null)throw Jt=m,g;Ye=1,dh(e,u(o,e.current)),Jt=null;return}i.flags&32768?(Wt||c===1?e=!0:Dl||(ne&536870912)!==0?e=!1:(Ta=e=!0,(c===2||c===9||c===3||c===6)&&(c=Ri.current,c!==null&&c.tag===13&&(c.flags|=16384))),Uy(i,e)):Ah(i)}function Ah(e){var i=e;do{if((i.flags&32768)!==0){Uy(i,Ta);return}e=i.return;var o=Qw(i.alternate,i,Ds);if(o!==null){Jt=o;return}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=e}while(i!==null);Ye===0&&(Ye=5)}function Uy(e,i){do{var o=Yw(e.alternate,e);if(o!==null){o.flags&=32767,Jt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){Jt=e;return}Jt=e=o}while(e!==null);Ye=6,Jt=null}function By(e,i,o,c,m,g,w,R,z){e.cancelPendingCommit=null;do Ch();while(dn!==0);if((ge&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=gl,_u(e,o,g,w,R,z),e===Ie&&(Jt=Ie=null,ne=0),Ml=i,xa=e,Ls=o,sm=g,am=m,Iy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ox(or,function(){return Gy(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=rt.T,rt.T=null,m=vt.p,vt.p=2,w=ge,ge|=4;try{Xw(e,i,o)}finally{ge=w,vt.p=m,rt.T=c}}dn=1,jy(),Hy(),qy()}}function jy(){if(dn===1){dn=0;var e=xa,i=Ml,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=rt.T,rt.T=null;var c=vt.p;vt.p=2;var m=ge;ge|=4;try{Ty(i,e);var g=Tm,w=yo(e.containerInfo),R=g.focusedElem,z=g.selectionRange;if(w!==R&&R&&R.ownerDocument&&fl(R.ownerDocument.documentElement,R)){if(z!==null&&Hr(R)){var J=z.start,at=z.end;if(at===void 0&&(at=J),"selectionStart"in R)R.selectionStart=J,R.selectionEnd=Math.min(at,R.value.length);else{var ft=R.ownerDocument||document,tt=ft&&ft.defaultView||window;if(tt.getSelection){var it=tt.getSelection(),Rt=R.textContent.length,kt=Math.min(z.start,Rt),Se=z.end===void 0?kt:Math.min(z.end,Rt);!it.extend&&kt>Se&&(w=Se,Se=kt,kt=w);var Z=_o(R,kt),j=_o(R,Se);if(Z&&j&&(it.rangeCount!==1||it.anchorNode!==Z.node||it.anchorOffset!==Z.offset||it.focusNode!==j.node||it.focusOffset!==j.offset)){var W=ft.createRange();W.setStart(Z.node,Z.offset),it.removeAllRanges(),kt>Se?(it.addRange(W),it.extend(j.node,j.offset)):(W.setEnd(j.node,j.offset),it.addRange(W))}}}}for(ft=[],it=R;it=it.parentNode;)it.nodeType===1&&ft.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ft.length;R++){var ut=ft[R];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}Uh=!!Em,Tm=Em=null}finally{ge=m,vt.p=c,rt.T=o}}e.current=i,dn=2}}function Hy(){if(dn===2){dn=0;var e=xa,i=Ml,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=rt.T,rt.T=null;var c=vt.p;vt.p=2;var m=ge;ge|=4;try{gy(e,i.alternate,i)}finally{ge=m,vt.p=c,rt.T=o}}dn=3}}function qy(){if(dn===4||dn===3){dn=0,Ja();var e=xa,i=Ml,o=Ls,c=Iy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dn=5:(dn=0,Ml=xa=null,Fy(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(wa=null),Ct(o),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Xn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=rt.T,m=vt.p,vt.p=2,rt.T=null;try{for(var g=e.onRecoverableError,w=0;w<c.length;w++){var R=c[w];g(R.value,{componentStack:R.stack})}}finally{rt.T=i,vt.p=m}}(Ls&3)!==0&&Ch(),Wr(e),m=e.pendingLanes,(o&261930)!==0&&(m&42)!==0?e===om?qu++:(qu=0,om=e):qu=0,Fu(0)}}function Fy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,xu(i)))}function Ch(){return jy(),Hy(),qy(),Gy()}function Gy(){if(dn!==5)return!1;var e=xa,i=sm;sm=0;var o=Ct(Ls),c=rt.T,m=vt.p;try{vt.p=32>o?32:o,rt.T=null,o=am,am=null;var g=xa,w=Ls;if(dn=0,Ml=xa=null,Ls=0,(ge&6)!==0)throw Error(a(331));var R=ge;if(ge|=4,Ay(g.current),wy(g,g.current,w,o),ge=R,Fu(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Xn,g)}catch{}return!0}finally{vt.p=m,rt.T=c,Fy(e,i)}}function Zy(e,i,o){i=u(o,i),i=Ud(e.stateNode,i,2),e=_a(e,i,2),e!==null&&(lr(e,2),Wr(e))}function Te(e,i,o){if(e.tag===3)Zy(e,e,o);else for(;i!==null;){if(i.tag===3){Zy(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wa===null||!wa.has(c))){e=u(o,e),o=K_(2),c=_a(i,o,2),c!==null&&(Q_(o,c,i,e),lr(c,2),Wr(c));break}}i=i.return}}function cm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new $w;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(nm=!0,m.add(o),e=rx.bind(null,e,i,o),i.then(e,e))}function rx(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ie===e&&(ne&o)===o&&(Ye===4||Ye===3&&(ne&62914560)===ne&&300>xn()-Th?(ge&2)===0&&Ol(e,0):im|=o,Ll===ne&&(Ll=0)),Wr(e)}function Ky(e,i){i===0&&(i=il()),e=Wi(e,i),e!==null&&(lr(e,i),Wr(e))}function sx(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),Ky(e,o)}function ax(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Ky(e,o)}function ox(e,i){return Fe(e,i)}var Rh=null,kl=null,hm=!1,Ih=!1,fm=!1,Aa=0;function Wr(e){e!==kl&&e.next===null&&(kl===null?Rh=kl=e:kl=kl.next=e),Ih=!0,hm||(hm=!0,ux())}function Fu(e,i){if(!fm&&Ih){fm=!0;do for(var o=!1,c=Rh;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var w=c.suspendedLanes,R=c.pingedLanes;g=(1<<31-ze(42|e)+1)-1,g&=m&~(w&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Wy(c,g))}else g=ne,g=zi(c,c===Ie?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||gi(c,g)||(o=!0,Wy(c,g));c=c.next}while(o);fm=!1}}function lx(){Qy()}function Qy(){Ih=hm=!1;var e=0;Aa!==0&&vx()&&(e=Aa);for(var i=xn(),o=null,c=Rh;c!==null;){var m=c.next,g=Yy(c,i);g===0?(c.next=null,o===null?Rh=m:o.next=m,m===null&&(kl=o)):(o=c,(e!==0||(g&3)!==0)&&(Ih=!0)),c=m}dn!==0&&dn!==5||Fu(e),Aa!==0&&(Aa=0)}function Yy(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var w=31-ze(g),R=1<<w,z=m[w];z===-1?((R&o)===0||(R&c)!==0)&&(m[w]=gu(R,i)):z<=i&&(e.expiredLanes|=R),g&=~R}if(i=Ie,o=ne,o=zi(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ki(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||gi(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&ki(c),Ct(o)){case 2:case 8:o=Qs;break;case 32:o=or;break;case 268435456:o=$a;break;default:o=or}return c=Xy.bind(null,e),o=Fe(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&ki(c),e.callbackPriority=2,e.callbackNode=null,2}function Xy(e,i){if(dn!==0&&dn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ch()&&e.callbackNode!==o)return null;var c=ne;return c=zi(e,e===Ie?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Dy(e,c,i),Yy(e,xn()),e.callbackNode!=null&&e.callbackNode===o?Xy.bind(null,e):null)}function Wy(e,i){if(Ch())return null;Dy(e,i,!0)}function ux(){Tx(function(){(ge&6)!==0?Fe(us,lx):Qy()})}function dm(){if(Aa===0){var e=Tl;e===0&&(e=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Aa=e}return Aa}function Jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vr(""+e)}function $y(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function cx(e,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var g=Jy((m[Ge]||null).action),w=c.submitter;w&&(i=(i=w[Ge]||null)?Jy(i.formAction):w.getAttribute("formAction"),i!==null&&(g=i,w=null));var R=new Ki("action","action",null,c,m);e.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Aa!==0){var z=w?$y(m,w):new FormData(m);Md(o,{pending:!0,data:z,method:m.method,action:g},null,z)}}else typeof g=="function"&&(R.preventDefault(),z=w?$y(m,w):new FormData(m),Md(o,{pending:!0,data:z,method:m.method,action:g},g,z))},currentTarget:m}]})}}for(var mm=0;mm<Gr.length;mm++){var pm=Gr[mm],hx=pm.toLowerCase(),fx=pm[0].toUpperCase()+pm.slice(1);ai(hx,"on"+fx)}ai(Eo,"onAnimationEnd"),ai(Kc,"onAnimationIteration"),ai(To,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(rd,"onTransitionRun"),ai(Qc,"onTransitionStart"),ai(sd,"onTransitionCancel"),ai(fa,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function tv(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var w=c.length-1;0<=w;w--){var R=c[w],z=R.instance,J=R.currentTarget;if(R=R.listener,z!==g&&m.isPropagationStopped())break t;g=R,m.currentTarget=J;try{g(m)}catch(at){bo(at)}m.currentTarget=null,g=z}else for(w=0;w<c.length;w++){if(R=c[w],z=R.instance,J=R.currentTarget,R=R.listener,z!==g&&m.isPropagationStopped())break t;g=R,m.currentTarget=J;try{g(m)}catch(at){bo(at)}m.currentTarget=null,g=z}}}}function $t(e,i){var o=i[yi];o===void 0&&(o=i[yi]=new Set);var c=e+"__bubble";o.has(c)||(ev(i,e,2,!1),o.add(c))}function gm(e,i,o){var c=0;i&&(c|=4),ev(o,e,c,i)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function _m(e){if(!e[Nh]){e[Nh]=!0,ro.forEach(function(o){o!=="selectionchange"&&(dx.has(o)||gm(o,!1,e),gm(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Nh]||(i[Nh]=!0,gm("selectionchange",!1,i))}}function ev(e,i,o,c){switch(Nv(i)){case 2:var m=jx;break;case 8:m=Hx;break;default:m=Lm}o=m.bind(null,i,o,e),m=void 0,!fr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(i,o,{capture:!0,passive:m}):e.addEventListener(i,o,!0):m!==void 0?e.addEventListener(i,o,{passive:m}):e.addEventListener(i,o,!1)}function ym(e,i,o,c,m){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var R=c.stateNode.containerInfo;if(R===m)break;if(w===4)for(w=c.return;w!==null;){var z=w.tag;if((z===3||z===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;R!==null;){if(w=vi(R),w===null)return;if(z=w.tag,z===5||z===6||z===26||z===27){c=g=w;continue t}R=R.parentNode}}c=c.return}hr(function(){var J=g,at=Ln(o),ft=[];t:{var tt=Yc.get(e);if(tt!==void 0){var it=Ki,Rt=e;switch(e){case"keypress":if(Ur(o)===0)break t;case"keydown":case"keyup":it=ho;break;case"focusin":Rt="focus",it=gs;break;case"focusout":Rt="blur",it=gs;break;case"beforeblur":case"afterblur":it=gs;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=E;break;case Eo:case Kc:case To:it=na;break;case fa:it=N;break;case"scroll":case"scrollend":it=Qt;break;case"wheel":it=et;break;case"copy":case"cut":case"paste":it=Gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=gr;break;case"toggle":case"beforetoggle":it=zt}var kt=(i&4)!==0,Se=!kt&&(e==="scroll"||e==="scrollend"),Z=kt?tt!==null?tt+"Capture":null:tt;kt=[];for(var j=J,W;j!==null;){var ut=j;if(W=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||W===null||Z===null||(ut=Fn(j,Z),ut!=null&&kt.push(Zu(j,ut,W))),Se)break;j=j.return}0<kt.length&&(tt=new it(tt,Rt,null,o,at),ft.push({event:tt,listeners:kt}))}}if((i&7)===0){t:{if(tt=e==="mouseover"||e==="pointerover",it=e==="mouseout"||e==="pointerout",tt&&o!==ea&&(Rt=o.relatedTarget||o.fromElement)&&(vi(Rt)||Rt[_i]))break t;if((it||tt)&&(tt=at.window===at?at:(tt=at.ownerDocument)?tt.defaultView||tt.parentWindow:window,it?(Rt=o.relatedTarget||o.toElement,it=J,Rt=Rt?vi(Rt):null,Rt!==null&&(Se=h(Rt),kt=Rt.tag,Rt!==Se||kt!==5&&kt!==27&&kt!==6)&&(Rt=null)):(it=null,Rt=J),it!==Rt)){if(kt=ao,ut="onMouseLeave",Z="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(kt=gr,ut="onPointerLeave",Z="onPointerEnter",j="pointer"),Se=it==null?tt:gn(it),W=Rt==null?tt:gn(Rt),tt=new kt(ut,j+"leave",it,o,at),tt.target=Se,tt.relatedTarget=W,ut=null,vi(at)===J&&(kt=new kt(Z,j+"enter",Rt,o,at),kt.target=W,kt.relatedTarget=Se,ut=kt),Se=ut,it&&Rt)e:{for(kt=mx,Z=it,j=Rt,W=0,ut=Z;ut;ut=kt(ut))W++;ut=0;for(var Mt=j;Mt;Mt=kt(Mt))ut++;for(;0<W-ut;)Z=kt(Z),W--;for(;0<ut-W;)j=kt(j),ut--;for(;W--;){if(Z===j||j!==null&&Z===j.alternate){kt=Z;break e}Z=kt(Z),j=kt(j)}kt=null}else kt=null;it!==null&&nv(ft,tt,it,kt,!1),Rt!==null&&Se!==null&&nv(ft,Se,Rt,kt,!0)}}t:{if(tt=J?gn(J):window,it=tt.nodeName&&tt.nodeName.toLowerCase(),it==="select"||it==="input"&&tt.type==="file")var me=go;else if(Qi(tt))if(Hc)me=id;else{me=nd;var It=_r}else it=tt.nodeName,!it||it.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?J&&kr(J.elementType)&&(me=go):me=la;if(me&&(me=me(e,J))){jc(ft,me,o,at);break t}It&&It(e,tt,J),e==="focusout"&&J&&tt.type==="number"&&J.memoizedProps.value!=null&&Ei(tt,"number",tt.value)}switch(It=J?gn(J):window,e){case"focusin":(Qi(It)||It.contentEditable==="true")&&(qr=It,ml=J,vo=null);break;case"focusout":vo=ml=qr=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,Gc(ft,o,at);break;case"selectionchange":if(dl)break;case"keydown":case"keyup":Gc(ft,o,at)}var Kt;if(ue)t:{switch(e){case"compositionstart":var ie="onCompositionStart";break t;case"compositionend":ie="onCompositionEnd";break t;case"compositionupdate":ie="onCompositionUpdate";break t}ie=void 0}else sa?_s(e,o)&&(ie="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ie="onCompositionStart");ie&&(si&&o.locale!=="ko"&&(sa||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&sa&&(Kt=Ti()):(ii=at,dr="value"in ii?ii.value:ii.textContent,sa=!0)),It=Dh(J,ie),0<It.length&&(ie=new xi(ie,e,null,o,at),ft.push({event:ie,listeners:It}),Kt?ie.data=Kt:(Kt=ys(o),Kt!==null&&(ie.data=Kt)))),(Kt=ri?Ci(e,o):aa(e,o))&&(ie=Dh(J,"onBeforeInput"),0<ie.length&&(It=new xi("onBeforeInput","beforeinput",null,o,at),ft.push({event:It,listeners:ie}),It.data=Kt)),cx(ft,e,J,o,at)}tv(ft,i)})}function Zu(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Dh(e,i){for(var o=i+"Capture",c=[];e!==null;){var m=e,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Fn(e,o),m!=null&&c.unshift(Zu(e,m,g)),m=Fn(e,i),m!=null&&c.push(Zu(e,m,g))),e.tag===3)return c;e=e.return}return[]}function mx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nv(e,i,o,c,m){for(var g=i._reactName,w=[];o!==null&&o!==c;){var R=o,z=R.alternate,J=R.stateNode;if(R=R.tag,z!==null&&z===c)break;R!==5&&R!==26&&R!==27||J===null||(z=J,m?(J=Fn(o,g),J!=null&&w.unshift(Zu(o,J,z))):m||(J=Fn(o,g),J!=null&&w.push(Zu(o,J,z)))),o=o.return}w.length!==0&&e.push({event:i,listeners:w})}var px=/\r\n?/g,gx=/\u0000|\uFFFD/g;function iv(e){return(typeof e=="string"?e:""+e).replace(px,`
`).replace(gx,"")}function rv(e,i){return i=iv(i),iv(e)===i}function xe(e,i,o,c,m,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||en(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&en(e,""+c);break;case"className":Xt(e,"class",c);break;case"tabIndex":Xt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(e,o,c);break;case"style":ds(e,c,g);break;case"data":if(i!=="object"){Xt(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Vr(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&xe(e,i,"name",m.name,m,null),xe(e,i,"formEncType",m.formEncType,m,null),xe(e,i,"formMethod",m.formMethod,m,null),xe(e,i,"formTarget",m.formTarget,m,null)):(xe(e,i,"encType",m.encType,m,null),xe(e,i,"method",m.method,m,null),xe(e,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Vr(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=Dn);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Vr(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":$t("beforetoggle",e),$t("toggle",e),Yt(e,"popover",c);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Yt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ms.get(o)||o,Yt(e,o,c))}}function vm(e,i,o,c,m,g){switch(o){case"style":ds(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?en(e,c):(typeof c=="number"||typeof c=="bigint")&&en(e,""+c);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),g=e[Ge]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Yt(e,o,c)}}}function Cn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",e),$t("load",e);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:xe(e,i,g,w,o,null)}}m&&xe(e,i,"srcSet",o.srcSet,o,null),c&&xe(e,i,"src",o.src,o,null);return;case"input":$t("invalid",e);var R=g=w=m=null,z=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var at=o[c];if(at!=null)switch(c){case"name":m=at;break;case"type":w=at;break;case"checked":z=at;break;case"defaultChecked":J=at;break;case"value":g=at;break;case"defaultValue":R=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(a(137,i));break;default:xe(e,i,c,at,o,null)}}fs(e,g,R,z,J,w,m,!1);return;case"select":$t("invalid",e),c=w=g=null;for(m in o)if(o.hasOwnProperty(m)&&(R=o[m],R!=null))switch(m){case"value":g=R;break;case"defaultValue":w=R;break;case"multiple":c=R;default:xe(e,i,m,R,o,null)}i=g,o=w,e.multiple=!!c,i!=null?ve(e,!!c,i,!1):o!=null&&ve(e,!!c,o,!0);return;case"textarea":$t("invalid",e),g=m=c=null;for(w in o)if(o.hasOwnProperty(w)&&(R=o[w],R!=null))switch(w){case"value":c=R;break;case"defaultValue":m=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:xe(e,i,w,R,o,null)}ni(e,c,m,g);return;case"option":for(z in o)o.hasOwnProperty(z)&&(c=o[z],c!=null)&&(z==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":xe(e,i,z,c,o,null));return;case"dialog":$t("beforetoggle",e),$t("toggle",e),$t("cancel",e),$t("close",e);break;case"iframe":case"object":$t("load",e);break;case"video":case"audio":for(c=0;c<Gu.length;c++)$t(Gu[c],e);break;case"image":$t("error",e),$t("load",e);break;case"details":$t("toggle",e);break;case"embed":case"source":case"link":$t("error",e),$t("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:xe(e,i,J,c,o,null)}return;default:if(kr(i)){for(at in o)o.hasOwnProperty(at)&&(c=o[at],c!==void 0&&vm(e,i,at,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&xe(e,i,R,c,o,null))}function _x(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,R=null,z=null,J=null,at=null;for(it in o){var ft=o[it];if(o.hasOwnProperty(it)&&ft!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":z=ft;default:c.hasOwnProperty(it)||xe(e,i,it,null,c,ft)}}for(var tt in c){var it=c[tt];if(ft=o[tt],c.hasOwnProperty(tt)&&(it!=null||ft!=null))switch(tt){case"type":g=it;break;case"name":m=it;break;case"checked":J=it;break;case"defaultChecked":at=it;break;case"value":w=it;break;case"defaultValue":R=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,i));break;default:it!==ft&&xe(e,i,tt,it,c,ft)}}$s(e,w,R,z,J,at,g,m);return;case"select":it=w=R=tt=null;for(g in o)if(z=o[g],o.hasOwnProperty(g)&&z!=null)switch(g){case"value":break;case"multiple":it=z;default:c.hasOwnProperty(g)||xe(e,i,g,null,c,z)}for(m in c)if(g=c[m],z=o[m],c.hasOwnProperty(m)&&(g!=null||z!=null))switch(m){case"value":tt=g;break;case"defaultValue":R=g;break;case"multiple":w=g;default:g!==z&&xe(e,i,m,g,c,z)}i=R,o=w,c=it,tt!=null?ve(e,!!o,tt,!1):!!c!=!!o&&(i!=null?ve(e,!!o,i,!0):ve(e,!!o,o?[]:"",!1));return;case"textarea":it=tt=null;for(R in o)if(m=o[R],o.hasOwnProperty(R)&&m!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:xe(e,i,R,null,c,m)}for(w in c)if(m=c[w],g=o[w],c.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":tt=m;break;case"defaultValue":it=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==g&&xe(e,i,w,m,c,g)}Fi(e,tt,it);return;case"option":for(var Rt in o)tt=o[Rt],o.hasOwnProperty(Rt)&&tt!=null&&!c.hasOwnProperty(Rt)&&(Rt==="selected"?e.selected=!1:xe(e,i,Rt,null,c,tt));for(z in c)tt=c[z],it=o[z],c.hasOwnProperty(z)&&tt!==it&&(tt!=null||it!=null)&&(z==="selected"?e.selected=tt&&typeof tt!="function"&&typeof tt!="symbol":xe(e,i,z,tt,c,it));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in o)tt=o[kt],o.hasOwnProperty(kt)&&tt!=null&&!c.hasOwnProperty(kt)&&xe(e,i,kt,null,c,tt);for(J in c)if(tt=c[J],it=o[J],c.hasOwnProperty(J)&&tt!==it&&(tt!=null||it!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(a(137,i));break;default:xe(e,i,J,tt,c,it)}return;default:if(kr(i)){for(var Se in o)tt=o[Se],o.hasOwnProperty(Se)&&tt!==void 0&&!c.hasOwnProperty(Se)&&vm(e,i,Se,void 0,c,tt);for(at in c)tt=c[at],it=o[at],!c.hasOwnProperty(at)||tt===it||tt===void 0&&it===void 0||vm(e,i,at,tt,c,it);return}}for(var Z in o)tt=o[Z],o.hasOwnProperty(Z)&&tt!=null&&!c.hasOwnProperty(Z)&&xe(e,i,Z,null,c,tt);for(ft in c)tt=c[ft],it=o[ft],!c.hasOwnProperty(ft)||tt===it||tt==null&&it==null||xe(e,i,ft,tt,c,it)}function sv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,w=m.initiatorType,R=m.duration;if(g&&R&&sv(w)){for(w=0,R=m.responseEnd,c+=1;c<o.length;c++){var z=o[c],J=z.startTime;if(J>R)break;var at=z.transferSize,ft=z.initiatorType;at&&sv(ft)&&(z=z.responseEnd,w+=at*(z<R?1:(R-J)/(z-J)))}if(--c,i+=8*(g+w)/(m.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Em=null,Tm=null;function Lh(e){return e.nodeType===9?e:e.ownerDocument}function av(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function bm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wm=null;function vx(){var e=window.event;return e&&e.type==="popstate"?e===wm?!1:(wm=e,!0):(wm=null,!1)}var lv=typeof setTimeout=="function"?setTimeout:void 0,Ex=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(e){return uv.resolve(null).then(e).catch(bx)}:lv;function bx(e){setTimeout(function(){throw e})}function Ca(e){return e==="head"}function cv(e,i){var o=i,c=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(m),Bl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Ku(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Ku(o);for(var g=o.firstChild;g;){var w=g.nextSibling,R=g.nodeName;g[Bi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&Ku(e.ownerDocument.body);o=m}while(o);Bl(i)}function hv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function xm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xm(o),Xs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function wx(e,i,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Bi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=tr(e.nextSibling),e===null)break}return null}function xx(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=tr(e.nextSibling),e===null))return null;return e}function fv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=tr(e.nextSibling),e===null))return null;return e}function Sm(e){return e.data==="$?"||e.data==="$~"}function Am(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sx(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function tr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Cm=null;function dv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return tr(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function mv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function pv(e,i,o){switch(i=Lh(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ku(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Xs(e)}var er=new Map,gv=new Set;function Mh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ms=vt.d;vt.d={f:Ax,r:Cx,D:Rx,C:Ix,L:Nx,m:Dx,X:Mx,S:Lx,M:Ox};function Ax(){var e=Ms.f(),i=xh();return e||i}function Cx(e){var i=$n(e);i!==null&&i.tag===5&&i.type==="form"?M_(i):Ms.r(e)}var Vl=typeof document>"u"?null:document;function _v(e,i,o){var c=Vl;if(c&&typeof i=="string"&&i){var m=Ce(i);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),gv.has(m)||(gv.add(m),e={rel:e,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),Cn(i,"link",e),Ze(i),c.head.appendChild(i)))}}function Rx(e){Ms.D(e),_v("dns-prefetch",e,null)}function Ix(e,i){Ms.C(e,i),_v("preconnect",e,i)}function Nx(e,i,o){Ms.L(e,i,o);var c=Vl;if(c&&e&&i){var m='link[rel="preload"][as="'+Ce(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Ce(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Ce(o.imageSizes)+'"]')):m+='[href="'+Ce(e)+'"]';var g=m;switch(i){case"style":g=zl(e);break;case"script":g=Ul(e)}er.has(g)||(e=A({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),er.set(g,e),c.querySelector(m)!==null||i==="style"&&c.querySelector(Qu(g))||i==="script"&&c.querySelector(Yu(g))||(i=c.createElement("link"),Cn(i,"link",e),Ze(i),c.head.appendChild(i)))}}function Dx(e,i){Ms.m(e,i);var o=Vl;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Ce(c)+'"][href="'+Ce(e)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ul(e)}if(!er.has(g)&&(e=A({rel:"modulepreload",href:e},i),er.set(g,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Yu(g)))return}c=o.createElement("link"),Cn(c,"link",e),Ze(c),o.head.appendChild(c)}}}function Lx(e,i,o){Ms.S(e,i,o);var c=Vl;if(c&&e){var m=ji(c).hoistableStyles,g=zl(e);i=i||"default";var w=m.get(g);if(!w){var R={loading:0,preload:null};if(w=c.querySelector(Qu(g)))R.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},o),(o=er.get(g))&&Rm(e,o);var z=w=c.createElement("link");Ze(z),Cn(z,"link",e),z._p=new Promise(function(J,at){z.onload=J,z.onerror=at}),z.addEventListener("load",function(){R.loading|=1}),z.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Oh(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:R},m.set(g,w)}}}function Mx(e,i){Ms.X(e,i);var o=Vl;if(o&&e){var c=ji(o).hoistableScripts,m=Ul(e),g=c.get(m);g||(g=o.querySelector(Yu(m)),g||(e=A({src:e,async:!0},i),(i=er.get(m))&&Im(e,i),g=o.createElement("script"),Ze(g),Cn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Ox(e,i){Ms.M(e,i);var o=Vl;if(o&&e){var c=ji(o).hoistableScripts,m=Ul(e),g=c.get(m);g||(g=o.querySelector(Yu(m)),g||(e=A({src:e,async:!0,type:"module"},i),(i=er.get(m))&&Im(e,i),g=o.createElement("script"),Ze(g),Cn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function yv(e,i,o,c){var m=(m=Tt.current)?Mh(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=zl(o.href),o=ji(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=zl(o.href);var g=ji(m).hoistableStyles,w=g.get(e);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,w),(g=m.querySelector(Qu(e)))&&!g._p&&(w.instance=g,w.state.loading=5),er.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},er.set(e,o),g||Px(m,e,o,w.state))),i&&c===null)throw Error(a(528,""));return w}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ul(o),o=ji(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function zl(e){return'href="'+Ce(e)+'"'}function Qu(e){return'link[rel="stylesheet"]['+e+"]"}function vv(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Px(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Cn(i,"link",o),Ze(i),e.head.appendChild(i))}function Ul(e){return'[src="'+Ce(e)+'"]'}function Yu(e){return"script[async]"+e}function Ev(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Ce(o.href)+'"]');if(c)return i.instance=c,Ze(c),c;var m=A({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ze(c),Cn(c,"style",m),Oh(c,o.precedence,e),i.instance=c;case"stylesheet":m=zl(o.href);var g=e.querySelector(Qu(m));if(g)return i.state.loading|=4,i.instance=g,Ze(g),g;c=vv(o),(m=er.get(m))&&Rm(c,m),g=(e.ownerDocument||e).createElement("link"),Ze(g);var w=g;return w._p=new Promise(function(R,z){w.onload=R,w.onerror=z}),Cn(g,"link",c),i.state.loading|=4,Oh(g,o.precedence,e),i.instance=g;case"script":return g=Ul(o.src),(m=e.querySelector(Yu(g)))?(i.instance=m,Ze(m),m):(c=o,(m=er.get(g))&&(c=A({},o),Im(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Ze(m),Cn(m,"link",c),e.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Oh(c,o.precedence,e));return i.instance}function Oh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,w=0;w<c.length;w++){var R=c[w];if(R.dataset.precedence===i)g=R;else if(g!==m)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Rm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Im(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ph=null;function Tv(e,i,o){if(Ph===null){var c=new Map,m=Ph=new Map;m.set(o,c)}else m=Ph,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var g=o[m];if(!(g[Bi]||g[Be]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(i)||"";w=e+w;var R=c.get(w);R?R.push(g):c.set(w,[g])}}return c}function bv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function kx(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function wv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vx(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=zl(c.href),g=i.querySelector(Qu(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=kh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=g,Ze(g);return}g=i.ownerDocument||i,c=vv(c),(m=er.get(m))&&Rm(c,m),g=g.createElement("link"),Ze(g);var w=g;w._p=new Promise(function(R,z){w.onload=R,w.onerror=z}),Cn(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=kh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Nm=0;function zx(e,i){return e.stylesheets&&e.count===0&&zh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&zh(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Nm===0&&(Nm=62500*yx());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zh(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Nm?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vh=null;function zh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vh=new Map,i.forEach(Ux,e),Vh=null,kh.call(e))}function Ux(e,i){if(!(i.state.loading&4)){var o=Vh.get(e);if(o)var c=o.get(null);else{o=new Map,Vh.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}m=i.instance,w=m.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,m),o.set(w,m),this.count++,c=kh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),i.state.loading|=4}}var Xu={$$typeof:ct,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function Bx(e,i,o,c,m,g,w,R,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function xv(e,i,o,c,m,g,w,R,z,J,at,ft){return e=new Bx(e,i,o,w,z,J,at,ft,R),i=1,g===!0&&(i|=24),g=kn(3,null,null,i),e.current=g,g.stateNode=e,i=ud(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},dd(g),e}function Sv(e){return e?(e=vs,e):vs}function Av(e,i,o,c,m,g){m=Sv(m),c.context===null?c.context=m:c.pendingContext=m,c=ga(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=_a(e,c,i),o!==null&&(di(o,e,i),Ru(o,e,i))}function Cv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Dm(e,i){Cv(e,i),(e=e.alternate)&&Cv(e,i)}function Rv(e){if(e.tag===13||e.tag===31){var i=Wi(e,67108864);i!==null&&di(i,e,67108864),Dm(e,67108864)}}function Iv(e){if(e.tag===13||e.tag===31){var i=Li();i=pn(i);var o=Wi(e,i);o!==null&&di(o,e,i),Dm(e,i)}}var Uh=!0;function jx(e,i,o,c){var m=rt.T;rt.T=null;var g=vt.p;try{vt.p=2,Lm(e,i,o,c)}finally{vt.p=g,rt.T=m}}function Hx(e,i,o,c){var m=rt.T;rt.T=null;var g=vt.p;try{vt.p=8,Lm(e,i,o,c)}finally{vt.p=g,rt.T=m}}function Lm(e,i,o,c){if(Uh){var m=Mm(c);if(m===null)ym(e,i,c,Bh,o),Dv(e,c);else if(Fx(m,e,i,o,c))c.stopPropagation();else if(Dv(e,c),i&4&&-1<qx.indexOf(e)){for(;m!==null;){var g=$n(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Vi(g.pendingLanes);if(w!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var z=1<<31-ze(w);R.entanglements[1]|=z,w&=~z}Wr(g),(ge&6)===0&&(bh=xn()+500,Fu(0))}}break;case 31:case 13:R=Wi(g,2),R!==null&&di(R,g,2),xh(),Dm(g,2)}if(g=Mm(c),g===null&&ym(e,i,c,Bh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else ym(e,i,c,null,o)}}function Mm(e){return e=Ln(e),Om(e)}var Bh=null;function Om(e){if(Bh=null,e=vi(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=p(i),e!==null)return e;e=null}else if(o===31){if(e=v(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Bh=e,null}function Nv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ls()){case us:return 2;case Qs:return 8;case or:case pu:return 32;case $a:return 268435456;default:return 32}default:return 32}}var Pm=!1,Ra=null,Ia=null,Na=null,Wu=new Map,Ju=new Map,Da=[],qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(e,i){switch(e){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":Wu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(i.pointerId)}}function $u(e,i,o,c,m,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},i!==null&&(i=$n(i),i!==null&&Rv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function Fx(e,i,o,c,m){switch(i){case"focusin":return Ra=$u(Ra,e,i,o,c,m),!0;case"dragenter":return Ia=$u(Ia,e,i,o,c,m),!0;case"mouseover":return Na=$u(Na,e,i,o,c,m),!0;case"pointerover":var g=m.pointerId;return Wu.set(g,$u(Wu.get(g)||null,e,i,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Ju.set(g,$u(Ju.get(g)||null,e,i,o,c,m)),!0}return!1}function Lv(e){var i=vi(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=p(o),i!==null){e.blockedOn=i,Wn(e.priority,function(){Iv(o)});return}}else if(i===31){if(i=v(o),i!==null){e.blockedOn=i,Wn(e.priority,function(){Iv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Mm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);ea=c,o.target.dispatchEvent(c),ea=null}else return i=$n(o),i!==null&&Rv(i),e.blockedOn=o,!1;i.shift()}return!0}function Mv(e,i,o){jh(e)&&o.delete(i)}function Gx(){Pm=!1,Ra!==null&&jh(Ra)&&(Ra=null),Ia!==null&&jh(Ia)&&(Ia=null),Na!==null&&jh(Na)&&(Na=null),Wu.forEach(Mv),Ju.forEach(Mv)}function Hh(e,i){e.blockedOn===i&&(e.blockedOn=null,Pm||(Pm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gx)))}var qh=null;function Ov(e){qh!==e&&(qh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],m=e[i+2];if(typeof c!="function"){if(Om(c||o)===null)continue;break}var g=$n(o);g!==null&&(e.splice(i,3),i-=3,Md(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Bl(e){function i(z){return Hh(z,e)}Ra!==null&&Hh(Ra,e),Ia!==null&&Hh(Ia,e),Na!==null&&Hh(Na,e),Wu.forEach(i),Ju.forEach(i);for(var o=0;o<Da.length;o++){var c=Da[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Da.length&&(o=Da[0],o.blockedOn===null);)Lv(o),o.blockedOn===null&&Da.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],w=m[Ge]||null;if(typeof g=="function")w||Ov(o);else if(w){var R=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[Ge]||null)R=w.formAction;else if(Om(m)!==null)continue}else R=w.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),Ov(o)}}}function Pv(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function km(e){this._internalRoot=e}Fh.prototype.render=km.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=Li();Av(o,c,e,i,null,null)},Fh.prototype.unmount=km.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Av(e.current,2,null,e,null,null),xh(),i[_i]=null}};function Fh(e){this._internalRoot=e}Fh.prototype.unstable_scheduleHydration=function(e){if(e){var i=io();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Da.length&&i!==0&&i<Da[o].priority;o++);Da.splice(o,0,e),o===0&&Lv(e)}};var kv=t.version;if(kv!=="19.2.3")throw Error(a(527,kv,"19.2.3"));vt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=T(i),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var Zx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{Xn=Gh.inject(Zx),We=Gh}catch{}}return ec.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",m=q_,g=F_,w=G_;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=xv(e,1,!1,null,null,o,c,null,m,g,w,Pv),e[_i]=i.current,_m(e),new km(i)},ec.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,m="",g=q_,w=F_,R=G_,z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),i=xv(e,1,!0,i,o??null,c,m,z,g,w,R,Pv),i.context=Sv(null),o=i.current,c=Li(),c=pn(c),m=ga(c),m.callback=null,_a(o,m,c),o=c,i.current.lanes=o,lr(i,o),Wr(i),e[_i]=i.current,_m(e),new Fh(i)},ec.version="19.2.3",ec}var Zv;function e1(){if(Zv)return Um.exports;Zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Um.exports=t1(),Um.exports}var n1=e1();var Kv="popstate";function i1(r={}){function t(a,l){let{pathname:h,search:p,hash:v}=a.location;return ap("",{pathname:h,search:p,hash:v},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:pc(l)}return s1(t,n,null,r)}function Ve(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function sr(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function r1(){return Math.random().toString(36).substring(2,10)}function Qv(r,t){return{usr:r.state,key:r.key,idx:t}}function ap(r,t,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?ru(t):t,state:n,key:t&&t.key||a||r1()}}function pc({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ru(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function s1(r,t,n,a={}){let{window:l=document.defaultView,v5Compat:h=!1}=a,p=l.history,v="POP",y=null,T=S();T==null&&(T=0,p.replaceState({...p.state,idx:T},""));function S(){return(p.state||{idx:null}).idx}function A(){v="POP";let q=S(),ot=q==null?null:q-T;T=q,y&&y({action:v,location:Y.location,delta:ot})}function D(q,ot){v="PUSH";let lt=ap(Y.location,q,ot);T=S()+1;let ct=Qv(lt,T),Dt=Y.createHref(lt);try{p.pushState(ct,"",Dt)}catch(Lt){if(Lt instanceof DOMException&&Lt.name==="DataCloneError")throw Lt;l.location.assign(Dt)}h&&y&&y({action:v,location:Y.location,delta:1})}function G(q,ot){v="REPLACE";let lt=ap(Y.location,q,ot);T=S();let ct=Qv(lt,T),Dt=Y.createHref(lt);p.replaceState(ct,"",Dt),h&&y&&y({action:v,location:Y.location,delta:0})}function nt(q){return a1(q)}let Y={get action(){return v},get location(){return r(l,p)},listen(q){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(Kv,A),y=q,()=>{l.removeEventListener(Kv,A),y=null}},createHref(q){return t(l,q)},createURL:nt,encodeLocation(q){let ot=nt(q);return{pathname:ot.pathname,search:ot.search,hash:ot.hash}},push:D,replace:G,go(q){return p.go(q)}};return Y}function a1(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:pc(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function DE(r,t,n="/"){return o1(r,t,n,!1)}function o1(r,t,n,a){let l=typeof t=="string"?ru(t):t,h=Us(l.pathname||"/",n);if(h==null)return null;let p=LE(r);l1(p);let v=null;for(let y=0;v==null&&y<p.length;++y){let T=v1(h);v=_1(p[y],T,a)}return v}function LE(r,t=[],n=[],a="",l=!1){let h=(p,v,y=l,T)=>{let S={relativePath:T===void 0?p.path||"":T,caseSensitive:p.caseSensitive===!0,childrenIndex:v,route:p};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(a)&&y)return;Ve(S.relativePath.startsWith(a),`Absolute route path "${S.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(a.length)}let A=Vs([a,S.relativePath]),D=n.concat(S);p.children&&p.children.length>0&&(Ve(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),LE(p.children,t,D,A,y)),!(p.path==null&&!p.index)&&t.push({path:A,score:p1(A,p.index),routesMeta:D})};return r.forEach((p,v)=>{if(p.path===""||!p.path?.includes("?"))h(p,v);else for(let y of ME(p.path))h(p,v,!0,y)}),t}function ME(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(a.length===0)return l?[h,""]:[h];let p=ME(a.join("/")),v=[];return v.push(...p.map(y=>y===""?h:[h,y].join("/"))),l&&v.push(...p),v.map(y=>r.startsWith("/")&&y===""?"/":y)}function l1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:g1(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var u1=/^:[\w-]+$/,c1=3,h1=2,f1=1,d1=10,m1=-2,Yv=r=>r==="*";function p1(r,t){let n=r.split("/"),a=n.length;return n.some(Yv)&&(a+=m1),t&&(a+=h1),n.filter(l=>!Yv(l)).reduce((l,h)=>l+(u1.test(h)?c1:h===""?f1:d1),a)}function g1(r,t){return r.length===t.length&&r.slice(0,-1).every((a,l)=>a===t[l])?r[r.length-1]-t[t.length-1]:0}function _1(r,t,n=!1){let{routesMeta:a}=r,l={},h="/",p=[];for(let v=0;v<a.length;++v){let y=a[v],T=v===a.length-1,S=h==="/"?t:t.slice(h.length)||"/",A=df({path:y.relativePath,caseSensitive:y.caseSensitive,end:T},S),D=y.route;if(!A&&T&&n&&!a[a.length-1].route.index&&(A=df({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},S)),!A)return null;Object.assign(l,A.params),p.push({params:l,pathname:Vs([h,A.pathname]),pathnameBase:w1(Vs([h,A.pathnameBase])),route:D}),A.pathnameBase!=="/"&&(h=Vs([h,A.pathnameBase]))}return p}function df(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=y1(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let h=l[0],p=h.replace(/(.)\/+$/,"$1"),v=l.slice(1);return{params:a.reduce((T,{paramName:S,isOptional:A},D)=>{if(S==="*"){let nt=v[D]||"";p=h.slice(0,h.length-nt.length).replace(/(.)\/+$/,"$1")}const G=v[D];return A&&!G?T[S]=void 0:T[S]=(G||"").replace(/%2F/g,"/"),T},{}),pathname:h,pathnameBase:p,pattern:r}}function y1(r,t=!1,n=!0){sr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,v,y)=>(a.push({paramName:v,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function v1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Us(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}var OE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E1=r=>OE.test(r);function T1(r,t="/"){let{pathname:n,search:a="",hash:l=""}=typeof r=="string"?ru(r):r,h;if(n)if(E1(n))h=n;else{if(n.includes("//")){let p=n;n=n.replace(/\/\/+/g,"/"),sr(!1,`Pathnames cannot have embedded double slashes - normalizing ${p} -> ${n}`)}n.startsWith("/")?h=Xv(n.substring(1),"/"):h=Xv(n,t)}else h=t;return{pathname:h,search:x1(a),hash:S1(l)}}function Xv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function qm(r,t,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Pp(r){let t=b1(r);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function kp(r,t,n,a=!1){let l;typeof r=="string"?l=ru(r):(l={...r},Ve(!l.pathname||!l.pathname.includes("?"),qm("?","pathname","search",l)),Ve(!l.pathname||!l.pathname.includes("#"),qm("#","pathname","hash",l)),Ve(!l.search||!l.search.includes("#"),qm("#","search","hash",l)));let h=r===""||l.pathname==="",p=h?"/":l.pathname,v;if(p==null)v=n;else{let A=t.length-1;if(!a&&p.startsWith("..")){let D=p.split("/");for(;D[0]==="..";)D.shift(),A-=1;l.pathname=D.join("/")}v=A>=0?t[A]:"/"}let y=T1(l,v),T=p&&p!=="/"&&p.endsWith("/"),S=(h||p===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(T||S)&&(y.pathname+="/"),y}var Vs=r=>r.join("/").replace(/\/\/+/g,"/"),w1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),x1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,S1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,A1=class{constructor(r,t,n,a=!1){this.status=r,this.statusText=t||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function C1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function R1(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var PE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kE(r,t){let n=r;if(typeof n!="string"||!OE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,l=!1;if(PE)try{let h=new URL(window.location.href),p=n.startsWith("//")?new URL(h.protocol+n):new URL(n),v=Us(p.pathname,t);p.origin===h.origin&&v!=null?n=v+p.search+p.hash:l=!0}catch{sr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VE=["POST","PUT","PATCH","DELETE"];new Set(VE);var I1=["GET",...VE];new Set(I1);var su=K.createContext(null);su.displayName="DataRouter";var Of=K.createContext(null);Of.displayName="DataRouterState";var N1=K.createContext(!1),zE=K.createContext({isTransitioning:!1});zE.displayName="ViewTransition";var D1=K.createContext(new Map);D1.displayName="Fetchers";var L1=K.createContext(null);L1.displayName="Await";var Mi=K.createContext(null);Mi.displayName="Navigation";var Cc=K.createContext(null);Cc.displayName="Location";var Rr=K.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Vp=K.createContext(null);Vp.displayName="RouteError";var UE="REACT_ROUTER_ERROR",M1="REDIRECT",O1="ROUTE_ERROR_RESPONSE";function P1(r){if(r.startsWith(`${UE}:${M1}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function k1(r){if(r.startsWith(`${UE}:${O1}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new A1(t.status,t.statusText,t.data)}catch{}}function V1(r,{relative:t}={}){Ve(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=K.useContext(Mi),{hash:l,pathname:h,search:p}=Rc(r,{relative:t}),v=h;return n!=="/"&&(v=h==="/"?n:Vs([n,h])),a.createHref({pathname:v,search:p,hash:l})}function au(){return K.useContext(Cc)!=null}function Fs(){return Ve(au(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Cc).location}var BE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jE(r){K.useContext(Mi).static||K.useLayoutEffect(r)}function Gs(){let{isDataRoute:r}=K.useContext(Rr);return r?W1():z1()}function z1(){Ve(au(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(su),{basename:t,navigator:n}=K.useContext(Mi),{matches:a}=K.useContext(Rr),{pathname:l}=Fs(),h=JSON.stringify(Pp(a)),p=K.useRef(!1);return jE(()=>{p.current=!0}),K.useCallback((y,T={})=>{if(sr(p.current,BE),!p.current)return;if(typeof y=="number"){n.go(y);return}let S=kp(y,JSON.parse(h),l,T.relative==="path");r==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:Vs([t,S.pathname])),(T.replace?n.replace:n.push)(S,T.state,T)},[t,n,h,l,r])}K.createContext(null);function U1(){let{matches:r}=K.useContext(Rr),t=r[r.length-1];return t?t.params:{}}function Rc(r,{relative:t}={}){let{matches:n}=K.useContext(Rr),{pathname:a}=Fs(),l=JSON.stringify(Pp(n));return K.useMemo(()=>kp(r,JSON.parse(l),a,t==="path"),[r,l,a,t])}function B1(r,t){return HE(r,t)}function HE(r,t,n,a,l){Ve(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=K.useContext(Mi),{matches:p}=K.useContext(Rr),v=p[p.length-1],y=v?v.params:{},T=v?v.pathname:"/",S=v?v.pathnameBase:"/",A=v&&v.route;{let lt=A&&A.path||"";FE(T,!A||lt.endsWith("*")||lt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${T}" (under <Route path="${lt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${lt}"> to <Route path="${lt==="/"?"*":`${lt}/*`}">.`)}let D=Fs(),G;if(t){let lt=typeof t=="string"?ru(t):t;Ve(S==="/"||lt.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${lt.pathname}" was given in the \`location\` prop.`),G=lt}else G=D;let nt=G.pathname||"/",Y=nt;if(S!=="/"){let lt=S.replace(/^\//,"").split("/");Y="/"+nt.replace(/^\//,"").split("/").slice(lt.length).join("/")}let q=DE(r,{pathname:Y});sr(A||q!=null,`No routes matched location "${G.pathname}${G.search}${G.hash}" `),sr(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${G.pathname}${G.search}${G.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ot=G1(q&&q.map(lt=>Object.assign({},lt,{params:Object.assign({},y,lt.params),pathname:Vs([S,h.encodeLocation?h.encodeLocation(lt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:lt.pathname]),pathnameBase:lt.pathnameBase==="/"?S:Vs([S,h.encodeLocation?h.encodeLocation(lt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:lt.pathnameBase])})),p,n,a,l);return t&&ot?K.createElement(Cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...G},navigationType:"POP"}},ot):ot}function j1(){let r=X1(),t=C1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},p=null;return console.error("Error handled by React Router default ErrorBoundary:",r),p=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:h},"ErrorBoundary")," or"," ",K.createElement("code",{style:h},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:l},n):null,p)}var H1=K.createElement(j1,null),qE=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=k1(r.digest);n&&(r=n)}let t=r!==void 0?K.createElement(Rr.Provider,{value:this.props.routeContext},K.createElement(Vp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?K.createElement(q1,{error:r},t):t}};qE.contextType=N1;var Fm=new WeakMap;function q1({children:r,error:t}){let{basename:n}=K.useContext(Mi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=P1(t.digest);if(a){let l=Fm.get(t);if(l)throw l;let h=kE(a.location,n);if(PE&&!Fm.get(t))if(h.isExternal||a.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:a.replace}));throw Fm.set(t,p),p}return K.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return r}function F1({routeContext:r,match:t,children:n}){let a=K.useContext(su);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Rr.Provider,{value:r},n)}function G1(r,t=[],n=null,a=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let h=r,p=n?.errors;if(p!=null){let S=h.findIndex(A=>A.route.id&&p?.[A.route.id]!==void 0);Ve(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),h=h.slice(0,Math.min(h.length,S+1))}let v=!1,y=-1;if(n)for(let S=0;S<h.length;S++){let A=h[S];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(y=S),A.route.id){let{loaderData:D,errors:G}=n,nt=A.route.loader&&!D.hasOwnProperty(A.route.id)&&(!G||G[A.route.id]===void 0);if(A.route.lazy||nt){v=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}let T=n&&a?(S,A)=>{a(S,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:R1(n.matches),errorInfo:A})}:void 0;return h.reduceRight((S,A,D)=>{let G,nt=!1,Y=null,q=null;n&&(G=p&&A.route.id?p[A.route.id]:void 0,Y=A.route.errorElement||H1,v&&(y<0&&D===0?(FE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),nt=!0,q=null):y===D&&(nt=!0,q=A.route.hydrateFallbackElement||null)));let ot=t.concat(h.slice(0,D+1)),lt=()=>{let ct;return G?ct=Y:nt?ct=q:A.route.Component?ct=K.createElement(A.route.Component,null):A.route.element?ct=A.route.element:ct=S,K.createElement(F1,{match:A,routeContext:{outlet:S,matches:ot,isDataRoute:n!=null},children:ct})};return n&&(A.route.ErrorBoundary||A.route.errorElement||D===0)?K.createElement(qE,{location:n.location,revalidation:n.revalidation,component:Y,error:G,children:lt(),routeContext:{outlet:null,matches:ot,isDataRoute:!0},onError:T}):lt()},null)}function zp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z1(r){let t=K.useContext(su);return Ve(t,zp(r)),t}function K1(r){let t=K.useContext(Of);return Ve(t,zp(r)),t}function Q1(r){let t=K.useContext(Rr);return Ve(t,zp(r)),t}function Up(r){let t=Q1(r),n=t.matches[t.matches.length-1];return Ve(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Y1(){return Up("useRouteId")}function X1(){let r=K.useContext(Vp),t=K1("useRouteError"),n=Up("useRouteError");return r!==void 0?r:t.errors?.[n]}function W1(){let{router:r}=Z1("useNavigate"),t=Up("useNavigate"),n=K.useRef(!1);return jE(()=>{n.current=!0}),K.useCallback(async(l,h={})=>{sr(n.current,BE),n.current&&(typeof l=="number"?await r.navigate(l):await r.navigate(l,{fromRouteId:t,...h}))},[r,t])}var Wv={};function FE(r,t,n){!t&&!Wv[r]&&(Wv[r]=!0,sr(!1,n))}K.memo(J1);function J1({routes:r,future:t,state:n,onError:a}){return HE(r,void 0,n,a,t)}function $1({to:r,replace:t,state:n,relative:a}){Ve(au(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=K.useContext(Mi);sr(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=K.useContext(Rr),{pathname:p}=Fs(),v=Gs(),y=kp(r,Pp(h),p,a==="path"),T=JSON.stringify(y);return K.useEffect(()=>{v(JSON.parse(T),{replace:t,state:n,relative:a})},[v,T,a,t,n]),null}function Vo(r){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tS({basename:r="/",children:t=null,location:n,navigationType:a="POP",navigator:l,static:h=!1,unstable_useTransitions:p}){Ve(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=r.replace(/^\/*/,"/"),y=K.useMemo(()=>({basename:v,navigator:l,static:h,unstable_useTransitions:p,future:{}}),[v,l,h,p]);typeof n=="string"&&(n=ru(n));let{pathname:T="/",search:S="",hash:A="",state:D=null,key:G="default"}=n,nt=K.useMemo(()=>{let Y=Us(T,v);return Y==null?null:{location:{pathname:Y,search:S,hash:A,state:D,key:G},navigationType:a}},[v,T,S,A,D,G,a]);return sr(nt!=null,`<Router basename="${v}"> is not able to match the URL "${T}${S}${A}" because it does not start with the basename, so the <Router> won't render anything.`),nt==null?null:K.createElement(Mi.Provider,{value:y},K.createElement(Cc.Provider,{children:t,value:nt}))}function eS({children:r,location:t}){return B1(op(r),t)}function op(r,t=[]){let n=[];return K.Children.forEach(r,(a,l)=>{if(!K.isValidElement(a))return;let h=[...t,l];if(a.type===K.Fragment){n.push.apply(n,op(a.props.children,h));return}Ve(a.type===Vo,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!a.props.index||!a.props.children,"An index route cannot have child routes.");let p={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(p.children=op(a.props.children,h)),n.push(p)}),n}var $h="get",tf="application/x-www-form-urlencoded";function Pf(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function nS(r){return Pf(r)&&r.tagName.toLowerCase()==="button"}function iS(r){return Pf(r)&&r.tagName.toLowerCase()==="form"}function rS(r){return Pf(r)&&r.tagName.toLowerCase()==="input"}function sS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function aS(r,t){return r.button===0&&(!t||t==="_self")&&!sS(r)}var Zh=null;function oS(){if(Zh===null)try{new FormData(document.createElement("form"),0),Zh=!1}catch{Zh=!0}return Zh}var lS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gm(r){return r!=null&&!lS.has(r)?(sr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tf}"`),null):r}function uS(r,t){let n,a,l,h,p;if(iS(r)){let v=r.getAttribute("action");a=v?Us(v,t):null,n=r.getAttribute("method")||$h,l=Gm(r.getAttribute("enctype"))||tf,h=new FormData(r)}else if(nS(r)||rS(r)&&(r.type==="submit"||r.type==="image")){let v=r.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||v.getAttribute("action");if(a=y?Us(y,t):null,n=r.getAttribute("formmethod")||v.getAttribute("method")||$h,l=Gm(r.getAttribute("formenctype"))||Gm(v.getAttribute("enctype"))||tf,h=new FormData(v,r),!oS()){let{name:T,type:S,value:A}=r;if(S==="image"){let D=T?`${T}.`:"";h.append(`${D}x`,"0"),h.append(`${D}y`,"0")}else T&&h.append(T,A)}}else{if(Pf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$h,a=null,l=tf,p=r}return h&&l==="text/plain"&&(p=h,h=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:h,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function cS(r,t,n,a){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${a}`:l.pathname=`${l.pathname}.${a}`:l.pathname==="/"?l.pathname=`_root.${a}`:t&&Us(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function hS(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function dS(r,t,n){let a=await Promise.all(r.map(async l=>{let h=t.routes[l.route.id];if(h){let p=await hS(h,n);return p.links?p.links():[]}return[]}));return _S(a.flat(1).filter(fS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Jv(r,t,n,a,l,h){let p=(y,T)=>n[T]?y.route.id!==n[T].route.id:!0,v=(y,T)=>n[T].pathname!==y.pathname||n[T].route.path?.endsWith("*")&&n[T].params["*"]!==y.params["*"];return h==="assets"?t.filter((y,T)=>p(y,T)||v(y,T)):h==="data"?t.filter((y,T)=>{let S=a.routes[y.route.id];if(!S||!S.hasLoader)return!1;if(p(y,T)||v(y,T))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function mS(r,t,{includeHydrateFallback:n}={}){return pS(r.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function pS(r){return[...new Set(r)]}function gS(r){let t={},n=Object.keys(r).sort();for(let a of n)t[a]=r[a];return t}function _S(r,t){let n=new Set;return new Set(t),r.reduce((a,l)=>{let h=JSON.stringify(gS(l));return n.has(h)||(n.add(h),a.push({key:h,link:l})),a},[])}function GE(){let r=K.useContext(su);return Bp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function yS(){let r=K.useContext(Of);return Bp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var jp=K.createContext(void 0);jp.displayName="FrameworkContext";function ZE(){let r=K.useContext(jp);return Bp(r,"You must render this element inside a <HydratedRouter> element"),r}function vS(r,t){let n=K.useContext(jp),[a,l]=K.useState(!1),[h,p]=K.useState(!1),{onFocus:v,onBlur:y,onMouseEnter:T,onMouseLeave:S,onTouchStart:A}=t,D=K.useRef(null);K.useEffect(()=>{if(r==="render"&&p(!0),r==="viewport"){let Y=ot=>{ot.forEach(lt=>{p(lt.isIntersecting)})},q=new IntersectionObserver(Y,{threshold:.5});return D.current&&q.observe(D.current),()=>{q.disconnect()}}},[r]),K.useEffect(()=>{if(a){let Y=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(Y)}}},[a]);let G=()=>{l(!0)},nt=()=>{l(!1),p(!1)};return n?r!=="intent"?[h,D,{}]:[h,D,{onFocus:nc(v,G),onBlur:nc(y,nt),onMouseEnter:nc(T,G),onMouseLeave:nc(S,nt),onTouchStart:nc(A,G)}]:[!1,D,{}]}function nc(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function ES({page:r,...t}){let{router:n}=GE(),a=K.useMemo(()=>DE(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?K.createElement(bS,{page:r,matches:a,...t}):null}function TS(r){let{manifest:t,routeModules:n}=ZE(),[a,l]=K.useState([]);return K.useEffect(()=>{let h=!1;return dS(r,t,n).then(p=>{h||l(p)}),()=>{h=!0}},[r,t,n]),a}function bS({page:r,matches:t,...n}){let a=Fs(),{future:l,manifest:h,routeModules:p}=ZE(),{basename:v}=GE(),{loaderData:y,matches:T}=yS(),S=K.useMemo(()=>Jv(r,t,T,h,a,"data"),[r,t,T,h,a]),A=K.useMemo(()=>Jv(r,t,T,h,a,"assets"),[r,t,T,h,a]),D=K.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let Y=new Set,q=!1;if(t.forEach(lt=>{let ct=h.routes[lt.route.id];!ct||!ct.hasLoader||(!S.some(Dt=>Dt.route.id===lt.route.id)&&lt.route.id in y&&p[lt.route.id]?.shouldRevalidate||ct.hasClientLoader?q=!0:Y.add(lt.route.id))}),Y.size===0)return[];let ot=cS(r,v,l.unstable_trailingSlashAwareDataRequests,"data");return q&&Y.size>0&&ot.searchParams.set("_routes",t.filter(lt=>Y.has(lt.route.id)).map(lt=>lt.route.id).join(",")),[ot.pathname+ot.search]},[v,l.unstable_trailingSlashAwareDataRequests,y,a,h,S,t,r,p]),G=K.useMemo(()=>mS(A,h),[A,h]),nt=TS(A);return K.createElement(K.Fragment,null,D.map(Y=>K.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...n})),G.map(Y=>K.createElement("link",{key:Y,rel:"modulepreload",href:Y,...n})),nt.map(({key:Y,link:q})=>K.createElement("link",{key:Y,nonce:n.nonce,...q})))}function wS(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var xS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xS&&(window.__reactRouterVersion="7.12.0")}catch{}function SS({basename:r,children:t,unstable_useTransitions:n,window:a}){let l=K.useRef();l.current==null&&(l.current=i1({window:a,v5Compat:!0}));let h=l.current,[p,v]=K.useState({action:h.action,location:h.location}),y=K.useCallback(T=>{n===!1?v(T):K.startTransition(()=>v(T))},[n]);return K.useLayoutEffect(()=>h.listen(y),[h,y]),K.createElement(tS,{basename:r,children:t,location:p.location,navigationType:p.action,navigator:h,unstable_useTransitions:n})}var KE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QE=K.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:l,reloadDocument:h,replace:p,state:v,target:y,to:T,preventScrollReset:S,viewTransition:A,unstable_defaultShouldRevalidate:D,...G},nt){let{basename:Y,unstable_useTransitions:q}=K.useContext(Mi),ot=typeof T=="string"&&KE.test(T),lt=kE(T,Y);T=lt.to;let ct=V1(T,{relative:l}),[Dt,Lt,Bt]=vS(a,G),k=IS(T,{replace:p,state:v,target:y,preventScrollReset:S,relative:l,viewTransition:A,unstable_defaultShouldRevalidate:D,unstable_useTransitions:q});function M(H){t&&t(H),H.defaultPrevented||k(H)}let P=K.createElement("a",{...G,...Bt,href:lt.absoluteURL||ct,onClick:lt.isExternal||h?t:M,ref:wS(nt,Lt),target:y,"data-discover":!ot&&n==="render"?"true":void 0});return Dt&&!ot?K.createElement(K.Fragment,null,P,K.createElement(ES,{page:ct})):P});QE.displayName="Link";var AS=K.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:l=!1,style:h,to:p,viewTransition:v,children:y,...T},S){let A=Rc(p,{relative:T.relative}),D=Fs(),G=K.useContext(Of),{navigator:nt,basename:Y}=K.useContext(Mi),q=G!=null&&OS(A)&&v===!0,ot=nt.encodeLocation?nt.encodeLocation(A).pathname:A.pathname,lt=D.pathname,ct=G&&G.navigation&&G.navigation.location?G.navigation.location.pathname:null;n||(lt=lt.toLowerCase(),ct=ct?ct.toLowerCase():null,ot=ot.toLowerCase()),ct&&Y&&(ct=Us(ct,Y)||ct);const Dt=ot!=="/"&&ot.endsWith("/")?ot.length-1:ot.length;let Lt=lt===ot||!l&&lt.startsWith(ot)&&lt.charAt(Dt)==="/",Bt=ct!=null&&(ct===ot||!l&&ct.startsWith(ot)&&ct.charAt(ot.length)==="/"),k={isActive:Lt,isPending:Bt,isTransitioning:q},M=Lt?t:void 0,P;typeof a=="function"?P=a(k):P=[a,Lt?"active":null,Bt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let H=typeof h=="function"?h(k):h;return K.createElement(QE,{...T,"aria-current":M,className:P,ref:S,style:H,to:p,viewTransition:v},typeof y=="function"?y(k):y)});AS.displayName="NavLink";var CS=K.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:l,state:h,method:p=$h,action:v,onSubmit:y,relative:T,preventScrollReset:S,viewTransition:A,unstable_defaultShouldRevalidate:D,...G},nt)=>{let{unstable_useTransitions:Y}=K.useContext(Mi),q=LS(),ot=MS(v,{relative:T}),lt=p.toLowerCase()==="get"?"get":"post",ct=typeof v=="string"&&KE.test(v),Dt=Lt=>{if(y&&y(Lt),Lt.defaultPrevented)return;Lt.preventDefault();let Bt=Lt.nativeEvent.submitter,k=Bt?.getAttribute("formmethod")||p,M=()=>q(Bt||Lt.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:l,state:h,relative:T,preventScrollReset:S,viewTransition:A,unstable_defaultShouldRevalidate:D});Y&&n!==!1?K.startTransition(()=>M()):M()};return K.createElement("form",{ref:nt,method:lt,action:ot,onSubmit:a?y:Dt,...G,"data-discover":!ct&&r==="render"?"true":void 0})});CS.displayName="Form";function RS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YE(r){let t=K.useContext(su);return Ve(t,RS(r)),t}function IS(r,{target:t,replace:n,state:a,preventScrollReset:l,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:v,unstable_useTransitions:y}={}){let T=Gs(),S=Fs(),A=Rc(r,{relative:h});return K.useCallback(D=>{if(aS(D,t)){D.preventDefault();let G=n!==void 0?n:pc(S)===pc(A),nt=()=>T(r,{replace:G,state:a,preventScrollReset:l,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:v});y?K.startTransition(()=>nt()):nt()}},[S,T,A,n,a,t,r,l,h,p,v,y])}var NS=0,DS=()=>`__${String(++NS)}__`;function LS(){let{router:r}=YE("useSubmit"),{basename:t}=K.useContext(Mi),n=Y1(),a=r.fetch,l=r.navigate;return K.useCallback(async(h,p={})=>{let{action:v,method:y,encType:T,formData:S,body:A}=uS(h,t);if(p.navigate===!1){let D=p.fetcherKey||DS();await a(D,n,p.action||v,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:A,formMethod:p.method||y,formEncType:p.encType||T,flushSync:p.flushSync})}else await l(p.action||v,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:S,body:A,formMethod:p.method||y,formEncType:p.encType||T,replace:p.replace,state:p.state,fromRouteId:n,flushSync:p.flushSync,viewTransition:p.viewTransition})},[a,l,t,n])}function MS(r,{relative:t}={}){let{basename:n}=K.useContext(Mi),a=K.useContext(Rr);Ve(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),h={...Rc(r||".",{relative:t})},p=Fs();if(r==null){h.search=p.search;let v=new URLSearchParams(h.search),y=v.getAll("index");if(y.some(S=>S==="")){v.delete("index"),y.filter(A=>A).forEach(A=>v.append("index",A));let S=v.toString();h.search=S?`?${S}`:""}}return(!r||r===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:Vs([n,h.pathname])),pc(h)}function OS(r,{relative:t}={}){let n=K.useContext(zE);Ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=YE("useViewTransitionState"),l=Rc(r,{relative:t});if(!n.isTransitioning)return!1;let h=Us(n.currentLocation.pathname,a)||n.currentLocation.pathname,p=Us(n.nextLocation.pathname,a)||n.nextLocation.pathname;return df(l.pathname,p)!=null||df(l.pathname,h)!=null}var PS=NE();const kS=()=>{};var $v={};const XE=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},VS=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[n++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[n++],p=r[n++],v=r[n++],y=((l&7)<<18|(h&63)<<12|(p&63)<<6|v&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const h=r[n++],p=r[n++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|p&63)}}return t.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],p=l+1<r.length,v=p?r[l+1]:0,y=l+2<r.length,T=y?r[l+2]:0,S=h>>2,A=(h&3)<<4|v>>4;let D=(v&15)<<2|T>>6,G=T&63;y||(G=64,p||(D=64)),a.push(n[S],n[A],n[D],n[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(XE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):VS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=n[r.charAt(l++)],v=l<r.length?n[r.charAt(l)]:0;++l;const T=l<r.length?n[r.charAt(l)]:64;++l;const A=l<r.length?n[r.charAt(l)]:64;if(++l,h==null||v==null||T==null||A==null)throw new zS;const D=h<<2|v>>4;if(a.push(D),T!==64){const G=v<<4&240|T>>2;if(a.push(G),A!==64){const nt=T<<6&192|A;a.push(nt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class zS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(r){const t=XE(r);return WE.encodeByteArray(t,!0)},mf=function(r){return US(r).replace(/\./g,"")},JE=function(r){try{return WE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function BS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jS=()=>BS().__FIREBASE_DEFAULTS__,HS=()=>{if(typeof process>"u"||typeof $v>"u")return;const r=$v.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&JE(r[1]);return t&&JSON.parse(t)},kf=()=>{try{return kS()||jS()||HS()||qS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$E=r=>kf()?.emulatorHosts?.[r],FS=r=>{const t=$E(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},tT=()=>kf()?.config,eT=r=>kf()?.[`_${r}`];class GS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}function ou(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nT(r){return(await fetch(r,{credentials:"include"})).ok}function ZS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mf(JSON.stringify(n)),mf(JSON.stringify(p)),""].join(".")}const uc={};function KS(){const r={prod:[],emulator:[]};for(const t of Object.keys(uc))uc[t]?r.emulator.push(t):r.prod.push(t);return r}function QS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let t0=!1;function iT(r,t){if(typeof window>"u"||typeof document>"u"||!ou(window.location.host)||uc[r]===t||uc[r]||t0)return;uc[r]=t;function n(D){return`__firebase__banner__${D}`}const a="__firebase__banner",h=KS().prod.length>0;function p(){const D=document.getElementById(a);D&&D.remove()}function v(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,G){D.setAttribute("width","24"),D.setAttribute("id",G),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function T(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{t0=!0,p()},D}function S(D,G){D.setAttribute("id",G),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=QS(a),G=n("text"),nt=document.getElementById(G)||document.createElement("span"),Y=n("learnmore"),q=document.getElementById(Y)||document.createElement("a"),ot=n("preprendIcon"),lt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ct=D.element;v(ct),S(q,Y);const Dt=T();y(lt,ot),ct.append(lt,nt,q,Dt),document.body.appendChild(ct)}h?(nt.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,nt.innerText="Preview backend running in this workspace."),nt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function XS(){const r=kf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tA(){const r=jn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eA(){return!XS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nA(){try{return typeof indexedDB=="object"}catch{return!1}}function iA(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const rA="FirebaseError";class Zs extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=rA,Object.setPrototypeOf(this,Zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],p=h?sA(h,a):"Error",v=`${this.serviceName}: ${p} (${l}).`;return new Zs(l,v,a)}}function sA(r,t){return r.replace(aA,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const aA=/\{\$([^}]+)}/g;function oA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Fo(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const h=r[l],p=t[l];if(e0(h)&&e0(p)){if(!Fo(h,p))return!1}else if(h!==p)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function e0(r){return r!==null&&typeof r=="object"}function Nc(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function lA(r,t){const n=new uA(r,t);return n.subscribe.bind(n)}class uA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");cA(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=Zm),l.error===void 0&&(l.error=Zm),l.complete===void 0&&(l.complete=Zm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Zm(){}function Yn(r){return r&&r._delegate?r._delegate:r}class Go{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zo="[DEFAULT]";class hA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new GS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dA(t))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=zo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zo){return this.instances.has(t)}getOptions(t=zo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[h,p]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);a===v&&p.resolve(l)}return l}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:fA(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=zo){return this.component?this.component.multipleInstances?t:zo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fA(r){return r===zo?void 0:r}function dA(r){return r.instantiationMode==="EAGER"}class mA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new hA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var re;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(re||(re={}));const pA={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},gA=re.INFO,_A={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},yA=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=_A[t];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Hp{constructor(t){this.name=t,this._logLevel=gA,this._logHandler=yA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const vA=(r,t)=>t.some(n=>r instanceof n);let n0,i0;function EA(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TA(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rT=new WeakMap,lp=new WeakMap,sT=new WeakMap,Km=new WeakMap,qp=new WeakMap;function bA(r){const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",p)},h=()=>{n(za(r.result)),l()},p=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",p)});return t.then(n=>{n instanceof IDBCursor&&rT.set(n,r)}).catch(()=>{}),qp.set(t,r),t}function wA(r){if(lp.has(r))return;const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",p),r.removeEventListener("abort",p)},h=()=>{n(),l()},p=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",p),r.addEventListener("abort",p)});lp.set(r,t)}let up={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return lp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||sT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return za(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function xA(r){up=r(up)}function SA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(Qm(this),t,...n);return sT.set(a,t.sort?t.sort():[t]),za(a)}:TA().includes(r)?function(...t){return r.apply(Qm(this),t),za(rT.get(this))}:function(...t){return za(r.apply(Qm(this),t))}}function AA(r){return typeof r=="function"?SA(r):(r instanceof IDBTransaction&&wA(r),vA(r,EA())?new Proxy(r,up):r)}function za(r){if(r instanceof IDBRequest)return bA(r);if(Km.has(r))return Km.get(r);const t=AA(r);return t!==r&&(Km.set(r,t),qp.set(t,r)),t}const Qm=r=>qp.get(r);function CA(r,t,{blocked:n,upgrade:a,blocking:l,terminated:h}={}){const p=indexedDB.open(r,t),v=za(p);return a&&p.addEventListener("upgradeneeded",y=>{a(za(p.result),y.oldVersion,y.newVersion,za(p.transaction),y)}),n&&p.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),v.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",T=>l(T.oldVersion,T.newVersion,T))}).catch(()=>{}),v}const RA=["get","getKey","getAll","getAllKeys","count"],IA=["put","add","delete","clear"],Ym=new Map;function r0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ym.get(t))return Ym.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=IA.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||RA.includes(n)))return;const h=async function(p,...v){const y=this.transaction(p,l?"readwrite":"readonly");let T=y.store;return a&&(T=T.index(v.shift())),(await Promise.all([T[n](...v),l&&y.done]))[0]};return Ym.set(t,h),h}xA(r=>({...r,get:(t,n,a)=>r0(t,n)||r.get(t,n,a),has:(t,n)=>!!r0(t,n)||r.has(t,n)}));class NA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DA(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function DA(r){return r.getComponent()?.type==="VERSION"}const cp="@firebase/app",s0="0.14.6";const Bs=new Hp("@firebase/app"),LA="@firebase/app-compat",MA="@firebase/analytics-compat",OA="@firebase/analytics",PA="@firebase/app-check-compat",kA="@firebase/app-check",VA="@firebase/auth",zA="@firebase/auth-compat",UA="@firebase/database",BA="@firebase/data-connect",jA="@firebase/database-compat",HA="@firebase/functions",qA="@firebase/functions-compat",FA="@firebase/installations",GA="@firebase/installations-compat",ZA="@firebase/messaging",KA="@firebase/messaging-compat",QA="@firebase/performance",YA="@firebase/performance-compat",XA="@firebase/remote-config",WA="@firebase/remote-config-compat",JA="@firebase/storage",$A="@firebase/storage-compat",tC="@firebase/firestore",eC="@firebase/ai",nC="@firebase/firestore-compat",iC="firebase",rC="12.6.0";const hp="[DEFAULT]",sC={[cp]:"fire-core",[LA]:"fire-core-compat",[OA]:"fire-analytics",[MA]:"fire-analytics-compat",[kA]:"fire-app-check",[PA]:"fire-app-check-compat",[VA]:"fire-auth",[zA]:"fire-auth-compat",[UA]:"fire-rtdb",[BA]:"fire-data-connect",[jA]:"fire-rtdb-compat",[HA]:"fire-fn",[qA]:"fire-fn-compat",[FA]:"fire-iid",[GA]:"fire-iid-compat",[ZA]:"fire-fcm",[KA]:"fire-fcm-compat",[QA]:"fire-perf",[YA]:"fire-perf-compat",[XA]:"fire-rc",[WA]:"fire-rc-compat",[JA]:"fire-gcs",[$A]:"fire-gcs-compat",[tC]:"fire-fst",[nC]:"fire-fst-compat",[eC]:"fire-vertex","fire-js":"fire-js",[iC]:"fire-js-all"};const pf=new Map,aC=new Map,fp=new Map;function a0(r,t){try{r.container.addComponent(t)}catch(n){Bs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Yl(r){const t=r.name;if(fp.has(t))return Bs.debug(`There were multiple attempts to register component ${t}.`),!1;fp.set(t,r);for(const n of pf.values())a0(n,r);for(const n of aC.values())a0(n,r);return!0}function Fp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function wr(r){return r==null?!1:r.settings!==void 0}const oC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new Ic("app","Firebase",oC);class lC{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}const lu=rC;function aT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a={name:hp,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Ua.create("bad-app-name",{appName:String(l)});if(n||(n=tT()),!n)throw Ua.create("no-options");const h=pf.get(l);if(h){if(Fo(n,h.options)&&Fo(a,h.config))return h;throw Ua.create("duplicate-app",{appName:l})}const p=new mA(l);for(const y of fp.values())p.addComponent(y);const v=new lC(n,a,p);return pf.set(l,v),v}function oT(r=hp){const t=pf.get(r);if(!t&&r===hp&&tT())return aT();if(!t)throw Ua.create("no-app",{appName:r});return t}function Ba(r,t,n){let a=sC[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const p=[`Unable to register library "${a}" with version "${t}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&p.push("and"),h&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bs.warn(p.join(" "));return}Yl(new Go(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const uC="firebase-heartbeat-database",cC=1,gc="firebase-heartbeat-store";let Xm=null;function lT(){return Xm||(Xm=CA(uC,cC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(gc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ua.create("idb-open",{originalErrorMessage:r.message})})),Xm}async function hC(r){try{const n=(await lT()).transaction(gc),a=await n.objectStore(gc).get(uT(r));return await n.done,a}catch(t){if(t instanceof Zs)Bs.warn(t.message);else{const n=Ua.create("idb-get",{originalErrorMessage:t?.message});Bs.warn(n.message)}}}async function o0(r,t){try{const a=(await lT()).transaction(gc,"readwrite");await a.objectStore(gc).put(t,uT(r)),await a.done}catch(n){if(n instanceof Zs)Bs.warn(n.message);else{const a=Ua.create("idb-set",{originalErrorMessage:n?.message});Bs.warn(a.message)}}}function uT(r){return`${r.name}!${r.options.appId}`}const fC=1024,dC=30;class mC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=l0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>dC){const l=_C(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Bs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=l0(),{heartbeatsToSend:n,unsentEntries:a}=pC(this._heartbeatsCache.heartbeats),l=mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Bs.warn(t),""}}}function l0(){return new Date().toISOString().substring(0,10)}function pC(r,t=fC){const n=[];let a=r.slice();for(const l of r){const h=n.find(p=>p.agent===l.agent);if(h){if(h.dates.push(l.date),u0(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),u0(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class gC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nA()?iA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return o0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return o0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function u0(r){return mf(JSON.stringify({version:2,heartbeats:r})).length}function _C(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}function yC(r){Yl(new Go("platform-logger",t=>new NA(t),"PRIVATE")),Yl(new Go("heartbeat",t=>new mC(t),"PRIVATE")),Ba(cp,s0,r),Ba(cp,s0,"esm2020"),Ba("fire-js","")}yC("");function cT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vC=cT,hT=new Ic("auth","Firebase",cT());const gf=new Hp("@firebase/auth");function EC(r,...t){gf.logLevel<=re.WARN&&gf.warn(`Auth (${lu}): ${r}`,...t)}function ef(r,...t){gf.logLevel<=re.ERROR&&gf.error(`Auth (${lu}): ${r}`,...t)}function ss(r,...t){throw Zp(r,...t)}function Ar(r,...t){return Zp(r,...t)}function Gp(r,t,n){const a={...vC(),[t]:n};return new Ic("auth","Firebase",a).create(t,{appName:r.name})}function jo(r){return Gp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TC(r,t,n){const a=n;if(!(t instanceof a))throw a.name!==t.constructor.name&&ss(r,"argument-error"),Gp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zp(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return hT.create(r,...t)}function Ut(r,t,...n){if(!r)throw Zp(t,...n)}function Ps(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ef(t),new Error(t)}function js(r,t){r||Ps(t)}function dp(){return typeof self<"u"&&self.location?.href||""}function bC(){return c0()==="http:"||c0()==="https:"}function c0(){return typeof self<"u"&&self.location?.protocol||null}function wC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bC()||JS()||"connection"in navigator)?navigator.onLine:!0}function xC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Dc{constructor(t,n){this.shortDelay=t,this.longDelay=n,js(n>t,"Short delay should be less than long delay!"),this.isMobile=YS()||$S()}get(){return wC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kp(r,t){js(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class fT{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const AC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CC=new Dc(3e4,6e4);function Qp(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function uu(r,t,n,a,l={}){return dT(r,l,async()=>{let h={},p={};a&&(t==="GET"?p=a:h={body:JSON.stringify(a)});const v=Nc({key:r.config.apiKey,...p}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const T={method:t,headers:y,...h};return WS()||(T.referrerPolicy="no-referrer"),r.emulatorConfig&&ou(r.emulatorConfig.host)&&(T.credentials="include"),fT.fetch()(await mT(r,r.config.apiHost,n,v),T)})}async function dT(r,t,n){r._canInitEmulator=!1;const a={...SC,...t};try{const l=new IC(r),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const p=await h.json();if("needConfirmation"in p)throw Kh(r,"account-exists-with-different-credential",p);if(h.ok&&!("errorMessage"in p))return p;{const v=h.ok?p.errorMessage:p.error.message,[y,T]=v.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kh(r,"credential-already-in-use",p);if(y==="EMAIL_EXISTS")throw Kh(r,"email-already-in-use",p);if(y==="USER_DISABLED")throw Kh(r,"user-disabled",p);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw Gp(r,S,T);ss(r,S)}}catch(l){if(l instanceof Zs)throw l;ss(r,"network-request-failed",{message:String(l)})}}async function RC(r,t,n,a,l={}){const h=await uu(r,t,n,a,l);return"mfaPendingCredential"in h&&ss(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function mT(r,t,n,a){const l=`${t}${n}?${a}`,h=r,p=h.config.emulator?Kp(r.config,l):`${r.config.apiScheme}://${l}`;return AC.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(p).toString():p}class IC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ar(this.auth,"network-request-failed")),CC.get())})}}function Kh(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Ar(r,t,a);return l.customData._tokenResponse=n,l}async function NC(r,t){return uu(r,"POST","/v1/accounts:delete",t)}async function _f(r,t){return uu(r,"POST","/v1/accounts:lookup",t)}function cc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DC(r,t=!1){const n=Yn(r),a=await n.getIdToken(t),l=Yp(a);Ut(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,p=h?.sign_in_provider;return{claims:l,token:a,authTime:cc(Wm(l.auth_time)),issuedAtTime:cc(Wm(l.iat)),expirationTime:cc(Wm(l.exp)),signInProvider:p||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Wm(r){return Number(r)*1e3}function Yp(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{const l=JE(n);return l?JSON.parse(l):(ef("Failed to decode base64 JWT payload"),null)}catch(l){return ef("Caught error parsing JWT payload as JSON",l?.toString()),null}}function h0(r){const t=Yp(r);return Ut(t,"internal-error"),Ut(typeof t.exp<"u","internal-error"),Ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function _c(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof Zs&&LC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function LC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class MC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yf(r){const t=r.auth,n=await r.getIdToken(),a=await _c(r,_f(t,{idToken:n}));Ut(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?pT(l.providerUserInfo):[],p=PC(r.providerData,h),v=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!p?.length,T=v?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new mp(l.createdAt,l.lastLoginAt),isAnonymous:T};Object.assign(r,S)}async function OC(r){const t=Yn(r);await yf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function pT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function kC(r,t){const n=await dT(r,{},async()=>{const a=Nc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,p=await mT(r,l,"/v1/token",`key=${h}`),v=await r._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:v,body:a};return r.emulatorConfig&&ou(r.emulatorConfig.host)&&(y.credentials="include"),fT.fetch()(p,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VC(r,t){return uu(r,"POST","/v2/accounts:revokeToken",Qp(r,t))}class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ut(t.idToken,"internal-error"),Ut(typeof t.idToken<"u","internal-error"),Ut(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):h0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ut(t.length!==0,"internal-error");const n=h0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:h}=await kC(t,n);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:h}=n,p=new Gl;return a&&(Ut(typeof a=="string","internal-error",{appName:t}),p.refreshToken=a),l&&(Ut(typeof l=="string","internal-error",{appName:t}),p.accessToken=l),h&&(Ut(typeof h=="number","internal-error",{appName:t}),p.expirationTime=h),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return Ps("not implemented")}}function Ma(r,t){Ut(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class xr{constructor({uid:t,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new MC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await _c(this,this.stsTokenManager.getToken(this.auth,t));return Ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return DC(this,t)}reload(){return OC(this)}_assign(t){this!==t&&(Ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new xr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await yf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(jo(this.auth));const t=await this.getIdToken();return await _c(this,NC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,p=n.photoURL??void 0,v=n.tenantId??void 0,y=n._redirectEventId??void 0,T=n.createdAt??void 0,S=n.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:G,providerData:nt,stsTokenManager:Y}=n;Ut(A&&Y,t,"internal-error");const q=Gl.fromJSON(this.name,Y);Ut(typeof A=="string",t,"internal-error"),Ma(a,t.name),Ma(l,t.name),Ut(typeof D=="boolean",t,"internal-error"),Ut(typeof G=="boolean",t,"internal-error"),Ma(h,t.name),Ma(p,t.name),Ma(v,t.name),Ma(y,t.name),Ma(T,t.name),Ma(S,t.name);const ot=new xr({uid:A,auth:t,email:l,emailVerified:D,displayName:a,isAnonymous:G,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:q,createdAt:T,lastLoginAt:S});return nt&&Array.isArray(nt)&&(ot.providerData=nt.map(lt=>({...lt}))),y&&(ot._redirectEventId=y),ot}static async _fromIdTokenResponse(t,n,a=!1){const l=new Gl;l.updateFromServerResponse(n);const h=new xr({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await yf(h),h}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];Ut(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?pT(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!h?.length,v=new Gl;v.updateFromIdToken(a);const y=new xr({uid:l.localId,auth:t,stsTokenManager:v,isAnonymous:p}),T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new mp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,T),y}}const f0=new Map;function ks(r){js(r instanceof Function,"Expected a class definition");let t=f0.get(r);return t?(js(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,f0.set(r,t),t)}class gT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}gT.type="NONE";const d0=gT;function nf(r,t,n){return`firebase:${r}:${t}:${n}`}class Zl{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=nf(this.userKey,l.apiKey,h),this.fullPersistenceKey=nf("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await _f(this.auth,{idToken:t}).catch(()=>{});return n?xr._fromGetAccountInfoResponse(this.auth,n,t):null}return xr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new Zl(ks(d0),t,a);const l=(await Promise.all(n.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let h=l[0]||ks(d0);const p=nf(a,t.config.apiKey,t.name);let v=null;for(const T of n)try{const S=await T._get(p);if(S){let A;if(typeof S=="string"){const D=await _f(t,{idToken:S}).catch(()=>{});if(!D)break;A=await xr._fromGetAccountInfoResponse(t,D,S)}else A=xr._fromJSON(t,S);T!==h&&(v=A),h=T;break}}catch{}const y=l.filter(T=>T._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Zl(h,t,a):(h=y[0],v&&await h._set(p,v.toJSON()),await Promise.all(n.map(async T=>{if(T!==h)try{await T._remove(p)}catch{}})),new Zl(h,t,a))}}function m0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ET(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_T(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bT(t))return"Blackberry";if(wT(t))return"Webos";if(yT(t))return"Safari";if((t.includes("chrome/")||vT(t))&&!t.includes("edge/"))return"Chrome";if(TT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function _T(r=jn()){return/firefox\//i.test(r)}function yT(r=jn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vT(r=jn()){return/crios\//i.test(r)}function ET(r=jn()){return/iemobile/i.test(r)}function TT(r=jn()){return/android/i.test(r)}function bT(r=jn()){return/blackberry/i.test(r)}function wT(r=jn()){return/webos/i.test(r)}function Xp(r=jn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function zC(r=jn()){return Xp(r)&&!!window.navigator?.standalone}function UC(){return tA()&&document.documentMode===10}function xT(r=jn()){return Xp(r)||TT(r)||wT(r)||bT(r)||/windows phone/i.test(r)||ET(r)}function ST(r,t=[]){let n;switch(r){case"Browser":n=m0(jn());break;case"Worker":n=`${m0(jn())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${lu}/${a}`}class BC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=h=>new Promise((p,v)=>{try{const y=t(h);p(y)}catch(y){v(y)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function jC(r,t={}){return uu(r,"GET","/v2/passwordPolicy",Qp(r,t))}const HC=6;class qC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class FC{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new BC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await _f(this,{idToken:t}),a=await xr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(wr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,p=a?._redirectEventId,v=await this.tryRedirectSignIn(t);(!h||h===p)&&v?.user&&(a=v.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await yf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(wr(this.app))return Promise.reject(jo(this));const n=t?Yn(t):null;return n&&Ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return wr(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jC(this),n=new qC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ic("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await VC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ks(t)||this._popupRedirectResolver;Ut(n,this,"argument-error"),this.redirectPersistenceManager=await Zl.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let p=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(v,this,"internal-error"),v.then(()=>{p||h(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,a,l);return()=>{p=!0,y()}}else{const y=t.addObserver(n);return()=>{p=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ST(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&EC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Vf(r){return Yn(r)}class p0{constructor(t){this.auth=t,this.observer=null,this.addObserver=lA(n=>this.observer=n)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GC(r){Wp=r}function ZC(r){return Wp.loadJS(r)}function KC(){return Wp.gapiScript}function QC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function YC(r,t){const n=Fp(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(Fo(h,t??{}))return l;ss(l,"already-initialized")}return n.initialize({options:t})}function XC(r,t){const n=t?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ks);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function WC(r,t,n){const a=Vf(r);Ut(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=AT(t),{host:p,port:v}=JC(t),y=v===null?"":`:${v}`,T={url:`${h}//${p}${y}/`},S=Object.freeze({host:p,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ut(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ut(Fo(T,a.config.emulator)&&Fo(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=T,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,ou(p)?(nT(`${h}//${p}${y}`),iT("Auth",!0)):$C()}function AT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function JC(r){const t=AT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:g0(a.substr(h.length+1))}}else{const[h,p]=a.split(":");return{host:h,port:g0(p)}}}function g0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function $C(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class CT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ps("not implemented")}_getIdTokenResponse(t){return Ps("not implemented")}_linkToIdToken(t,n){return Ps("not implemented")}_getReauthenticationResolver(t){return Ps("not implemented")}}async function Kl(r,t){return RC(r,"POST","/v1/accounts:signInWithIdp",Qp(r,t))}const tR="http://localhost";class Zo extends CT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Zo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=n;if(!a||!l)return null;const p=new Zo(a,l);return p.idToken=h.idToken||void 0,p.accessToken=h.accessToken||void 0,p.secret=h.secret,p.nonce=h.nonce,p.pendingToken=h.pendingToken||null,p}_getIdTokenResponse(t){const n=this.buildRequest();return Kl(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,Kl(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Kl(t,n)}buildRequest(){const t={requestUri:tR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Nc(n)}return t}}class Jp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Lc extends Jp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Oa extends Lc{constructor(){super("facebook.com")}static credential(t){return Zo._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Oa.credentialFromTaggedObject(t)}static credentialFromError(t){return Oa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Oa.credential(t.oauthAccessToken)}catch{return null}}}Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oa.PROVIDER_ID="facebook.com";class Os extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Zo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Os.credential(n,a)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";class Pa extends Lc{constructor(){super("github.com")}static credential(t){return Zo._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pa.credentialFromTaggedObject(t)}static credentialFromError(t){return Pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pa.credential(t.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";class ka extends Lc{constructor(){super("twitter.com")}static credential(t,n){return Zo._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ka.credentialFromTaggedObject(t)}static credentialFromError(t){return ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return ka.credential(n,a)}catch{return null}}}ka.TWITTER_SIGN_IN_METHOD="twitter.com";ka.PROVIDER_ID="twitter.com";class Xl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const h=await xr._fromIdTokenResponse(t,a,l),p=_0(a);return new Xl({user:h,providerId:p,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=_0(a);return new Xl({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function _0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class vf extends Zs{constructor(t,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,vf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new vf(t,n,a,l)}}function RT(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?vf._fromErrorAndOperation(r,h,t,a):h})}async function eR(r,t,n=!1){const a=await _c(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Xl._forOperation(r,"link",a)}async function nR(r,t,n=!1){const{auth:a}=r;if(wr(a.app))return Promise.reject(jo(a));const l="reauthenticate";try{const h=await _c(r,RT(a,l,t,r),n);Ut(h.idToken,a,"internal-error");const p=Yp(h.idToken);Ut(p,a,"internal-error");const{sub:v}=p;return Ut(r.uid===v,a,"user-mismatch"),Xl._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&ss(a,"user-mismatch"),h}}async function iR(r,t,n=!1){if(wr(r.app))return Promise.reject(jo(r));const a="signIn",l=await RT(r,a,t),h=await Xl._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(h.user),h}function rR(r,t,n,a){return Yn(r).onIdTokenChanged(t,n,a)}function sR(r,t,n){return Yn(r).beforeAuthStateChanged(t,n)}function aR(r,t,n,a){return Yn(r).onAuthStateChanged(t,n,a)}function oR(r){return Yn(r).signOut()}const Ef="__sak";class IT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ef,"1"),this.storage.removeItem(Ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const lR=1e3,uR=10;class NT extends IT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((p,v,y)=>{this.notifyListeners(p,y)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!n&&this.localCache[a]===p||this.notifyListeners(a,p)},h=this.storage.getItem(a);UC()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,uR):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},lR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}NT.type="LOCAL";const cR=NT;class DT extends IT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}DT.type="SESSION";const LT=DT;function hR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class zf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new zf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:h}=n.data,p=this.handlersMap[l];if(!p?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const v=Array.from(p).map(async T=>T(n.origin,h)),y=await hR(v);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zf.receivers=[];function $p(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}class fR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,p;return new Promise((v,y)=>{const T=$p("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(A){const D=A;if(D.data.eventId===T)switch(D.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(D.data.response);break;default:clearTimeout(S),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:t,eventId:T,data:n},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function $r(){return window}function dR(r){$r().location.href=r}function MT(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function mR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pR(){return navigator?.serviceWorker?.controller||null}function gR(){return MT()?self:null}const OT="firebaseLocalStorageDb",_R=1,Tf="firebaseLocalStorage",PT="fbase_key";class Mc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(r,t){return r.transaction([Tf],t?"readwrite":"readonly").objectStore(Tf)}function yR(){const r=indexedDB.deleteDatabase(OT);return new Mc(r).toPromise()}function pp(){const r=indexedDB.open(OT,_R);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Tf,{keyPath:PT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Tf)?t(a):(a.close(),await yR(),t(await pp()))})})}async function y0(r,t,n){const a=Uf(r,!0).put({[PT]:t,value:n});return new Mc(a).toPromise()}async function vR(r,t){const n=Uf(r,!1).get(t),a=await new Mc(n).toPromise();return a===void 0?null:a.value}function v0(r,t){const n=Uf(r,!0).delete(t);return new Mc(n).toPromise()}const ER=800,TR=3;class kT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>TR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zf._getInstance(gR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mR(),!this.activeServiceWorker)return;this.sender=new fR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await pp();return await y0(t,Ef,"1"),await v0(t,Ef),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>y0(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>vR(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>v0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Uf(l,!1).getAll();return new Mc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ER)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kT.type="LOCAL";const bR=kT;new Dc(3e4,6e4);function VT(r,t){return t?ks(t):(Ut(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class tg extends CT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Kl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Kl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Kl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function wR(r){return iR(r.auth,new tg(r),r.bypassAuthState)}function xR(r){const{auth:t,user:n}=r;return Ut(n,t,"internal-error"),nR(n,new tg(r),r.bypassAuthState)}async function SR(r){const{auth:t,user:n}=r;return Ut(n,t,"internal-error"),eR(n,new tg(r),r.bypassAuthState)}class zT{constructor(t,n,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:h,error:p,type:v}=t;if(p){this.reject(p);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(y))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return wR;case"linkViaPopup":case"linkViaRedirect":return SR;case"reauthViaPopup":case"reauthViaRedirect":return xR;default:ss(this.auth,"internal-error")}}resolve(t){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AR=new Dc(2e3,1e4);async function CR(r,t,n){if(wr(r.app))return Promise.reject(Ar(r,"operation-not-supported-in-this-environment"));const a=Vf(r);TC(r,t,Jp);const l=VT(a,n);return new Uo(a,"signInViaPopup",t,l).executeNotNull()}class Uo extends zT{constructor(t,n,a,l,h){super(t,n,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ut(t,this.auth,"internal-error"),t}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const t=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,AR.get())};t()}}Uo.currentPopupAction=null;const RR="pendingRedirect",rf=new Map;class IR extends zT{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=rf.get(this.auth._key());if(!t){try{const a=await NR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}rf.set(this.auth._key(),t)}return this.bypassAuthState||rf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NR(r,t){const n=MR(t),a=LR(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function DR(r,t){rf.set(r._key(),t)}function LR(r){return ks(r._redirectPersistence)}function MR(r){return nf(RR,r.config.apiKey,r.name)}async function OR(r,t,n=!1){if(wr(r.app))return Promise.reject(jo(r));const a=Vf(r),l=VT(a,t),p=await new IR(a,l,n).execute();return p&&!n&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,t)),p}const PR=600*1e3;class kR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!UT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ar(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=PR&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(t))}saveEventToCache(t){this.cachedEventUids.add(E0(t)),this.lastProcessedEventTime=Date.now()}}function E0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function UT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function VR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UT(r);default:return!1}}async function zR(r,t={}){return uu(r,"GET","/v1/projects",t)}const UR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BR=/^https?/;async function jR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await zR(r);for(const n of t)try{if(HR(n))return}catch{}ss(r,"unauthorized-domain")}function HR(r){const t=dp(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&p.hostname===a}if(!BR.test(n))return!1;if(UR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const qR=new Dc(3e4,6e4);function T0(){const r=$r().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function FR(r){return new Promise((t,n)=>{function a(){T0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{T0(),n(Ar(r,"network-request-failed"))},timeout:qR.get()})}if($r().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if($r().gapi?.load)a();else{const l=QC("iframefcb");return $r()[l]=()=>{gapi.load?a():n(Ar(r,"network-request-failed"))},ZC(`${KC()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw sf=null,t})}let sf=null;function GR(r){return sf=sf||FR(r),sf}const ZR=new Dc(5e3,15e3),KR="__/auth/iframe",QR="emulator/auth/iframe",YR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WR(r){const t=r.config;Ut(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Kp(t,QR):`https://${r.config.authDomain}/${KR}`,a={apiKey:t.apiKey,appName:r.name,v:lu},l=XR.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${n}?${Nc(a).slice(1)}`}async function JR(r){const t=await GR(r),n=$r().gapi;return Ut(n,r,"internal-error"),t.open({where:document.body,url:WR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YR,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const p=Ar(r,"network-request-failed"),v=$r().setTimeout(()=>{h(p)},ZR.get());function y(){$r().clearTimeout(v),l(a)}a.ping(y).then(y,()=>{h(p)})}))}const $R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t2=500,e2=600,n2="_blank",i2="http://localhost";class b0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r2(r,t,n,a=t2,l=e2){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let v="";const y={...$R,width:a.toString(),height:l.toString(),top:h,left:p},T=jn().toLowerCase();n&&(v=vT(T)?n2:n),_T(T)&&(t=t||i2,y.scrollbars="yes");const S=Object.entries(y).reduce((D,[G,nt])=>`${D}${G}=${nt},`,"");if(zC(T)&&v!=="_self")return s2(t||"",v),new b0(null);const A=window.open(t||"",v,S);Ut(A,r,"popup-blocked");try{A.focus()}catch{}return new b0(A)}function s2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const a2="__/auth/handler",o2="emulator/auth/handler",l2=encodeURIComponent("fac");async function w0(r,t,n,a,l,h){Ut(r.config.authDomain,r,"auth-domain-config-required"),Ut(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:lu,eventId:l};if(t instanceof Jp){t.setDefaultLanguage(r.languageCode),p.providerId=t.providerId||"",oA(t.getCustomParameters())||(p.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,A]of Object.entries({}))p[S]=A}if(t instanceof Lc){const S=t.getScopes().filter(A=>A!=="");S.length>0&&(p.scopes=S.join(","))}r.tenantId&&(p.tid=r.tenantId);const v=p;for(const S of Object.keys(v))v[S]===void 0&&delete v[S];const y=await r._getAppCheckToken(),T=y?`#${l2}=${encodeURIComponent(y)}`:"";return`${u2(r)}?${Nc(v).slice(1)}${T}`}function u2({config:r}){return r.emulator?Kp(r,o2):`https://${r.authDomain}/${a2}`}const Jm="webStorageSupport";class c2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=OR,this._overrideRedirectResult=DR}async _openPopup(t,n,a,l){js(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await w0(t,n,a,dp(),l);return r2(t,h,$p())}async _openRedirect(t,n,a,l){await this._originValidation(t);const h=await w0(t,n,a,dp(),l);return dR(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(js(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await JR(t),a=new kR(t);return n.register("authEvent",l=>(Ut(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Jm,{type:Jm},l=>{const h=l?.[0]?.[Jm];h!==void 0&&n(!!h),ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return xT()||yT()||Xp()}}const h2=c2;var x0="@firebase/auth",S0="1.12.0";class f2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function d2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m2(r){Yl(new Go("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:p,authDomain:v}=a.options;Ut(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:p,authDomain:v,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ST(r)},T=new FC(a,l,h,y);return XC(T,n),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Yl(new Go("auth-internal",t=>{const n=Vf(t.getProvider("auth").getImmediate());return(a=>new f2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ba(x0,S0,d2(r)),Ba(x0,S0,"esm2020")}const p2=300,g2=eT("authIdTokenMaxAge")||p2;let A0=null;const _2=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>g2)return;const l=n?.token;A0!==l&&(A0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function y2(r=oT()){const t=Fp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=YC(r,{popupRedirectResolver:h2,persistence:[bR,cR,LT]}),a=eT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const p=_2(h.toString());sR(n,p,()=>p(n.currentUser)),rR(n,v=>p(v))}}const l=$E("auth");return l&&WC(n,`http://${l}`),n}function v2(){return document.getElementsByTagName("head")?.[0]??document}GC({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=Ar("internal-error");h.customData=l,n(h)},a.type="text/javascript",a.charset="UTF-8",v2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m2("Browser");var E2="firebase",T2="12.7.0";Ba(E2,T2,"app");var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ja,BT;(function(){var r;function t(k,M){function P(){}P.prototype=M.prototype,k.F=M.prototype,k.prototype=new P,k.prototype.constructor=k,k.D=function(H,B,F){for(var V=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)V[oe-2]=arguments[oe];return M.prototype[B].apply(H,V)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,M,P){P||(P=0);const H=Array(16);if(typeof M=="string")for(var B=0;B<16;++B)H[B]=M.charCodeAt(P++)|M.charCodeAt(P++)<<8|M.charCodeAt(P++)<<16|M.charCodeAt(P++)<<24;else for(B=0;B<16;++B)H[B]=M[P++]|M[P++]<<8|M[P++]<<16|M[P++]<<24;M=k.g[0],P=k.g[1],B=k.g[2];let F=k.g[3],V;V=M+(F^P&(B^F))+H[0]+3614090360&4294967295,M=P+(V<<7&4294967295|V>>>25),V=F+(B^M&(P^B))+H[1]+3905402710&4294967295,F=M+(V<<12&4294967295|V>>>20),V=B+(P^F&(M^P))+H[2]+606105819&4294967295,B=F+(V<<17&4294967295|V>>>15),V=P+(M^B&(F^M))+H[3]+3250441966&4294967295,P=B+(V<<22&4294967295|V>>>10),V=M+(F^P&(B^F))+H[4]+4118548399&4294967295,M=P+(V<<7&4294967295|V>>>25),V=F+(B^M&(P^B))+H[5]+1200080426&4294967295,F=M+(V<<12&4294967295|V>>>20),V=B+(P^F&(M^P))+H[6]+2821735955&4294967295,B=F+(V<<17&4294967295|V>>>15),V=P+(M^B&(F^M))+H[7]+4249261313&4294967295,P=B+(V<<22&4294967295|V>>>10),V=M+(F^P&(B^F))+H[8]+1770035416&4294967295,M=P+(V<<7&4294967295|V>>>25),V=F+(B^M&(P^B))+H[9]+2336552879&4294967295,F=M+(V<<12&4294967295|V>>>20),V=B+(P^F&(M^P))+H[10]+4294925233&4294967295,B=F+(V<<17&4294967295|V>>>15),V=P+(M^B&(F^M))+H[11]+2304563134&4294967295,P=B+(V<<22&4294967295|V>>>10),V=M+(F^P&(B^F))+H[12]+1804603682&4294967295,M=P+(V<<7&4294967295|V>>>25),V=F+(B^M&(P^B))+H[13]+4254626195&4294967295,F=M+(V<<12&4294967295|V>>>20),V=B+(P^F&(M^P))+H[14]+2792965006&4294967295,B=F+(V<<17&4294967295|V>>>15),V=P+(M^B&(F^M))+H[15]+1236535329&4294967295,P=B+(V<<22&4294967295|V>>>10),V=M+(B^F&(P^B))+H[1]+4129170786&4294967295,M=P+(V<<5&4294967295|V>>>27),V=F+(P^B&(M^P))+H[6]+3225465664&4294967295,F=M+(V<<9&4294967295|V>>>23),V=B+(M^P&(F^M))+H[11]+643717713&4294967295,B=F+(V<<14&4294967295|V>>>18),V=P+(F^M&(B^F))+H[0]+3921069994&4294967295,P=B+(V<<20&4294967295|V>>>12),V=M+(B^F&(P^B))+H[5]+3593408605&4294967295,M=P+(V<<5&4294967295|V>>>27),V=F+(P^B&(M^P))+H[10]+38016083&4294967295,F=M+(V<<9&4294967295|V>>>23),V=B+(M^P&(F^M))+H[15]+3634488961&4294967295,B=F+(V<<14&4294967295|V>>>18),V=P+(F^M&(B^F))+H[4]+3889429448&4294967295,P=B+(V<<20&4294967295|V>>>12),V=M+(B^F&(P^B))+H[9]+568446438&4294967295,M=P+(V<<5&4294967295|V>>>27),V=F+(P^B&(M^P))+H[14]+3275163606&4294967295,F=M+(V<<9&4294967295|V>>>23),V=B+(M^P&(F^M))+H[3]+4107603335&4294967295,B=F+(V<<14&4294967295|V>>>18),V=P+(F^M&(B^F))+H[8]+1163531501&4294967295,P=B+(V<<20&4294967295|V>>>12),V=M+(B^F&(P^B))+H[13]+2850285829&4294967295,M=P+(V<<5&4294967295|V>>>27),V=F+(P^B&(M^P))+H[2]+4243563512&4294967295,F=M+(V<<9&4294967295|V>>>23),V=B+(M^P&(F^M))+H[7]+1735328473&4294967295,B=F+(V<<14&4294967295|V>>>18),V=P+(F^M&(B^F))+H[12]+2368359562&4294967295,P=B+(V<<20&4294967295|V>>>12),V=M+(P^B^F)+H[5]+4294588738&4294967295,M=P+(V<<4&4294967295|V>>>28),V=F+(M^P^B)+H[8]+2272392833&4294967295,F=M+(V<<11&4294967295|V>>>21),V=B+(F^M^P)+H[11]+1839030562&4294967295,B=F+(V<<16&4294967295|V>>>16),V=P+(B^F^M)+H[14]+4259657740&4294967295,P=B+(V<<23&4294967295|V>>>9),V=M+(P^B^F)+H[1]+2763975236&4294967295,M=P+(V<<4&4294967295|V>>>28),V=F+(M^P^B)+H[4]+1272893353&4294967295,F=M+(V<<11&4294967295|V>>>21),V=B+(F^M^P)+H[7]+4139469664&4294967295,B=F+(V<<16&4294967295|V>>>16),V=P+(B^F^M)+H[10]+3200236656&4294967295,P=B+(V<<23&4294967295|V>>>9),V=M+(P^B^F)+H[13]+681279174&4294967295,M=P+(V<<4&4294967295|V>>>28),V=F+(M^P^B)+H[0]+3936430074&4294967295,F=M+(V<<11&4294967295|V>>>21),V=B+(F^M^P)+H[3]+3572445317&4294967295,B=F+(V<<16&4294967295|V>>>16),V=P+(B^F^M)+H[6]+76029189&4294967295,P=B+(V<<23&4294967295|V>>>9),V=M+(P^B^F)+H[9]+3654602809&4294967295,M=P+(V<<4&4294967295|V>>>28),V=F+(M^P^B)+H[12]+3873151461&4294967295,F=M+(V<<11&4294967295|V>>>21),V=B+(F^M^P)+H[15]+530742520&4294967295,B=F+(V<<16&4294967295|V>>>16),V=P+(B^F^M)+H[2]+3299628645&4294967295,P=B+(V<<23&4294967295|V>>>9),V=M+(B^(P|~F))+H[0]+4096336452&4294967295,M=P+(V<<6&4294967295|V>>>26),V=F+(P^(M|~B))+H[7]+1126891415&4294967295,F=M+(V<<10&4294967295|V>>>22),V=B+(M^(F|~P))+H[14]+2878612391&4294967295,B=F+(V<<15&4294967295|V>>>17),V=P+(F^(B|~M))+H[5]+4237533241&4294967295,P=B+(V<<21&4294967295|V>>>11),V=M+(B^(P|~F))+H[12]+1700485571&4294967295,M=P+(V<<6&4294967295|V>>>26),V=F+(P^(M|~B))+H[3]+2399980690&4294967295,F=M+(V<<10&4294967295|V>>>22),V=B+(M^(F|~P))+H[10]+4293915773&4294967295,B=F+(V<<15&4294967295|V>>>17),V=P+(F^(B|~M))+H[1]+2240044497&4294967295,P=B+(V<<21&4294967295|V>>>11),V=M+(B^(P|~F))+H[8]+1873313359&4294967295,M=P+(V<<6&4294967295|V>>>26),V=F+(P^(M|~B))+H[15]+4264355552&4294967295,F=M+(V<<10&4294967295|V>>>22),V=B+(M^(F|~P))+H[6]+2734768916&4294967295,B=F+(V<<15&4294967295|V>>>17),V=P+(F^(B|~M))+H[13]+1309151649&4294967295,P=B+(V<<21&4294967295|V>>>11),V=M+(B^(P|~F))+H[4]+4149444226&4294967295,M=P+(V<<6&4294967295|V>>>26),V=F+(P^(M|~B))+H[11]+3174756917&4294967295,F=M+(V<<10&4294967295|V>>>22),V=B+(M^(F|~P))+H[2]+718787259&4294967295,B=F+(V<<15&4294967295|V>>>17),V=P+(F^(B|~M))+H[9]+3951481745&4294967295,k.g[0]=k.g[0]+M&4294967295,k.g[1]=k.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+F&4294967295}a.prototype.v=function(k,M){M===void 0&&(M=k.length);const P=M-this.blockSize,H=this.C;let B=this.h,F=0;for(;F<M;){if(B==0)for(;F<=P;)l(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<M;)if(H[B++]=k.charCodeAt(F++),B==this.blockSize){l(this,H),B=0;break}}else for(;F<M;)if(H[B++]=k[F++],B==this.blockSize){l(this,H),B=0;break}}this.h=B,this.o+=M},a.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var M=1;M<k.length-8;++M)k[M]=0;M=this.o*8;for(var P=k.length-8;P<k.length;++P)k[P]=M&255,M/=256;for(this.v(k),k=Array(16),M=0,P=0;P<4;++P)for(let H=0;H<32;H+=8)k[M++]=this.g[P]>>>H&255;return k};function h(k,M){var P=v;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=M(k)}function p(k,M){this.h=M;const P=[];let H=!0;for(let B=k.length-1;B>=0;B--){const F=k[B]|0;H&&F==M||(P[B]=F,H=!1)}this.g=P}var v={};function y(k){return-128<=k&&k<128?h(k,function(M){return new p([M|0],M<0?-1:0)}):new p([k|0],k<0?-1:0)}function T(k){if(isNaN(k)||!isFinite(k))return A;if(k<0)return q(T(-k));const M=[];let P=1;for(let H=0;k>=P;H++)M[H]=k/P|0,P*=4294967296;return new p(M,0)}function S(k,M){if(k.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(k.charAt(0)=="-")return q(S(k.substring(1),M));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=T(Math.pow(M,8));let H=A;for(let F=0;F<k.length;F+=8){var B=Math.min(8,k.length-F);const V=parseInt(k.substring(F,F+B),M);B<8?(B=T(Math.pow(M,B)),H=H.j(B).add(T(V))):(H=H.j(P),H=H.add(T(V)))}return H}var A=y(0),D=y(1),G=y(16777216);r=p.prototype,r.m=function(){if(Y(this))return-q(this).m();let k=0,M=1;for(let P=0;P<this.g.length;P++){const H=this.i(P);k+=(H>=0?H:4294967296+H)*M,M*=4294967296}return k},r.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(nt(this))return"0";if(Y(this))return"-"+q(this).toString(k);const M=T(Math.pow(k,6));var P=this;let H="";for(;;){const B=Dt(P,M).g;P=ot(P,B.j(M));let F=((P.g.length>0?P.g[0]:P.h)>>>0).toString(k);if(P=B,nt(P))return F+H;for(;F.length<6;)F="0"+F;H=F+H}},r.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function nt(k){if(k.h!=0)return!1;for(let M=0;M<k.g.length;M++)if(k.g[M]!=0)return!1;return!0}function Y(k){return k.h==-1}r.l=function(k){return k=ot(this,k),Y(k)?-1:nt(k)?0:1};function q(k){const M=k.g.length,P=[];for(let H=0;H<M;H++)P[H]=~k.g[H];return new p(P,~k.h).add(D)}r.abs=function(){return Y(this)?q(this):this},r.add=function(k){const M=Math.max(this.g.length,k.g.length),P=[];let H=0;for(let B=0;B<=M;B++){let F=H+(this.i(B)&65535)+(k.i(B)&65535),V=(F>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);H=V>>>16,F&=65535,V&=65535,P[B]=V<<16|F}return new p(P,P[P.length-1]&-2147483648?-1:0)};function ot(k,M){return k.add(q(M))}r.j=function(k){if(nt(this)||nt(k))return A;if(Y(this))return Y(k)?q(this).j(q(k)):q(q(this).j(k));if(Y(k))return q(this.j(q(k)));if(this.l(G)<0&&k.l(G)<0)return T(this.m()*k.m());const M=this.g.length+k.g.length,P=[];for(var H=0;H<2*M;H++)P[H]=0;for(H=0;H<this.g.length;H++)for(let B=0;B<k.g.length;B++){const F=this.i(H)>>>16,V=this.i(H)&65535,oe=k.i(B)>>>16,Xe=k.i(B)&65535;P[2*H+2*B]+=V*Xe,lt(P,2*H+2*B),P[2*H+2*B+1]+=F*Xe,lt(P,2*H+2*B+1),P[2*H+2*B+1]+=V*oe,lt(P,2*H+2*B+1),P[2*H+2*B+2]+=F*oe,lt(P,2*H+2*B+2)}for(k=0;k<M;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=M;k<2*M;k++)P[k]=0;return new p(P,0)};function lt(k,M){for(;(k[M]&65535)!=k[M];)k[M+1]+=k[M]>>>16,k[M]&=65535,M++}function ct(k,M){this.g=k,this.h=M}function Dt(k,M){if(nt(M))throw Error("division by zero");if(nt(k))return new ct(A,A);if(Y(k))return M=Dt(q(k),M),new ct(q(M.g),q(M.h));if(Y(M))return M=Dt(k,q(M)),new ct(q(M.g),M.h);if(k.g.length>30){if(Y(k)||Y(M))throw Error("slowDivide_ only works with positive integers.");for(var P=D,H=M;H.l(k)<=0;)P=Lt(P),H=Lt(H);var B=Bt(P,1),F=Bt(H,1);for(H=Bt(H,2),P=Bt(P,2);!nt(H);){var V=F.add(H);V.l(k)<=0&&(B=B.add(P),F=V),H=Bt(H,1),P=Bt(P,1)}return M=ot(k,B.j(M)),new ct(B,M)}for(B=A;k.l(M)>=0;){for(P=Math.max(1,Math.floor(k.m()/M.m())),H=Math.ceil(Math.log(P)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),F=T(P),V=F.j(M);Y(V)||V.l(k)>0;)P-=H,F=T(P),V=F.j(M);nt(F)&&(F=D),B=B.add(F),k=ot(k,V)}return new ct(B,k)}r.B=function(k){return Dt(this,k).h},r.and=function(k){const M=Math.max(this.g.length,k.g.length),P=[];for(let H=0;H<M;H++)P[H]=this.i(H)&k.i(H);return new p(P,this.h&k.h)},r.or=function(k){const M=Math.max(this.g.length,k.g.length),P=[];for(let H=0;H<M;H++)P[H]=this.i(H)|k.i(H);return new p(P,this.h|k.h)},r.xor=function(k){const M=Math.max(this.g.length,k.g.length),P=[];for(let H=0;H<M;H++)P[H]=this.i(H)^k.i(H);return new p(P,this.h^k.h)};function Lt(k){const M=k.g.length+1,P=[];for(let H=0;H<M;H++)P[H]=k.i(H)<<1|k.i(H-1)>>>31;return new p(P,k.h)}function Bt(k,M){const P=M>>5;M%=32;const H=k.g.length-P,B=[];for(let F=0;F<H;F++)B[F]=M>0?k.i(F+P)>>>M|k.i(F+P+1)<<32-M:k.i(F+P);return new p(B,k.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,BT=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=T,p.fromString=S,ja=p}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jT,rc,HT,af,gp,qT,FT,GT;(function(){var r,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var E=0;E<f.length;++E){var x=f[E];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var a=n(this);function l(f,E){if(E)t:{var x=a;f=f.split(".");for(var N=0;N<f.length-1;N++){var X=f[N];if(!(X in x))break t;x=x[X]}f=f[f.length-1],N=x[f],E=E(N),E!=N&&E!=null&&t(x,f,{configurable:!0,writable:!0,value:E})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(E){var x=[],N;for(N in E)Object.prototype.hasOwnProperty.call(E,N)&&x.push([N,E[N]]);return x}});var h=h||{},p=this||self;function v(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function y(f,E,x){return f.call.apply(f.bind,arguments)}function T(f,E,x){return T=y,T.apply(null,arguments)}function S(f,E){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function A(f,E){function x(){}x.prototype=E.prototype,f.Z=E.prototype,f.prototype=new x,f.prototype.constructor=f,f.Ob=function(N,X,et){for(var yt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)yt[zt-2]=arguments[zt];return E.prototype[X].apply(N,yt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function G(f){const E=f.length;if(E>0){const x=Array(E);for(let N=0;N<E;N++)x[N]=f[N];return x}return[]}function nt(f,E){for(let N=1;N<arguments.length;N++){const X=arguments[N];var x=typeof X;if(x=x!="object"?x:X?Array.isArray(X)?"array":x:"null",x=="array"||x=="object"&&typeof X.length=="number"){x=f.length||0;const et=X.length||0;f.length=x+et;for(let yt=0;yt<et;yt++)f[x+yt]=X[yt]}else f.push(X)}}class Y{constructor(E,x){this.i=E,this.j=x,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function q(f){p.setTimeout(()=>{throw f},0)}function ot(){var f=k;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class lt{constructor(){this.h=this.g=null}add(E,x){const N=ct.get();N.set(E,x),this.h?this.h.next=N:this.g=N,this.h=N}}var ct=new Y(()=>new Dt,f=>f.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(E,x){this.h=E,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Lt,Bt=!1,k=new lt,M=()=>{const f=Promise.resolve(void 0);Lt=()=>{f.then(P)}};function P(){for(var f;f=ot();){try{f.h.call(f.g)}catch(x){q(x)}var E=ct;E.j(f),E.h<100&&(E.h++,f.next=E.g,E.g=f)}Bt=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const x=()=>{};p.addEventListener("test",x,E),p.removeEventListener("test",x,E)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function oe(f,E){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,E)}A(oe,B),oe.prototype.init=function(f,E){const x=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget,E||(x=="mouseover"?E=f.fromElement:x=="mouseout"&&(E=f.toElement)),this.relatedTarget=E,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),rt=0;function vt(f,E,x,N,X){this.listener=f,this.proxy=null,this.src=E,this.type=x,this.capture=!!N,this.ha=X,this.key=++rt,this.da=this.fa=!1}function pt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function te(f,E,x){for(const N in f)E.call(x,f[N],N,f)}function wt(f,E){for(const x in f)E.call(void 0,f[x],x,f)}function U(f){const E={};for(const x in f)E[x]=f[x];return E}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(f,E){let x,N;for(let X=1;X<arguments.length;X++){N=arguments[X];for(x in N)f[x]=N[x];for(let et=0;et<st.length;et++)x=st[et],Object.prototype.hasOwnProperty.call(N,x)&&(f[x]=N[x])}}function _t(f){this.src=f,this.g={},this.h=0}_t.prototype.add=function(f,E,x,N,X){const et=f.toString();f=this.g[et],f||(f=this.g[et]=[],this.h++);const yt=Tt(f,E,N,X);return yt>-1?(E=f[yt],x||(E.fa=!1)):(E=new vt(E,this.src,et,!!N,X),E.fa=x,f.push(E)),E};function bt(f,E){const x=E.type;if(x in f.g){var N=f.g[x],X=Array.prototype.indexOf.call(N,E,void 0),et;(et=X>=0)&&Array.prototype.splice.call(N,X,1),et&&(pt(E),f.g[x].length==0&&(delete f.g[x],f.h--))}}function Tt(f,E,x,N){for(let X=0;X<f.length;++X){const et=f[X];if(!et.da&&et.listener==E&&et.capture==!!x&&et.ha==N)return X}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),be={};function Ae(f,E,x,N,X){if(Array.isArray(E)){for(let et=0;et<E.length;et++)Ae(f,E[et],x,N,X);return null}return x=Lr(x),f&&f[Xe]?f.J(E,x,v(N)?!!N.capture:!1,X):ar(f,E,x,!1,N,X)}function ar(f,E,x,N,X,et){if(!E)throw Error("Invalid event type");const yt=v(X)?!!X.capture:!!X;let zt=Dr(f);if(zt||(f[Ht]=zt=new _t(f)),x=zt.add(E,x,N,yt,et),x.proxy)return x;if(N=Ir(),x.proxy=N,N.src=f,N.listener=x,f.addEventListener)F||(X=yt),X===void 0&&(X=!1),f.addEventListener(E.toString(),N,X);else if(f.attachEvent)f.attachEvent(Pi(E.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ir(){function f(x){return E.call(f.src,f.listener,x)}const E=Ks;return f}function Oi(f,E,x,N,X){if(Array.isArray(E))for(var et=0;et<E.length;et++)Oi(f,E[et],x,N,X);else N=v(N)?!!N.capture:!!N,x=Lr(x),f&&f[Xe]?(f=f.i,et=String(E).toString(),et in f.g&&(E=f.g[et],x=Tt(E,x,N,X),x>-1&&(pt(E[x]),Array.prototype.splice.call(E,x,1),E.length==0&&(delete f.g[et],f.h--)))):f&&(f=Dr(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Tt(E,x,N,X)),(x=f>-1?E[f]:null)&&Nr(x))}function Nr(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Xe])bt(E.i,f);else{var x=f.type,N=f.proxy;E.removeEventListener?E.removeEventListener(x,N,f.capture):E.detachEvent?E.detachEvent(Pi(x),N):E.addListener&&E.removeListener&&E.removeListener(N),(x=Dr(E))?(bt(x,f),x.h==0&&(x.src=null,E[Ht]=null)):pt(f)}}}function Pi(f){return f in be?be[f]:be[f]="on"+f}function Ks(f,E){if(f.da)f=!0;else{E=new oe(E,this);const x=f.listener,N=f.ha||f.src;f.fa&&Nr(f),f=x.call(N,E)}return f}function Dr(f){return f=f[Ht],f instanceof _t?f:null}var os="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lr(f){return typeof f=="function"?f:(f[os]||(f[os]=function(E){return f.handleEvent(E)}),f[os])}function qe(){H.call(this),this.i=new _t(this),this.M=this,this.G=null}A(qe,H),qe.prototype[Xe]=!0,qe.prototype.removeEventListener=function(f,E,x,N){Oi(this,f,E,x,N)};function Fe(f,E){var x,N=f.G;if(N)for(x=[];N;N=N.G)x.push(N);if(f=f.M,N=E.type||E,typeof E=="string")E=new B(E,f);else if(E instanceof B)E.target=E.target||f;else{var X=E;E=new B(N,f),gt(E,X)}X=!0;let et,yt;if(x)for(yt=x.length-1;yt>=0;yt--)et=E.g=x[yt],X=ki(et,N,!0,E)&&X;if(et=E.g=f,X=ki(et,N,!0,E)&&X,X=ki(et,N,!1,E)&&X,x)for(yt=0;yt<x.length;yt++)et=E.g=x[yt],X=ki(et,N,!1,E)&&X}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var f=this.i;for(const E in f.g){const x=f.g[E];for(let N=0;N<x.length;N++)pt(x[N]);delete f.g[E],f.h--}}this.G=null},qe.prototype.J=function(f,E,x,N){return this.i.add(String(f),E,!1,x,N)},qe.prototype.K=function(f,E,x,N){return this.i.add(String(f),E,!0,x,N)};function ki(f,E,x,N){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();let X=!0;for(let et=0;et<E.length;++et){const yt=E[et];if(yt&&!yt.da&&yt.capture==x){const zt=yt.listener,le=yt.ha||yt.src;yt.fa&&bt(f.i,yt),X=zt.call(le,N)!==!1&&X}}return X&&!N.defaultPrevented}function tl(f,E){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:p.setTimeout(f,E||0)}function Ja(f){f.g=tl(()=>{f.g=null,f.i&&(f.i=!1,Ja(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class xn extends H{constructor(E,x){super(),this.m=E,this.l=x,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ja(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(f){H.call(this),this.h=f,this.g={}}A(ls,H);var us=[];function Qs(f){te(f.g,function(E,x){this.g.hasOwnProperty(x)&&Nr(E)},f),f.g={}}ls.prototype.N=function(){ls.Z.N.call(this),Qs(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=p.JSON.stringify,pu=p.JSON.parse,$a=class{stringify(f){return p.JSON.stringify(f,void 0)}parse(f){return p.JSON.parse(f,void 0)}};function to(){}function el(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function We(){B.call(this,"d")}A(We,B);function Hn(){B.call(this,"c")}A(Hn,B);var ze={},Mr=null;function Ys(){return Mr=Mr||new qe}ze.Ia="serverreachability";function nl(f){B.call(this,ze.Ia,f)}A(nl,B);function pi(f){const E=Ys();Fe(E,new nl(E))}ze.STAT_EVENT="statevent";function Or(f,E){B.call(this,ze.STAT_EVENT,f),this.stat=E}A(Or,B);function Ue(f){const E=Ys();Fe(E,new Or(E,f))}ze.Ja="timingevent";function Vi(f,E){B.call(this,ze.Ja,f),this.size=E}A(Vi,B);function zi(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){f()},E)}function gi(){this.g=!0}gi.prototype.ua=function(){this.g=!1};function gu(f,E,x,N,X,et){f.info(function(){if(f.g)if(et){var yt="",zt=et.split("&");for(let ue=0;ue<zt.length;ue++){var le=zt[ue].split("=");if(le.length>1){const Re=le[0];le=le[1];const ri=Re.split("_");yt=ri.length>=2&&ri[1]=="type"?yt+(Re+"="+le+"&"):yt+(Re+"=redacted&")}}}else yt=null;else yt=et;return"XMLHTTP REQ ("+N+") [attempt "+X+"]: "+E+`
`+x+`
`+yt})}function il(f,E,x,N,X,et,yt){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+X+"]: "+E+`
`+x+`
`+et+" "+yt})}function Ui(f,E,x,N){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+_u(f,x)+(N?" "+N:"")})}function lr(f,E){f.info(function(){return"TIMEOUT: "+E})}gi.prototype.info=function(){};function _u(f,E){if(!f.g)return E;if(!E)return null;try{const et=JSON.parse(E);if(et){for(f=0;f<et.length;f++)if(Array.isArray(et[f])){var x=et[f];if(!(x.length<2)){var N=x[1];if(Array.isArray(N)&&!(N.length<1)){var X=N[0];if(X!="noop"&&X!="stop"&&X!="close")for(let yt=1;yt<N.length;yt++)N[yt]=""}}}}return or(et)}catch{return E}}var cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},no;function pn(){}A(pn,to),pn.prototype.g=function(){return new XMLHttpRequest},no=new pn;function Ct(f){return encodeURIComponent(String(f))}function io(f){var E=1;f=f.split(":");const x=[];for(;E>0&&f.length;)x.push(f.shift()),E--;return f.length&&x.push(f.join(":")),x}function Wn(f,E,x,N){this.j=f,this.i=E,this.l=x,this.S=N||1,this.V=new ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Be={},Ge={};function _i(f,E,x){f.M=1,f.A=ye(Le(E)),f.u=x,f.R=!0,yi(f,null)}function yi(f,E){f.F=Date.now(),Bi(f),f.B=Le(f.A);var x=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),kr(x.i,"t",N),f.C=0,x=f.j.L,f.h=new Jn,f.g=co(f.j,x?E:null,!f.u),f.P>0&&(f.O=new xn(T(f.Y,f,f.g),f.P)),E=f.V,x=f.g,N=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(us[0]=X.toString()),X=us);for(let et=0;et<X.length;et++){const yt=Ae(x,X[et],N||E.handleEvent,!1,E.h||E);if(!yt)break;E.g[yt.key]=yt}E=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,E)):(f.v="GET",f.g.ea(f.B,f.v,null,E)),pi(),gu(f.i,f.v,f.B,f.l,f.S,f.u)}Wn.prototype.ba=function(f){f=f.target;const E=this.O;E&&bi(f)==3?E.j():this.Y(f)},Wn.prototype.Y=function(f){try{if(f==this.g)t:{const zt=bi(this.g),le=this.g.ya(),ue=this.g.ca();if(!(zt<3)&&(zt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||zt!=4||le==7||(le==8||ue<=0?pi(3):pi(2)),vi(this);var E=this.g.ca();this.X=E;var x=rl(this);if(this.o=E==200,il(this.i,this.v,this.B,this.l,this.S,zt,E),this.o){if(this.U&&!this.L){e:{if(this.g){var N,X=this.g;if((N=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(N)){var et=N;break e}}et=null}if(f=et)Ui(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ji(this,f);else{this.o=!1,this.m=3,Ue(12),gn(this),$n(this);break t}}if(this.R){f=!0;let Re;for(;!this.K&&this.C<x.length;)if(Re=al(this,x),Re==Ge){zt==4&&(this.m=4,Ue(14),f=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(Re==Be){this.m=4,Ue(15),Ui(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Ui(this.i,this.l,Re,null),ji(this,Re);if(sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||x.length!=0||this.h.h||(this.m=1,Ue(16),f=!1),this.o=this.o&&f,!f)Ui(this.i,this.l,x,"[Invalid Chunked Response]"),gn(this),$n(this);else if(x.length>0&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.aa&&!yt.P&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),lo(yt),yt.P=!0,Ue(11))}}else Ui(this.i,this.l,x,null),ji(this,x);zt==4&&gn(this),this.o&&!this.K&&(zt==4?Gn(this.j,this):(this.o=!1,Bi(this)))}else wi(this.g),E==400&&x.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),gn(this),$n(this)}}}catch{}};function rl(f){if(!sl(f))return f.g.la();const E=nn(f.g);if(E==="")return"";let x="";const N=E.length,X=bi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return gn(f),$n(f),"";f.h.i=new p.TextDecoder}for(let et=0;et<N;et++)f.h.h=!0,x+=f.h.i.decode(E[et],{stream:!(X&&et==N-1)});return E.length=0,f.h.g+=x,f.C=0,f.h.g}function sl(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function al(f,E){var x=f.C,N=E.indexOf(`
`,x);return N==-1?Ge:(x=Number(E.substring(x,N)),isNaN(x)?Be:(N+=1,N+x>E.length?Ge:(E=E.slice(N,N+x),f.C=N+x,E)))}Wn.prototype.cancel=function(){this.K=!0,gn(this)};function Bi(f){f.T=Date.now()+f.H,Xs(f,f.H)}function Xs(f,E){if(f.D!=null)throw Error("WatchDog timer not null");f.D=zi(T(f.aa,f),E)}function vi(f){f.D&&(p.clearTimeout(f.D),f.D=null)}Wn.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(lr(this.i,this.B),this.M!=2&&(pi(),Ue(17)),gn(this),this.m=2,$n(this)):Xs(this,this.T-f)};function $n(f){f.j.I==0||f.K||Gn(f.j,f)}function gn(f){vi(f);var E=f.O;E&&typeof E.dispose=="function"&&E.dispose(),f.O=null,Qs(f.V),f.g&&(E=f.g,f.g=null,E.abort(),E.dispose())}function ji(f,E){try{var x=f.j;if(x.I!=0&&(x.g==f||ti(x.h,f))){if(!f.L&&ti(x.h,f)&&x.I==3){try{var N=x.Ba.g.parse(E)}catch{N=null}if(Array.isArray(N)&&N.length==3){var X=N;if(X[0]==0){t:if(!x.v){if(x.g)if(x.g.F+3e3<f.F)ia(x),Br(x);else break t;gs(x),Ue(18)}}else x.xa=X[1],0<x.xa-x.K&&X[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=zi(T(x.Va,x),6e3));Hi(x.h)<=1&&x.ta&&(x.ta=void 0)}else xi(x,11)}else if((f.L||x.g==f)&&ia(x),!V(E))for(X=x.Ba.g.parse(E),E=0;E<X.length;E++){let ue=X[E];const Re=ue[0];if(!(Re<=x.K))if(x.K=Re,ue=ue[1],x.I==2)if(ue[0]=="c"){x.M=ue[1],x.ba=ue[2];const ri=ue[3];ri!=null&&(x.ka=ri,x.j.info("VER="+x.ka));const si=ue[4];si!=null&&(x.za=si,x.j.info("SVER="+x.za));const Zn=ue[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(N=1.5*Zn,x.O=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const Ai=f.g;if(Ai){const _s=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var et=N.h;et.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(ur(et,et.h),et.h=null))}if(N.G){const ys=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ys&&(N.wa=ys,xt(N.J,N.G,ys))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-f.F,x.j.info("Handshake RTT: "+x.T+"ms")),N=x;var yt=f;if(N.na=uo(N,N.L?N.ba:null,N.W),yt.L){Ws(N.h,yt);var zt=yt,le=N.O;le&&(zt.H=le),zt.D&&(vi(zt),Bi(zt)),N.g=yt}else oo(N);x.i.length>0&&On(x)}else ue[0]!="stop"&&ue[0]!="close"||xi(x,7);else x.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?xi(x,7):Qt(x):ue[0]!="noop"&&x.l&&x.l.qa(ue),x.A=0)}}pi(4)}catch{}}var Ze=class{constructor(f,E){this.g=f,this.map=E}};function ro(f){this.l=f||10,p.PerformanceNavigationTiming?(f=p.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function so(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Hi(f){return f.h?1:f.g?f.g.size:0}function ti(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function ur(f,E){f.g?f.g.add(E):f.h=E}function Ws(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}ro.prototype.cancel=function(){if(this.i=Js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Js(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const x of f.g.values())E=E.concat(x.G);return E}return G(f.i)}var Pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yt(f,E){if(f){f=f.split("&");for(let x=0;x<f.length;x++){const N=f[x].indexOf("=");let X,et=null;N>=0?(X=f[x].substring(0,N),et=f[x].substring(N+1)):X=f[x],E(X,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}function Xt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;f instanceof Xt?(this.l=f.l,Me(this,f.j),this.o=f.o,this.g=f.g,qn(this,f.u),this.h=f.h,hs(this,ms(f.i)),this.m=f.m):f&&(E=String(f).match(Pr))?(this.l=!1,Me(this,E[1]||"",!0),this.o=ei(E[2]||""),this.g=ei(E[3]||"",!0),qn(this,E[4]),this.h=ei(E[5]||"",!0),hs(this,E[6]||"",!0),this.m=ei(E[7]||"")):(this.l=!1,this.i=new ni(null,this.l))}Xt.prototype.toString=function(){const f=[];var E=this.j;E&&f.push(qi(E,$s,!0),":");var x=this.g;return(x||E=="file")&&(f.push("//"),(E=this.o)&&f.push(qi(E,$s,!0),"@"),f.push(Ct(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&f.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&f.push("/"),f.push(qi(x,x.charAt(0)=="/"?Ei:fs,!0))),(x=this.i.toString())&&f.push("?",x),(x=this.m)&&f.push("#",qi(x,Fi)),f.join("")},Xt.prototype.resolve=function(f){const E=Le(this);let x=!!f.j;x?Me(E,f.j):x=!!f.o,x?E.o=f.o:x=!!f.g,x?E.g=f.g:x=f.u!=null;var N=f.h;if(x)qn(E,f.u);else if(x=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var X=E.h.lastIndexOf("/");X!=-1&&(N=E.h.slice(0,X+1)+N)}if(X=N,X==".."||X==".")N="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){N=X.lastIndexOf("/",0)==0,X=X.split("/");const et=[];for(let yt=0;yt<X.length;){const zt=X[yt++];zt=="."?N&&yt==X.length&&et.push(""):zt==".."?((et.length>1||et.length==1&&et[0]!="")&&et.pop(),N&&yt==X.length&&et.push("")):(et.push(zt),N=!0)}N=et.join("/")}else N=X}return x?E.h=N:x=f.i.toString()!=="",x?hs(E,ms(f.i)):x=!!f.m,x&&(E.m=f.m),E};function Le(f){return new Xt(f)}function Me(f,E,x){f.j=x?ei(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function qn(f,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);f.u=E}else f.u=null}function hs(f,E,x){E instanceof ni?(f.i=E,Vr(f.i,f.l)):(x||(E=qi(E,ve)),f.i=new ni(E,f.l))}function xt(f,E,x){f.i.set(E,x)}function ye(f){return xt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ei(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qi(f,E,x){return typeof f=="string"?(f=encodeURI(f).replace(E,Ce),x&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ce(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var $s=/[#\/\?@]/g,fs=/[#\?:]/g,Ei=/[#\?]/g,ve=/[#\?@]/g,Fi=/#/g;function ni(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function en(f){f.g||(f.g=new Map,f.h=0,f.i&&Yt(f.i,function(E,x){f.add(decodeURIComponent(E.replace(/\+/g," ")),x)}))}r=ni.prototype,r.add=function(f,E){en(this),this.i=null,f=Gi(this,f);let x=this.g.get(f);return x||this.g.set(f,x=[]),x.push(E),this.h+=1,this};function ta(f,E){en(f),E=Gi(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function cr(f,E){return en(f),E=Gi(f,E),f.g.has(E)}r.forEach=function(f,E){en(this),this.g.forEach(function(x,N){x.forEach(function(X){f.call(E,X,N,this)},this)},this)};function ds(f,E){en(f);let x=[];if(typeof E=="string")cr(f,E)&&(x=x.concat(f.g.get(Gi(f,E))));else for(f=Array.from(f.g.values()),E=0;E<f.length;E++)x=x.concat(f[E]);return x}r.set=function(f,E){return en(this),this.i=null,f=Gi(this,f),cr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},r.get=function(f,E){return f?(f=ds(this,f),f.length>0?String(f[0]):E):E};function kr(f,E,x){ta(f,E),x.length>0&&(f.i=null,f.g.set(Gi(f,E),G(x)),f.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(let N=0;N<E.length;N++){var x=E[N];const X=Ct(x);x=ds(this,x);for(let et=0;et<x.length;et++){let yt=X;x[et]!==""&&(yt+="="+Ct(x[et])),f.push(yt)}}return this.i=f.join("&")};function ms(f){const E=new ni;return E.i=f.i,f.g&&(E.g=new Map(f.g),E.h=f.h),E}function Gi(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Vr(f,E){E&&!f.j&&(en(f),f.i=null,f.g.forEach(function(x,N){const X=N.toLowerCase();N!=X&&(ta(this,N),kr(this,X,x))},f)),f.j=E}function Dn(f,E){const x=new gi;if(p.Image){const N=new Image;N.onload=S(Ln,x,"TestLoadImage: loaded",!0,E,N),N.onerror=S(Ln,x,"TestLoadImage: error",!1,E,N),N.onabort=S(Ln,x,"TestLoadImage: abort",!1,E,N),N.ontimeout=S(Ln,x,"TestLoadImage: timeout",!1,E,N),p.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else E(!1)}function ea(f,E){const x=new gi,N=new AbortController,X=setTimeout(()=>{N.abort(),Ln(x,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:N.signal}).then(et=>{clearTimeout(X),et.ok?Ln(x,"TestPingServer: ok",!0,E):Ln(x,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),Ln(x,"TestPingServer: error",!1,E)})}function Ln(f,E,x,N,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),N(x)}catch{}}function zr(){this.g=new $a}function Pt(f){this.i=f.Sb||null,this.h=f.ab||!1}A(Pt,to),Pt.prototype.g=function(){return new _n(this.i,this.h)};function _n(f,E){qe.call(this),this.H=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(_n,qe),r=_n.prototype,r.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=E,this.readyState=1,Fn(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(E.body=f),(this.H||p).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;he(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function he(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}r.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?hr(this):Fn(this),this.readyState==3&&he(this)}},r.Oa=function(f){this.g&&(this.response=this.responseText=f,hr(this))},r.Na=function(f){this.g&&(this.response=f,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Fn(f)}r.setRequestHeader=function(f,E){this.A.append(f,E)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var x=E.next();!x.done;)x=x.value,f.push(x[0]+": "+x[1]),x=E.next();return f.join(`\r
`)};function Fn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Mn(f){let E="";return te(f,function(x,N){E+=N,E+=":",E+=x,E+=`\r
`}),E}function fr(f,E,x){t:{for(N in x){var N=!1;break t}N=!0}N||(x=Mn(x),typeof f=="string"?x!=null&&Ct(x):xt(f,E,x))}function ee(f){qe.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ee,qe);var ii=/^https?$/i,dr=["POST","PUT"];r=ee.prototype,r.Fa=function(f){this.H=f},r.ea=function(f,E,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():no.g(),this.g.onreadystatechange=D(T(this.Ca,this));try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(et){Oe(this,et);return}if(f=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var X in N)x.set(X,N[X]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const et of N.keys())x.set(et,N.get(et));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(et=>et.toLowerCase()=="content-type"),X=p.FormData&&f instanceof p.FormData,!(Array.prototype.indexOf.call(dr,E,void 0)>=0)||N||X||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,yt]of x)this.g.setRequestHeader(et,yt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(et){Oe(this,et)}};function Oe(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.o=5,Ti(f),Zi(f)}function Ti(f){f.A||(f.A=!0,Fe(f,"complete"),Fe(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Fe(this,"complete"),Fe(this,"abort"),Zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},r.Xa=function(){Ur(this)};function Ur(f){if(f.h&&typeof h<"u"){if(f.v&&bi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Fe(f,"readystatechange"),bi(f)==4){f.h=!1;try{const et=f.ca();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var x;if(!(x=E)){var N;if(N=et===0){let yt=String(f.D).match(Pr)[1]||null;!yt&&p.self&&p.self.location&&(yt=p.self.location.protocol.slice(0,-1)),N=!ii.test(yt?yt.toLowerCase():"")}x=N}if(x)Fe(f,"complete"),Fe(f,"success");else{f.o=6;try{var X=bi(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",Ti(f)}}finally{Zi(f)}}}}function Zi(f,E){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const x=f.g;f.g=null,E||Fe(f,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function bi(f){return f.g?f.g.readyState:0}r.ca=function(){try{return bi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),pu(E)}};function nn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function wi(f){const E={};f=(f.g&&bi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(V(f[N]))continue;var x=io(f[N]);const X=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const et=E[X]||[];E[X]=et,et.push(x)}wt(E,function(N){return N.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(f,E,x){return x&&x.internalChannelParams&&x.internalChannelParams[f]||E}function mr(f){this.za=0,this.i=[],this.j=new gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ki("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ki("baseRetryDelayMs",5e3,f),this.Za=Ki("retryDelaySeedMs",1e4,f),this.Ta=Ki("forwardChannelMaxRetries",2,f),this.va=Ki("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ro(f&&f.concurrentRequestLimit),this.Ba=new zr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=mr.prototype,r.ka=8,r.I=1,r.connect=function(f,E,x,N){Ue(0),this.W=f,this.H=E||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.J=uo(this,null,this.W),On(this)};function Qt(f){if(yn(f),f.I==3){var E=f.V++,x=Le(f.J);if(xt(x,"SID",f.M),xt(x,"RID",E),xt(x,"TYPE","terminate"),pr(f,x),E=new Wn(f,f.j,E),E.M=2,E.A=ye(Le(x)),x=!1,p.navigator&&p.navigator.sendBeacon)try{x=p.navigator.sendBeacon(E.A.toString(),"")}catch{}!x&&p.Image&&(new Image().src=E.A,x=!0),x||(E.g=co(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Bi(E)}Si(f)}function Br(f){f.g&&(lo(f),f.g.cancel(),f.g=null)}function yn(f){Br(f),f.v&&(p.clearTimeout(f.v),f.v=null),ia(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&p.clearTimeout(f.m),f.m=null)}function On(f){if(!so(f.h)&&!f.m){f.m=!0;var E=f.Ea;Lt||M(),Bt||(Lt(),Bt=!0),k.add(E,f),f.D=0}}function ps(f,E){return Hi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=E.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=zi(T(f.Ea,f,E),ll(f,f.D)),f.D++,!0)}r.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new Wn(this,this.j,f);let et=this.o;if(this.U&&(et?(et=U(et),gt(et,this.U)):et=this.U),this.u!==null||this.R||(X.J=et,et=null),this.S)t:{for(var E=0,x=0;x<this.i.length;x++){e:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(E+=N,E>4096){E=x;break t}if(E===4096||x===this.i.length-1){E=x+1;break t}}E=1e3}else E=1e3;E=ol(this,X,E),x=Le(this.J),xt(x,"RID",f),xt(x,"CVER",22),this.G&&xt(x,"X-HTTP-Session-Id",this.G),pr(this,x),et&&(this.R?E="headers="+Ct(Mn(et))+"&"+E:this.u&&fr(x,this.u,et)),ur(this.h,X),this.Ra&&xt(x,"TYPE","init"),this.S?(xt(x,"$req",E),xt(x,"SID","null"),X.U=!0,_i(X,x,null)):_i(X,x,E),this.I=2}}else this.I==3&&(f?ao(this,f):this.i.length==0||so(this.h)||ao(this))};function ao(f,E){var x;E?x=E.l:x=f.V++;const N=Le(f.J);xt(N,"SID",f.M),xt(N,"RID",x),xt(N,"AID",f.K),pr(f,N),f.u&&f.o&&fr(N,f.u,f.o),x=new Wn(f,f.j,x,f.D+1),f.u===null&&(x.J=f.o),E&&(f.i=E.G.concat(f.i)),E=ol(f,x,1e3),x.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ur(f.h,x),_i(x,N,E)}function pr(f,E){f.H&&te(f.H,function(x,N){xt(E,N,x)}),f.l&&te({},function(x,N){xt(E,N,x)})}function ol(f,E,x){x=Math.min(f.i.length,x);const N=f.l?T(f.l.Ka,f.l,f):null;t:{var X=f.i;let zt=-1;for(;;){const le=["count="+x];zt==-1?x>0?(zt=X[0].g,le.push("ofs="+zt)):zt=0:le.push("ofs="+zt);let ue=!0;for(let Re=0;Re<x;Re++){var et=X[Re].g;const ri=X[Re].map;if(et-=zt,et<0)zt=Math.max(0,X[Re].g-100),ue=!1;else try{et="req"+et+"_"||"";try{var yt=ri instanceof Map?ri:Object.entries(ri);for(const[si,Zn]of yt){let Ai=Zn;v(Zn)&&(Ai=or(Zn)),le.push(et+si+"="+encodeURIComponent(Ai))}}catch(si){throw le.push(et+"type="+encodeURIComponent("_badmap")),si}}catch{N&&N(ri)}}if(ue){yt=le.join("&");break t}}yt=void 0}return f=f.i.splice(0,x),E.G=f,yt}function oo(f){if(!f.g&&!f.v){f.Y=1;var E=f.Da;Lt||M(),Bt||(Lt(),Bt=!0),k.add(E,f),f.A=0}}function gs(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=zi(T(f.Da,f),ll(f,f.A)),f.A++,!0)}r.Da=function(){if(this.v=null,na(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=zi(T(this.Wa,this),f)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),Br(this),na(this))};function lo(f){f.B!=null&&(p.clearTimeout(f.B),f.B=null)}function na(f){f.g=new Wn(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var E=Le(f.na);xt(E,"RID","rpc"),xt(E,"SID",f.M),xt(E,"AID",f.K),xt(E,"CI",f.F?"0":"1"),!f.F&&f.ia&&xt(E,"TO",f.ia),xt(E,"TYPE","xmlhttp"),pr(f,E),f.u&&f.o&&fr(E,f.u,f.o),f.O&&(f.g.H=f.O);var x=f.g;f=f.ba,x.M=1,x.A=ye(Le(E)),x.u=null,x.R=!0,yi(x,f)}r.Va=function(){this.C!=null&&(this.C=null,Br(this),gs(this),Ue(19))};function ia(f){f.C!=null&&(p.clearTimeout(f.C),f.C=null)}function Gn(f,E){var x=null;if(f.g==E){ia(f),lo(f),f.g=null;var N=2}else if(ti(f.h,E))x=E.G,Ws(f.h,E),N=1;else return;if(f.I!=0){if(E.o)if(N==1){x=E.u?E.u.length:0,E=Date.now()-E.F;var X=f.D;N=Ys(),Fe(N,new Vi(N,x)),On(f)}else oo(f);else if(X=E.m,X==3||X==0&&E.X>0||!(N==1&&ps(f,E)||N==2&&gs(f)))switch(x&&x.length>0&&(E=f.h,E.i=E.i.concat(x)),X){case 1:xi(f,5);break;case 4:xi(f,10);break;case 3:xi(f,6);break;default:xi(f,2)}}}function ll(f,E){let x=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(x*=2),x*E}function xi(f,E){if(f.j.info("Error code "+E),E==2){var x=T(f.bb,f),N=f.Ua;const X=!N;N=new Xt(N||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Me(N,"https"),ye(N),X?Dn(N.toString(),x):ea(N.toString(),x)}else Ue(2);f.I=0,f.l&&f.l.pa(E),Si(f),yn(f)}r.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function Si(f){if(f.I=0,f.ja=[],f.l){const E=Js(f.h);(E.length!=0||f.i.length!=0)&&(nt(f.ja,E),nt(f.ja,f.i),f.h.i.length=0,G(f.i),f.i.length=0),f.l.oa()}}function uo(f,E,x){var N=x instanceof Xt?Le(x):new Xt(x);if(N.g!="")E&&(N.g=E+"."+N.g),qn(N,N.u);else{var X=p.location;N=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;const et=new Xt(null);N&&Me(et,N),E&&(et.g=E),X&&qn(et,X),x&&(et.h=x),N=et}return x=f.G,E=f.wa,x&&E&&xt(N,x,E),xt(N,"VER",f.ka),pr(f,N),N}function co(f,E,x){if(E&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Aa&&!f.ma?new ee(new Pt({ab:x})):new ee(f.ma),E.Fa(f.L),E}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ra(){}r=ra.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function jr(){}jr.prototype.g=function(f,E){return new vn(f,E)};function vn(f,E){qe.call(this),this.g=new mr(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(f?f["X-WebChannel-Client-Profile"]=E.sa:f={"X-WebChannel-Client-Profile":E.sa}),this.g.U=f,(f=E&&E.Qb)&&!V(f)&&(this.g.u=f),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!V(E)&&(this.g.G=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new gr(this)}A(vn,qe),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Qt(this.g)},vn.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var x={};x.__data__=f,f=x}else this.v&&(x={},x.__data__=or(f),f=x);E.i.push(new Ze(E.Ya++,f)),E.I==3&&On(E)},vn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,vn.Z.N.call(this)};function ho(f){We.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){t:{for(const x in E){f=x;break t}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}A(ho,We);function ul(){Hn.call(this),this.status=1}A(ul,Hn);function gr(f){this.g=f}A(gr,ra),gr.prototype.ra=function(){Fe(this.g,"a")},gr.prototype.qa=function(f){Fe(this.g,new ho(f))},gr.prototype.pa=function(f){Fe(this.g,new ul)},gr.prototype.oa=function(){Fe(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,GT=function(){return new jr},FT=function(){return Ys()},qT=ze,gp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,af=cs,eo.COMPLETE="complete",HT=eo,el.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",qe.prototype.listen=qe.prototype.J,rc=el,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,jT=ee}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});const R0="@firebase/firestore",I0="4.9.3";class Un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");let cu="12.7.0";const Ko=new Hp("@firebase/firestore");function jl(){return Ko.logLevel}function At(r,...t){if(Ko.logLevel<=re.DEBUG){const n=t.map(eg);Ko.debug(`Firestore (${cu}): ${r}`,...n)}}function Hs(r,...t){if(Ko.logLevel<=re.ERROR){const n=t.map(eg);Ko.error(`Firestore (${cu}): ${r}`,...n)}}function Wl(r,...t){if(Ko.logLevel<=re.WARN){const n=t.map(eg);Ko.warn(`Firestore (${cu}): ${r}`,...n)}}function eg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Vt(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,ZT(r,a,n)}function ZT(r,t,n){let a=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Hs(a),new Error(a)}function _e(r,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||ZT(t,l,a)}function Ft(r,t){return r}const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Zs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ha{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class KT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class b2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Un.UNAUTHENTICATED)))}shutdown(){}}class w2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class x2{constructor(t){this.t=t,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_e(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let h=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ha,t.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const y=h;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},v=y=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((y=>v(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?v(y):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ha)}}),0),p()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(_e(typeof a.accessToken=="string",31837,{l:a}),new KT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new Un(t)}}class S2{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class A2{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new S2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){_e(this.o===void 0,3512);const a=h=>{h.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const p=h.token!==this.m;return this.m=h.token,At("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new N0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function R2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class ng{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=R2(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<n&&(a+=t.charAt(l[h]%62))}return a}}function se(r,t){return r<t?-1:r>t?1:0}function _p(r,t){const n=Math.min(r.length,t.length);for(let a=0;a<n;a++){const l=r.charAt(a),h=t.charAt(a);if(l!==h)return $m(l)===$m(h)?se(l,h):$m(l)?1:-1}return se(r.length,t.length)}const I2=55296,N2=57343;function $m(r){const t=r.charCodeAt(0);return t>=I2&&t<=N2}function Jl(r,t,n){return r.length===t.length&&r.every(((a,l)=>n(a,t[l])))}const D0="__name__";class Jr{constructor(t,n,a){n===void 0?n=0:n>t.length&&Vt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&Vt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return Jr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Jr?t.forEach((a=>{n.push(a)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const h=Jr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return se(t.length,n.length)}static compareSegments(t,n){const a=Jr.isNumericId(t),l=Jr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Jr.extractNumericId(t).compare(Jr.extractNumericId(n)):_p(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ja.fromString(t.substring(4,t.length-2))}}class De extends Jr{construct(t,n,a){return new De(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new St(dt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new De(n)}static emptyPath(){return new De([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Jr{construct(t,n,a){return new In(t,n,a)}static isValidIdentifier(t){return D2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D0}static keyField(){return new In([D0])}static fromServerFormat(t){const n=[];let a="",l=0;const h=()=>{if(a.length===0)throw new St(dt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let p=!1;for(;l<t.length;){const v=t[l];if(v==="\\"){if(l+1===t.length)throw new St(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new St(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else v==="`"?(p=!p,l++):v!=="."||p?(a+=v,l++):(h(),l++)}if(h(),p)throw new St(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new In(n)}static emptyPath(){return new In([])}}class Ot{constructor(t){this.path=t}static fromPath(t){return new Ot(De.fromString(t))}static fromName(t){return new Ot(De.fromString(t).popFirst(5))}static empty(){return new Ot(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&De.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return De.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ot(new De(t.slice()))}}function QT(r,t,n){if(!n)throw new St(dt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function L2(r,t,n,a){if(t===!0&&a===!0)throw new St(dt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function L0(r){if(!Ot.isDocumentKey(r))throw new St(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function M0(r){if(Ot.isDocumentKey(r))throw new St(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function YT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Bf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Vt(12329,{type:typeof r})}function zs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new St(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bf(r);throw new St(dt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function cn(r,t){const n={typeString:r};return t&&(n.value=t),n}function Oc(r,t){if(!YT(r))throw new St(dt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const p=r[a];if(l&&typeof p!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&p!==h.value){n=`Expected '${a}' field to equal '${h.value}'`;break}}if(n)throw new St(dt.INVALID_ARGUMENT,n);return!0}const O0=-62135596800,P0=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(t){return Ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*P0);return new Ne(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new St(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new St(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<O0)throw new St(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P0}_compareTo(t){return this.seconds===t.seconds?se(this.nanoseconds,t.nanoseconds):se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Oc(t,Ne._jsonSchema))return new Ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-O0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:cn("string",Ne._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};class jt{static fromTimestamp(t){return new jt(t)}static min(){return new jt(new Ne(0,0))}static max(){return new jt(new Ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const yc=-1;function M2(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=jt.fromTimestamp(a===1e9?new Ne(n+1,0):new Ne(n,a));return new Fa(l,Ot.empty(),t)}function O2(r){return new Fa(r.readTime,r.key,yc)}class Fa{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Fa(jt.min(),Ot.empty(),yc)}static max(){return new Fa(jt.max(),Ot.empty(),yc)}}function P2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Ot.comparator(r.documentKey,t.documentKey),n!==0?n:se(r.largestBatchId,t.largestBatchId))}const k2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function hu(r){if(r.code!==dt.FAILED_PRECONDITION||r.message!==k2)throw r;At("LocalStore","Unexpectedly lost primary lease")}class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new mt(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(a,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof mt?n:mt.resolve(n)}catch(n){return mt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.reject(n)}static resolve(t){return new mt(((n,a)=>{n(t)}))}static reject(t){return new mt(((n,a)=>{a(t)}))}static waitFor(t){return new mt(((n,a)=>{let l=0,h=0,p=!1;t.forEach((v=>{++l,v.next((()=>{++h,p&&h===l&&n()}),(y=>a(y)))})),p=!0,h===l&&n()}))}static or(t){let n=mt.resolve(!1);for(const a of t)n=n.next((l=>l?mt.resolve(l):a()));return n}static forEach(t,n){const a=[];return t.forEach(((l,h)=>{a.push(n.call(this,l,h))})),this.waitFor(a)}static mapArray(t,n){return new mt(((a,l)=>{const h=t.length,p=new Array(h);let v=0;for(let y=0;y<h;y++){const T=y;n(t[T]).next((S=>{p[T]=S,++v,v===h&&a(p)}),(S=>l(S)))}}))}static doWhile(t,n){return new mt(((a,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):a()};h()}))}}function z2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fu(r){return r.name==="IndexedDbTransactionError"}class jf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}jf.ce=-1;const ig=-1;function Hf(r){return r==null}function bf(r){return r===0&&1/r==-1/0}function U2(r){return typeof r=="number"&&Number.isInteger(r)&&!bf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const XT="";function B2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=k0(t)),t=j2(r.get(n),t);return k0(t)}function j2(r,t){let n=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":n+="";break;case XT:n+="";break;default:n+=h}}return n}function k0(r){return r+XT+""}function V0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Xo(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function WT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class He{constructor(t,n){this.comparator=t,this.root=n||Rn.EMPTY}insert(t,n){return new He(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(t){return new He(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,a)=>(t(n,a),!1)))}toString(){const t=[];return this.inorderTraversal(((n,a)=>(t.push(`${n}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yh(this.root,t,this.comparator,!0)}}class Yh{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?a(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Rn{constructor(t,n,a,l,h){this.key=t,this.value=n,this.color=a??Rn.RED,this.left=l??Rn.EMPTY,this.right=h??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,h){return new Rn(t??this.key,n??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,a),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Rn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Vt(27949);return t+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt(57766)}get value(){throw Vt(16141)}get color(){throw Vt(16727)}get left(){throw Vt(29726)}get right(){throw Vt(36894)}copy(t,n,a,l,h){return this}insert(t,n,a){return new Rn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mn{constructor(t){this.comparator=t,this.data=new He(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,a)=>(t(n),!1)))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(t){return new z0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((a=>{n=n.add(a)})),n}isEqual(t){if(!(t instanceof mn)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new mn(this.comparator);return n.data=t,n}}class z0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sr{constructor(t){this.fields=t,t.sort(In.comparator)}static empty(){return new Sr([])}unionWith(t){let n=new mn(In.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new Sr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Jl(this.fields,t.fields,((n,a)=>n.isEqual(a)))}}class JT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new JT("Invalid base64 string: "+h):h}})(t);return new Nn(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let p=0;p<l.length;++p)h+=String.fromCharCode(l[p]);return h})(t);return new Nn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const H2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ga(r){if(_e(!!r,39018),typeof r=="string"){let t=0;const n=H2.exec(r);if(_e(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:tn(r.seconds),nanos:tn(r.nanos)}}function tn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Za(r){return typeof r=="string"?Nn.fromBase64String(r):Nn.fromUint8Array(r)}const $T="server_timestamp",tb="__type__",eb="__previous_value__",nb="__local_write_time__";function rg(r){return(r?.mapValue?.fields||{})[tb]?.stringValue===$T}function qf(r){const t=r.mapValue.fields[eb];return rg(t)?qf(t):t}function vc(r){const t=Ga(r.mapValue.fields[nb].timestampValue);return new Ne(t.seconds,t.nanos)}class q2{constructor(t,n,a,l,h,p,v,y,T,S){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=p,this.autoDetectLongPolling=v,this.longPollingOptions=y,this.useFetchStreams=T,this.isUsingEmulator=S}}const wf="(default)";class Ec{constructor(t,n){this.projectId=t,this.database=n||wf}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database===wf}isEqual(t){return t instanceof Ec&&t.projectId===this.projectId&&t.database===this.database}}const ib="__type__",F2="__max__",Xh={mapValue:{}},rb="__vector__",xf="value";function Ka(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rg(r)?4:Z2(r)?9007199254740991:G2(r)?10:11:Vt(28295,{value:r})}function as(r,t){if(r===t)return!0;const n=Ka(r);if(n!==Ka(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return vc(r).isEqual(vc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const p=Ga(l.timestampValue),v=Ga(h.timestampValue);return p.seconds===v.seconds&&p.nanos===v.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return Za(l.bytesValue).isEqual(Za(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return tn(l.geoPointValue.latitude)===tn(h.geoPointValue.latitude)&&tn(l.geoPointValue.longitude)===tn(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return tn(l.integerValue)===tn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const p=tn(l.doubleValue),v=tn(h.doubleValue);return p===v?bf(p)===bf(v):isNaN(p)&&isNaN(v)}return!1})(r,t);case 9:return Jl(r.arrayValue.values||[],t.arrayValue.values||[],as);case 10:case 11:return(function(l,h){const p=l.mapValue.fields||{},v=h.mapValue.fields||{};if(V0(p)!==V0(v))return!1;for(const y in p)if(p.hasOwnProperty(y)&&(v[y]===void 0||!as(p[y],v[y])))return!1;return!0})(r,t);default:return Vt(52216,{left:r})}}function Tc(r,t){return(r.values||[]).find((n=>as(n,t)))!==void 0}function $l(r,t){if(r===t)return 0;const n=Ka(r),a=Ka(t);if(n!==a)return se(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(r.booleanValue,t.booleanValue);case 2:return(function(h,p){const v=tn(h.integerValue||h.doubleValue),y=tn(p.integerValue||p.doubleValue);return v<y?-1:v>y?1:v===y?0:isNaN(v)?isNaN(y)?0:-1:1})(r,t);case 3:return U0(r.timestampValue,t.timestampValue);case 4:return U0(vc(r),vc(t));case 5:return _p(r.stringValue,t.stringValue);case 6:return(function(h,p){const v=Za(h),y=Za(p);return v.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(h,p){const v=h.split("/"),y=p.split("/");for(let T=0;T<v.length&&T<y.length;T++){const S=se(v[T],y[T]);if(S!==0)return S}return se(v.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,p){const v=se(tn(h.latitude),tn(p.latitude));return v!==0?v:se(tn(h.longitude),tn(p.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return B0(r.arrayValue,t.arrayValue);case 10:return(function(h,p){const v=h.fields||{},y=p.fields||{},T=v[xf]?.arrayValue,S=y[xf]?.arrayValue,A=se(T?.values?.length||0,S?.values?.length||0);return A!==0?A:B0(T,S)})(r.mapValue,t.mapValue);case 11:return(function(h,p){if(h===Xh.mapValue&&p===Xh.mapValue)return 0;if(h===Xh.mapValue)return 1;if(p===Xh.mapValue)return-1;const v=h.fields||{},y=Object.keys(v),T=p.fields||{},S=Object.keys(T);y.sort(),S.sort();for(let A=0;A<y.length&&A<S.length;++A){const D=_p(y[A],S[A]);if(D!==0)return D;const G=$l(v[y[A]],T[S[A]]);if(G!==0)return G}return se(y.length,S.length)})(r.mapValue,t.mapValue);default:throw Vt(23264,{he:n})}}function U0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return se(r,t);const n=Ga(r),a=Ga(t),l=se(n.seconds,a.seconds);return l!==0?l:se(n.nanos,a.nanos)}function B0(r,t){const n=r.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const h=$l(n[l],a[l]);if(h)return h}return se(n.length,a.length)}function tu(r){return yp(r)}function yp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=Ga(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Za(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ot.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",l=!0;for(const h of n.values||[])l?l=!1:a+=",",a+=yp(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const p of a)h?h=!1:l+=",",l+=`${p}:${yp(n.fields[p])}`;return l+"}"})(r.mapValue):Vt(61005,{value:r})}function of(r){switch(Ka(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qf(r);return t?16+of(t):16;case 5:return 2*r.stringValue.length;case 6:return Za(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+of(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Xo(a.fields,((h,p)=>{l+=h.length+of(p)})),l})(r.mapValue);default:throw Vt(13486,{value:r})}}function j0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function vp(r){return!!r&&"integerValue"in r}function sg(r){return!!r&&"arrayValue"in r}function H0(r){return!!r&&"nullValue"in r}function q0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lf(r){return!!r&&"mapValue"in r}function G2(r){return(r?.mapValue?.fields||{})[ib]?.stringValue===rb}function hc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Xo(r.mapValue.fields,((n,a)=>t.mapValue.fields[n]=hc(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hc(r.arrayValue.values[n]);return t}return{...r}}function Z2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===F2}class ir{constructor(t){this.value=t}static empty(){return new ir({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!lf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=hc(n)}setAll(t){let n=In.emptyPath(),a={},l=[];t.forEach(((p,v)=>{if(!n.isImmediateParentOf(v)){const y=this.getFieldsMap(n);this.applyChanges(y,a,l),a={},l=[],n=v.popLast()}p?a[v.lastSegment()]=hc(p):l.push(v.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,a,l)}delete(t){const n=this.field(t.popLast());lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return as(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];lf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){Xo(n,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new ir(hc(this.value))}}function sb(r){const t=[];return Xo(r.fields,((n,a)=>{const l=new In([n]);if(lf(a)){const h=sb(a.mapValue).fields;if(h.length===0)t.push(l);else for(const p of h)t.push(l.child(p))}else t.push(l)})),new Sr(t)}class Bn{constructor(t,n,a,l,h,p,v){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=h,this.data=p,this.documentState=v}static newInvalidDocument(t){return new Bn(t,0,jt.min(),jt.min(),jt.min(),ir.empty(),0)}static newFoundDocument(t,n,a,l){return new Bn(t,1,n,jt.min(),a,l,0)}static newNoDocument(t,n){return new Bn(t,2,n,jt.min(),jt.min(),ir.empty(),0)}static newUnknownDocument(t,n){return new Bn(t,3,n,jt.min(),jt.min(),ir.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Bn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sf{constructor(t,n){this.position=t,this.inclusive=n}}function F0(r,t,n){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],p=r.position[l];if(h.field.isKeyField()?a=Ot.comparator(Ot.fromName(p.referenceValue),n.key):a=$l(p,n.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function G0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!as(r.position[n],t.position[n]))return!1;return!0}class bc{constructor(t,n="asc"){this.field=t,this.dir=n}}function K2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class ab{}class un extends ab{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new Y2(t,n,a):n==="array-contains"?new J2(t,a):n==="in"?new $2(t,a):n==="not-in"?new tI(t,a):n==="array-contains-any"?new eI(t,a):new un(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new X2(t,a):new W2(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($l(n,this.value)):n!==null&&Ka(this.value)===Ka(n)&&this.matchesComparison($l(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends ab{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Cr(t,n)}matches(t){return ob(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ob(r){return r.op==="and"}function lb(r){return Q2(r)&&ob(r)}function Q2(r){for(const t of r.filters)if(t instanceof Cr)return!1;return!0}function Ep(r){if(r instanceof un)return r.field.canonicalString()+r.op.toString()+tu(r.value);if(lb(r))return r.filters.map((t=>Ep(t))).join(",");{const t=r.filters.map((n=>Ep(n))).join(",");return`${r.op}(${t})`}}function ub(r,t){return r instanceof un?(function(a,l){return l instanceof un&&a.op===l.op&&a.field.isEqual(l.field)&&as(a.value,l.value)})(r,t):r instanceof Cr?(function(a,l){return l instanceof Cr&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,p,v)=>h&&ub(p,l.filters[v])),!0):!1})(r,t):void Vt(19439)}function cb(r){return r instanceof un?(function(n){return`${n.field.canonicalString()} ${n.op} ${tu(n.value)}`})(r):r instanceof Cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(cb).join(" ,")+"}"})(r):"Filter"}class Y2 extends un{constructor(t,n,a){super(t,n,a),this.key=Ot.fromName(a.referenceValue)}matches(t){const n=Ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class X2 extends un{constructor(t,n){super(t,"in",n),this.keys=hb("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class W2 extends un{constructor(t,n){super(t,"not-in",n),this.keys=hb("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function hb(r,t){return(t.arrayValue?.values||[]).map((n=>Ot.fromName(n.referenceValue)))}class J2 extends un{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sg(n)&&Tc(n.arrayValue,this.value)}}class $2 extends un{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}}class tI extends un{constructor(t,n){super(t,"not-in",n)}matches(t){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tc(this.value.arrayValue,n)}}class eI extends un{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Tc(this.value.arrayValue,a)))}}class nI{constructor(t,n=null,a=[],l=[],h=null,p=null,v=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=p,this.endAt=v,this.Te=null}}function Z0(r,t=null,n=[],a=[],l=null,h=null,p=null){return new nI(r,t,n,a,l,h,p)}function ag(r){const t=Ft(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((a=>Ep(a))).join(","),n+="|ob:",n+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Hf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>tu(a))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>tu(a))).join(",")),t.Te=n}return t.Te}function og(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!K2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ub(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!G0(r.startAt,t.startAt)&&G0(r.endAt,t.endAt)}function Tp(r){return Ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class du{constructor(t,n=null,a=[],l=[],h=null,p="F",v=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=p,this.startAt=v,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iI(r,t,n,a,l,h,p,v){return new du(r,t,n,a,l,h,p,v)}function lg(r){return new du(r)}function K0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fb(r){return r.collectionGroup!==null}function fc(r){const t=Ft(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let v=new mn(In.comparator);return p.filters.forEach((y=>{y.getFlattenedFilters().forEach((T=>{T.isInequality()&&(v=v.add(T.field))}))})),v})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new bc(h,a))})),n.has(In.keyField().canonicalString())||t.Ie.push(new bc(In.keyField(),a))}return t.Ie}function ts(r){const t=Ft(r);return t.Ee||(t.Ee=rI(t,fc(r))),t.Ee}function rI(r,t){if(r.limitType==="F")return Z0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new bc(l.field,h)}));const n=r.endAt?new Sf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Sf(r.startAt.position,r.startAt.inclusive):null;return Z0(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function bp(r,t){const n=r.filters.concat([t]);return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function wp(r,t,n){return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Ff(r,t){return og(ts(r),ts(t))&&r.limitType===t.limitType}function db(r){return`${ag(ts(r))}|lt:${r.limitType}`}function Hl(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>cb(l))).join(", ")}]`),Hf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>tu(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>tu(l))).join(",")),`Target(${a})`})(ts(r))}; limitType=${r.limitType})`}function Gf(r,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,l){for(const h of fc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(p,v,y){const T=F0(p,v,y);return p.inclusive?T<=0:T<0})(a.startAt,fc(a),l)||a.endAt&&!(function(p,v,y){const T=F0(p,v,y);return p.inclusive?T>=0:T>0})(a.endAt,fc(a),l))})(r,t)}function sI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mb(r){return(t,n)=>{let a=!1;for(const l of fc(r)){const h=aI(l,t,n);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function aI(r,t,n){const a=r.field.isKeyField()?Ot.comparator(t.key,n.key):(function(h,p,v){const y=p.data.field(h),T=v.data.field(h);return y!==null&&T!==null?$l(y,T):Vt(42886)})(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Vt(19790,{direction:r.dir})}}class Wo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Xo(this.inner,((n,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return WT(this.inner)}size(){return this.innerSize}}const oI=new He(Ot.comparator);function qs(){return oI}const pb=new He(Ot.comparator);function sc(...r){let t=pb;for(const n of r)t=t.insert(n.key,n);return t}function gb(r){let t=pb;return r.forEach(((n,a)=>t=t.insert(n,a.overlayedDocument))),t}function Bo(){return dc()}function _b(){return dc()}function dc(){return new Wo((r=>r.toString()),((r,t)=>r.isEqual(t)))}const lI=new He(Ot.comparator),uI=new mn(Ot.comparator);function ae(...r){let t=uI;for(const n of r)t=t.add(n);return t}const cI=new mn(se);function hI(){return cI}function ug(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(t)?"-0":t}}function yb(r){return{integerValue:""+r}}function fI(r,t){return U2(t)?yb(t):ug(r,t)}class Zf{constructor(){this._=void 0}}function dI(r,t,n){return r instanceof wc?(function(l,h){const p={fields:{[tb]:{stringValue:$T},[nb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&rg(h)&&(h=qf(h)),h&&(p.fields[eb]=h),{mapValue:p}})(n,t):r instanceof xc?Eb(r,t):r instanceof Sc?Tb(r,t):(function(l,h){const p=vb(l,h),v=Q0(p)+Q0(l.Ae);return vp(p)&&vp(l.Ae)?yb(v):ug(l.serializer,v)})(r,t)}function mI(r,t,n){return r instanceof xc?Eb(r,t):r instanceof Sc?Tb(r,t):n}function vb(r,t){return r instanceof Af?(function(a){return vp(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class wc extends Zf{}class xc extends Zf{constructor(t){super(),this.elements=t}}function Eb(r,t){const n=bb(t);for(const a of r.elements)n.some((l=>as(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Sc extends Zf{constructor(t){super(),this.elements=t}}function Tb(r,t){let n=bb(t);for(const a of r.elements)n=n.filter((l=>!as(l,a)));return{arrayValue:{values:n}}}class Af extends Zf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Q0(r){return tn(r.integerValue||r.doubleValue)}function bb(r){return sg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class pI{constructor(t,n){this.field=t,this.transform=n}}function gI(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof xc&&l instanceof xc||a instanceof Sc&&l instanceof Sc?Jl(a.elements,l.elements,as):a instanceof Af&&l instanceof Af?as(a.Ae,l.Ae):a instanceof wc&&l instanceof wc})(r.transform,t.transform)}class _I{constructor(t,n){this.version=t,this.transformResults=n}}class es{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new es}static exists(t){return new es(void 0,t)}static updateTime(t){return new es(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function uf(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Kf{}function wb(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Sb(r.key,es.none()):new Pc(r.key,r.data,es.none());{const n=r.data,a=ir.empty();let l=new mn(In.comparator);for(let h of t.fields)if(!l.has(h)){let p=n.field(h);p===null&&h.length>1&&(h=h.popLast(),p=n.field(h)),p===null?a.delete(h):a.set(h,p),l=l.add(h)}return new Jo(r.key,a,new Sr(l.toArray()),es.none())}}function yI(r,t,n){r instanceof Pc?(function(l,h,p){const v=l.value.clone(),y=X0(l.fieldTransforms,h,p.transformResults);v.setAll(y),h.convertToFoundDocument(p.version,v).setHasCommittedMutations()})(r,t,n):r instanceof Jo?(function(l,h,p){if(!uf(l.precondition,h))return void h.convertToUnknownDocument(p.version);const v=X0(l.fieldTransforms,h,p.transformResults),y=h.data;y.setAll(xb(l)),y.setAll(v),h.convertToFoundDocument(p.version,y).setHasCommittedMutations()})(r,t,n):(function(l,h,p){h.convertToNoDocument(p.version).setHasCommittedMutations()})(0,t,n)}function mc(r,t,n,a){return r instanceof Pc?(function(h,p,v,y){if(!uf(h.precondition,p))return v;const T=h.value.clone(),S=W0(h.fieldTransforms,y,p);return T.setAll(S),p.convertToFoundDocument(p.version,T).setHasLocalMutations(),null})(r,t,n,a):r instanceof Jo?(function(h,p,v,y){if(!uf(h.precondition,p))return v;const T=W0(h.fieldTransforms,y,p),S=p.data;return S.setAll(xb(h)),S.setAll(T),p.convertToFoundDocument(p.version,S).setHasLocalMutations(),v===null?null:v.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(r,t,n,a):(function(h,p,v){return uf(h.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):v})(r,t,n)}function vI(r,t){let n=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=vb(a.transform,l||null);h!=null&&(n===null&&(n=ir.empty()),n.set(a.field,h))}return n||null}function Y0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Jl(a,l,((h,p)=>gI(h,p)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Pc extends Kf{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Jo extends Kf{constructor(t,n,a,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function xb(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}})),t}function X0(r,t,n){const a=new Map;_e(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const h=r[l],p=h.transform,v=t.data.field(h.field);a.set(h.field,mI(p,v,n[l]))}return a}function W0(r,t,n){const a=new Map;for(const l of r){const h=l.transform,p=n.data.field(l.field);a.set(l.field,dI(h,p,t))}return a}class Sb extends Kf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EI extends Kf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TI{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&yI(h,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=mc(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=mc(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=_b();return this.mutations.forEach((l=>{const h=t.get(l.key),p=h.overlayedDocument;let v=this.applyToLocalView(p,h.mutatedFields);v=n.has(l.key)?null:v;const y=wb(p,v);y!==null&&a.set(l.key,y),p.isValidDocument()||p.convertToNoDocument(jt.min())})),a}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),ae())}isEqual(t){return this.batchId===t.batchId&&Jl(this.mutations,t.mutations,((n,a)=>Y0(n,a)))&&Jl(this.baseMutations,t.baseMutations,((n,a)=>Y0(n,a)))}}class cg{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){_e(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return lI})();const h=t.mutations;for(let p=0;p<h.length;p++)l=l.insert(h[p].key,a[p].version);return new cg(t,n,a,l)}}class bI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wI{constructor(t,n){this.count=t,this.unchangedNames=n}}var ln,ce;function xI(r){switch(r){case dt.OK:return Vt(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return Vt(15467,{code:r})}}function Ab(r){if(r===void 0)return Hs("GRPC error has no .code"),dt.UNKNOWN;switch(r){case ln.OK:return dt.OK;case ln.CANCELLED:return dt.CANCELLED;case ln.UNKNOWN:return dt.UNKNOWN;case ln.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case ln.INTERNAL:return dt.INTERNAL;case ln.UNAVAILABLE:return dt.UNAVAILABLE;case ln.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case ln.NOT_FOUND:return dt.NOT_FOUND;case ln.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case ln.ABORTED:return dt.ABORTED;case ln.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case ln.DATA_LOSS:return dt.DATA_LOSS;default:return Vt(39323,{code:r})}}(ce=ln||(ln={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";function SI(){return new TextEncoder}const AI=new ja([4294967295,4294967295],0);function J0(r){const t=SI().encode(r),n=new BT;return n.update(t),new Uint8Array(n.digest())}function $0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new ja([n,a],0),new ja([l,h],0)]}class hg{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ac(`Invalid padding: ${n}`);if(a<0)throw new ac(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new ac(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ja.fromNumber(this.ge)}ye(t,n,a){let l=t.add(n.multiply(ja.fromNumber(a)));return l.compare(AI)===1&&(l=new ja([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=J0(t),[a,l]=$0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);if(!this.we(p))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),p=new hg(h,l,n);return a.forEach((v=>p.insert(v))),p}insert(t){if(this.ge===0)return;const n=J0(t),[a,l]=$0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);this.Se(p)}}Se(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qf{constructor(t,n,a,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,kc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Qf(jt.min(),l,new He(se),qs(),ae())}}class kc{constructor(t,n,a,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new kc(a,n,ae(),ae(),ae())}}class cf{constructor(t,n,a,l){this.be=t,this.removedTargetIds=n,this.key=a,this.De=l}}class Cb{constructor(t,n){this.targetId=t,this.Ce=n}}class Rb{constructor(t,n,a=Nn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class tE{constructor(){this.ve=0,this.Fe=eE(),this.Me=Nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ae(),n=ae(),a=ae();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Vt(38017,{changeType:h})}})),new kc(this.Me,this.xe,t,n,a)}qe(){this.Oe=!1,this.Fe=eE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CI{constructor(t){this.Ge=t,this.ze=new Map,this.je=qs(),this.Je=Wh(),this.He=Wh(),this.Ye=new He(se)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:Vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,a=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(Tp(h))if(a===0){const p=new Ot(h.path);this.et(n,p,Bn.newNoDocument(p,jt.min()))}else _e(a===1,20013,{expectedCount:a});else{const p=this._t(n);if(p!==a){const v=this.ut(t),y=v?this.ct(v,t,p):1;if(y!==0){this.it(n);const T=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,T)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=n;let p,v;try{p=Za(a).toUint8Array()}catch(y){if(y instanceof JT)return Wl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{v=new hg(p,l,h)}catch(y){return Wl(y instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return v.ge===0?null:v}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((h=>{const p=this.Ge.ht(),v=`projects/${p.projectId}/databases/${p.database}/documents/${h.path.canonicalString()}`;t.mightContain(v)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,p)=>{const v=this.ot(p);if(v){if(h.current&&Tp(v.target)){const y=new Ot(v.target.path);this.It(y).has(p)||this.Et(p,y)||this.et(p,y,Bn.newNoDocument(y,t))}h.Be&&(n.set(p,h.ke()),h.qe())}}));let a=ae();this.He.forEach(((h,p)=>{let v=!0;p.forEachWhile((y=>{const T=this.ot(y);return!T||T.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(a=a.add(h))})),this.je.forEach(((h,p)=>p.setReadTime(t)));const l=new Qf(t,n,this.Ye,this.je,a);return this.je=qs(),this.Je=Wh(),this.He=Wh(),this.Ye=new He(se),l}Xe(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new tE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new mn(se),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new mn(se),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||At("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Wh(){return new He(Ot.comparator)}function eE(){return new He(Ot.comparator)}const RI={asc:"ASCENDING",desc:"DESCENDING"},II={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NI={and:"AND",or:"OR"};class DI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function xp(r,t){return r.useProto3Json||Hf(t)?t:{value:t}}function Cf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ib(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function LI(r,t){return Cf(r,t.toTimestamp())}function ns(r){return _e(!!r,49232),jt.fromTimestamp((function(n){const a=Ga(n);return new Ne(a.seconds,a.nanos)})(r))}function fg(r,t){return Sp(r,t).canonicalString()}function Sp(r,t){const n=(function(l){return new De(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function Nb(r){const t=De.fromString(r);return _e(Pb(t),10190,{key:t.toString()}),t}function Ap(r,t){return fg(r.databaseId,t.path)}function tp(r,t){const n=Nb(t);if(n.get(1)!==r.databaseId.projectId)throw new St(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new St(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ot(Lb(n))}function Db(r,t){return fg(r.databaseId,t)}function MI(r){const t=Nb(r);return t.length===4?De.emptyPath():Lb(t)}function Cp(r){return new De(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Lb(r){return _e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nE(r,t,n){return{name:Ap(r,t),fields:n.value.mapValue.fields}}function OI(r,t){let n;if("targetChange"in t){t.targetChange;const a=(function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:Vt(39313,{state:T})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(T,S){return T.useProto3Json?(_e(S===void 0||typeof S=="string",58123),Nn.fromBase64String(S||"")):(_e(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Nn.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),p=t.targetChange.cause,v=p&&(function(T){const S=T.code===void 0?dt.UNKNOWN:Ab(T.code);return new St(S,T.message||"")})(p);n=new Rb(a,l,h,v||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=tp(r,a.document.name),h=ns(a.document.updateTime),p=a.document.createTime?ns(a.document.createTime):jt.min(),v=new ir({mapValue:{fields:a.document.fields}}),y=Bn.newFoundDocument(l,h,p,v),T=a.targetIds||[],S=a.removedTargetIds||[];n=new cf(T,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=tp(r,a.document),h=a.readTime?ns(a.readTime):jt.min(),p=Bn.newNoDocument(l,h),v=a.removedTargetIds||[];n=new cf([],v,p.key,p)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=tp(r,a.document),h=a.removedTargetIds||[];n=new cf([],h,l,null)}else{if(!("filter"in t))return Vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,p=new wI(l,h),v=a.targetId;n=new Cb(v,p)}}return n}function PI(r,t){let n;if(t instanceof Pc)n={update:nE(r,t.key,t.value)};else if(t instanceof Sb)n={delete:Ap(r,t.key)};else if(t instanceof Jo)n={update:nE(r,t.key,t.data),updateMask:FI(t.fieldMask)};else{if(!(t instanceof EI))return Vt(16599,{Vt:t.type});n={verify:Ap(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((a=>(function(h,p){const v=p.transform;if(v instanceof wc)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof xc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Sc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Af)return{fieldPath:p.field.canonicalString(),increment:v.Ae};throw Vt(20930,{transform:p.transform})})(0,a)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:LI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Vt(27497)})(r,t.precondition)),n}function kI(r,t){return r&&r.length>0?(_e(t!==void 0,14353),r.map((n=>(function(l,h){let p=l.updateTime?ns(l.updateTime):ns(h);return p.isEqual(jt.min())&&(p=ns(h)),new _I(p,l.transformResults||[])})(n,t)))):[]}function VI(r,t){return{documents:[Db(r,t.path)]}}function zI(r,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=Db(r,l);const h=(function(T){if(T.length!==0)return Ob(Cr.create(T,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const p=(function(T){if(T.length!==0)return T.map((S=>(function(D){return{field:ql(D.field),direction:jI(D.dir)}})(S)))})(t.orderBy);p&&(n.structuredQuery.orderBy=p);const v=xp(r,t.limit);return v!==null&&(n.structuredQuery.limit=v),t.startAt&&(n.structuredQuery.startAt=(function(T){return{before:T.inclusive,values:T.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(T){return{before:!T.inclusive,values:T.position}})(t.endAt)),{ft:n,parent:l}}function UI(r){let t=MI(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){_e(a===1,65062);const S=n.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let h=[];n.where&&(h=(function(A){const D=Mb(A);return D instanceof Cr&&lb(D)?D.getFilters():[D]})(n.where));let p=[];n.orderBy&&(p=(function(A){return A.map((D=>(function(nt){return new bc(Fl(nt.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(nt.direction))})(D)))})(n.orderBy));let v=null;n.limit&&(v=(function(A){let D;return D=typeof A=="object"?A.value:A,Hf(D)?null:D})(n.limit));let y=null;n.startAt&&(y=(function(A){const D=!!A.before,G=A.values||[];return new Sf(G,D)})(n.startAt));let T=null;return n.endAt&&(T=(function(A){const D=!A.before,G=A.values||[];return new Sf(G,D)})(n.endAt)),iI(t,l,p,h,v,"F",y,T)}function BI(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Mb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Fl(n.unaryFilter.field);return un.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fl(n.unaryFilter.field);return un.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Fl(n.unaryFilter.field);return un.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Fl(n.unaryFilter.field);return un.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vt(61313);default:return Vt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return un.create(Fl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vt(58110);default:return Vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Cr.create(n.compositeFilter.filters.map((a=>Mb(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Vt(1026)}})(n.compositeFilter.op))})(r):Vt(30097,{filter:r})}function jI(r){return RI[r]}function HI(r){return II[r]}function qI(r){return NI[r]}function ql(r){return{fieldPath:r.canonicalString()}}function Fl(r){return In.fromServerFormat(r.fieldPath)}function Ob(r){return r instanceof un?(function(n){if(n.op==="=="){if(q0(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NAN"}};if(H0(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q0(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NOT_NAN"}};if(H0(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(n.field),op:HI(n.op),value:n.value}}})(r):r instanceof Cr?(function(n){const a=n.getFilters().map((l=>Ob(l)));return a.length===1?a[0]:{compositeFilter:{op:qI(n.op),filters:a}}})(r):Vt(54877,{filter:r})}function FI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Pb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Va{constructor(t,n,a,l,h=jt.min(),p=jt.min(),v=Nn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=v,this.expectedCount=y}withSequenceNumber(t){return new Va(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class GI{constructor(t){this.yt=t}}function ZI(r){const t=UI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wp(t,t.limit,"L"):t}class KI{constructor(){this.Cn=new QI}addToCollectionParentIndex(t,n){return this.Cn.add(n),mt.resolve()}getCollectionParents(t,n){return mt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return mt.resolve()}deleteFieldIndex(t,n){return mt.resolve()}deleteAllFieldIndexes(t){return mt.resolve()}createTargetIndexes(t,n){return mt.resolve()}getDocumentsMatchingTarget(t,n){return mt.resolve(null)}getIndexType(t,n){return mt.resolve(0)}getFieldIndexes(t,n){return mt.resolve([])}getNextCollectionGroupToUpdate(t){return mt.resolve(null)}getMinOffset(t,n){return mt.resolve(Fa.min())}getMinOffsetFromCollectionGroup(t,n){return mt.resolve(Fa.min())}updateCollectionGroup(t,n,a){return mt.resolve()}updateIndexEntries(t,n){return mt.resolve()}}class QI{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new mn(De.comparator),h=!l.has(a);return this.index[n]=l.add(a),h}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new mn(De.comparator)).toArray()}}const iE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kb=41943040;class mi{static withCacheSize(t){return new mi(t,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(kb,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);class eu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eu(0)}static cr(){return new eu(-1)}}const rE="LruGarbageCollector",YI=1048576;function sE([r,t],[n,a]){const l=se(r,n);return l===0?se(t,a):l}class XI{constructor(t){this.Ir=t,this.buffer=new mn(sE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();sE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WI{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){At(rE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fu(n)?At(rE,"Ignoring IndexedDB error during garbage collection: ",n):await hu(n)}await this.Vr(3e5)}))}}class JI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(t,n){if(n===0)return mt.resolve(jf.ce);const a=new XI(n);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,n,a){return this.mr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(iE)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let a,l,h,p,v,y,T;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,p=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,v=Date.now(),this.removeTargets(t,a,n)))).next((A=>(h=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(T=Date.now(),jl()<=re.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-S}ms
	Determined least recently used ${l} in `+(v-p)+`ms
	Removed ${h} targets in `+(y-v)+`ms
	Removed ${A} documents in `+(T-y)+`ms
Total Duration: ${T-S}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:A}))))}}function $I(r,t){return new JI(r,t)}class tN{constructor(){this.changes=new Wo((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Bn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?mt.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class nN{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(a!==null&&mc(a.mutation,l,Sr.empty(),Ne.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.getLocalViewOfDocuments(t,a,ae()).next((()=>a))))}getLocalViewOfDocuments(t,n,a=ae()){const l=Bo();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,a).next((h=>{let p=sc();return h.forEach(((v,y)=>{p=p.insert(v,y.overlayedDocument)})),p}))))}getOverlayedDocuments(t,n){const a=Bo();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,ae())))}populateOverlays(t,n,a){const l=[];return a.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((p,v)=>{n.set(p,v)}))}))}computeViews(t,n,a,l){let h=qs();const p=dc(),v=(function(){return dc()})();return n.forEach(((y,T)=>{const S=a.get(T.key);l.has(T.key)&&(S===void 0||S.mutation instanceof Jo)?h=h.insert(T.key,T):S!==void 0?(p.set(T.key,S.mutation.getFieldMask()),mc(S.mutation,T,S.mutation.getFieldMask(),Ne.now())):p.set(T.key,Sr.empty())})),this.recalculateAndSaveOverlays(t,h).next((y=>(y.forEach(((T,S)=>p.set(T,S))),n.forEach(((T,S)=>v.set(T,new eN(S,p.get(T)??null)))),v)))}recalculateAndSaveOverlays(t,n){const a=dc();let l=new He(((p,v)=>p-v)),h=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((p=>{for(const v of p)v.keys().forEach((y=>{const T=n.get(y);if(T===null)return;let S=a.get(y)||Sr.empty();S=v.applyToLocalView(T,S),a.set(y,S);const A=(l.get(v.batchId)||ae()).add(y);l=l.insert(v.batchId,A)}))})).next((()=>{const p=[],v=l.getReverseIterator();for(;v.hasNext();){const y=v.getNext(),T=y.key,S=y.value,A=_b();S.forEach((D=>{if(!h.has(D)){const G=wb(n.get(D),a.get(D));G!==null&&A.set(D,G),h=h.add(D)}})),p.push(this.documentOverlayCache.saveOverlays(t,T,A))}return mt.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,n,a,l){return(function(p){return Ot.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):fb(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next((h=>{const p=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-h.size):mt.resolve(Bo());let v=yc,y=h;return p.next((T=>mt.forEach(T,((S,A)=>(v<A.largestBatchId&&(v=A.largestBatchId),h.get(S)?mt.resolve():this.remoteDocumentCache.getEntry(t,S).next((D=>{y=y.insert(S,D)}))))).next((()=>this.populateOverlays(t,T,h))).next((()=>this.computeViews(t,y,T,ae()))).next((S=>({batchId:v,changes:gb(S)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ot(n)).next((a=>{let l=sc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const h=n.collectionGroup;let p=sc();return this.indexManager.getCollectionParents(t,h).next((v=>mt.forEach(v,(y=>{const T=(function(A,D){return new du(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,T,a,l).next((S=>{S.forEach(((A,D)=>{p=p.insert(A,D)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(t,n,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next((p=>(h=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,h,l)))).next((p=>{h.forEach(((y,T)=>{const S=T.getKey();p.get(S)===null&&(p=p.insert(S,Bn.newInvalidDocument(S)))}));let v=sc();return p.forEach(((y,T)=>{const S=h.get(y);S!==void 0&&mc(S.mutation,T,Sr.empty(),Ne.now()),Gf(n,T)&&(v=v.insert(y,T))})),v}))}}class iN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return mt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:ns(l.createTime)}})(n)),mt.resolve()}getNamedQuery(t,n){return mt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:ZI(l.bundledQuery),readTime:ns(l.readTime)}})(n)),mt.resolve()}}class rN{constructor(){this.overlays=new He(Ot.comparator),this.qr=new Map}getOverlay(t,n){return mt.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Bo();return mt.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,n,a){return a.forEach(((l,h)=>{this.St(t,n,h)})),mt.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),mt.resolve()}getOverlaysForCollection(t,n,a){const l=Bo(),h=n.length+1,p=new Ot(n.child("")),v=this.overlays.getIteratorFrom(p);for(;v.hasNext();){const y=v.getNext().value,T=y.getKey();if(!n.isPrefixOf(T.path))break;T.path.length===h&&y.largestBatchId>a&&l.set(y.getKey(),y)}return mt.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let h=new He(((T,S)=>T-S));const p=this.overlays.getIterator();for(;p.hasNext();){const T=p.getNext().value;if(T.getKey().getCollectionGroup()===n&&T.largestBatchId>a){let S=h.get(T.largestBatchId);S===null&&(S=Bo(),h=h.insert(T.largestBatchId,S)),S.set(T.getKey(),T)}}const v=Bo(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((T,S)=>v.set(T,S))),!(v.size()>=l)););return mt.resolve(v)}St(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new bI(n,a));let h=this.qr.get(n);h===void 0&&(h=ae(),this.qr.set(n,h)),this.qr.set(n,h.add(a.key))}}class sN{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(t){return mt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,mt.resolve()}}class dg{constructor(){this.Qr=new mn(wn.$r),this.Ur=new mn(wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const a=new wn(t,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,n){t.forEach((a=>this.addReference(a,n)))}removeReference(t,n){this.Gr(new wn(t,n))}zr(t,n){t.forEach((a=>this.removeReference(a,n)))}jr(t){const n=new Ot(new De([])),a=new wn(n,t),l=new wn(n,t+1),h=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),h.push(p.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Ot(new De([])),a=new wn(n,t),l=new wn(n,t+1);let h=ae();return this.Ur.forEachInRange([a,l],(p=>{h=h.add(p.key)})),h}containsKey(t){const n=new wn(t,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class wn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Ot.comparator(t.key,n.key)||se(t.Yr,n.Yr)}static Kr(t,n){return se(t.Yr,n.Yr)||Ot.comparator(t.key,n.key)}}class aN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new mn(wn.$r)}checkEmpty(t){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new TI(h,n,a,l);this.mutationQueue.push(p);for(const v of l)this.Zr=this.Zr.add(new wn(v.key,h)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return mt.resolve(p)}lookupMutationBatch(t,n){return mt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.ei(a),h=l<0?0:l;return mt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?ig:this.tr-1)}getAllMutationBatches(t){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new wn(n,0),l=new wn(n,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],(p=>{const v=this.Xr(p.Yr);h.push(v)})),mt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new mn(se);return n.forEach((l=>{const h=new wn(l,0),p=new wn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,p],(v=>{a=a.add(v.Yr)}))})),mt.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let h=a;Ot.isDocumentKey(h)||(h=h.child(""));const p=new wn(new Ot(h),0);let v=new mn(se);return this.Zr.forEachWhile((y=>{const T=y.key.path;return!!a.isPrefixOf(T)&&(T.length===l&&(v=v.add(y.Yr)),!0)}),p),mt.resolve(this.ti(v))}ti(t){const n=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return mt.forEach(n.mutations,(l=>{const h=new wn(l.key,n.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,n){const a=new wn(n,0),l=this.Zr.firstAfterOrEqual(a);return mt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,mt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class oN{constructor(t){this.ri=t,this.docs=(function(){return new He(Ot.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),h=l?l.size:0,p=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:p}),this.size+=p-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return mt.resolve(a?a.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(t,n){let a=qs();return n.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Bn.newInvalidDocument(l))})),mt.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let h=qs();const p=n.path,v=new Ot(p.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(v);for(;y.hasNext();){const{key:T,value:{document:S}}=y.getNext();if(!p.isPrefixOf(T.path))break;T.path.length>p.length+1||P2(O2(S),a)<=0||(l.has(S.key)||Gf(n,S))&&(h=h.insert(S.key,S.mutableCopy()))}return mt.resolve(h)}getAllFromCollectionGroup(t,n,a,l){Vt(9500)}ii(t,n){return mt.forEach(this.docs,(a=>n(a)))}newChangeBuffer(t){return new lN(this)}getSize(t){return mt.resolve(this.size)}}class lN extends tN{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),mt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class uN{constructor(t){this.persistence=t,this.si=new Wo((n=>ag(n)),og),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.oi=0,this._i=new dg,this.targetCount=0,this.ai=eu.ur()}forEachTarget(t,n){return this.si.forEach(((a,l)=>n(l))),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),mt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new eu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,mt.resolve()}updateTargetData(t,n){return this.Pr(n),mt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,n,a){let l=0;const h=[];return this.si.forEach(((p,v)=>{v.sequenceNumber<=n&&a.get(v.targetId)===null&&(this.si.delete(p),h.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)})),mt.waitFor(h).next((()=>l))}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,n){const a=this.si.get(n)||null;return mt.resolve(a)}addMatchingKeys(t,n,a){return this._i.Wr(n,a),mt.resolve()}removeMatchingKeys(t,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((p=>{h.push(l.markPotentiallyOrphaned(t,p))})),mt.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),mt.resolve()}getMatchingKeysForTargetId(t,n){const a=this._i.Hr(n);return mt.resolve(a)}containsKey(t,n){return mt.resolve(this._i.containsKey(n))}}class Vb{constructor(t,n){this.ui={},this.overlays={},this.ci=new jf(0),this.li=!1,this.li=!0,this.hi=new sN,this.referenceDelegate=t(this),this.Pi=new uN(this),this.indexManager=new KI,this.remoteDocumentCache=(function(l){return new oN(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new GI(n),this.Ii=new iN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new rN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ui[t.toKey()];return a||(a=new aN(n,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,a){At("MemoryPersistence","Starting transaction:",t);const l=new cN(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,n){return mt.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,n))))}}class cN extends V2{constructor(t){super(),this.currentSequenceNumber=t}}class mg{constructor(t){this.persistence=t,this.Ri=new dg,this.Vi=null}static mi(t){return new mg(t)}get fi(){if(this.Vi)return this.Vi;throw Vt(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),mt.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),mt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),mt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.fi,(a=>{const l=Ot.fromPath(a);return this.gi(t,l).next((h=>{h||n.removeEntry(l,jt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return mt.or([()=>mt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Rf{constructor(t,n){this.persistence=t,this.pi=new Wo((a=>B2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=$I(this,n)}static mi(t,n){return new Rf(t,n)}Ei(){}di(t){return mt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>n.next((l=>a+l))))}wr(t){let n=0;return this.pr(t,(a=>{n++})).next((()=>n))}pr(t,n){return mt.forEach(this.pi,((a,l)=>this.br(t,a,l).next((h=>h?mt.resolve():n(l)))))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(p=>this.br(t,p,n).next((v=>{v||(a++,h.removeEntry(p,jt.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),mt.resolve()}removeReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),mt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=of(t.data.value)),n}br(t,n,a){return mt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return mt.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class pg{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Es=a,this.ds=l}static As(t,n){let a=ae(),l=ae();for(const h of n.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new pg(t,n.fromCache,a,l)}}class hN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eA()?8:z2(jn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,l){const h={result:null};return this.ys(t,n).next((p=>{h.result=p})).next((()=>{if(!h.result)return this.ws(t,n,l,a).next((p=>{h.result=p}))})).next((()=>{if(h.result)return;const p=new hN;return this.Ss(t,n,p).next((v=>{if(h.result=v,this.Vs)return this.bs(t,n,p,v.size)}))})).next((()=>h.result))}bs(t,n,a,l){return a.documentReadCount<this.fs?(jl()<=re.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Hl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),mt.resolve()):(jl()<=re.DEBUG&&At("QueryEngine","Query:",Hl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(jl()<=re.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Hl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ts(n))):mt.resolve())}ys(t,n){if(K0(n))return mt.resolve(null);let a=ts(n);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=wp(n,null,"F"),a=ts(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const p=ae(...h);return this.ps.getDocuments(t,p).next((v=>this.indexManager.getMinOffset(t,a).next((y=>{const T=this.Ds(n,v);return this.Cs(n,T,p,y.readTime)?this.ys(t,wp(n,null,"F")):this.vs(t,T,n,y)}))))})))))}ws(t,n,a,l){return K0(n)||l.isEqual(jt.min())?mt.resolve(null):this.ps.getDocuments(t,a).next((h=>{const p=this.Ds(n,h);return this.Cs(n,p,a,l)?mt.resolve(null):(jl()<=re.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Hl(n)),this.vs(t,p,n,M2(l,yc)).next((v=>v)))}))}Ds(t,n){let a=new mn(mb(t));return n.forEach(((l,h)=>{Gf(t,h)&&(a=a.add(h))})),a}Cs(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,n,a){return jl()<=re.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Hl(n)),this.ps.getDocumentsMatchingQuery(t,n,Fa.min(),a)}vs(t,n,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((h=>(n.forEach((p=>{h=h.insert(p.key,p)})),h)))}}const gg="LocalStore",dN=3e8;class mN{constructor(t,n,a,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new He(se),this.xs=new Wo((h=>ag(h)),og),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function pN(r,t,n,a){return new mN(r,t,n,a)}async function zb(r,t){const n=Ft(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,n.Bs(t),n.mutationQueue.getAllMutationBatches(a)))).next((h=>{const p=[],v=[];let y=ae();for(const T of l){p.push(T.batchId);for(const S of T.mutations)y=y.add(S.key)}for(const T of h){v.push(T.batchId);for(const S of T.mutations)y=y.add(S.key)}return n.localDocuments.getDocuments(a,y).next((T=>({Ls:T,removedBatchIds:p,addedBatchIds:v})))}))}))}function gN(r,t){const n=Ft(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(v,y,T,S){const A=T.batch,D=A.keys();let G=mt.resolve();return D.forEach((nt=>{G=G.next((()=>S.getEntry(y,nt))).next((Y=>{const q=T.docVersions.get(nt);_e(q!==null,48541),Y.version.compareTo(q)<0&&(A.applyToRemoteDocument(Y,T),Y.isValidDocument()&&(Y.setReadTime(T.commitVersion),S.addEntry(Y)))}))})),G.next((()=>v.mutationQueue.removeMutationBatch(y,A)))})(n,a,t,h).next((()=>h.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(v){let y=ae();for(let T=0;T<v.mutationResults.length;++T)v.mutationResults[T].transformResults.length>0&&(y=y.add(v.batch.mutations[T].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function Ub(r){const t=Ft(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function _N(r,t){const n=Ft(r),a=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const p=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const v=[];t.targetChanges.forEach(((S,A)=>{const D=l.get(A);if(!D)return;v.push(n.Pi.removeMatchingKeys(h,S.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(h,S.addedDocuments,A))));let G=D.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(A)!==null?G=G.withResumeToken(Nn.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,a)),l=l.insert(A,G),(function(Y,q,ot){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=dN?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(D,G,S)&&v.push(n.Pi.updateTargetData(h,G))}));let y=qs(),T=ae();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&v.push(n.persistence.referenceDelegate.updateLimboDocument(h,S))})),v.push(yN(h,p,t.documentUpdates).next((S=>{y=S.ks,T=S.qs}))),!a.isEqual(jt.min())){const S=n.Pi.getLastRemoteSnapshotVersion(h).next((A=>n.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));v.push(S)}return mt.waitFor(v).next((()=>p.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,y,T))).next((()=>y))})).then((h=>(n.Ms=l,h)))}function yN(r,t,n){let a=ae(),l=ae();return n.forEach((h=>a=a.add(h))),t.getEntries(r,a).next((h=>{let p=qs();return n.forEach(((v,y)=>{const T=h.get(v);y.isFoundDocument()!==T.isFoundDocument()&&(l=l.add(v)),y.isNoDocument()&&y.version.isEqual(jt.min())?(t.removeEntry(v,y.readTime),p=p.insert(v,y)):!T.isValidDocument()||y.version.compareTo(T.version)>0||y.version.compareTo(T.version)===0&&T.hasPendingWrites?(t.addEntry(y),p=p.insert(v,y)):At(gg,"Ignoring outdated watch update for ",v,". Current version:",T.version," Watch version:",y.version)})),{ks:p,qs:l}}))}function vN(r,t){const n=Ft(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=ig),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function EN(r,t){const n=Ft(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,t).next((h=>h?(l=h,mt.resolve(l)):n.Pi.allocateTargetId(a).next((p=>(l=new Va(t,p,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(t,a.targetId)),a}))}async function Rp(r,t,n){const a=Ft(r),l=a.Ms.get(t),h=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",h,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!fu(p))throw p;At(gg,`Failed to update sequence numbers for target ${t}: ${p}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function aE(r,t,n){const a=Ft(r);let l=jt.min(),h=ae();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(y,T,S){const A=Ft(y),D=A.xs.get(S);return D!==void 0?mt.resolve(A.Ms.get(D)):A.Pi.getTargetData(T,S)})(a,p,ts(t)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,v.targetId).next((y=>{h=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,t,n?l:jt.min(),n?h:ae()))).next((v=>(TN(a,sI(t),v),{documents:v,Qs:h})))))}function TN(r,t,n){let a=r.Os.get(t)||jt.min();n.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(t,a)}class oE{constructor(){this.activeTargetIds=hI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bN{constructor(){this.Mo=new oE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,a){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new oE,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wN{Oo(t){}shutdown(){}}const lE="ConnectivityMonitor";class uE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){At(lE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){At(lE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jh=null;function Ip(){return Jh===null?Jh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jh++,"0x"+Jh.toString(16)}const ep="RestConnection",xN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===wf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,n,a,l,h){const p=Ip(),v=this.zo(t,n.toUriEncodedString());At(ep,`Sending RPC '${t}' ${p}:`,v,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,h);const{host:T}=new URL(v),S=ou(T);return this.Jo(t,v,y,a,S).then((A=>(At(ep,`Received RPC '${t}' ${p}: `,A),A)),(A=>{throw Wl(ep,`RPC '${t}' ${p} failed with error: `,A,"url: ",v,"request:",a),A}))}Ho(t,n,a,l,h,p){return this.Go(t,n,a,l,h)}jo(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}zo(t,n){const a=xN[t];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class AN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const zn="WebChannelConnection";class CN extends SN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,a,l,h){const p=Ip();return new Promise(((v,y)=>{const T=new jT;T.setWithCredentials(!0),T.listenOnce(HT.COMPLETE,(()=>{try{switch(T.getLastErrorCode()){case af.NO_ERROR:const A=T.getResponseJson();At(zn,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(A)),v(A);break;case af.TIMEOUT:At(zn,`RPC '${t}' ${p} timed out`),y(new St(dt.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const D=T.getStatus();if(At(zn,`RPC '${t}' ${p} failed with status:`,D,"response text:",T.getResponseText()),D>0){let G=T.getResponseJson();Array.isArray(G)&&(G=G[0]);const nt=G?.error;if(nt&&nt.status&&nt.message){const Y=(function(ot){const lt=ot.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(lt)>=0?lt:dt.UNKNOWN})(nt.status);y(new St(Y,nt.message))}else y(new St(dt.UNKNOWN,"Server responded with status "+T.getStatus()))}else y(new St(dt.UNAVAILABLE,"Connection failed."));break;default:Vt(9055,{l_:t,streamId:p,h_:T.getLastErrorCode(),P_:T.getLastError()})}}finally{At(zn,`RPC '${t}' ${p} completed.`)}}));const S=JSON.stringify(l);At(zn,`RPC '${t}' ${p} sending request:`,l),T.send(n,"POST",S,a,15)}))}T_(t,n,a){const l=Ip(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=GT(),v=FT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(y.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const S=h.join("");At(zn,`Creating RPC '${t}' stream ${l}: ${S}`,y);const A=p.createWebChannel(S,y);this.I_(A);let D=!1,G=!1;const nt=new AN({Yo:q=>{G?At(zn,`Not sending because RPC '${t}' stream ${l} is closed:`,q):(D||(At(zn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),D=!0),At(zn,`RPC '${t}' stream ${l} sending:`,q),A.send(q))},Zo:()=>A.close()}),Y=(q,ot,lt)=>{q.listen(ot,(ct=>{try{lt(ct)}catch(Dt){setTimeout((()=>{throw Dt}),0)}}))};return Y(A,rc.EventType.OPEN,(()=>{G||(At(zn,`RPC '${t}' stream ${l} transport opened.`),nt.o_())})),Y(A,rc.EventType.CLOSE,(()=>{G||(G=!0,At(zn,`RPC '${t}' stream ${l} transport closed`),nt.a_(),this.E_(A))})),Y(A,rc.EventType.ERROR,(q=>{G||(G=!0,Wl(zn,`RPC '${t}' stream ${l} transport errored. Name:`,q.name,"Message:",q.message),nt.a_(new St(dt.UNAVAILABLE,"The operation could not be completed")))})),Y(A,rc.EventType.MESSAGE,(q=>{if(!G){const ot=q.data[0];_e(!!ot,16349);const lt=ot,ct=lt?.error||lt[0]?.error;if(ct){At(zn,`RPC '${t}' stream ${l} received error:`,ct);const Dt=ct.status;let Lt=(function(M){const P=ln[M];if(P!==void 0)return Ab(P)})(Dt),Bt=ct.message;Lt===void 0&&(Lt=dt.INTERNAL,Bt="Unknown error status: "+Dt+" with message "+ct.message),G=!0,nt.a_(new St(Lt,Bt)),A.close()}else At(zn,`RPC '${t}' stream ${l} received:`,ot),nt.u_(ot)}})),Y(v,qT.STAT_EVENT,(q=>{q.stat===gp.PROXY?At(zn,`RPC '${t}' stream ${l} detected buffering proxy`):q.stat===gp.NOPROXY&&At(zn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{nt.__()}),0),nt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function np(){return typeof document<"u"?document:null}function Yf(r){return new DI(r,!0)}class Bb{constructor(t,n,a=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&At("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cE="PersistentStream";class jb{constructor(t,n,a,l,h,p,v,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=v,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===dt.RESOURCE_EXHAUSTED?(Hs(n.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{t((()=>{const l=new St(dt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,n){const a=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return At(cE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(At(cE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RN extends jb{constructor(t,n,a,l,h,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=OI(this.serializer,t),a=(function(h){if(!("targetChange"in h))return jt.min();const p=h.targetChange;return p.targetIds&&p.targetIds.length?jt.min():p.readTime?ns(p.readTime):jt.min()})(t);return this.listener.H_(n,a)}Y_(t){const n={};n.database=Cp(this.serializer),n.addTarget=(function(h,p){let v;const y=p.target;if(v=Tp(y)?{documents:VI(h,y)}:{query:zI(h,y).ft},v.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){v.resumeToken=Ib(h,p.resumeToken);const T=xp(h,p.expectedCount);T!==null&&(v.expectedCount=T)}else if(p.snapshotVersion.compareTo(jt.min())>0){v.readTime=Cf(h,p.snapshotVersion.toTimestamp());const T=xp(h,p.expectedCount);T!==null&&(v.expectedCount=T)}return v})(this.serializer,t);const a=BI(this.serializer,t);a&&(n.labels=a),this.q_(n)}Z_(t){const n={};n.database=Cp(this.serializer),n.removeTarget=t,this.q_(n)}}class IN extends jb{constructor(t,n,a,l,h,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=kI(t.writeResults,t.commitTime),a=ns(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=Cp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((a=>PI(this.serializer,a)))};this.q_(n)}}class NN{}class DN extends NN{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new St(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Go(t,Sp(n,a),l,h,p))).catch((h=>{throw h.name==="FirebaseError"?(h.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new St(dt.UNKNOWN,h.toString())}))}Ho(t,n,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,v])=>this.connection.Ho(t,Sp(n,a),l,p,v,h))).catch((p=>{throw p.name==="FirebaseError"?(p.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new St(dt.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hs(n),this.aa=!1):At("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qo="RemoteStore";class MN{constructor(t,n,a,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{$o(this)&&(At(Qo,"Restarting streams for network reachability change."),await(async function(y){const T=Ft(y);T.Ea.add(4),await Vc(T),T.Ra.set("Unknown"),T.Ea.delete(4),await Xf(T)})(this))}))})),this.Ra=new LN(a,l)}}async function Xf(r){if($o(r))for(const t of r.da)await t(!0)}async function Vc(r){for(const t of r.da)await t(!1)}function Hb(r,t){const n=Ft(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Eg(n)?vg(n):mu(n).O_()&&yg(n,t))}function _g(r,t){const n=Ft(r),a=mu(n);n.Ia.delete(t),a.O_()&&qb(n,t),n.Ia.size===0&&(a.O_()?a.L_():$o(n)&&n.Ra.set("Unknown"))}function yg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}mu(r).Y_(t)}function qb(r,t){r.Va.Ue(t),mu(r).Z_(t)}function vg(r){r.Va=new CI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),mu(r).start(),r.Ra.ua()}function Eg(r){return $o(r)&&!mu(r).x_()&&r.Ia.size>0}function $o(r){return Ft(r).Ea.size===0}function Fb(r){r.Va=void 0}async function ON(r){r.Ra.set("Online")}async function PN(r){r.Ia.forEach(((t,n)=>{yg(r,t)}))}async function kN(r,t){Fb(r),Eg(r)?(r.Ra.ha(t),vg(r)):r.Ra.set("Unknown")}async function VN(r,t,n){if(r.Ra.set("Online"),t instanceof Rb&&t.state===2&&t.cause)try{await(async function(l,h){const p=h.cause;for(const v of h.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,p),l.Ia.delete(v),l.Va.removeTarget(v))})(r,t)}catch(a){At(Qo,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await If(r,a)}else if(t instanceof cf?r.Va.Ze(t):t instanceof Cb?r.Va.st(t):r.Va.tt(t),!n.isEqual(jt.min()))try{const a=await Ub(r.localStore);n.compareTo(a)>=0&&await(function(h,p){const v=h.Va.Tt(p);return v.targetChanges.forEach(((y,T)=>{if(y.resumeToken.approximateByteSize()>0){const S=h.Ia.get(T);S&&h.Ia.set(T,S.withResumeToken(y.resumeToken,p))}})),v.targetMismatches.forEach(((y,T)=>{const S=h.Ia.get(y);if(!S)return;h.Ia.set(y,S.withResumeToken(Nn.EMPTY_BYTE_STRING,S.snapshotVersion)),qb(h,y);const A=new Va(S.target,y,T,S.sequenceNumber);yg(h,A)})),h.remoteSyncer.applyRemoteEvent(v)})(r,n)}catch(a){At(Qo,"Failed to raise snapshot:",a),await If(r,a)}}async function If(r,t,n){if(!fu(t))throw t;r.Ea.add(1),await Vc(r),r.Ra.set("Offline"),n||(n=()=>Ub(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{At(Qo,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Xf(r)}))}function Gb(r,t){return t().catch((n=>If(r,n,t)))}async function Wf(r){const t=Ft(r),n=Qa(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ig;for(;zN(t);)try{const l=await vN(t.localStore,a);if(l===null){t.Ta.length===0&&n.L_();break}a=l.batchId,UN(t,l)}catch(l){await If(t,l)}Zb(t)&&Kb(t)}function zN(r){return $o(r)&&r.Ta.length<10}function UN(r,t){r.Ta.push(t);const n=Qa(r);n.O_()&&n.X_&&n.ea(t.mutations)}function Zb(r){return $o(r)&&!Qa(r).x_()&&r.Ta.length>0}function Kb(r){Qa(r).start()}async function BN(r){Qa(r).ra()}async function jN(r){const t=Qa(r);for(const n of r.Ta)t.ea(n.mutations)}async function HN(r,t,n){const a=r.Ta.shift(),l=cg.from(a,t,n);await Gb(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Wf(r)}async function qN(r,t){t&&Qa(r).X_&&await(async function(a,l){if((function(p){return xI(p)&&p!==dt.ABORTED})(l.code)){const h=a.Ta.shift();Qa(a).B_(),await Gb(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Wf(a)}})(r,t),Zb(r)&&Kb(r)}async function hE(r,t){const n=Ft(r);n.asyncQueue.verifyOperationInProgress(),At(Qo,"RemoteStore received new credentials");const a=$o(n);n.Ea.add(3),await Vc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Xf(n)}async function FN(r,t){const n=Ft(r);t?(n.Ea.delete(2),await Xf(n)):t||(n.Ea.add(2),await Vc(n),n.Ra.set("Unknown"))}function mu(r){return r.ma||(r.ma=(function(n,a,l){const h=Ft(n);return h.sa(),new RN(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:ON.bind(null,r),t_:PN.bind(null,r),r_:kN.bind(null,r),H_:VN.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Eg(r)?vg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Fb(r))}))),r.ma}function Qa(r){return r.fa||(r.fa=(function(n,a,l){const h=Ft(n);return h.sa(),new IN(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:BN.bind(null,r),r_:qN.bind(null,r),ta:jN.bind(null,r),na:HN.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Wf(r)):(await r.fa.stop(),r.Ta.length>0&&(At(Qo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Tg{constructor(t,n,a,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,h){const p=Date.now()+a,v=new Tg(t,n,p,l,h);return v.start(a),v}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(dt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(r,t){if(Hs("AsyncQueue",`${t}: ${r}`),fu(r))return new St(dt.UNAVAILABLE,`${t}: ${r}`);throw r}class Ql{static emptySet(t){return new Ql(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Ot.comparator(n.key,a.key):(n,a)=>Ot.comparator(n.key,a.key),this.keyedMap=sc(),this.sortedSet=new He(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,a)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ql)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new Ql;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}class fE{constructor(){this.ga=new He(Ot.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,a)=>{t.push(a)})),t}}class nu{constructor(t,n,a,l,h,p,v,y,T){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=p,this.syncStateChanged=v,this.excludesMetadataChanges=y,this.hasCachedResults=T}static fromInitialDocuments(t,n,a,l,h){const p=[];return n.forEach((v=>{p.push({type:0,doc:v})})),new nu(t,n,Ql.emptySet(n),p,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ff(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class GN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class ZN{constructor(){this.queries=dE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Ft(n),h=l.queries;l.queries=dE(),h.forEach(((p,v)=>{for(const y of v.Sa)y.onError(a)}))})(this,new St(dt.ABORTED,"Firestore shutting down"))}}function dE(){return new Wo((r=>db(r)),Ff)}async function Qb(r,t){const n=Ft(r);let a=3;const l=t.query;let h=n.queries.get(l);h?!h.ba()&&t.Da()&&(a=2):(h=new GN,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(p){const v=bg(p,`Initialization of query '${Hl(t.query)}' failed`);return void t.onError(v)}n.queries.set(l,h),h.Sa.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&wg(n)}async function Yb(r,t){const n=Ft(r),a=t.query;let l=3;const h=n.queries.get(a);if(h){const p=h.Sa.indexOf(t);p>=0&&(h.Sa.splice(p,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function KN(r,t){const n=Ft(r);let a=!1;for(const l of t){const h=l.query,p=n.queries.get(h);if(p){for(const v of p.Sa)v.Fa(l)&&(a=!0);p.wa=l}}a&&wg(n)}function QN(r,t,n){const a=Ft(r),l=a.queries.get(t);if(l)for(const h of l.Sa)h.onError(n);a.queries.delete(t)}function wg(r){r.Ca.forEach((t=>{t.next()}))}var Np,mE;(mE=Np||(Np={})).Ma="default",mE.Cache="cache";class Xb{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new nu(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=nu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Np.Cache}}class Wb{constructor(t){this.key=t}}class Jb{constructor(t){this.key=t}}class YN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=mb(t),this.tu=new Ql(this.eu)}get nu(){return this.Ya}ru(t,n){const a=n?n.iu:new fE,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,p=l,v=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,T=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,A)=>{const D=l.get(S),G=Gf(this.query,A)?A:null,nt=!!D&&this.mutatedKeys.has(D.key),Y=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let q=!1;D&&G?D.data.isEqual(G.data)?nt!==Y&&(a.track({type:3,doc:G}),q=!0):this.su(D,G)||(a.track({type:2,doc:G}),q=!0,(y&&this.eu(G,y)>0||T&&this.eu(G,T)<0)&&(v=!0)):!D&&G?(a.track({type:0,doc:G}),q=!0):D&&!G&&(a.track({type:1,doc:D}),q=!0,(y||T)&&(v=!0)),q&&(G?(p=p.add(G),h=Y?h.add(S):h.delete(S)):(p=p.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const S=this.query.limitType==="F"?p.last():p.first();p=p.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{tu:p,iu:a,Cs:v,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const p=t.iu.ya();p.sort(((S,A)=>(function(G,nt){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt(20277,{Rt:q})}};return Y(G)-Y(nt)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const v=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,T=y!==this.Za;return this.Za=y,p.length!==0||T?{snapshot:new nu(this.query,t.tu,h,p,t.mutatedKeys,y===0,T,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ae(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return t.forEach((a=>{this.Xa.has(a)||n.push(new Jb(a))})),this.Xa.forEach((a=>{t.has(a)||n.push(new Wb(a))})),n}cu(t){this.Ya=t.Qs,this.Xa=ae();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return nu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xg="SyncEngine";class XN{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class WN{constructor(t){this.key=t,this.hu=!1}}class JN{constructor(t,n,a,l,h,p){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Wo((v=>db(v)),Ff),this.Iu=new Map,this.Eu=new Set,this.du=new He(Ot.comparator),this.Au=new Map,this.Ru=new dg,this.Vu={},this.mu=new Map,this.fu=eu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $N(r,t,n=!0){const a=rw(r);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await $b(a,t,n,!0),l}async function tD(r,t){const n=rw(r);await $b(n,t,!0,!1)}async function $b(r,t,n,a){const l=await EN(r.localStore,ts(t)),h=l.targetId,p=r.sharedClientState.addLocalQueryTarget(h,n);let v;return a&&(v=await eD(r,t,h,p==="current",l.resumeToken)),r.isPrimaryClient&&n&&Hb(r.remoteStore,l),v}async function eD(r,t,n,a,l){r.pu=(A,D,G)=>(async function(Y,q,ot,lt){let ct=q.view.ru(ot);ct.Cs&&(ct=await aE(Y.localStore,q.query,!1).then((({documents:k})=>q.view.ru(k,ct))));const Dt=lt&&lt.targetChanges.get(q.targetId),Lt=lt&&lt.targetMismatches.get(q.targetId)!=null,Bt=q.view.applyChanges(ct,Y.isPrimaryClient,Dt,Lt);return gE(Y,q.targetId,Bt.au),Bt.snapshot})(r,A,D,G);const h=await aE(r.localStore,t,!0),p=new YN(t,h.Qs),v=p.ru(h.documents),y=kc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),T=p.applyChanges(v,r.isPrimaryClient,y);gE(r,n,T.au);const S=new XN(t,n,p);return r.Tu.set(t,S),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),T.snapshot}async function nD(r,t,n){const a=Ft(r),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((p=>!Ff(p,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Rp(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&_g(a.remoteStore,l.targetId),Dp(a,l.targetId)})).catch(hu)):(Dp(a,l.targetId),await Rp(a.localStore,l.targetId,!0))}async function iD(r,t){const n=Ft(r),a=n.Tu.get(t),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),_g(n.remoteStore,a.targetId))}async function rD(r,t,n){const a=hD(r);try{const l=await(function(p,v){const y=Ft(p),T=Ne.now(),S=v.reduce(((G,nt)=>G.add(nt.key)),ae());let A,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let nt=qs(),Y=ae();return y.Ns.getEntries(G,S).next((q=>{nt=q,nt.forEach(((ot,lt)=>{lt.isValidDocument()||(Y=Y.add(ot))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,nt))).next((q=>{A=q;const ot=[];for(const lt of v){const ct=vI(lt,A.get(lt.key).overlayedDocument);ct!=null&&ot.push(new Jo(lt.key,ct,sb(ct.value.mapValue),es.exists(!0)))}return y.mutationQueue.addMutationBatch(G,T,ot,v)})).next((q=>{D=q;const ot=q.applyToLocalDocumentSet(A,Y);return y.documentOverlayCache.saveOverlays(G,q.batchId,ot)}))})).then((()=>({batchId:D.batchId,changes:gb(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(p,v,y){let T=p.Vu[p.currentUser.toKey()];T||(T=new He(se)),T=T.insert(v,y),p.Vu[p.currentUser.toKey()]=T})(a,l.batchId,n),await zc(a,l.changes),await Wf(a.remoteStore)}catch(l){const h=bg(l,"Failed to persist write");n.reject(h)}}async function tw(r,t){const n=Ft(r);try{const a=await _N(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const p=n.Au.get(h);p&&(_e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?_e(p.hu,14607):l.removedDocuments.size>0&&(_e(p.hu,42227),p.hu=!1))})),await zc(n,a,t)}catch(a){await hu(a)}}function pE(r,t,n){const a=Ft(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((h,p)=>{const v=p.view.va(t);v.snapshot&&l.push(v.snapshot)})),(function(p,v){const y=Ft(p);y.onlineState=v;let T=!1;y.queries.forEach(((S,A)=>{for(const D of A.Sa)D.va(v)&&(T=!0)})),T&&wg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function sD(r,t,n){const a=Ft(r);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Au.get(t),h=l&&l.key;if(h){let p=new He(Ot.comparator);p=p.insert(h,Bn.newNoDocument(h,jt.min()));const v=ae().add(h),y=new Qf(jt.min(),new Map,new He(se),p,v);await tw(a,y),a.du=a.du.remove(h),a.Au.delete(t),Sg(a)}else await Rp(a.localStore,t,!1).then((()=>Dp(a,t,n))).catch(hu)}async function aD(r,t){const n=Ft(r),a=t.batch.batchId;try{const l=await gN(n.localStore,t);nw(n,a,null),ew(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await zc(n,l)}catch(l){await hu(l)}}async function oD(r,t,n){const a=Ft(r);try{const l=await(function(p,v){const y=Ft(p);return y.persistence.runTransaction("Reject batch","readwrite-primary",(T=>{let S;return y.mutationQueue.lookupMutationBatch(T,v).next((A=>(_e(A!==null,37113),S=A.keys(),y.mutationQueue.removeMutationBatch(T,A)))).next((()=>y.mutationQueue.performConsistencyCheck(T))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(T,S,v))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,S))).next((()=>y.localDocuments.getDocuments(T,S)))}))})(a.localStore,t);nw(a,t,n),ew(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await zc(a,l)}catch(l){await hu(l)}}function ew(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function nw(r,t,n){const a=Ft(r);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Dp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||iw(r,a)}))}function iw(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(_g(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Sg(r))}function gE(r,t,n){for(const a of n)a instanceof Wb?(r.Ru.addReference(a.key,t),lD(r,a)):a instanceof Jb?(At(xg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||iw(r,a.key)):Vt(19791,{wu:a})}function lD(r,t){const n=t.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(At(xg,"New document in limbo: "+n),r.Eu.add(a),Sg(r))}function Sg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new Ot(De.fromString(t)),a=r.fu.next();r.Au.set(a,new WN(n)),r.du=r.du.insert(n,a),Hb(r.remoteStore,new Va(ts(lg(n.path)),a,"TargetPurposeLimboResolution",jf.ce))}}async function zc(r,t,n){const a=Ft(r),l=[],h=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((v,y)=>{p.push(a.pu(y,t,n).then((T=>{if((T||n)&&a.isPrimaryClient){const S=T?!T.fromCache:n?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(T){l.push(T);const S=pg.As(y.targetId,T);h.push(S)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(y,T){const S=Ft(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>mt.forEach(T,(D=>mt.forEach(D.Es,(G=>S.persistence.referenceDelegate.addReference(A,D.targetId,G))).next((()=>mt.forEach(D.ds,(G=>S.persistence.referenceDelegate.removeReference(A,D.targetId,G)))))))))}catch(A){if(!fu(A))throw A;At(gg,"Failed to update sequence numbers: "+A)}for(const A of T){const D=A.targetId;if(!A.fromCache){const G=S.Ms.get(D),nt=G.snapshotVersion,Y=G.withLastLimboFreeSnapshotVersion(nt);S.Ms=S.Ms.insert(D,Y)}}})(a.localStore,h))}async function uD(r,t){const n=Ft(r);if(!n.currentUser.isEqual(t)){At(xg,"User change. New user:",t.toKey());const a=await zb(n.localStore,t);n.currentUser=t,(function(h,p){h.mu.forEach((v=>{v.forEach((y=>{y.reject(new St(dt.CANCELLED,p))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await zc(n,a.Ls)}}function cD(r,t){const n=Ft(r),a=n.Au.get(t);if(a&&a.hu)return ae().add(a.key);{let l=ae();const h=n.Iu.get(t);if(!h)return l;for(const p of h){const v=n.Tu.get(p);l=l.unionWith(v.view.nu)}return l}}function rw(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=tw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sD.bind(null,t),t.Pu.H_=KN.bind(null,t.eventManager),t.Pu.yu=QN.bind(null,t.eventManager),t}function hD(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oD.bind(null,t),t}class Nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return pN(this.persistence,new fN,t.initialUser,this.serializer)}Cu(t){return new Vb(mg.mi,this.serializer)}Du(t){return new bN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nf.provider={build:()=>new Nf};class fD extends Nf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){_e(this.persistence.referenceDelegate instanceof Rf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new WI(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new Vb((a=>Rf.mi(a,n)),this.serializer)}}class Lp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>pE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=uD.bind(null,this.syncEngine),await FN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ZN})()}createDatastore(t){const n=Yf(t.databaseInfo.databaseId),a=(function(h){return new CN(h)})(t.databaseInfo);return(function(h,p,v,y){return new DN(h,p,v,y)})(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return(function(a,l,h,p,v){return new MN(a,l,h,p,v)})(this.localStore,this.datastore,t.asyncQueue,(n=>pE(this.syncEngine,n,0)),(function(){return uE.v()?new uE:new wN})())}createSyncEngine(t,n){return(function(l,h,p,v,y,T,S){const A=new JN(l,h,p,v,y,T);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ft(n);At(Qo,"RemoteStore shutting down."),a.Ea.add(5),await Vc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lp.provider={build:()=>new Lp};class sw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Hs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ya="FirestoreClient";class dD{constructor(t,n,a,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=Un.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async p=>{At(Ya,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(At(Ya,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=bg(n,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function ip(r,t){r.asyncQueue.verifyOperationInProgress(),At(Ya,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await zb(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function _E(r,t){r.asyncQueue.verifyOperationInProgress();const n=await mD(r);At(Ya,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((a=>hE(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>hE(t.remoteStore,l))),r._onlineComponents=t}async function mD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){At(Ya,"Using user provided OfflineComponentProvider");try{await ip(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===dt.FAILED_PRECONDITION||l.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Wl("Error using user provided cache. Falling back to memory cache: "+n),await ip(r,new Nf)}}else At(Ya,"Using default OfflineComponentProvider"),await ip(r,new fD(void 0));return r._offlineComponents}async function aw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(At(Ya,"Using user provided OnlineComponentProvider"),await _E(r,r._uninitializedComponentsProvider._online)):(At(Ya,"Using default OnlineComponentProvider"),await _E(r,new Lp))),r._onlineComponents}function pD(r){return aw(r).then((t=>t.syncEngine))}async function Mp(r){const t=await aw(r),n=t.eventManager;return n.onListen=$N.bind(null,t.syncEngine),n.onUnlisten=nD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=tD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=iD.bind(null,t.syncEngine),n}function gD(r,t,n={}){const a=new Ha;return r.asyncQueue.enqueueAndForget((async()=>(function(h,p,v,y,T){const S=new sw({next:D=>{S.Nu(),p.enqueueAndForget((()=>Yb(h,A))),D.fromCache&&y.source==="server"?T.reject(new St(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(D)},error:D=>T.reject(D)}),A=new Xb(v,S,{includeMetadataChanges:!0,qa:!0});return Qb(h,A)})(await Mp(r),r.asyncQueue,t,n,a))),a.promise}function ow(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const yE=new Map;const lw="firestore.googleapis.com",vE=!0;class EE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new St(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lw,this.ssl=vE}else this.host=t.host,this.ssl=t.ssl??vE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YI)throw new St(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}L2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ow(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new St(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new St(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new St(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jf{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new b2;switch(a.type){case"firstParty":return new A2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new St(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=yE.get(n);a&&(At("ComponentProvider","Removing Datastore"),yE.delete(n),a.terminate())})(this),Promise.resolve()}}function _D(r,t,n,a={}){r=zs(r,Jf);const l=ou(t),h=r._getSettings(),p={...h,emulatorOptions:r._getEmulatorOptions()},v=`${t}:${n}`;l&&(nT(`https://${v}`),iT("Firestore",!0)),h.host!==lw&&h.host!==v&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:v,ssl:l,emulatorOptions:a};if(!Fo(y,p)&&(r._setSettings(y),a.mockUserToken)){let T,S;if(typeof a.mockUserToken=="string")T=a.mockUserToken,S=Un.MOCK_USER;else{T=ZS(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new St(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Un(A)}r._authCredentials=new w2(new KT(T,S))}}class Wa{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Wa(this.firestore,t,this._query)}}class hn{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Oc(n,hn._jsonSchema))return new hn(t,a||null,new Ot(De.fromString(n.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:cn("string",hn._jsonSchemaVersion),referencePath:cn("string")};class qa extends Wa{constructor(t,n,a){super(t,n,lg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new Ot(t))}withConverter(t){return new qa(this.firestore,t,this._path)}}function Yo(r,t,...n){if(r=Yn(r),QT("collection","path",t),r instanceof Jf){const a=De.fromString(t,...n);return M0(a),new qa(r,null,a)}{if(!(r instanceof hn||r instanceof qa))throw new St(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(De.fromString(t,...n));return M0(a),new qa(r.firestore,null,a)}}function uw(r,t,...n){if(r=Yn(r),arguments.length===1&&(t=ng.newId()),QT("doc","path",t),r instanceof Jf){const a=De.fromString(t,...n);return L0(a),new hn(r,null,new Ot(a))}{if(!(r instanceof hn||r instanceof qa))throw new St(dt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(De.fromString(t,...n));return L0(a),new hn(r.firestore,r instanceof qa?r.converter:null,new Ot(a))}}const TE="AsyncQueue";class bE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bb(this,"async_queue_retry"),this._c=()=>{const a=np();a&&At(TE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=np();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fu(t))throw t;At(TE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Hs("INTERNAL UNHANDLED ERROR: ",wE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Tg.createAndSchedule(this,t,n,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Vt(47125,{Pc:wE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function wE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function xE(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1})(r,["next","error","complete"])}class iu extends Jf{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new bE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bE(t),this._firestoreClient=void 0,await t}}}function yD(r,t){const n=typeof r=="object"?r:oT(),a=typeof r=="string"?r:wf,l=Fp(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=FS("firestore");h&&_D(l,...h)}return l}function Ag(r){if(r._terminated)throw new St(dt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vD(r),r._firestoreClient}function vD(r){const t=r._freezeSettings(),n=(function(l,h,p,v){return new q2(l,h,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,ow(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new dD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}class rr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rr(Nn.fromBase64String(t))}catch(n){throw new St(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new rr(Nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Oc(t,rr._jsonSchema))return rr.fromBase64String(t.bytes)}}rr._jsonSchemaVersion="firestore/bytes/1.0",rr._jsonSchema={type:cn("string",rr._jsonSchemaVersion),bytes:cn("string")};class Cg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new St(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Rg{constructor(t){this._methodName=t}}class is{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new St(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new St(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return se(this._lat,t._lat)||se(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(t){if(Oc(t,is._jsonSchema))return new is(t.latitude,t.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:cn("string",is._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};class rs{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Oc(t,rs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new rs(t.vectorValues);throw new St(dt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rs._jsonSchemaVersion="firestore/vectorValue/1.0",rs._jsonSchema={type:cn("string",rs._jsonSchemaVersion),vectorValues:cn("object")};const ED=/^__.*__$/;class TD{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new Jo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Pc(t,this.data,n,this.fieldTransforms)}}function cw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt(40011,{Ac:r})}}class Ig{constructor(t,n,a,l,h,p){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ig({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.gc(t),a}yc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Df(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(cw(this.Ac)&&ED.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class bD{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Yf(t)}Cc(t,n,a,l=!1){return new Ig({Ac:t,methodName:n,Dc:a,path:In.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ng(r){const t=r._freezeSettings(),n=Yf(r._databaseId);return new bD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function hw(r,t,n,a,l,h={}){const p=r.Cc(h.merge||h.mergeFields?2:0,t,n,l);mw("Data must be an object, but it was:",p,a);const v=fw(a,p);let y,T;if(h.merge)y=new Sr(p.fieldMask),T=p.fieldTransforms;else if(h.mergeFields){const S=[];for(const A of h.mergeFields){const D=xD(t,A,n);if(!p.contains(D))throw new St(dt.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);AD(S,D)||S.push(D)}y=new Sr(S),T=p.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,T=p.fieldTransforms;return new TD(new ir(v),y,T)}class Dg extends Rg{_toFieldTransform(t){return new pI(t.path,new wc)}isEqual(t){return t instanceof Dg}}function wD(r,t,n,a=!1){return Lg(n,r.Cc(a?4:3,t))}function Lg(r,t){if(dw(r=Yn(r)))return mw("Unsupported field value:",t,r),fw(r,t);if(r instanceof Rg)return(function(a,l){if(!cw(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const h=[];let p=0;for(const v of a){let y=Lg(v,l.wc(p));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),p++}return{arrayValue:{values:h}}})(r,t)}return(function(a,l){if((a=Yn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return fI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Ne.fromDate(a);return{timestampValue:Cf(l.serializer,h)}}if(a instanceof Ne){const h=new Ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Cf(l.serializer,h)}}if(a instanceof is)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof rr)return{bytesValue:Ib(l.serializer,a._byteString)};if(a instanceof hn){const h=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(h))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:fg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof rs)return(function(p,v){return{mapValue:{fields:{[ib]:{stringValue:rb},[xf]:{arrayValue:{values:p.toArray().map((T=>{if(typeof T!="number")throw v.Sc("VectorValues must only contain numeric values.");return ug(v.serializer,T)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Bf(a)}`)})(r,t)}function fw(r,t){const n={};return WT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xo(r,((a,l)=>{const h=Lg(l,t.mc(a));h!=null&&(n[a]=h)})),{mapValue:{fields:n}}}function dw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ne||r instanceof is||r instanceof rr||r instanceof hn||r instanceof Rg||r instanceof rs)}function mw(r,t,n){if(!dw(n)||!YT(n)){const a=Bf(n);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function xD(r,t,n){if((t=Yn(t))instanceof Cg)return t._internalPath;if(typeof t=="string")return pw(r,t);throw Df("Field path arguments must be of type string or ",r,!1,void 0,n)}const SD=new RegExp("[~\\*/\\[\\]]");function pw(r,t,n){if(t.search(SD)>=0)throw Df(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Cg(...t.split("."))._internalPath}catch{throw Df(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Df(r,t,n,a,l){const h=a&&!a.isEmpty(),p=l!==void 0;let v=`Function ${t}() called with invalid data`;n&&(v+=" (via `toFirestore()`)"),v+=". ";let y="";return(h||p)&&(y+=" (found",h&&(y+=` in field ${a}`),p&&(y+=` in document ${l}`),y+=")"),new St(dt.INVALID_ARGUMENT,v+r+y)}function AD(r,t){return r.some((n=>n.isEqual(t)))}class gw{constructor(t,n,a,l,h){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field($f("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CD extends gw{data(){return super.data()}}function $f(r,t){return typeof t=="string"?pw(r,t):t instanceof Cg?t._internalPath:t._delegate._internalPath}function _w(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new St(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class yw extends Mg{}function Lf(r,t,...n){let a=[];t instanceof Mg&&a.push(t),a=a.concat(n),(function(h){const p=h.filter((y=>y instanceof Og)).length,v=h.filter((y=>y instanceof td)).length;if(p>1||p>0&&v>0)throw new St(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class td extends yw{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new td(t,n,a)}_apply(t){const n=this._parse(t);return vw(t._query,n),new Wa(t.firestore,t.converter,bp(t._query,n))}_parse(t){const n=Ng(t.firestore);return(function(h,p,v,y,T,S,A){let D;if(T.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new St(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){AE(A,S);const nt=[];for(const Y of A)nt.push(SE(y,h,Y));D={arrayValue:{values:nt}}}else D=SE(y,h,A)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||AE(A,S),D=wD(v,p,A,S==="in"||S==="not-in");return un.create(T,S,D)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Mf(r,t,n){const a=t,l=$f("where",r);return td._create(l,a,n)}class Og extends Mg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Og(t,n)}_parse(t){const n=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Cr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let p=l;const v=h.getFlattenedFilters();for(const y of v)vw(p,y),p=bp(p,y)})(t._query,n),new Wa(t.firestore,t.converter,bp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pg extends yw{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Pg(t,n)}_apply(t){const n=(function(l,h,p){if(l.startAt!==null)throw new St(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new St(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bc(h,p)})(t._query,this._field,this._direction);return new Wa(t.firestore,t.converter,(function(l,h){const p=l.explicitOrderBy.concat([h]);return new du(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function RD(r,t="asc"){const n=t,a=$f("orderBy",r);return Pg._create(a,n)}function SE(r,t,n){if(typeof(n=Yn(n))=="string"){if(n==="")throw new St(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fb(t)&&n.indexOf("/")!==-1)throw new St(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(De.fromString(n));if(!Ot.isDocumentKey(a))throw new St(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return j0(r,new Ot(a))}if(n instanceof hn)return j0(r,n._key);throw new St(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bf(n)}.`)}function AE(r,t){if(!Array.isArray(r)||r.length===0)throw new St(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vw(r,t){const n=(function(l,h){for(const p of l)for(const v of p.getFlattenedFilters())if(h.indexOf(v.op)>=0)return v.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new St(dt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new St(dt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ID{convertValue(t,n="none"){switch(Ka(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Za(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return Xo(t,((l,h)=>{a[l]=this.convertValue(h,n)})),a}convertVectorValue(t){const n=t.fields?.[xf].arrayValue?.values?.map((a=>tn(a.doubleValue)));return new rs(n)}convertGeoPoint(t){return new is(tn(t.latitude),tn(t.longitude))}convertArray(t,n){return(t.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const a=qf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(vc(t));default:return null}}convertTimestamp(t){const n=Ga(t);return new Ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=De.fromString(t);_e(Pb(a),9688,{name:t});const l=new Ec(a.get(1),a.get(3)),h=new Ot(a.popFirst(5));return l.isEqual(n)||Hs(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}function Ew(r,t,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,a}class oc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ho extends gw{constructor(t,n,a,l,h,p){super(t,n,a,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field($f("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(dt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ho._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ho._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ho._jsonSchema={type:cn("string",Ho._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class hf extends Ho{data(t={}){return super.data(t)}}class qo{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new oc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((a=>{t.call(n,new hf(this._firestore,this._userDataWriter,a.key,a,new oc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new St(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((v=>{const y=new hf(l._firestore,l._userDataWriter,v.doc.key,v.doc,new oc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:y,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>h||v.type!==3)).map((v=>{const y=new hf(l._firestore,l._userDataWriter,v.doc.key,v.doc,new oc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let T=-1,S=-1;return v.type!==0&&(T=p.indexOf(v.doc.key),p=p.delete(v.doc.key)),v.type!==1&&(p=p.add(v.doc),S=p.indexOf(v.doc.key)),{type:ND(v.type),doc:y,oldIndex:T,newIndex:S}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(dt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ND(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt(61501,{type:r})}}qo._jsonSchemaVersion="firestore/querySnapshot/1.0",qo._jsonSchema={type:cn("string",qo._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class kg extends ID{constructor(t){super(),this.firestore=t}convertBytes(t){return new rr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Ac(r){r=zs(r,Wa);const t=zs(r.firestore,iu),n=Ag(t),a=new kg(t);return _w(r._query),gD(n,r._query).then((l=>new qo(t,a,r,l)))}function DD(r,t,n){r=zs(r,hn);const a=zs(r.firestore,iu),l=Ew(r.converter,t,n);return Tw(a,[hw(Ng(a),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,es.none())])}function LD(r,t){const n=zs(r.firestore,iu),a=uw(r),l=Ew(r.converter,t);return Tw(n,[hw(Ng(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,es.exists(!1))]).then((()=>a))}function MD(r,...t){r=Yn(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||xE(t[a])||(n=t[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xE(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let h,p,v;if(r instanceof hn)p=zs(r.firestore,iu),v=lg(r._key.path),h={next:y=>{t[a]&&t[a](OD(p,r,y))},error:t[a+1],complete:t[a+2]};else{const y=zs(r,Wa);p=zs(y.firestore,iu),v=y._query;const T=new kg(p);h={next:S=>{t[a]&&t[a](new qo(p,T,y,S))},error:t[a+1],complete:t[a+2]},_w(r._query)}return(function(T,S,A,D){const G=new sw(D),nt=new Xb(S,G,A);return T.asyncQueue.enqueueAndForget((async()=>Qb(await Mp(T),nt))),()=>{G.Nu(),T.asyncQueue.enqueueAndForget((async()=>Yb(await Mp(T),nt)))}})(Ag(p),v,l,h)}function Tw(r,t){return(function(a,l){const h=new Ha;return a.asyncQueue.enqueueAndForget((async()=>rD(await pD(a),l,h))),h.promise})(Ag(r),t)}function OD(r,t,n){const a=n.docs.get(t._key),l=new kg(r);return new Ho(r,l,t._key,a,new oc(n.hasPendingWrites,n.fromCache),t.converter)}function PD(){return new Dg("serverTimestamp")}(function(t,n=!0){(function(l){cu=l})(lu),Yl(new Go("firestore",((a,{instanceIdentifier:l,options:h})=>{const p=a.getProvider("app").getImmediate(),v=new iu(new x2(a.getProvider("auth-internal")),new C2(p,a.getProvider("app-check-internal")),(function(T,S){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new St(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(T.options.projectId,S)})(p,l),p);return h={useFetchStreams:n,...h},v._setSettings(h),v}),"PUBLIC").setMultipleInstances(!0)),Ba(R0,I0,t),Ba(R0,I0,"esm2020")})();const kD={apiKey:"AIzaSyDyPzPk6CZBJ0armWcK145KnQg4X2EJ1Gc",authDomain:"la-nba.firebaseapp.com",projectId:"la-nba",storageBucket:"la-nba.firebasestorage.app",messagingSenderId:"222296057914",appId:"1:222296057914:web:3f3702623b48f6506aed03"},bw=aT(kD),rp=y2(bw),VD=new Os,Xa=yD(bw),ww=K.createContext();function Uc(){return K.useContext(ww)}function zD({children:r}){const[t,n]=K.useState(null),[a,l]=K.useState(!0);function h(){return CR(rp,VD)}function p(){return oR(rp)}K.useEffect(()=>aR(rp,T=>{n(T),l(!1)}),[]);const v={currentUser:t,login:h,logout:p};return I.jsx(ww.Provider,{value:v,children:!a&&r})}function ic({children:r}){const{currentUser:t}=Uc();return t?r:I.jsx($1,{to:"/"})}function UD(){const{login:r,currentUser:t}=Uc(),n=Gs();K.useEffect(()=>{t&&n("/overview")},[t,n]);const a=async()=>{try{const h=(await r()).user;await DD(uw(Xa,"users",h.uid),{uid:h.uid,displayName:h.displayName,email:h.email,photoURL:h.photoURL,lastLogin:new Date},{merge:!0}),n("/overview")}catch(l){console.error("Failed to log in",l)}};return I.jsxs("div",{className:"relative h-[100dvh] w-full flex flex-col bg-background-dark max-w-[430px] mx-auto overflow-hidden text-white antialiased",children:[I.jsx("div",{className:"absolute inset-0 z-0",children:I.jsx("div",{className:"w-full h-full bg-center bg-cover opacity-60",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuCyFS12cE_tdsJCcYWBRFI5_dm4dNftwFwFHYBIONKZS--oHxvHki6fjPcsSzItxp2gr4YdIXhoDMEaUcsmgn373vc9cOULt-X_WDUabdSxzEvu-hC_koF5HudSf_pDLhLH-gWulGmvAVBYrUkDsrJF6_P1OOrhkvFjQRfWVm3rTqC3DatZIQZjAwbA6o7p4DTEs8F4UPEbruOBnGn6dYXWvgvN7reYe2J4AgIoDAaLmr91Eq9tdNk5BZ-D8MT_7Ite6qHXL3RUYOQ")'},children:I.jsx("div",{className:"absolute inset-0 bg-overlay"})})}),I.jsxs("div",{className:"relative z-10 flex flex-col h-full px-6 pt-16 pb-8",children:[" ",I.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center",children:[I.jsx("div",{className:"mb-8 inline-flex p-4 rounded-3xl bg-lakers-gold/10 border border-lakers-gold/30 backdrop-blur-md",children:I.jsx("span",{className:"material-symbols-outlined text-lakers-gold text-5xl",children:"sports_basketball"})}),I.jsxs("h1",{className:"font-display font-bold text-6xl tracking-tight mb-4 text-glow",children:["",I.jsx("br",{}),"LA",I.jsx("span",{className:"text-lakers-gold italic",children:" BRON JAMES"})]})]}),I.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-10",children:[I.jsx("div",{className:"glass-panel rounded-2xl p-6 shadow-2xl",children:I.jsx("div",{className:"space-y-6",children:I.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-4 bg-lakers-gold text-lakers-purple font-bold h-14 rounded-xl active:scale-[0.98] transition-all shadow-[0_0_20px_rgba(253,185,39,0.3)]",children:[I.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[I.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"currentColor",fillOpacity:"0.8"}),I.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"currentColor",fillOpacity:"0.8"}),I.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"currentColor",fillOpacity:"0.8"}),I.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 12-4.53z",fill:"currentColor",fillOpacity:"0.8"})]}),I.jsx("span",{className:"text-base",children:"Continue with Google"})]})})}),I.jsx("div",{className:"pt-4 flex justify-center opacity-20",children:I.jsx("div",{className:"h-1.5 w-32 bg-lakers-gold rounded-full"})})]})]})]})}function xw(){const r=Gs(),t=Fs(),n=a=>t.pathname===a;return I.jsxs("nav",{className:"fixed bottom-0 w-full max-w-[430px] bg-background-dark/95 border-t border-white/10 px-6 py-4 backdrop-blur-xl flex justify-between items-center z-50",children:[I.jsxs("button",{onClick:()=>r("/overview"),className:`flex flex-col items-center gap-1 cursor-pointer transition-colors ${n("/overview")?"text-primary":"text-gray-500 hover:text-primary"}`,children:[I.jsx("span",{className:`material-symbols-outlined text-2xl ${n("/overview")?"fill-icon":""}`,children:"dashboard"}),I.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Overview"})]}),I.jsxs("button",{onClick:()=>r("/itinerary"),className:`flex flex-col items-center gap-1 cursor-pointer transition-colors ${n("/itinerary")?"text-primary":"text-gray-500 hover:text-primary"}`,children:[I.jsx("span",{className:"material-symbols-outlined text-2xl",children:"explore"}),I.jsx("span",{className:"text-[10px] font-medium uppercase tracking-tighter",children:"Guide"})]}),I.jsxs("button",{onClick:()=>r("/add-expense"),className:`flex flex-col items-center gap-1 cursor-pointer transition-colors ${n("/add-expense")?"text-primary":"text-gray-500 hover:text-primary"}`,children:[I.jsx("span",{className:"material-symbols-outlined text-2xl",children:"payments"}),I.jsx("span",{className:"text-[10px] font-medium uppercase tracking-tighter",children:"Expenses"})]}),I.jsxs("button",{className:"flex flex-col items-center gap-1 text-gray-500 hover:text-primary transition-colors cursor-pointer",children:[I.jsx("span",{className:"material-symbols-outlined text-2xl",children:"settings"}),I.jsx("span",{className:"text-[10px] font-medium uppercase tracking-tighter",children:"Settings"})]})]})}const Vg=JSON.parse(`[{"id":1,"date":"2026-02-18","weekday":"Wednesday","title":"","location":"San Gabriel","weather":"Sunny 72F","events":[{"time":"16:50","title":"Arrive ONT Airport","description":"","location":"Ontario International Airport","mapLink":"https://www.google.com/maps/@34.0559976,-117.6006671,17z?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"flight_land"},{"time":"18:00","title":"Pick up Rental Car","description":" Rental Car Center ","location":"Rental Car Center","mapLink":"","icon":"directions_car"},{"time":"19:00","title":"Check-in Airbnb","description":"8753 East Arcadia Avenue, San Gabriel, CA 91775","location":"8753 East Arcadia Avenue, San Gabriel","mapLink":"https://www.google.com/maps/place/8753+E+Arcadia+Ave,+San+Gabriel,+CA+91775%E7%BE%8E%E5%9C%8B/@34.1254364,-118.0776999,17z/data=!3m1!4b1!4m5!3m4!1s0x80c2db121b2a8ea5:0xe1b50a082194721d!8m2!3d34.1254364!4d-118.0776999?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"home"},{"time":"20:00","title":"Dinner: Golden Deli / 101 Noodle Express","description":"(Golden Deli)  (101 Noodle Express)","location":"San Gabriel","mapLink":"","icon":"restaurant"}]},{"id":2,"date":"2026-02-19","weekday":"Thursday","title":"Pasadena  & ","location":"Pasadena","weather":"Sunny 75F","events":[{"time":"10:00","title":"Breakfast: Vroman's / Great Maple","description":"Vroman's Bookstore  Great Maple ","location":"Pasadena","mapLink":"","icon":"coffee"},{"time":"11:00","title":"The Huntington Library","description":" & ","location":"The Huntington","mapLink":"https://www.google.com/maps/place/%E6%BC%A2%E5%BA%AD%E9%A0%93%E5%9C%96%E6%9B%B8%E9%A4%A8/@34.1290452,-118.1145242,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2db4d02615c73:0xb328d70c295f1904!8m2!3d34.1290452!4d-118.1145242!16zL20vMDFtcjBr?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"local_library"},{"time":"14:00","title":"Old Pasadena Shopping","description":" Colorado Blvd ","location":"Colorado Blvd","mapLink":"","icon":"shopping_bag"},{"time":"16:00","title":"Trader Joe's","description":"(South Pasadena) /","location":"South Pasadena","mapLink":"https://www.google.com/maps/search/Trader+Joe's+South+Pasadena/@34.1141032,-118.157228,16z/data=!3m1!4b1?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"shopping_cart"},{"time":"17:30","title":"Super King Market","description":"(Altadena) ","location":"Altadena","mapLink":"https://www.google.com/maps/place/Super+King+Market/@34.1846991,-118.1595127,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c25899a57b05:0xa20b9c5d1873f201!8m2!3d34.1846991!4d-118.1595127!16s%2Fg%2F1tp8_9j0?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"store"},{"time":"19:00","title":"Dinner: Sam Woo BBQ / Boiling Point","description":" San Gabriel ","location":"San Gabriel","mapLink":"","icon":"restaurant"}]},{"id":3,"date":"2026-02-20","weekday":"Friday","title":" GAME DAY - DTLA & Hollywood","location":"DTLA / Hollywood","weather":"Sunny 74F","events":[{"time":"09:30","title":"Breakfast: Eggslut","description":"Grand Central Market  (Eggslut)","location":"Grand Central Market","mapLink":"https://www.google.com/maps/place/Grand+Central+Market/@34.050872,-118.2490552,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c64b8e4372e7:0x489d4efdeb06d3d8!8m2!3d34.050872!4d-118.2490552!16zL20vMDdmN3M5?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"egg_alt"},{"time":"11:30","title":"Beverly Hills & Rodeo Drive","description":" Rodeo Drive ","location":"Beverly Hills","mapLink":"","icon":"diamond"},{"time":"13:30","title":"Lunch: The Grove / Farmers Market","description":" The Grove ","location":"The Grove","mapLink":"","icon":"lunch_dining"},{"time":"15:00","title":"Hollywood Walk of Fame","description":"","location":"Hollywood Blvd","mapLink":"","icon":"star"},{"time":"16:30","title":"Head to Arena (Parking)","description":" Crypto.com Arena","location":"Crypto.com Arena","mapLink":"https://www.google.com/maps/place/%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3%E7%B6%B2%E9%AB%94%E8%82%B2%E9%A4%A8/@34.0430175,-118.2672541,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c7b85dea2a93:0x1ff47c3ceb7bb2d5!8m2!3d34.0430175!4d-118.2672541!16zL20vMDJrazVz?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"directions_car"},{"time":"19:00","title":"Lakers vs Clippers","description":" (GAME START)","location":"Crypto.com Arena","mapLink":"","icon":"sports_basketball"},{"time":"22:00","title":"Return to San Gabriel","description":" San Gabriel ","location":"San Gabriel","mapLink":"https://www.google.com/maps/place/8753+E+Arcadia+Ave,+San+Gabriel,+CA+91775%E7%BE%8E%E5%9C%8B/@34.1254364,-118.0776999,17z/data=!3m1!4b1!4m5!3m4!1s0x80c2db121b2a8ea5:0xe1b50a082194721d!8m2!3d34.1254364!4d-118.0776999?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"home"}]},{"id":4,"date":"2026-02-21","weekday":"Saturday","title":"","location":"Universal City","weather":"Sunny 70F","events":[{"time":"09:00","title":"Universal Studios","description":"","location":"Universal City","mapLink":"https://www.google.com/maps/place/%E5%A5%BD%E8%90%8A%E5%A1%A2%E7%92%B0%E7%90%83%E5%BD%B1%E5%9F%8E/@34.1370756,-118.358177,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2be4f253238cf:0xd3dd5027799c9a71!8m2!3d34.1370713!4d-118.3533061!16zL20vMDVxc3k4?entry=tts&g_ep=EgoyMDI2MDExMy4wIPu8ASoASAFQAw%3D%3D&skid=1b3f85f7-56a0-4a7c-b9a0-d5ed0e3c5d20","icon":"movie"}]},{"id":5,"date":"2026-02-22","weekday":"Sunday","title":" Las Vegas","location":"Las Vegas","weather":"Sunny 65F","events":[{"time":"10:00","title":"Checkout Airbnb","description":"","location":"San Gabriel","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Brunch: Yi Mei Deli","description":" San Gabriel  (: )","location":"San Gabriel","mapLink":"","icon":"breakfast_dining"},{"time":"12:30","title":"Drive to Las Vegas","description":" Las Vegas 4 ","location":"I-15 North","mapLink":"","icon":"directions_car"},{"time":"14:30","title":"Stop: Barstow Outlets","description":" Outlets at Barstow /","location":"Barstow","mapLink":"https://www.google.com/maps/search/?api=1&query=Outlets+at+Barstow","icon":"shopping_bag"},{"time":"17:30","title":"Check-in: Treasure Island / Luxor","description":" Las Vegas","location":"Las Vegas Strip","mapLink":"","icon":"hotel"},{"time":"19:00","title":"The Strip Walk & Dinner","description":" Bellagio Venetian Sphere ","location":"Las Vegas Blvd","mapLink":"","icon":"nightlife"}]},{"id":6,"date":"2026-02-23","weekday":"Monday","title":"  (KKday Tour)","location":"Grand Canyon / Las Vegas","weather":"Sunny 50F","events":[{"time":"06:00","title":"Tour Pickup","description":" KKday Grand Canyon South Rim ","location":"Hotel Lobby","mapLink":"","icon":"directions_bus"},{"time":"13:00","title":"Grand Canyon South Rim","description":" (Mather Point, Yavapai Point)","location":"Grand Canyon National Park","mapLink":"","icon":"landscape"},{"time":"20:30","title":"Return to Las Vegas","description":" Las Vegas ","location":"Las Vegas","mapLink":"","icon":"home"},{"time":"21:00","title":"Dinner: In-N-Out / Buffet","description":" In-N-Out  Buffet","location":"Las Vegas","mapLink":"","icon":"fastfood"}]},{"id":7,"date":"2026-02-24","weekday":"Tuesday","title":" & ","location":"Ontario","weather":"Sunny 72F","events":[{"time":"10:30","title":"Checkout Hotel","description":"","location":"Las Vegas","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Seven Magic Mountains","description":" (Seven Magic Mountains) ","location":"S Las Vegas Blvd","mapLink":"https://www.google.com/maps/place/Seven+Magic+Mountains/@35.8392389,-115.270961,17z/data=!3m1!4b1!4m6!3m5!1s0x80cf35779dba7553:0x91f1fabf13d53cdd!8m2!3d35.8392389!4d-115.270961!16s%2Fg%2F11cn5s05x0?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"photo_camera"},{"time":"13:00","title":"Drive to Ontario","description":" Ontario 3.5 - 4 ","location":"I-15 South","mapLink":"","icon":"directions_car"},{"time":"16:00","title":"Ontario Mills Outlets","description":" Outlet ","location":"Ontario","mapLink":"https://www.google.com/maps/place/Ontario+Mills/@34.0729887,-117.5545679,17z/data=!3m1!4b1!4m6!3m5!1s0x80c33582234a6999:0x2c606dc846c3f534!8m2!3d34.0729843!4d-117.551993!16zL20vMDJoeXgw?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"shopping_bag"},{"time":"19:00","title":"Check-in: Hotel d'Lins","description":" Hotel d'Lins Ontario Airport","location":"3400 Shelby St, Ontario, CA 91764","mapLink":"","icon":"hotel"}]},{"id":8,"date":"2026-02-25","weekday":"Wednesday","title":"","location":"ONT Airport","weather":"Sunny 72F","events":[{"time":"10:00","title":"Checkout","description":" Hotel d'Lins ","location":"Hotel d'Lins","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Rancho Santa Ana Botanic Garden","description":" Claremont ","location":"Claremont","mapLink":"https://www.google.com/maps/place/California+Botanic+Garden/@34.1107605,-117.713958,17z/data=!3m1!4b1!4m6!3m5!1s0x80c331ca6d3842ff:0x8a008e9e0e1050cc!8m2!3d34.1107605!4d-117.713958!16zL20vMDV0Ym43?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"park"},{"time":"15:00","title":"Early Dinner / Last Shopping","description":"","location":"Ontario","mapLink":"","icon":"restaurant"},{"time":"19:30","title":"Return Rental Car","description":" ONT Rental Car Center ","location":"ONT Rental Car Center","mapLink":"","icon":"no_crash"},{"time":"20:30","title":"Airport Check-in","description":"","location":"ONT Airport","mapLink":"","icon":"flight_takeoff"},{"time":"22:50","title":"Flight CI23 Departure","description":" CI23 ","location":"ONT Airport","mapLink":"","icon":"airplanemode_active"}]}]`);function Sw(r){return r==null?0:Math.round((r-32)*5/9)}function BD(){const r=Gs(),{currentUser:t,logout:n}=Uc(),[a,l]=K.useState(0),[h,p]=K.useState(null),[v,y]=K.useState("Loading..."),T=async()=>{if(window.confirm("Are you sure you want to log out?"))try{await n(),r("/")}catch(S){console.error("Failed to log out",S)}};return K.useEffect(()=>{async function S(){if(t)try{const A=Lf(Yo(Xa,"expenses"),Mf("paidBy","==",t.uid)),D=await Ac(A),G=Lf(Yo(Xa,"expenses"),Mf("splitWith","array-contains",t.uid)),nt=await Ac(G);let Y=0;const q=lt=>{const ct=lt.data(),Dt=parseFloat(ct.amount)||0,Lt=ct.currency||"USD",k=(ct.splitWith||[]).length+1,M=Dt/k;Lt==="TWD"?Y+=M/32:Y+=M},ot=new Set;D.forEach(lt=>{ot.has(lt.id)||(q(lt),ot.add(lt.id))}),nt.forEach(lt=>{ot.has(lt.id)||(q(lt),ot.add(lt.id))}),l(Y)}catch(A){console.error("Error fetching expenses:",A)}}S(),S()},[t]),K.useEffect(()=>{async function S(){try{const D=await(await fetch("https://api.open-meteo.com/v1/forecast?latitude=34.0522&longitude=-118.2437&current_weather=true&temperature_unit=fahrenheit&daily=sunset&timezone=America%2FLos_Angeles")).json();if(p(D.current_weather),D.daily&&D.daily.sunset&&D.daily.sunset.length>0){const G=new Date(D.daily.sunset[0]),q=new Date(G.getTime()-3600*1e3)-new Date,ot=Math.floor(q/6e4);if(ot>0){const lt=Math.floor(ot/60),ct=ot%60;y(`Starts in ${lt}h ${ct}m`)}else ot>-60?y("Happening Now!"):y("Ended for today")}}catch(A){console.error("Failed to fetch weather",A),y("Unavailable")}}S()},[]),I.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-28 font-display shadow-2xl",children:[I.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-lakers-purple ios-blur p-4 border-b border-primary/20",children:[I.jsx("div",{className:"flex size-10 items-center justify-center cursor-pointer active:opacity-50 transition-opacity",children:I.jsx("span",{className:"material-symbols-outlined text-primary",children:"chevron_left"})}),I.jsx("h1",{className:"text-primary text-base font-extrabold flex-1 text-center tracking-tight uppercase",children:"LA Trip Overview"}),I.jsx("div",{onClick:T,className:"flex size-10 items-center justify-center cursor-pointer hover:opacity-80 transition-opacity",title:"Click to Logout",children:t?.photoURL?I.jsx("img",{src:t.photoURL,alt:"User",className:"size-8 rounded-full border-2 border-primary shadow-lg"}):I.jsx("button",{className:"size-8 rounded-full bg-primary text-lakers-purple flex items-center justify-center border-2 border-primary shadow-lg",children:I.jsx("span",{className:"material-symbols-outlined text-[20px] fill-icon",children:"person"})})})]}),I.jsxs("main",{className:"flex-1 px-5 pt-6 space-y-6",children:[I.jsx("section",{children:I.jsxs("div",{className:"relative rounded-2xl bg-card-dark border-4 border-primary overflow-hidden shadow-2xl",children:[I.jsx("div",{className:"absolute top-0 right-0 p-4 z-20",children:I.jsxs("div",{className:"flex items-center gap-1 bg-lakers-purple/90 px-2 py-1 rounded-full border border-primary/30",children:[I.jsx("span",{className:"material-symbols-outlined text-primary text-[14px]",children:"sync_alt"}),I.jsx("span",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:"USD / TWD"})]})}),I.jsx("div",{className:"relative w-full h-32 bg-center bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBbIfNtpxEJBkZ8nYoWabGRJZepciIRWK4jMVZPfjItvYa9li7pRYX8TrXIArgl87Yh5Djf_pEfmr2eoPqW639TGnFeWm1r_ysOIOaQQqGTVrJJjwadrfrB5b95zhiANEEoHRW2FyWshCDf1NoPpUapy6OL41TA8a18js9_Fr-xuM8NOXE1PF8U-6O7Jmwvl0b8Qnj9tgGZxzjVmHu1Bc4Iu4KbnV02UfiX1yKMc3IxFtk8NDEOTFYIUZ86hblVP0Twpk_vhw7yA00")'},children:I.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card-dark via-card-dark/20 to-transparent"})}),I.jsxs("div",{className:"px-5 pb-5 -mt-6 relative z-10 flex flex-col",children:[I.jsx("span",{className:"text-lakers-purple text-[11px] font-black tracking-[0.15em] uppercase mb-1 bg-primary/90 self-start px-2 py-0.5 rounded",children:"Total My Expenses"}),I.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[I.jsxs("div",{className:"flex items-baseline gap-2",children:[I.jsxs("p",{className:"text-lakers-purple text-4xl font-black tracking-tighter",children:["$",a.toFixed(2)]}),I.jsx("span",{className:"text-lakers-purple/60 text-sm font-bold",children:"USD"})]}),I.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[I.jsx("span",{className:"material-symbols-outlined text-[16px] text-lakers-purple/50",children:"payments"}),I.jsxs("p",{className:"text-lakers-purple/80 text-xl font-bold leading-none",children:[" NT$ ",(a*32).toLocaleString()]}),I.jsx("span",{className:"text-lakers-purple/40 text-[10px] font-bold uppercase tracking-tighter",children:"TWD"})]})]}),I.jsx("button",{onClick:()=>r("/expenses"),className:"mt-5 w-full bg-primary text-lakers-purple py-4 rounded-xl font-black text-xs uppercase tracking-widest active:scale-[0.98] transition-transform shadow-lg border-b-4 border-yellow-600",children:"View Expense Details"})]})]})}),I.jsx("section",{className:"grid grid-cols-1 gap-4",children:I.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-br from-lakers-purple to-[#3b1a5a] p-5 rounded-2xl border border-primary/20 shadow-xl",children:[I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsx("div",{className:"size-14 bg-primary rounded-2xl flex items-center justify-center shadow-inner",children:I.jsx("span",{className:"material-symbols-outlined text-lakers-purple text-4xl fill-icon",children:"partly_cloudy_day"})}),I.jsxs("div",{children:[I.jsxs("p",{className:"text-white text-xl font-black",children:[h?I.jsxs(I.Fragment,{children:[Math.round(h.temperature),"F ",I.jsxs("span",{className:"text-base font-normal opacity-60",children:["/ ",Sw(h.temperature),"C"]})]}):"--",I.jsx("span",{className:"text-primary font-medium ml-1",children:h?"Current":"Loading..."})]}),I.jsxs("p",{className:"text-primary/70 text-[11px] font-bold flex items-center gap-1 uppercase tracking-wider",children:[I.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"location_on"})," Los Angeles, CA"]})]})]}),I.jsxs("div",{className:"text-right",children:[I.jsx("p",{className:"text-primary text-[10px] font-black uppercase tracking-wider mb-1",children:"Golden Hour"}),I.jsx("p",{className:"text-white/90 text-xs font-bold",children:v})]})]})}),I.jsxs("div",{className:"flex items-center justify-between border-b-2 border-lakers-purple/30 pb-3",children:[I.jsx("h2",{className:"text-white text-xl font-black tracking-tight uppercase",children:"8-Day Itinerary"}),I.jsxs("div",{className:"flex items-center gap-1 bg-lakers-purple px-3 py-1.5 rounded-full border border-primary/30",children:[I.jsx("span",{className:"material-symbols-outlined text-[16px] text-primary fill-icon",children:"calendar_month"}),I.jsx("span",{className:"text-primary text-[10px] font-black uppercase tracking-wider",children:"2/18 - 2/25"})]})]}),I.jsxs("section",{className:"space-y-4 pb-8",children:[Vg.map((S,A)=>I.jsxs("div",{onClick:()=>r(`/day/${S.id}`),className:`flex items-center gap-4 border p-4 rounded-2xl active:bg-white/5 transition-colors cursor-pointer shadow-md ${S.id===1?"bg-lakers-purple/10 border-l-4 border-primary":"bg-card-dark border-white/5"}`,children:[I.jsxs("div",{className:`flex flex-col items-center justify-center size-14 rounded-xl shadow-md ${S.id===1?"bg-primary text-lakers-purple":"bg-white/5 text-gray-400"}`,children:[I.jsx("span",{className:"text-[10px] font-black uppercase leading-none mb-0.5",children:"2"}),I.jsx("span",{className:`font-black leading-none ${S.id===1?"text-2xl":"text-xl"}`,children:parseInt(S.date.split("-")[2])})]}),I.jsxs("div",{className:"flex-1",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[I.jsxs("span",{className:`${S.id===1?"text-primary":"text-gray-500"} text-[10px] font-black uppercase tracking-widest`,children:["Day 0",S.id]}),S.id===1&&I.jsx("span",{className:"size-1.5 bg-primary rounded-full"}),S.id===1&&I.jsx("span",{className:"text-primary text-[10px] font-bold uppercase",children:S.location})]}),I.jsx("p",{className:"text-white text-base font-extrabold leading-snug",children:S.title})]}),I.jsx("span",{className:`material-symbols-outlined ${S.id===1?"text-primary font-bold":"text-gray-700"}`,children:"arrow_forward_ios"})]},S.id)),I.jsxs("button",{className:"w-full py-6 text-primary text-[11px] font-black uppercase tracking-[0.3em] flex items-center justify-center gap-2 bg-lakers-purple/5 rounded-2xl border border-primary/10 mt-2",children:["Expand All 8 Days",I.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"keyboard_double_arrow_down"})]})]})]}),I.jsx(xw,{})]})}function jD(){const r=Gs();return I.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-24 font-display",children:[I.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-lakers-purple ios-blur p-4 border-b border-primary/20",children:[I.jsx("div",{onClick:()=>r(-1),className:"flex size-10 items-center justify-center cursor-pointer active:opacity-50 transition-opacity",children:I.jsx("span",{className:"material-symbols-outlined text-primary",children:"arrow_back"})}),I.jsx("h1",{className:"text-primary text-base font-black flex-1 text-center tracking-tight uppercase",children:"Full Itinerary"}),I.jsx("div",{className:"size-10"})]}),I.jsx("main",{className:"flex-1 px-5 pt-6 space-y-6",children:Vg.map(t=>I.jsxs("div",{onClick:()=>r(`/day/${t.id}`),className:"group flex items-start gap-4 p-4 rounded-2xl border border-primary/20 bg-card-dark active:bg-white/5 cursor-pointer shadow-sm",children:[I.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[3rem]",children:[I.jsx("span",{className:"text-primary/60 text-[10px] font-bold uppercase",children:t.weekday.substring(0,3)}),I.jsx("span",{className:"text-2xl font-black text-white",children:parseInt(t.date.split("-")[2])})]}),I.jsxs("div",{className:"flex-1",children:[I.jsxs("p",{className:"text-primary text-xs font-black uppercase tracking-wider mb-1",children:["Day ",t.id,"  ",t.location]}),I.jsx("h3",{className:"text-white text-lg font-bold leading-tight mb-2",children:t.title}),I.jsx("div",{className:"flex flex-wrap gap-2",children:t.events.slice(0,3).map((n,a)=>I.jsx("span",{className:"text-white/60 text-xs bg-lakers-purple/20 px-2 py-1 rounded-md border border-primary/10",children:n.title},a))})]}),I.jsx("span",{className:"material-symbols-outlined text-primary/40 group-active:text-primary self-center",children:"chevron_right"})]},t.id))}),I.jsx(xw,{})]})}var HD={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:ZD,fromCents:!1},Aw=function(t){return Math.round(t)},zg=function(t){return Math.pow(10,t)},qD=function(t,n){return Aw(t/n)*n},FD=/(\d)(?=(\d{3})+\b)/g,GD=/(\d)(?=(\d\d)+\d\b)/g;function nr(r,t){var n=this;if(!(n instanceof nr))return new nr(r,t);var a=Object.assign({},HD,t),l=zg(a.precision),h=ff(r,a);n.intValue=h,n.value=h/l,a.increment=a.increment||1/l,a.useVedic?a.groups=GD:a.groups=FD,this.s=a,this.p=l}function ff(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=0,l=t.decimal,h=t.errorOnInvalid,p=t.precision,v=t.fromCents,y=zg(p),T=typeof r=="number",S=r instanceof nr;if(S&&v)return r.intValue;if(T||S)a=S?r.value:r;else if(typeof r=="string"){var A=new RegExp("[^-\\d"+l+"]","g"),D=new RegExp("\\"+l,"g");a=r.replace(/\((.*)\)/,"-$1").replace(A,"").replace(D,"."),a=a||0}else{if(h)throw Error("Invalid Input");a=0}return v||(a*=y,a=a.toFixed(4)),n?Aw(a):a}function ZD(r,t){var n=t.pattern,a=t.negativePattern,l=t.symbol,h=t.separator,p=t.decimal,v=t.groups,y=(""+r).replace(/^-/,"").split("."),T=y[0],S=y[1];return(r.value>=0?n:a).replace("!",l).replace("#",T.replace(v,"$1"+h)+(S?p+S:""))}nr.prototype={add:function(t){var n=this.intValue,a=this.s,l=this.p;return nr((n+=ff(t,a))/(a.fromCents?1:l),a)},subtract:function(t){var n=this.intValue,a=this.s,l=this.p;return nr((n-=ff(t,a))/(a.fromCents?1:l),a)},multiply:function(t){var n=this.intValue,a=this.s;return nr((n*=t)/(a.fromCents?1:zg(a.precision)),a)},divide:function(t){var n=this.intValue,a=this.s;return nr(n/=ff(t,a,!1),a)},distribute:function(t){for(var n=this.intValue,a=this.p,l=this.s,h=[],p=Math[n>=0?"floor":"ceil"](n/t),v=Math.abs(n-p*t),y=l.fromCents?1:a;t!==0;t--){var T=nr(p/y,l);v-- >0&&(T=T[n>=0?"add":"subtract"](1/y)),h.push(T)}return h},dollars:function(){return~~this.value},cents:function(){var t=this.intValue,n=this.p;return~~(t%n)},format:function(t){var n=this.s;return typeof t=="function"?t(this,n):n.format(this,Object.assign({},n,t))},toString:function(){var t=this.intValue,n=this.p,a=this.s;return qD(t/n,a.increment).toFixed(a.precision)},toJSON:function(){return this.value}};function Cw(r,t){const n=K.useRef(t);K.useEffect(function(){t!==n.current&&r.attributionControl!=null&&(n.current!=null&&r.attributionControl.removeAttribution(n.current),t!=null&&r.attributionControl.addAttribution(t)),n.current=t},[r,t])}const KD=1;function QD(r){return Object.freeze({__version:KD,map:r})}function YD(r,t){return Object.freeze({...r,...t})}const Ug=K.createContext(null);function Rw(){const r=K.use(Ug);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function XD(r){function t(n,a){const{instance:l,context:h}=r(n).current;K.useImperativeHandle(a,()=>l);const{children:p}=n;return p==null?null:sp.createElement(Ug,{value:h},p)}return K.forwardRef(t)}function WD(r){function t(n,a){const[l,h]=K.useState(!1),{instance:p}=r(n,h).current;K.useImperativeHandle(a,()=>p),K.useEffect(function(){l&&p.update()},[p,l,n.children]);const v=p._contentNode;return v?PS.createPortal(n.children,v):null}return K.forwardRef(t)}function JD(r){function t(n,a){const{instance:l}=r(n).current;return K.useImperativeHandle(a,()=>l),null}return K.forwardRef(t)}function Iw(r,t){const n=K.useRef(void 0);K.useEffect(function(){return t!=null&&r.instance.on(t),n.current=t,function(){n.current!=null&&r.instance.off(n.current),n.current=null}},[r,t])}function Bg(r,t){const n=r.pane??t.pane;return n?{...r,pane:n}:r}function $D(r,t){return function(a,l){const h=Rw(),p=r(Bg(a,h),h);return Cw(h.map,a.attribution),Iw(p.current,a.eventHandlers),t(p.current,h,a,l),p}}var lc={exports:{}};var tL=lc.exports,CE;function eL(){return CE||(CE=1,(function(r,t){(function(n,a){a(t)})(tL,(function(n){var a="1.9.4";function l(s){var u,d,_,b;for(d=1,_=arguments.length;d<_;d++){b=arguments[d];for(u in b)s[u]=b[u]}return s}var h=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function p(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var _=d.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var v=0;function y(s){return"_leaflet_id"in s||(s._leaflet_id=++v),s._leaflet_id}function T(s,u,d){var _,b,C,O;return O=function(){_=!1,b&&(C.apply(d,b),b=!1)},C=function(){_?b=arguments:(s.apply(d,arguments),setTimeout(O,u),_=!0)},C}function S(s,u,d){var _=u[1],b=u[0],C=_-b;return s===_&&d?s:((s-b)%C+C)%C+b}function A(){return!1}function D(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function G(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function nt(s){return G(s).split(/\s+/)}function Y(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function q(s,u,d){var _=[];for(var b in s)_.push(encodeURIComponent(d?b.toUpperCase():b)+"="+encodeURIComponent(s[b]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var ot=/\{ *([\w_ -]+) *\}/g;function lt(s,u){return s.replace(ot,function(d,_){var b=u[_];if(b===void 0)throw new Error("No value provided for variable "+d);return typeof b=="function"&&(b=b(u)),b})}var ct=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Dt(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var Lt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Bt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var k=0;function M(s){var u=+new Date,d=Math.max(0,16-(u-k));return k=u+d,window.setTimeout(s,d)}var P=window.requestAnimationFrame||Bt("RequestAnimationFrame")||M,H=window.cancelAnimationFrame||Bt("CancelAnimationFrame")||Bt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function B(s,u,d){if(d&&P===M)s.call(u);else return P.call(window,p(s,u))}function F(s){s&&H.call(window,s)}var V={__proto__:null,extend:l,create:h,bind:p,get lastId(){return v},stamp:y,throttle:T,wrapNum:S,falseFn:A,formatNum:D,trim:G,splitWords:nt,setOptions:Y,getParamString:q,template:lt,isArray:ct,indexOf:Dt,emptyImageUrl:Lt,requestFn:P,cancelFn:H,requestAnimFrame:B,cancelAnimFrame:F};function oe(){}oe.extend=function(s){var u=function(){Y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(u[b]=this[b]);return s.statics&&l(u,s.statics),s.includes&&(Xe(s.includes),l.apply(null,[_].concat(s.includes))),l(_,s),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,O=_._initHooks.length;C<O;C++)_._initHooks[C].call(this)}},u},oe.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},oe.mergeOptions=function(s){return l(this.prototype.options,s),this},oe.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Xe(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=ct(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rt={on:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=nt(s);for(var b=0,C=s.length;b<C;b++)this._on(s[b],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=nt(s);for(var b=arguments.length===1,C=0,O=s.length;C<O;C++)b?this._off(s[C]):this._off(s[C],u,d)}return this},_on:function(s,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var b={fn:u,ctx:d};_&&(b.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(b)}},_off:function(s,u,d){var _,b,C;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(b=0,C=_.length;b<C;b++)_[b].fn=A;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var O=this._listens(s,u,d);if(O!==!1){var Q=_[O];this._firingCount&&(Q.fn=A,this._events[s]=_=_.slice()),_.splice(O,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var _=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var b=this._events[s];if(b){this._firingCount=this._firingCount+1||1;for(var C=0,O=b.length;C<O;C++){var Q=b[C],$=Q.fn;Q.once&&this.off(s,$,Q.ctx),$.call(Q.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(s,u,d,_){typeof s!="string"&&console.warn('"string" type argument expected');var b=u;typeof u!="function"&&(_=!!u,b=void 0,d=void 0);var C=this._events&&this._events[s];if(C&&C.length&&this._listens(s,b,d)!==!1)return!0;if(_){for(var O in this._eventParents)if(this._eventParents[O].listens(s,u,d,_))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var b=0,C=_.length;b<C;b++)if(_[b].fn===u&&_[b].ctx===d)return b;return!1},once:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=nt(s);for(var b=0,C=s.length;b<C;b++)this._on(s[b],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[y(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[y(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};rt.addEventListener=rt.on,rt.removeEventListener=rt.clearAllEventListeners=rt.off,rt.addOneTimeEventListener=rt.once,rt.fireEvent=rt.fire,rt.hasEventListeners=rt.listens;var vt=oe.extend(rt);function pt(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var te=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(s){return this.clone()._add(wt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(wt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new pt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new pt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(s){s=wt(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=wt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=wt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};function wt(s,u,d){return s instanceof pt?s:ct(s)?new pt(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new pt(s.x,s.y):new pt(s,u,d)}function U(s,u){if(s)for(var d=u?[s,u]:s,_=0,b=d.length;_<b;_++)this.extend(d[_])}U.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof pt||typeof s[0]=="number"||"x"in s)u=d=wt(s);else if(s=st(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return wt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return wt(this.min.x,this.max.y)},getTopRight:function(){return wt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof pt?s=wt(s):s=st(s),s instanceof U?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=st(s);var u=this.min,d=this.max,_=s.min,b=s.max,C=b.x>=u.x&&_.x<=d.x,O=b.y>=u.y&&_.y<=d.y;return C&&O},overlaps:function(s){s=st(s);var u=this.min,d=this.max,_=s.min,b=s.max,C=b.x>u.x&&_.x<d.x,O=b.y>u.y&&_.y<d.y;return C&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*s,b=Math.abs(u.y-d.y)*s;return st(wt(u.x-_,u.y-b),wt(d.x+_,d.y+b))},equals:function(s){return s?(s=st(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function st(s,u){return!s||s instanceof U?s:new U(s,u)}function gt(s,u){if(s)for(var d=u?[s,u]:s,_=0,b=d.length;_<b;_++)this.extend(d[_])}gt.prototype={extend:function(s){var u=this._southWest,d=this._northEast,_,b;if(s instanceof bt)_=s,b=s;else if(s instanceof gt){if(_=s._southWest,b=s._northEast,!_||!b)return this}else return s?this.extend(Tt(s)||_t(s)):this;return!u&&!d?(this._southWest=new bt(_.lat,_.lng),this._northEast=new bt(b.lat,b.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(b.lat,d.lat),d.lng=Math.max(b.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*s,b=Math.abs(u.lng-d.lng)*s;return new gt(new bt(u.lat-_,u.lng-b),new bt(d.lat+_,d.lng+b))},getCenter:function(){return new bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof bt||"lat"in s?s=Tt(s):s=_t(s);var u=this._southWest,d=this._northEast,_,b;return s instanceof gt?(_=s.getSouthWest(),b=s.getNorthEast()):_=b=s,_.lat>=u.lat&&b.lat<=d.lat&&_.lng>=u.lng&&b.lng<=d.lng},intersects:function(s){s=_t(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),b=s.getNorthEast(),C=b.lat>=u.lat&&_.lat<=d.lat,O=b.lng>=u.lng&&_.lng<=d.lng;return C&&O},overlaps:function(s){s=_t(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),b=s.getNorthEast(),C=b.lat>u.lat&&_.lat<d.lat,O=b.lng>u.lng&&_.lng<d.lng;return C&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=_t(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _t(s,u){return s instanceof gt?s:new gt(s,u)}function bt(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}bt.prototype={equals:function(s,u){if(!s)return!1;s=Tt(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+D(this.lat,s)+", "+D(this.lng,s)+")"},distanceTo:function(s){return be.distance(this,Tt(s))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return _t([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new bt(this.lat,this.lng,this.alt)}};function Tt(s,u,d){return s instanceof bt?s:ct(s)&&typeof s[0]!="object"?s.length===3?new bt(s[0],s[1],s[2]):s.length===2?new bt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new bt(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new bt(s,u,d)}var Ht={latLngToPoint:function(s,u){var d=this.projection.project(s),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(s,u){var d=this.scale(u),_=this.transformation.untransform(s,d);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),_=this.transformation.transform(u.min,d),b=this.transformation.transform(u.max,d);return new U(_,b)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?S(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?S(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new bt(d,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,b=u.lng-d.lng;if(_===0&&b===0)return s;var C=s.getSouthWest(),O=s.getNorthEast(),Q=new bt(C.lat-_,C.lng-b),$=new bt(O.lat-_,O.lng-b);return new gt(Q,$)}},be=l({},Ht,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,_=s.lat*d,b=u.lat*d,C=Math.sin((u.lat-s.lat)*d/2),O=Math.sin((u.lng-s.lng)*d/2),Q=C*C+Math.cos(_)*Math.cos(b)*O*O,$=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*$}}),Ae=6378137,ar={R:Ae,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,s.lat),-d),b=Math.sin(_*u);return new pt(this.R*s.lng*u,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(s){var u=180/Math.PI;return new bt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=Ae*Math.PI;return new U([-s,-s],[s,s])})()};function Ir(s,u,d,_){if(ct(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=_}Ir.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new pt((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Oi(s,u,d,_){return new Ir(s,u,d,_)}var Nr=l({},be,{code:"EPSG:3857",projection:ar,transformation:(function(){var s=.5/(Math.PI*ar.R);return Oi(s,.5,-s,.5)})()}),Pi=l({},Nr,{code:"EPSG:900913"});function Ks(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Dr(s,u){var d="",_,b,C,O,Q,$;for(_=0,C=s.length;_<C;_++){for(Q=s[_],b=0,O=Q.length;b<O;b++)$=Q[b],d+=(b?"L":"M")+$.x+" "+$.y;d+=u?Ct.svg?"z":"x":""}return d||"M0 0"}var os=document.documentElement.style,Lr="ActiveXObject"in window,qe=Lr&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),ki=pn("webkit"),tl=pn("android"),Ja=pn("android 2")||pn("android 3"),xn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ls=tl&&pn("Google")&&xn<537&&!("AudioNode"in window),us=!!window.opera,Qs=!Fe&&pn("chrome"),or=pn("gecko")&&!ki&&!us&&!Lr,pu=!Qs&&pn("safari"),$a=pn("phantom"),to="OTransition"in os,el=navigator.platform.indexOf("Win")===0,Xn=Lr&&"transition"in os,We="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ja,Hn="MozPerspective"in os,ze=!window.L_DISABLE_3D&&(Xn||We||Hn)&&!to&&!$a,Mr=typeof orientation<"u"||pn("mobile"),Ys=Mr&&ki,nl=Mr&&We,pi=!window.PointerEvent&&window.MSPointerEvent,Or=!!(window.PointerEvent||pi),Ue="ontouchstart"in window||!!window.TouchEvent,Vi=!window.L_NO_TOUCH&&(Ue||Or),zi=Mr&&us,gi=Mr&&or,gu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,il=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",A,u),window.removeEventListener("testPassiveEventSupport",A,u)}catch{}return s})(),Ui=(function(){return!!document.createElement("canvas").getContext})(),lr=!!(document.createElementNS&&Ks("svg").createSVGRect),_u=!!lr&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),cs=!lr&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),eo=navigator.platform.indexOf("Mac")===0,no=navigator.platform.indexOf("Linux")===0;function pn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ct={ie:Lr,ielt9:qe,edge:Fe,webkit:ki,android:tl,android23:Ja,androidStock:ls,opera:us,chrome:Qs,gecko:or,safari:pu,phantom:$a,opera12:to,win:el,ie3d:Xn,webkit3d:We,gecko3d:Hn,any3d:ze,mobile:Mr,mobileWebkit:Ys,mobileWebkit3d:nl,msPointer:pi,pointer:Or,touch:Vi,touchNative:Ue,mobileOpera:zi,mobileGecko:gi,retina:gu,passiveEvents:il,canvas:Ui,svg:lr,vml:cs,inlineSvg:_u,mac:eo,linux:no},io=Ct.msPointer?"MSPointerDown":"pointerdown",Wn=Ct.msPointer?"MSPointerMove":"pointermove",Jn=Ct.msPointer?"MSPointerUp":"pointerup",Be=Ct.msPointer?"MSPointerCancel":"pointercancel",Ge={touchstart:io,touchmove:Wn,touchend:Jn,touchcancel:Be},_i={touchstart:ji,touchmove:gn,touchend:gn,touchcancel:gn},yi={},rl=!1;function sl(s,u,d){return u==="touchstart"&&$n(),_i[u]?(d=_i[u].bind(this,d),s.addEventListener(Ge[u],d,!1),d):(console.warn("wrong event specified:",u),A)}function al(s,u,d){if(!Ge[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(Ge[u],d,!1)}function Bi(s){yi[s.pointerId]=s}function Xs(s){yi[s.pointerId]&&(yi[s.pointerId]=s)}function vi(s){delete yi[s.pointerId]}function $n(){rl||(document.addEventListener(io,Bi,!0),document.addEventListener(Wn,Xs,!0),document.addEventListener(Jn,vi,!0),document.addEventListener(Be,vi,!0),rl=!0)}function gn(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in yi)u.touches.push(yi[d]);u.changedTouches=[u],s(u)}}function ji(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Oe(u),gn(s,u)}function Ze(s){var u={},d,_;for(_ in s)d=s[_],u[_]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var ro=200;function so(s,u){s.addEventListener("dblclick",u);var d=0,_;function b(C){if(C.detail!==1){_=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var O=Ur(C);if(!(O.some(function($){return $ instanceof HTMLLabelElement&&$.attributes.for})&&!O.some(function($){return $ instanceof HTMLInputElement||$ instanceof HTMLSelectElement}))){var Q=Date.now();Q-d<=ro?(_++,_===2&&u(Ze(C))):_=1,d=Q}}}return s.addEventListener("click",b),{dblclick:u,simDblclick:b}}function Hi(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var ti=fs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ur=fs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ws=ur==="webkitTransition"||ur==="OTransition"?ur+"End":"transitionend";function Js(s){return typeof s=="string"?document.getElementById(s):s}function Pr(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);d=_?_[u]:null}return d==="auto"?null:d}function Yt(s,u,d){var _=document.createElement(s);return _.className=u||"",d&&d.appendChild(_),_}function Xt(s){var u=s.parentNode;u&&u.removeChild(s)}function Le(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Me(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function qn(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function hs(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=qi(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function xt(s,u){if(s.classList!==void 0)for(var d=nt(u),_=0,b=d.length;_<b;_++)s.classList.add(d[_]);else if(!hs(s,u)){var C=qi(s);ei(s,(C?C+" ":"")+u)}}function ye(s,u){s.classList!==void 0?s.classList.remove(u):ei(s,G((" "+qi(s)+" ").replace(" "+u+" "," ")))}function ei(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function qi(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ce(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&$s(s,u)}function $s(s,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function fs(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function Ei(s,u,d){var _=u||new pt(0,0);s.style[ti]=(Ct.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function ve(s,u){s._leaflet_pos=u,Ct.any3d?Ei(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function Fi(s){return s._leaflet_pos||new pt(0,0)}var ni,en,ta;if("onselectstart"in document)ni=function(){Pt(window,"selectstart",Oe)},en=function(){he(window,"selectstart",Oe)};else{var cr=fs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ni=function(){if(cr){var s=document.documentElement.style;ta=s[cr],s[cr]="none"}},en=function(){cr&&(document.documentElement.style[cr]=ta,ta=void 0)}}function ds(){Pt(window,"dragstart",Oe)}function kr(){he(window,"dragstart",Oe)}var ms,Gi;function Vr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Dn(),ms=s,Gi=s.style.outlineStyle,s.style.outlineStyle="none",Pt(window,"keydown",Dn))}function Dn(){ms&&(ms.style.outlineStyle=Gi,ms=void 0,Gi=void 0,he(window,"keydown",Dn))}function ea(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ln(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var zr={__proto__:null,TRANSFORM:ti,TRANSITION:ur,TRANSITION_END:Ws,get:Js,getStyle:Pr,create:Yt,remove:Xt,empty:Le,toFront:Me,toBack:qn,hasClass:hs,addClass:xt,removeClass:ye,setClass:ei,getClass:qi,setOpacity:Ce,testProp:fs,setTransform:Ei,setPosition:ve,getPosition:Fi,get disableTextSelection(){return ni},get enableTextSelection(){return en},disableImageDrag:ds,enableImageDrag:kr,preventOutline:Vr,restoreOutline:Dn,getSizedParentNode:ea,getScale:Ln};function Pt(s,u,d,_){if(u&&typeof u=="object")for(var b in u)Mn(s,b,u[b],d);else{u=nt(u);for(var C=0,O=u.length;C<O;C++)Mn(s,u[C],d,_)}return this}var _n="_leaflet_events";function he(s,u,d,_){if(arguments.length===1)hr(s),delete s[_n];else if(u&&typeof u=="object")for(var b in u)fr(s,b,u[b],d);else if(u=nt(u),arguments.length===2)hr(s,function(Q){return Dt(u,Q)!==-1});else for(var C=0,O=u.length;C<O;C++)fr(s,u[C],d,_);return this}function hr(s,u){for(var d in s[_n]){var _=d.split(/\d/)[0];(!u||u(_))&&fr(s,_,null,null,d)}}var Fn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mn(s,u,d,_){var b=u+y(d)+(_?"_"+y(_):"");if(s[_n]&&s[_n][b])return this;var C=function(Q){return d.call(_||s,Q||window.event)},O=C;!Ct.touchNative&&Ct.pointer&&u.indexOf("touch")===0?C=sl(s,u,C):Ct.touch&&u==="dblclick"?C=so(s,C):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Fn[u]||u,C,Ct.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(C=function(Q){Q=Q||window.event,wi(s,Q)&&O(Q)},s.addEventListener(Fn[u],C,!1)):s.addEventListener(u,O,!1):s.attachEvent("on"+u,C),s[_n]=s[_n]||{},s[_n][b]=C}function fr(s,u,d,_,b){b=b||u+y(d)+(_?"_"+y(_):"");var C=s[_n]&&s[_n][b];if(!C)return this;!Ct.touchNative&&Ct.pointer&&u.indexOf("touch")===0?al(s,u,C):Ct.touch&&u==="dblclick"?Hi(s,C):"removeEventListener"in s?s.removeEventListener(Fn[u]||u,C,!1):s.detachEvent("on"+u,C),s[_n][b]=null}function ee(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ii(s){return Mn(s,"wheel",ee),this}function dr(s){return Pt(s,"mousedown touchstart dblclick contextmenu",ee),s._leaflet_disable_click=!0,this}function Oe(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Ti(s){return Oe(s),ee(s),this}function Ur(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function Zi(s,u){if(!u)return new pt(s.clientX,s.clientY);var d=Ln(u),_=d.boundingClientRect;return new pt((s.clientX-_.left)/d.x-u.clientLeft,(s.clientY-_.top)/d.y-u.clientTop)}var bi=Ct.linux&&Ct.chrome?window.devicePixelRatio:Ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nn(s){return Ct.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/bi:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function wi(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var Ki={__proto__:null,on:Pt,off:he,stopPropagation:ee,disableScrollPropagation:ii,disableClickPropagation:dr,preventDefault:Oe,stop:Ti,getPropagationPath:Ur,getMousePosition:Zi,getWheelDelta:nn,isExternalTarget:wi,addListener:Pt,removeListener:he},mr=vt.extend({run:function(s,u,d,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Fi(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),ve(this._el,d),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Qt=vt.extend({options:{crs:Nr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=Y(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Tt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ur&&Ct.any3d&&!Ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pt(this._proxy,Ws,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(Tt(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var _=this.getZoomScale(u),b=this.getSize().divideBy(2),C=s instanceof pt?s:this.latLngToContainerPoint(s),O=C.subtract(b).multiplyBy(1-1/_),Q=this.containerPointToLatLng(b.add(O));return this.setView(Q,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():_t(s);var d=wt(u.paddingTopLeft||u.padding||[0,0]),_=wt(u.paddingBottomRight||u.padding||[0,0]),b=this.getBoundsZoom(s,!1,d.add(_));if(b=typeof u.maxZoom=="number"?Math.min(u.maxZoom,b):b,b===1/0)return{center:s.getCenter(),zoom:b};var C=_.subtract(d).divideBy(2),O=this.project(s.getSouthWest(),b),Q=this.project(s.getNorthEast(),b),$=this.unproject(O.add(Q).divideBy(2).add(C),b);return{center:$,zoom:b}},fitBounds:function(s,u){if(s=_t(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=wt(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new mr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){xt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!Ct.any3d)return this.setView(s,u,d);this._stop();var _=this.project(this.getCenter()),b=this.project(s),C=this.getSize(),O=this._zoom;s=Tt(s),u=u===void 0?O:u;var Q=Math.max(C.x,C.y),$=Q*this.getZoomScale(O,u),ht=b.distanceTo(_)||1,Et=1.42,Nt=Et*Et;function Zt(je){var vr=je?-1:1,Ts=je?$:Q,wu=$*$-Q*Q+vr*Nt*Nt*ht*ht,Ao=2*Ts*Nt*ht,Co=wu/Ao,Yr=Math.sqrt(Co*Co+1)-Co,Er=Yr<1e-9?-18:Math.log(Yr);return Er}function fn(je){return(Math.exp(je)-Math.exp(-je))/2}function Ke(je){return(Math.exp(je)+Math.exp(-je))/2}function Kn(je){return fn(je)/Ke(je)}var fe=Zt(0);function de(je){return Q*(Ke(fe)/Ke(fe+Et*je))}function Wt(je){return Q*(Ke(fe)*Kn(fe+Et*je)-fn(fe))/Nt}function Kr(je){return 1-Math.pow(1-je,1.5)}var li=Date.now(),vl=(Zt(1)-fe)/Et,Qr=d.duration?1e3*d.duration:1e3*vl*.8;function bu(){var je=(Date.now()-li)/Qr,vr=Kr(je)*vl;je<=1?(this._flyToFrame=B(bu,this),this._move(this.unproject(_.add(b.subtract(_).multiplyBy(Wt(vr)/ht)),O),this.getScaleZoom(Q/de(vr),O),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),bu.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=_t(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,_t(s));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=wt(u.paddingTopLeft||u.padding||[0,0]),_=wt(u.paddingBottomRight||u.padding||[0,0]),b=this.project(this.getCenter()),C=this.project(s),O=this.getPixelBounds(),Q=st([O.min.add(d),O.max.subtract(_)]),$=Q.getSize();if(!Q.contains(C)){this._enforcingBounds=!0;var ht=C.subtract(Q.getCenter()),Et=Q.extend(C).getSize().subtract($);b.x+=ht.x<0?-Et.x:Et.x,b.y+=ht.y<0?-Et.y:Et.y,this.panTo(this.unproject(b),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),b=d.divideBy(2).round(),C=_.subtract(b);return!C.x&&!C.y?this:(s.animate&&s.pan?this.panBy(C):(s.pan&&this._rawPanBy(C),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),d=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,_=new bt(u,d),b=_.toBounds(s.coords.accuracy*2),C=this._locateOptions;if(C.setView){var O=this.getBoundsZoom(b);this.setView(_,C.maxZoom?Math.min(O,C.maxZoom):O)}var Q={latlng:_,bounds:b,timestamp:s.timestamp};for(var $ in s.coords)typeof s.coords[$]=="number"&&(Q[$]=s.coords[$]);this.fire("locationfound",Q)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Xt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Yt("div",d,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new gt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=_t(s),d=wt(d||[0,0]);var _=this.getZoom()||0,b=this.getMinZoom(),C=this.getMaxZoom(),O=s.getNorthWest(),Q=s.getSouthEast(),$=this.getSize().subtract(d),ht=st(this.project(Q,_),this.project(O,_)).getSize(),Et=Ct.any3d?this.options.zoomSnap:1,Nt=$.x/ht.x,Zt=$.y/ht.y,fn=u?Math.max(Nt,Zt):Math.min(Nt,Zt);return _=this.getScaleZoom(fn,_),Et&&(_=Math.round(_/(Et/100))*(Et/100),_=u?Math.ceil(_/Et)*Et:Math.floor(_/Et)*Et),Math.max(b,Math.min(C,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new U(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(s*d.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Tt(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(wt(s),u)},layerPointToLatLng:function(s){var u=wt(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(Tt(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Tt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(_t(s))},distance:function(s,u){return this.options.crs.distance(Tt(s),Tt(u))},containerPointToLayerPoint:function(s){return wt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return wt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(wt(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Tt(s)))},mouseEventToContainerPoint:function(s){return Zi(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Js(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ct.any3d,xt(s,"leaflet-container"+(Ct.touch?" leaflet-touch":"")+(Ct.retina?" leaflet-retina":"")+(Ct.ielt9?" leaflet-oldie":"")+(Ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Pr(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(s.markerPane,"leaflet-zoom-hide"),xt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){ve(this._mapPane,new pt(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var b=this._zoom!==u;this._moveStart(b,d)._move(s,u)._moveEnd(b),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,_){u===void 0&&(u=this._zoom);var b=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?d&&d.pinch&&this.fire("zoom",d):((b||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ve(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[y(this._container)]=this;var u=s?he:Pt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ct.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],_,b=u==="mouseout"||u==="mouseover",C=s.target||s.srcElement,O=!1;C;){if(_=this._targets[y(C)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){O=!0;break}if(_&&_.listens(u,!0)&&(b&&!wi(C,s)||(d.push(_),b))||C===this._container)break;C=C.parentNode}return!d.length&&!O&&!b&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&Vr(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var _=l({},s);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var b=this._findEventTargets(s,u);if(d){for(var C=[],O=0;O<d.length;O++)d[O].listens(u,!0)&&C.push(d[O]);b=C.concat(b)}if(b.length){u==="contextmenu"&&Oe(s);var Q=b[0],$={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ht=Q.getLatLng&&(!Q._radius||Q._radius<=10);$.containerPoint=ht?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(s),$.layerPoint=this.containerPointToLayerPoint($.containerPoint),$.latlng=ht?Q.getLatLng():this.layerPointToLatLng($.layerPoint)}for(O=0;O<b.length;O++)if(b[O].fire(u,$,!0),$.originalEvent._stopped||b[O].options.bubblingMouseEvents===!1&&Dt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return Fi(this._mapPane)||new pt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return st([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var _=this.project(s,u),b=this.getSize().divideBy(2),C=new U(_.subtract(b),_.add(b)),O=this._getBoundsOffset(C,d,u);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?s:this.unproject(_.add(O),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),_=new U(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,d){var _=st(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),b=_.min.subtract(s.min),C=_.max.subtract(s.max),O=this._rebound(b.x,-C.x),Q=this._rebound(b.y,-C.y);return new pt(O,Q)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),_=Ct.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=Yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=ti,_=this._proxy.style[d];Ei(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Ei(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),b=this._getCenterOffset(s)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(b)?!1:(B(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Br(s,u){return new Qt(s,u)}var yn=oe.extend({options:{position:"topright"},initialize:function(s){Y(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),_=s._controlCorners[d];return xt(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),On=function(s){return new yn(s)};Qt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=Yt("div",u+"control-container",this._container);function _(b,C){var O=u+b+" "+u+C;s[b+C]=Yt("div",O,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Xt(this._controlCorners[s]);Xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ps=yn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(s,u,d){Y(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return yn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Yt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),dr(u),ii(u);var _=this._section=Yt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Pt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Yt("a",s+"-toggle",u);b.href="#",b.title="Layers",b.setAttribute("role","button"),Pt(b,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){Oe(C),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Yt("div",s+"-base",_),this._separator=Yt("div",s+"-separator",_),this._overlaysList=Yt("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(p(function(_,b){return this.options.sortFunction(_.layer,b.layer,_.name,b.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Le(this._baseLayersList),Le(this._overlaysList),this._layerControlInputs=[];var s,u,d,_,b=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,b+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&b>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(y(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(_),_.layerId=y(s.layer),Pt(_,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+s.name;var C=document.createElement("span");u.appendChild(C),C.appendChild(_),C.appendChild(b);var O=s.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,_=[],b=[];this._handlingClick=!0;for(var C=s.length-1;C>=0;C--)u=s[C],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||b.push(d);for(C=0;C<b.length;C++)this._map.hasLayer(b[C])&&this._map.removeLayer(b[C]);for(C=0;C<_.length;C++)this._map.hasLayer(_[C])||this._map.addLayer(_[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,_=this._map.getZoom(),b=s.length-1;b>=0;b--)u=s[b],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Pt(s,"click",Oe),this.expand();var u=this;setTimeout(function(){he(s,"click",Oe),u._preventClick=!1})}}),ao=function(s,u,d){return new ps(s,u,d)},pr=yn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=Yt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,_,b){var C=Yt("a",d,_);return C.innerHTML=s,C.href="#",C.title=u,C.setAttribute("role","button"),C.setAttribute("aria-label",u),dr(C),Pt(C,"click",Ti),Pt(C,"click",b,this),Pt(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";ye(this._zoomInButton,u),ye(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(xt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(xt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qt.mergeOptions({zoomControl:!0}),Qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new pr,this.addControl(this.zoomControl))});var ol=function(s){return new pr(s)},oo=yn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=Yt("div",u),_=this.options;return this._addScales(_,u+"-line",d),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=Yt("div",u,d)),s.imperial&&(this._iScale=Yt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,_,b;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(b=this._getRoundNum(u),this._updateScale(this._iScale,b+" ft",b/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),gs=function(s){return new oo(s)},lo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',na=yn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ct.inlineSvg?lo+" ":"")+"Leaflet</a>"},initialize:function(s){Y(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Yt("div","leaflet-control-attribution"),dr(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Qt.mergeOptions({attributionControl:!0}),Qt.addInitHook(function(){this.options.attributionControl&&new na().addTo(this)});var ia=function(s){return new na(s)};yn.Layers=ps,yn.Zoom=pr,yn.Scale=oo,yn.Attribution=na,On.layers=ao,On.zoom=ol,On.scale=gs,On.attribution=ia;var Gn=oe.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gn.addTo=function(s,u){return s.addHandler(u,this),this};var ll={Events:rt},xi=Ct.touch?"touchstart mousedown":"mousedown",Si=vt.extend({options:{clickTolerance:3},initialize:function(s,u,d,_){Y(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(Pt(this._dragStartTarget,xi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Si._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,xi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!hs(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Si._dragging===this&&this.finishDrag();return}if(!(Si._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Si._dragging=this,this._preventOutline&&Vr(this._element),ds(),ni(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=ea(this._element);this._startPoint=new pt(u.clientX,u.clientY),this._startPos=Fi(this._element),this._parentScale=Ln(d);var _=s.type==="mousedown";Pt(document,_?"mousemove":"touchmove",this._onMove,this),Pt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new pt(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Oe(s),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ve(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),kr(),en();var u=this._moved&&this._moving;this._moving=!1,Si._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function uo(s,u,d){var _,b=[1,4,2,8],C,O,Q,$,ht,Et,Nt,Zt;for(C=0,Et=s.length;C<Et;C++)s[C]._code=et(s[C],u);for(Q=0;Q<4;Q++){for(Nt=b[Q],_=[],C=0,Et=s.length,O=Et-1;C<Et;O=C++)$=s[C],ht=s[O],$._code&Nt?ht._code&Nt||(Zt=X(ht,$,Nt,u,d),Zt._code=et(Zt,u),_.push(Zt)):(ht._code&Nt&&(Zt=X(ht,$,Nt,u,d),Zt._code=et(Zt,u),_.push(Zt)),_.push($));s=_}return s}function co(s,u){var d,_,b,C,O,Q,$,ht,Et;if(!s||s.length===0)throw new Error("latlngs not passed");le(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Nt=Tt([0,0]),Zt=_t(s),fn=Zt.getNorthWest().distanceTo(Zt.getSouthWest())*Zt.getNorthEast().distanceTo(Zt.getNorthWest());fn<1700&&(Nt=ra(s));var Ke=s.length,Kn=[];for(d=0;d<Ke;d++){var fe=Tt(s[d]);Kn.push(u.project(Tt([fe.lat-Nt.lat,fe.lng-Nt.lng])))}for(Q=$=ht=0,d=0,_=Ke-1;d<Ke;_=d++)b=Kn[d],C=Kn[_],O=b.y*C.x-C.y*b.x,$+=(b.x+C.x)*O,ht+=(b.y+C.y)*O,Q+=O*3;Q===0?Et=Kn[0]:Et=[$/Q,ht/Q];var de=u.unproject(wt(Et));return Tt([de.lat+Nt.lat,de.lng+Nt.lng])}function ra(s){for(var u=0,d=0,_=0,b=0;b<s.length;b++){var C=Tt(s[b]);u+=C.lat,d+=C.lng,_++}return Tt([u/_,d/_])}var jr={__proto__:null,clipPolygon:uo,polygonCenter:co,centroid:ra};function vn(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=E(s,d),s=gr(s,d),s}function ho(s,u,d){return Math.sqrt(zt(s,u,d,!0))}function ul(s,u,d){return zt(s,u,d)}function gr(s,u){var d=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,b=new _(d);b[0]=b[d-1]=1,f(s,b,u,0,d-1);var C,O=[];for(C=0;C<d;C++)b[C]&&O.push(s[C]);return O}function f(s,u,d,_,b){var C=0,O,Q,$;for(Q=_+1;Q<=b-1;Q++)$=zt(s[Q],s[_],s[b],!0),$>C&&(O=Q,C=$);C>d&&(u[O]=1,f(s,u,d,_,O),f(s,u,d,O,b))}function E(s,u){for(var d=[s[0]],_=1,b=0,C=s.length;_<C;_++)yt(s[_],s[b])>u&&(d.push(s[_]),b=_);return b<C-1&&d.push(s[C-1]),d}var x;function N(s,u,d,_,b){var C=_?x:et(s,d),O=et(u,d),Q,$,ht;for(x=O;;){if(!(C|O))return[s,u];if(C&O)return!1;Q=C||O,$=X(s,u,Q,d,b),ht=et($,d),Q===C?(s=$,C=ht):(u=$,O=ht)}}function X(s,u,d,_,b){var C=u.x-s.x,O=u.y-s.y,Q=_.min,$=_.max,ht,Et;return d&8?(ht=s.x+C*($.y-s.y)/O,Et=$.y):d&4?(ht=s.x+C*(Q.y-s.y)/O,Et=Q.y):d&2?(ht=$.x,Et=s.y+O*($.x-s.x)/C):d&1&&(ht=Q.x,Et=s.y+O*(Q.x-s.x)/C),new pt(ht,Et,b)}function et(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function yt(s,u){var d=u.x-s.x,_=u.y-s.y;return d*d+_*_}function zt(s,u,d,_){var b=u.x,C=u.y,O=d.x-b,Q=d.y-C,$=O*O+Q*Q,ht;return $>0&&(ht=((s.x-b)*O+(s.y-C)*Q)/$,ht>1?(b=d.x,C=d.y):ht>0&&(b+=O*ht,C+=Q*ht)),O=s.x-b,Q=s.y-C,_?O*O+Q*Q:new pt(b,C)}function le(s){return!ct(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ue(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),le(s)}function Re(s,u){var d,_,b,C,O,Q,$,ht;if(!s||s.length===0)throw new Error("latlngs not passed");le(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Et=Tt([0,0]),Nt=_t(s),Zt=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Zt<1700&&(Et=ra(s));var fn=s.length,Ke=[];for(d=0;d<fn;d++){var Kn=Tt(s[d]);Ke.push(u.project(Tt([Kn.lat-Et.lat,Kn.lng-Et.lng])))}for(d=0,_=0;d<fn-1;d++)_+=Ke[d].distanceTo(Ke[d+1])/2;if(_===0)ht=Ke[0];else for(d=0,C=0;d<fn-1;d++)if(O=Ke[d],Q=Ke[d+1],b=O.distanceTo(Q),C+=b,C>_){$=(C-_)/b,ht=[Q.x-$*(Q.x-O.x),Q.y-$*(Q.y-O.y)];break}var fe=u.unproject(wt(ht));return Tt([fe.lat+Et.lat,fe.lng+Et.lng])}var ri={__proto__:null,simplify:vn,pointToSegmentDistance:ho,closestPointOnSegment:ul,clipSegment:N,_getEdgeIntersection:X,_getBitCode:et,_sqClosestPointOnSegment:zt,isFlat:le,_flat:ue,polylineCenter:Re},si={project:function(s){return new pt(s.lng,s.lat)},unproject:function(s){return new bt(s.y,s.x)},bounds:new U([-180,-90],[180,90])},Zn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new U([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,_=s.lat*u,b=this.R_MINOR/d,C=Math.sqrt(1-b*b),O=C*Math.sin(_),Q=Math.tan(Math.PI/4-_/2)/Math.pow((1-O)/(1+O),C/2);return _=-d*Math.log(Math.max(Q,1e-10)),new pt(s.lng*u*d,_)},unproject:function(s){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,b=Math.sqrt(1-_*_),C=Math.exp(-s.y/d),O=Math.PI/2-2*Math.atan(C),Q=0,$=.1,ht;Q<15&&Math.abs($)>1e-7;Q++)ht=b*Math.sin(O),ht=Math.pow((1-ht)/(1+ht),b/2),$=Math.PI/2-2*Math.atan(C*ht)-O,O+=$;return new bt(O*u,s.x*u/d)}},Ai={__proto__:null,LonLat:si,Mercator:Zn,SphericalMercator:ar},_s=l({},be,{code:"EPSG:3395",projection:Zn,transformation:(function(){var s=.5/(Math.PI*Zn.R);return Oi(s,.5,-s,.5)})()}),ys=l({},be,{code:"EPSG:4326",projection:si,transformation:Oi(1/180,1,-1/180,.5)}),sa=l({},Ht,{projection:si,transformation:Oi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(d*d+_*_)},infinite:!0});Ht.Earth=be,Ht.EPSG3395=_s,Ht.EPSG3857=Nr,Ht.EPSG900913=Pi,Ht.EPSG4326=ys,Ht.Simple=sa;var Ci=vt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[y(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[y(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Qt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=y(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return y(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?ct(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[y(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=y(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var b=this._zoomBoundLayers[_].options;s=b.minZoom===void 0?s:Math.min(s,b.minZoom),u=b.maxZoom===void 0?u:Math.max(u,b.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var aa=Ci.extend({initialize:function(s,u){Y(this,u),this._layers={};var d,_;if(s)for(d=0,_=s.length;d<_;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return y(s)}}),ed=function(s,u){return new aa(s,u)},Qi=aa.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),aa.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),aa.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new gt;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),jc=function(s,u){return new Qi(s,u)},Yi=oe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){Y(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var b=wt(_),C=wt(u==="shadow"&&d.shadowAnchor||d.iconAnchor||b&&b.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),C&&(s.style.marginLeft=-C.x+"px",s.style.marginTop=-C.y+"px"),b&&(s.style.width=b.x+"px",s.style.height=b.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Ct.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function fo(s){return new Yi(s)}var mo=Yi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof mo.imagePath!="string"&&(mo.imagePath=this._detectIconPath()),(this.options.imagePath||mo.imagePath)+Yi.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,_,b){var C=_.exec(d);return C&&C[b]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Yt("div","leaflet-default-icon-path",document.body),u=Pr(s,"background-image")||Pr(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),po=Gn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Si(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,C=Fi(u._icon),O=d.getPixelBounds(),Q=d.getPixelOrigin(),$=st(O.min._subtract(Q).add(b),O.max._subtract(Q).subtract(b));if(!$.contains(C)){var ht=wt((Math.max($.max.x,C.x)-$.max.x)/(O.max.x-$.max.x)-(Math.min($.min.x,C.x)-$.min.x)/(O.min.x-$.min.x),(Math.max($.max.y,C.y)-$.max.y)/(O.max.y-$.max.y)-(Math.min($.min.y,C.y)-$.min.y)/(O.min.y-$.min.y)).multiplyBy(_);d.panBy(ht,{animate:!1}),this._draggable._newPos._add(ht),this._draggable._startPos._add(ht),ve(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=B(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,_=Fi(u._icon),b=u._map.layerPointToLatLng(_);d&&ve(d,_),u._latlng=b,s.latlng=b,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),go=Ci.extend({options:{icon:new mo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){Y(this,u),this._latlng=Tt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=Tt(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),xt(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(d,"focus",this._panOnFocus,this);var b=s.icon.createShadow(this._shadow),C=!1;b!==this._shadow&&(this._removeShadow(),C=!0),b&&(xt(b,u),b.alt=""),this._shadow=b,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&C&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),Xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ve(this._icon,s),this._shadow&&ve(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),po)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new po(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ce(this._icon,s),this._shadow&&Ce(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?wt(u.iconSize):wt(0,0),_=u.iconAnchor?wt(u.iconAnchor):wt(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Hc(s,u){return new go(s,u)}var Xi=Ci.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return Y(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),oa=Xi.extend({options:{fill:!0,radius:10},initialize:function(s,u){Y(this,u),this._latlng=Tt(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=Tt(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Xi.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),_=[s+d,u+d];this._pxBounds=new U(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qc(s,u){return new oa(s,u)}var cl=oa.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),Y(this,u),this._latlng=Tt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new gt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Xi.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===be.distance){var b=Math.PI/180,C=this._mRadius/be.R/b,O=d.project([u+C,s]),Q=d.project([u-C,s]),$=O.add(Q).divideBy(2),ht=d.unproject($).lat,Et=Math.acos((Math.cos(C*b)-Math.sin(u*b)*Math.sin(ht*b))/(Math.cos(u*b)*Math.cos(ht*b)))/b;(isNaN(Et)||Et===0)&&(Et=C/Math.cos(Math.PI/180*u)),this._point=$.subtract(d.getPixelOrigin()),this._radius=isNaN(Et)?0:$.x-d.project([ht,s-Et]).x,this._radiusY=$.y-O.y}else{var Nt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Nt).x}this._updateBounds()}});function Fc(s,u,d){return new cl(s,u,d)}var _r=Xi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){Y(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,_=zt,b,C,O=0,Q=this._parts.length;O<Q;O++)for(var $=this._parts[O],ht=1,Et=$.length;ht<Et;ht++){b=$[ht-1],C=$[ht];var Nt=_(s,b,C,!0);Nt<u&&(u=Nt,d=_(s,b,C))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Re(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=Tt(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new gt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return le(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=le(s),_=0,b=s.length;_<b;_++)d?(u[_]=Tt(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new U;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new pt(s,s);this._rawPxBounds&&(this._pxBounds=new U([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var _=s[0]instanceof bt,b=s.length,C,O;if(_){for(O=[],C=0;C<b;C++)O[C]=this._map.latLngToLayerPoint(s[C]),d.extend(O[C]);u.push(O)}else for(C=0;C<b;C++)this._projectLatlngs(s[C],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,b,C,O,Q,$;for(d=0,b=0,C=this._rings.length;d<C;d++)for($=this._rings[d],_=0,O=$.length;_<O-1;_++)Q=N($[_],$[_+1],s,_,!0),Q&&(u[b]=u[b]||[],u[b].push(Q[0]),(Q[1]!==$[_+1]||_===O-2)&&(u[b].push(Q[1]),b++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,_=s.length;d<_;d++)s[d]=vn(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,_,b,C,O,Q,$=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,C=this._parts.length;d<C;d++)for(Q=this._parts[d],_=0,O=Q.length,b=O-1;_<O;b=_++)if(!(!u&&_===0)&&ho(s,Q[b],Q[_])<=$)return!0;return!1}});function nd(s,u){return new _r(s,u)}_r._flat=ue;var la=_r.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return co(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=_r.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof bt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){_r.prototype._setLatLngs.call(this,s),le(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return le(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new pt(u,u);if(s=new U(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,b=this._rings.length,C;_<b;_++)C=uo(this._rings[_],s,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,_,b,C,O,Q,$,ht;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(C=0,$=this._parts.length;C<$;C++)for(d=this._parts[C],O=0,ht=d.length,Q=ht-1;O<ht;Q=O++)_=d[O],b=d[Q],_.y>s.y!=b.y>s.y&&s.x<(b.x-_.x)*(s.y-_.y)/(b.y-_.y)+_.x&&(u=!u);return u||_r.prototype._containsPoint.call(this,s,!0)}});function id(s,u){return new la(s,u)}var yr=Qi.extend({initialize:function(s,u){Y(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=ct(s)?s:s.features,d,_,b;if(u){for(d=0,_=u.length;d<_;d++)b=u[d],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var C=this.options;if(C.filter&&!C.filter(s))return this;var O=En(s,C);return O?(O.feature=dl(s),O.defaultOptions=O.options,this.resetStyle(O),C.onEachFeature&&C.onEachFeature(s,O),this.addLayer(O)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function En(s,u){var d=s.type==="Feature"?s.geometry:s,_=d?d.coordinates:null,b=[],C=u&&u.pointToLayer,O=u&&u.coordsToLatLng||hl,Q,$,ht,Et;if(!_&&!d)return null;switch(d.type){case"Point":return Q=O(_),ua(C,s,Q,u);case"MultiPoint":for(ht=0,Et=_.length;ht<Et;ht++)Q=O(_[ht]),b.push(ua(C,s,Q,u));return new Qi(b);case"LineString":case"MultiLineString":return $=_o(_,d.type==="LineString"?0:1,O),new _r($,u);case"Polygon":case"MultiPolygon":return $=_o(_,d.type==="Polygon"?1:2,O),new la($,u);case"GeometryCollection":for(ht=0,Et=d.geometries.length;ht<Et;ht++){var Nt=En({geometry:d.geometries[ht],type:"Feature",properties:s.properties},u);Nt&&b.push(Nt)}return new Qi(b);case"FeatureCollection":for(ht=0,Et=d.features.length;ht<Et;ht++){var Zt=En(d.features[ht],u);Zt&&b.push(Zt)}return new Qi(b);default:throw new Error("Invalid GeoJSON object.")}}function ua(s,u,d,_){return s?s(u,d):new go(d,_&&_.markersInheritOptions&&_)}function hl(s){return new bt(s[1],s[0],s[2])}function _o(s,u,d){for(var _=[],b=0,C=s.length,O;b<C;b++)O=u?_o(s[b],u-1,d):(d||hl)(s[b]),_.push(O);return _}function fl(s,u){return s=Tt(s),s.alt!==void 0?[D(s.lng,u),D(s.lat,u),D(s.alt,u)]:[D(s.lng,u),D(s.lat,u)]}function yo(s,u,d,_){for(var b=[],C=0,O=s.length;C<O;C++)b.push(u?yo(s[C],le(s[C])?0:u-1,d,_):fl(s[C],_));return!u&&d&&b.length>0&&b.push(b[0].slice()),b}function Hr(s,u){return s.feature?l({},s.feature,{geometry:u}):dl(u)}function dl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var qr={toGeoJSON:function(s){return Hr(this,{type:"Point",coordinates:fl(this.getLatLng(),s)})}};go.include(qr),cl.include(qr),oa.include(qr),_r.include({toGeoJSON:function(s){var u=!le(this._latlngs),d=yo(this._latlngs,u?1:0,!1,s);return Hr(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),la.include({toGeoJSON:function(s){var u=!le(this._latlngs),d=u&&!le(this._latlngs[0]),_=yo(this._latlngs,d?2:u?1:0,!0,s);return u||(_=[_]),Hr(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),aa.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),Hr(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(b){if(b.toGeoJSON){var C=b.toGeoJSON(s);if(d)_.push(C.geometry);else{var O=dl(C);O.type==="FeatureCollection"?_.push.apply(_,O.features):_.push(O)}}}),d?Hr(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function ml(s,u){return new yr(s,u)}var vo=ml,ca=Ci.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=_t(u),Y(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Me(this._image),this},bringToBack:function(){return this._map&&qn(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=_t(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Yt("img");if(xt(u,"leaflet-image-layer"),this._zoomAnimated&&xt(u,"leaflet-zoom-animated"),this.options.className&&xt(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ei(this._image,d,u)},_reset:function(){var s=this._image,u=new U(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();ve(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){Ce(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Gc=function(s,u,d){return new ca(s,u,d)},Fr=ca.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Yt("video");if(xt(u,"leaflet-image-layer"),this._zoomAnimated&&xt(u,"leaflet-zoom-animated"),this.options.className&&xt(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onloadeddata=p(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),_=[],b=0;b<d.length;b++)_.push(d[b].src);this._url=d.length>0?_:[u.src];return}ct(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var O=Yt("source");O.src=this._url[C],u.appendChild(O)}}});function ha(s,u,d){return new Fr(s,u,d)}var pl=ca.extend({_initImage:function(){var s=this._image=this._url;xt(s,"leaflet-image-layer"),this._zoomAnimated&&xt(s,"leaflet-zoom-animated"),this.options.className&&xt(s,this.options.className),s.onselectstart=A,s.onmousemove=A}});function Zc(s,u,d){return new pl(s,u,d)}var Tn=Ci.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof bt||ct(s))?(this._latlng=Tt(s),Y(this,u)):(Y(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ce(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ce(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ce(this._container,0),this._removeTimeout=setTimeout(p(Xt,void 0,this._container),200)):Xt(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Tt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Me(this._container),this},bringToBack:function(){return this._map&&qn(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Qi){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=wt(this.options.offset),d=this._getAnchor();this._zoomAnimated?ve(this._container,s.add(d)):u=u.add(s).add(d);var _=this._containerBottom=-u.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Qt.include({_initOverlay:function(s,u,d,_){var b=u;return b instanceof s||(b=new s(_).setContent(u)),d&&b.setLatLng(d),b}}),Ci.include({_initOverlay:function(s,u,d,_){var b=d;return b instanceof s?(Y(b,_),b._source=this):(b=u&&!_?u:new s(_,this),b.setContent(d)),b}});var Eo=Tn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Tn.prototype.openOn.call(this,s)},onAdd:function(s){Tn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xi||this._source.on("preclick",ee))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xi||this._source.off("preclick",ee))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Yt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Yt("div",s+"-content-wrapper",u);if(this._contentNode=Yt("div",s+"-content",d),dr(u),ii(this._contentNode),Pt(u,"contextmenu",ee),this._tipContainer=Yt("div",s+"-tip-container",u),this._tip=Yt("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Yt("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Pt(_,"click",function(b){Oe(b),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,b=this.options.maxHeight,C="leaflet-popup-scrolled";b&&_>b?(u.height=b+"px",xt(s,C)):ye(s,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();ve(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Pr(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,b=new pt(this._containerLeft,-d-this._containerBottom);b._add(Fi(this._container));var C=s.layerPointToContainerPoint(b),O=wt(this.options.autoPanPadding),Q=wt(this.options.autoPanPaddingTopLeft||O),$=wt(this.options.autoPanPaddingBottomRight||O),ht=s.getSize(),Et=0,Nt=0;C.x+_+$.x>ht.x&&(Et=C.x+_-ht.x+$.x),C.x-Et-Q.x<0&&(Et=C.x-Q.x),C.y+d+$.y>ht.y&&(Nt=C.y+d-ht.y+$.y),C.y-Nt-Q.y<0&&(Nt=C.y-Q.y),(Et||Nt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Et,Nt]))}},_getAnchor:function(){return wt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Kc=function(s,u){return new Eo(s,u)};Qt.mergeOptions({closePopupOnClick:!0}),Qt.include({openPopup:function(s,u,d){return this._initOverlay(Eo,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Ci.include({bindPopup:function(s,u){return this._popup=this._initOverlay(Eo,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Qi||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Ti(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Xi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var To=Tn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Tn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Yt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,_=this._map,b=this._container,C=_.latLngToContainerPoint(_.getCenter()),O=_.layerPointToContainerPoint(s),Q=this.options.direction,$=b.offsetWidth,ht=b.offsetHeight,Et=wt(this.options.offset),Nt=this._getAnchor();Q==="top"?(u=$/2,d=ht):Q==="bottom"?(u=$/2,d=0):Q==="center"?(u=$/2,d=ht/2):Q==="right"?(u=0,d=ht/2):Q==="left"?(u=$,d=ht/2):O.x<C.x?(Q="right",u=0,d=ht/2):(Q="left",u=$+(Et.x+Nt.x)*2,d=ht/2),s=s.subtract(wt(u,d,!0)).add(Et).add(Nt),ye(b,"leaflet-tooltip-right"),ye(b,"leaflet-tooltip-left"),ye(b,"leaflet-tooltip-top"),ye(b,"leaflet-tooltip-bottom"),xt(b,"leaflet-tooltip-"+Q),ve(b,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ce(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return wt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rd=function(s,u){return new To(s,u)};Qt.include({openTooltip:function(s,u,d){return this._initOverlay(To,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Ci.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(To,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Qi||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Pt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Pt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,_;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Qc=Yi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Le(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=wt(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function sd(s){return new Qc(s)}Yi.Default=mo;var fa=Ci.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){Y(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Xt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Me(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(qn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof pt?s:new pt(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),_=0,b=u.length,C;_<b;_++)C=u[_].style.zIndex,u[_]!==this._container&&C&&(d=s(d,+C));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ct.ielt9){Ce(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var _ in this._tiles){var b=this._tiles[_];if(!(!b.current||!b.loaded)){var C=Math.min(1,(s-b.loaded)/200);Ce(b.el,C),C<1?u=!0:(b.active?d=!0:this._onOpaqueTile(b),b.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(F(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=Yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(Xt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[s],b=this._map;return _||(_=this._levels[s]={},_.el=Yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=b.project(b.unproject(b.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,b.getCenter(),b.getZoom()),A(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Xt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,_){var b=Math.floor(s/2),C=Math.floor(u/2),O=d-1,Q=new pt(+b,+C);Q.z=+O;var $=this._tileCoordsToKey(Q),ht=this._tiles[$];return ht&&ht.active?(ht.retain=!0,!0):(ht&&ht.loaded&&(ht.retain=!0),O>_?this._retainParent(b,C,O,_):!1)},_retainChildren:function(s,u,d,_){for(var b=2*s;b<2*s+2;b++)for(var C=2*u;C<2*u+2;C++){var O=new pt(b,C);O.z=d+1;var Q=this._tileCoordsToKey(O),$=this._tiles[Q];if($&&$.active){$.retain=!0;continue}else $&&$.loaded&&($.retain=!0);d+1<_&&this._retainChildren(b,C,d+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,_){var b=Math.round(u);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var C=this.options.updateWhenZooming&&b!==this._tileZoom;(!_||C)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var _=this._map.getZoomScale(d,s.zoom),b=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();Ct.any3d?Ei(s.el,b,_):ve(s.el,b)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),b=u.project(s,this._tileZoom).floor(),C=u.getSize().divideBy(_*2);return new U(b.subtract(C),b.add(C))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),b=this._pxBoundsToTileRange(_),C=b.getCenter(),O=[],Q=this.options.keepBuffer,$=new U(b.getBottomLeft().subtract([Q,-Q]),b.getTopRight().add([Q,-Q]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ht in this._tiles){var Et=this._tiles[ht].coords;(Et.z!==this._tileZoom||!$.contains(new pt(Et.x,Et.y)))&&(this._tiles[ht].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var Nt=b.min.y;Nt<=b.max.y;Nt++)for(var Zt=b.min.x;Zt<=b.max.x;Zt++){var fn=new pt(Zt,Nt);if(fn.z=this._tileZoom,!!this._isValidTile(fn)){var Ke=this._tiles[this._tileCoordsToKey(fn)];Ke?Ke.current=!0:O.push(fn)}}if(O.sort(function(fe,de){return fe.distanceTo(C)-de.distanceTo(C)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Kn=document.createDocumentFragment();for(Zt=0;Zt<O.length;Zt++)this._addTile(O[Zt],Kn);this._level.el.appendChild(Kn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return _t(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),_=s.scaleBy(d),b=_.add(d),C=u.unproject(_,s.z),O=u.unproject(b,s.z);return[C,O]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new gt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new pt(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(Xt(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){xt(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=A,s.onmousemove=A,Ct.ielt9&&this.options.opacity<1&&Ce(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),_=this._tileCoordsToKey(s),b=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(b),this.createTile.length<2&&B(p(this._tileReady,this,s,null,b)),ve(b,d),this._tiles[_]={el:b,coords:s,current:!0},u.appendChild(b),this.fire("tileloadstart",{tile:b,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var _=this._tileCoordsToKey(s);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ce(d.el,0),F(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(xt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ct.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new pt(this._wrapX?S(s.x,this._wrapX):s.x,this._wrapY?S(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new U(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Yc(s){return new fa(s)}var Gr=fa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=Y(this,u),u.detectRetina&&Ct.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return Pt(d,"load",p(this._tileOnLoad,this,u,d)),Pt(d,"error",p(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:Ct.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return lt(this._url,l(u,this.options))},_tileOnLoad:function(s,u){Ct.ielt9?setTimeout(p(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=A,u.onerror=A,!u.complete)){u.src=Lt;var d=this._tiles[s].coords;Xt(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",Lt),fa.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===Lt))return fa.prototype._tileReady.call(this,s,u,d)}});function ai(s,u){return new Gr(s,u)}var bo=Gr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=Y(this,u);var b=u.detectRetina&&Ct.retina?2:1,C=this.getTileSize();d.width=C.x*b,d.height=C.y*b,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Gr.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,_=st(d.project(u[0]),d.project(u[1])),b=_.min,C=_.max,O=(this._wmsVersion>=1.3&&this._crs===ys?[b.y,b.x,C.y,C.x]:[b.x,b.y,C.x,C.y]).join(","),Q=Gr.prototype.getTileUrl.call(this,s);return Q+q(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function oi(s,u){return new bo(s,u)}Gr.WMS=bo,ai.wms=oi;var Pn=Ci.extend({options:{padding:.1},initialize:function(s){Y(this,s),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,u),C=_.multiplyBy(-d).add(b).subtract(this._map._getNewPixelOrigin(s,u));Ct.any3d?Ei(this._container,C,d):ve(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new U(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),gl=Pn.extend({options:{tolerance:0},getEvents:function(){var s=Pn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Pt(s,"mousemove",this._onMouseMove,this),Pt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,Xt(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pn.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),_=Ct.retina?2:1;ve(u,s.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Pn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[y(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete s._order,delete this._layers[y(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],_,b;for(b=0;b<u.length;b++){if(_=Number(u[b]),isNaN(_))return;d.push(_)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new U,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,_,b,C,O=s._parts,Q=O.length,$=this._ctx;if(Q){for($.beginPath(),d=0;d<Q;d++){for(_=0,b=O[d].length;_<b;_++)C=O[d][_],$[_?"lineTo":"moveTo"](C.x,C.y);u&&$.closePath()}this._fillStroke($,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,_=Math.max(Math.round(s._radius),1),b=(Math.max(Math.round(s._radiusY),1)||_)/_;b!==1&&(d.save(),d.scale(1,b)),d.beginPath(),d.arc(u.x,u.y/b,_,0,Math.PI*2,!1),b!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,_,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(ye(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,_,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(xt(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function wo(s){return Ct.canvas?new gl(s):null}var Zr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),yu={_initContainer:function(){this._container=Yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Zr("shape");xt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Zr("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;Xt(u),s.removeInteractiveTarget(u),delete this._layers[y(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,_=s.options,b=s._container;b.stroked=!!_.stroke,b.filled=!!_.fill,_.stroke?(u||(u=s._stroke=Zr("stroke")),b.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=ct(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(b.removeChild(u),s._stroke=null),_.fill?(d||(d=s._fill=Zr("fill")),b.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(b.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),_=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Me(s._container)},_bringToBack:function(s){qn(s._container)}},Wi=Ct.vml?Zr:Ks,da=Pn.extend({_initContainer:function(){this._container=Wi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xt(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pn.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),ve(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Wi("path");s.options.className&&xt(u,s.options.className),s.options.interactive&&xt(u,"leaflet-interactive"),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Xt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[y(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Dr(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||d,b="a"+d+","+_+" 0 1,0 ",C=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+b+d*2+",0 "+b+-d*2+",0 ";this._setPath(s,C)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Me(s._path)},_bringToBack:function(s){qn(s._path)}});Ct.vml&&da.include(yu);function xo(s){return Ct.svg||Ct.vml?new da(s):null}Qt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&wo(s)||xo(s)}});var vs=la.extend({initialize:function(s,u){la.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=_t(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function ad(s,u){return new vs(s,u)}da.create=Wi,da.pointsToPath=Dr,yr.geometryToLayer=En,yr.coordsToLatLng=hl,yr.coordsToLatLngs=_o,yr.latLngToCoords=fl,yr.latLngsToCoords=yo,yr.getFeature=Hr,yr.asFeature=dl,Qt.mergeOptions({boxZoom:!0});var kn=Gn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ni(),ds(),this._startPoint=this._map.mouseEventToContainerPoint(s),Pt(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Yt("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new U(this._point,this._startPoint),d=u.getSize();ve(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Xt(this._box),ye(this._container,"leaflet-crosshair")),en(),kr(),he(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new gt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qt.addInitHook("addHandler","boxZoom",kn),Qt.mergeOptions({doubleClickZoom:!0});var _l=Gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,b=s.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(b):u.setZoomAround(s.containerPoint,b)}});Qt.addInitHook("addHandler","doubleClickZoom",_l),Qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ji=Gn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Si(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=_t(this._map.options.maxBounds);this._offsetLimit=st(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,b=(_-u+d)%s+u-d,C=(_+u+d)%s-u-d,O=Math.abs(b+d)<Math.abs(C+d)?b:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(s){var u=this._map,d=u.options,_=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,O=d.easeLinearity,Q=b.multiplyBy(O/C),$=Q.distanceTo([0,0]),ht=Math.min(d.inertiaMaxSpeed,$),Et=Q.multiplyBy(ht/$),Nt=ht/(d.inertiaDeceleration*O),Zt=Et.multiplyBy(-Nt/2).round();!Zt.x&&!Zt.y?u.fire("moveend"):(Zt=u._limitOffset(Zt,u.options.maxBounds),B(function(){u.panBy(Zt,{duration:Nt,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Qt.addInitHook("addHandler","dragging",Ji),Qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vu=Gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Pt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,_,b;for(_=0,b=d.left.length;_<b;_++)u[d.left[_]]=[-1*s,0];for(_=0,b=d.right.length;_<b;_++)u[d.right[_]]=[s,0];for(_=0,b=d.down.length;_<b;_++)u[d.down[_]]=[0,s];for(_=0,b=d.up.length;_<b;_++)u[d.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,_,b;for(_=0,b=d.zoomIn.length;_<b;_++)u[d.zoomIn[_]]=s;for(_=0,b=d.zoomOut.length;_<b;_++)u[d.zoomOut[_]]=-s},_addHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=wt(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(wt(_),d.options.maxBounds)),d.options.worldCopyJump){var b=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(b)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Ti(s)}}});Qt.addInitHook("addHandler","keyboard",vu),Qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var So=Gn.extend({addHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=nn(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),_),Ti(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,C=d?Math.ceil(b/d)*d:b,O=s._limitZoom(u+(this._delta>0?C:-C))-u;this._delta=0,this._startTime=null,O&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+O):s.setZoomAround(this._lastMousePos,u+O))}});Qt.addInitHook("addHandler","scrollWheelZoom",So);var Es=600;Qt.mergeOptions({tapHold:Ct.touchNative&&Ct.safari&&Ct.mobile,tapTolerance:15});var yl=Gn.extend({addHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new pt(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Pt(document,"touchend",Oe),Pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Es),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){he(document,"touchend",Oe),he(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new pt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Qt.addInitHook("addHandler","tapHold",yl),Qt.mergeOptions({touchZoom:Ct.touch,bounceAtZoomLimits:!0});var Eu=Gn.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),Oe(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),b=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(b,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&b<1||this._zoom>u.getMaxZoom()&&b>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var C=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(b===1&&C.x===0&&C.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var O=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(O,this,!0),Oe(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qt.addInitHook("addHandler","touchZoom",Eu),Qt.BoxZoom=kn,Qt.DoubleClickZoom=_l,Qt.Drag=Ji,Qt.Keyboard=vu,Qt.ScrollWheelZoom=So,Qt.TapHold=yl,Qt.TouchZoom=Eu,n.Bounds=U,n.Browser=Ct,n.CRS=Ht,n.Canvas=gl,n.Circle=cl,n.CircleMarker=oa,n.Class=oe,n.Control=yn,n.DivIcon=Qc,n.DivOverlay=Tn,n.DomEvent=Ki,n.DomUtil=zr,n.Draggable=Si,n.Evented=vt,n.FeatureGroup=Qi,n.GeoJSON=yr,n.GridLayer=fa,n.Handler=Gn,n.Icon=Yi,n.ImageOverlay=ca,n.LatLng=bt,n.LatLngBounds=gt,n.Layer=Ci,n.LayerGroup=aa,n.LineUtil=ri,n.Map=Qt,n.Marker=go,n.Mixin=ll,n.Path=Xi,n.Point=pt,n.PolyUtil=jr,n.Polygon=la,n.Polyline=_r,n.Popup=Eo,n.PosAnimation=mr,n.Projection=Ai,n.Rectangle=vs,n.Renderer=Pn,n.SVG=da,n.SVGOverlay=pl,n.TileLayer=Gr,n.Tooltip=To,n.Transformation=Ir,n.Util=V,n.VideoOverlay=Fr,n.bind=p,n.bounds=st,n.canvas=wo,n.circle=Fc,n.circleMarker=qc,n.control=On,n.divIcon=sd,n.extend=l,n.featureGroup=jc,n.geoJSON=ml,n.geoJson=vo,n.gridLayer=Yc,n.icon=fo,n.imageOverlay=Gc,n.latLng=Tt,n.latLngBounds=_t,n.layerGroup=ed,n.map=Br,n.marker=Hc,n.point=wt,n.polygon=id,n.polyline=nd,n.popup=Kc,n.rectangle=ad,n.setOptions=Y,n.stamp=y,n.svg=xo,n.svgOverlay=Zc,n.tileLayer=ai,n.tooltip=rd,n.transformation=Oi,n.version=a,n.videoOverlay=ha;var Tu=window.L;n.noConflict=function(){return window.L=Tu,this},window.L=n}))})(lc,lc.exports)),lc.exports}var Bc=eL();const Nw=IE(Bc);function jg(r,t,n){return Object.freeze({instance:r,context:t,container:n})}function Hg(r,t){return t==null?function(a,l){const h=K.useRef(void 0);return h.current||(h.current=r(a,l)),h}:function(a,l){const h=K.useRef(void 0);h.current||(h.current=r(a,l));const p=K.useRef(a),{instance:v}=h.current;return K.useEffect(function(){p.current!==a&&(t(v,a,p.current),p.current=a)},[v,a,t]),h}}function nL(r,t){K.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){t.layerContainer?.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function Dw(r){return function(n){const a=Rw(),l=r(Bg(n,a),a);return Cw(a.map,n.attribution),Iw(l.current,n.eventHandlers),nL(l.current,a),l}}function iL(r,t){const n=Hg(r,t),a=Dw(n);return XD(a)}function rL(r,t){const n=Hg(r),a=$D(n,t);return WD(a)}function sL(r,t){const n=Hg(r,t),a=Dw(n);return JD(a)}function aL(r,t,n){const{opacity:a,zIndex:l}=t;a!=null&&a!==n.opacity&&r.setOpacity(a),l!=null&&l!==n.zIndex&&r.setZIndex(l)}function oL({bounds:r,boundsOptions:t,center:n,children:a,className:l,id:h,placeholder:p,style:v,whenReady:y,zoom:T,...S},A){const[D]=K.useState({className:l,id:h,style:v}),[G,nt]=K.useState(null),Y=K.useRef(void 0);K.useImperativeHandle(A,()=>G?.map??null,[G]);const q=K.useCallback(lt=>{if(lt!==null&&!Y.current){const ct=new Bc.Map(lt,S);Y.current=ct,n!=null&&T!=null?ct.setView(n,T):r!=null&&ct.fitBounds(r,t),y!=null&&ct.whenReady(y),nt(QD(ct))}},[]);K.useEffect(()=>()=>{G?.map.remove()},[G]);const ot=G?sp.createElement(Ug,{value:G},a):p??null;return sp.createElement("div",{...D,ref:q},ot)}const lL=K.forwardRef(oL),uL=iL(function({position:t,...n},a){const l=new Bc.Marker(t,n);return jg(l,YD(a,{overlayContainer:l}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),cL=rL(function(t,n){const a=new Bc.Popup(t,n.overlayContainer);return jg(a,n)},function(t,n,{position:a},l){K.useEffect(function(){const{instance:p}=t;function v(T){T.popup===p&&(p.update(),l(!0))}function y(T){T.popup===p&&l(!1)}return n.map.on({popupopen:v,popupclose:y}),n.overlayContainer==null?(a!=null&&p.setLatLng(a),p.openOn(n.map)):n.overlayContainer.bindPopup(p),function(){n.map.off({popupopen:v,popupclose:y}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(p)}},[t,n,l,a])}),hL=sL(function({url:t,...n},a){const l=new Bc.TileLayer(t,Bg(n,a));return jg(l,a)},function(t,n,a){aL(t,n,a);const{url:l}=n;l!=null&&l!==a.url&&t.setUrl(l)}),fL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",dL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let mL=Nw.icon({iconUrl:fL,shadowUrl:dL,iconSize:[25,41],iconAnchor:[12,41]});Nw.Marker.prototype.options.icon=mL;function pL({mapLink:r}){const[t,n]=K.useState(null);return K.useEffect(()=>{if(r)try{const a=r.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(a){n([parseFloat(a[1]),parseFloat(a[2])]);return}const l=r.match(/q=(-?\d+\.\d+),(-?\d+\.\d+)/);if(l){n([parseFloat(l[1]),parseFloat(l[2])]);return}}catch(a){console.error("Failed to parse map coords",a)}},[r]),t?I.jsx("div",{className:"h-48 w-full relative z-0",children:I.jsxs(lL,{center:t,zoom:15,scrollWheelZoom:!1,className:"h-full w-full",attributionControl:!1,children:[I.jsx(hL,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),I.jsx(uL,{position:t,children:I.jsx(cL,{children:I.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:"Open in Google Maps"})})})]})}):I.jsx("div",{className:"h-32 bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400 text-xs",children:"Map not available"})}const RE={"San Gabriel":{lat:34.0961,lng:-118.1058},Pasadena:{lat:34.1478,lng:-118.1445},"DTLA / Hollywood":{lat:34.0522,lng:-118.2437},"Universal City":{lat:34.1381,lng:-118.3534},"Las Vegas":{lat:36.1699,lng:-115.1398},"Grand Canyon / Las Vegas":{lat:36.0544,lng:-112.1401},Ontario:{lat:34.0633,lng:-117.6509},"ONT Airport":{lat:34.056,lng:-117.6012}};function gL(){const{id:r}=U1(),t=Gs(),n=Vg.find(v=>v.id===parseInt(r)),[a,l]=K.useState(null),[h,p]=K.useState(0);return K.useEffect(()=>{if(!n)return;const v=RE[n.location]||RE["San Gabriel"];async function y(){try{const S=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${v.lat}&longitude=${v.lng}&current_weather=true&temperature_unit=fahrenheit`)).json();l(S.current_weather)}catch(T){console.error("Failed to fetch weather",T)}}y()},[n]),K.useEffect(()=>{if(!n)return;const v=new Date(n.date+"T00:00:00"),y=new Date(n.date+"T23:59:59"),T=Lf(Yo(Xa,"expenses"),Mf("createdAt",">=",Ne.fromDate(v)),Mf("createdAt","<=",Ne.fromDate(y))),S=MD(T,A=>{let D=nr(0);A.docs.forEach(G=>{const nt=G.data();nt.amount&&(D=D.add(nt.amount))}),p(D.value)},A=>{console.error("Error fetching available expenses: ",A)});return()=>S()},[n]),n?I.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-light dark:bg-background-dark min-h-screen pb-24 font-display text-slate-900 dark:text-white",children:[I.jsx("nav",{className:"sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md px-4 py-4",children:I.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[I.jsx("button",{onClick:()=>t(-1),className:"w-10 h-10 flex items-center justify-center rounded-full bg-slate-200 dark:bg-card-dark text-slate-900 dark:text-white shadow-sm active:scale-95 transition-transform",children:I.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_back_ios_new"})}),I.jsxs("div",{className:"text-center",children:[I.jsx("h1",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest",children:n.date}),I.jsxs("p",{className:"text-lg font-extrabold text-primary",children:["Day ",n.id,": ",n.location]})]}),I.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-slate-200 dark:bg-card-dark text-slate-900 dark:text-white shadow-sm",children:I.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"more_vert"})})]})}),I.jsxs("main",{className:"max-w-md mx-auto px-4 space-y-6",children:[I.jsx("div",{className:"grid grid-cols-2 gap-4",children:I.jsxs("div",{className:"col-span-2 lakers-gradient p-5 rounded-xl shadow-lg text-white",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[I.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/20 backdrop-blur-sm flex items-center justify-center",children:I.jsx("span",{className:"material-symbols-outlined text-white text-[20px]",children:"cloudy_snowing"})}),I.jsx("span",{className:"text-xs font-bold opacity-80 uppercase tracking-wider",children:"Local Forecast"})]}),I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"text-4xl font-black",children:a?I.jsxs(I.Fragment,{children:[Math.round(a.temperature),"F ",I.jsxs("span",{className:"text-xl font-normal opacity-60",children:["/ ",Sw(a.temperature),"C"]})]}):"Loading..."}),I.jsx("span",{className:"text-xs text-white/80 font-bold uppercase tracking-widest mt-1",children:a?"Current Temp":n.weather})]})]})}),I.jsxs("div",{className:"relative space-y-8",children:[I.jsx("div",{className:"absolute left-[19px] top-6 bottom-0 w-0.5 bg-slate-200 dark:bg-white/10"}),n.events.map((v,y)=>I.jsxs("div",{className:"relative pl-12",children:[I.jsx("div",{className:`absolute left-0 top-1 w-10 h-10 flex items-center justify-center rounded-full z-10 shadow-lg ${y===0?"bg-primary text-white shadow-primary/20":"bg-white dark:bg-card-dark border-2 border-primary text-primary"}`,children:I.jsx("span",{className:"material-symbols-outlined text-sm",children:v.icon})}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex items-baseline justify-between",children:[I.jsx("h3",{className:"text-lg font-bold leading-tight",children:v.title}),I.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded whitespace-nowrap ${y===0?"text-primary bg-primary/10":"opacity-40 bg-slate-200 dark:bg-white/5"}`,children:v.time})]}),v.description&&I.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm leading-relaxed",children:v.description}),v.mapLink&&I.jsxs("div",{className:"rounded-xl overflow-hidden bg-white dark:bg-card-dark border border-slate-100 dark:border-white/5 shadow-sm",children:[I.jsx(pL,{mapLink:v.mapLink}),I.jsxs("div",{className:"p-3 flex items-center justify-between",children:[I.jsx("span",{className:"text-xs font-medium opacity-60 truncate max-w-[180px]",children:v.location}),I.jsxs("a",{href:v.mapLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary text-xs font-bold uppercase tracking-tight hover:underline",children:[I.jsx("span",{className:"material-symbols-outlined text-sm",children:"directions"}),"Open Maps"]})]})]})]})]},y))]}),I.jsxs("div",{className:"bg-primary p-6 rounded-2xl text-white shadow-xl shadow-primary/20 mt-8 mb-24",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsx("h4",{className:"font-bold text-lg",children:"Daily Summary"}),I.jsxs("span",{className:"text-xs font-bold bg-white/20 px-3 py-1 rounded-full uppercase",children:["Day ",n.id]})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between text-sm",children:[I.jsx("span",{className:"opacity-80",children:"Accommodation"}),I.jsx("span",{className:"font-semibold",children:"$0.00 (Prepaid)"})]}),I.jsxs("div",{className:"flex justify-between text-sm",children:[I.jsx("span",{className:"opacity-80",children:"Activities & Dining"}),I.jsxs("span",{className:"font-semibold",children:["$",h.toFixed(2)]})]}),I.jsxs("div",{className:"pt-3 border-t border-white/20 flex justify-between items-end",children:[I.jsx("span",{className:"text-sm opacity-80 font-medium uppercase tracking-wider",children:"Total Spent"}),I.jsxs("span",{className:"text-2xl font-black",children:["$",h.toFixed(2)]})]})]})]})]}),I.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-[360px] bg-white/90 dark:bg-card-dark/90 backdrop-blur-xl rounded-full px-2 py-2 flex items-center justify-between shadow-2xl border border-white/10 z-[100]",children:[I.jsxs("button",{onClick:()=>t("/itinerary"),className:"flex-1 flex flex-col items-center justify-center py-2 text-primary",children:[I.jsx("span",{className:"material-symbols-outlined",children:"calendar_month"}),I.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Days"})]}),I.jsxs("button",{onClick:()=>t("/overview"),className:"flex-1 flex flex-col items-center justify-center py-2 text-slate-400 hover:text-white transition-colors",children:[I.jsx("span",{className:"material-symbols-outlined",children:"dashboard"}),I.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Dash"})]}),I.jsx("div",{className:"flex-1 flex justify-center -mt-8",children:I.jsx("button",{onClick:()=>t("/add-expense"),className:"w-14 h-14 bg-primary text-white rounded-full shadow-lg flex items-center justify-center ring-4 ring-background-light dark:ring-background-dark active:scale-95 transition-transform",children:I.jsx("span",{className:"material-symbols-outlined text-3xl",children:"add"})})}),I.jsxs("button",{onClick:()=>t("/add-expense"),className:"flex-1 flex flex-col items-center justify-center py-2 text-slate-400 hover:text-white transition-colors",children:[I.jsx("span",{className:"material-symbols-outlined",children:"payments"}),I.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Split"})]}),I.jsxs("button",{className:"flex-1 flex flex-col items-center justify-center py-2 text-slate-400 hover:text-white transition-colors",children:[I.jsx("span",{className:"material-symbols-outlined",children:"person"}),I.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Profile"})]})]})]}):I.jsx("div",{className:"text-white text-center pt-20",children:"Day not found"})}function _L(){const r=Gs(),{currentUser:t}=Uc(),[n,a]=K.useState(""),[l,h]=K.useState("USD"),[p,v]=K.useState(""),[y,T]=K.useState([]),[S,A]=K.useState(!1),[D,G]=K.useState([]);K.useEffect(()=>{async function q(){try{const ot=await Ac(Yo(Xa,"users")),lt=[];ot.forEach(ct=>{ct.id!==t?.uid&&lt.push(ct.data())}),G(lt)}catch(ot){console.error("Error fetching users:",ot)}}q()},[t]);const nt=q=>{y.includes(q)?T(y.filter(ot=>ot!==q)):T([...y,q])},Y=async()=>{if(!n||!p){alert("");return}A(!0);try{await LD(Yo(Xa,"expenses"),{amount:nr(n).value,currency:l,item:p,paidBy:t.uid,splitWith:y,createdAt:PD()}),r("/overview")}catch(q){console.error("Error adding document: ",q),alert("")}finally{A(!1)}};return I.jsxs("div",{className:"relative flex h-full min-h-screen w-full max-w-[430px] mx-auto flex-col bg-background-dark overflow-x-hidden shadow-2xl font-display text-white",children:[I.jsxs("header",{className:"sticky top-0 z-20 flex items-center bg-lakers-purple px-4 pt-4 pb-4 justify-between border-b border-white/10",children:[I.jsx("button",{onClick:()=>r(-1),className:"text-primary text-base font-medium",children:""}),I.jsx("h1",{className:"text-primary text-[17px] font-bold uppercase tracking-wide",children:""}),I.jsx("div",{className:"flex w-12 items-center justify-end",children:I.jsx("button",{onClick:Y,disabled:S,className:"text-primary text-base font-bold disabled:opacity-50",children:""})})]}),I.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar px-4 pt-6 pb-32",children:[I.jsx("div",{className:"bg-card-dark rounded-xl p-5 mb-6 shadow-sm border border-primary/20",children:I.jsxs("div",{className:"flex flex-col gap-6",children:[I.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I.jsx("p",{className:"text-primary/70 text-[10px] font-bold uppercase tracking-widest",children:""}),I.jsxs("div",{className:"flex bg-black/20 p-0.5 rounded-full",children:[I.jsx("button",{onClick:()=>h("USD"),className:`px-2 py-0.5 rounded-full text-[9px] font-bold transition-all ${l==="USD"?"bg-primary text-lakers-purple shadow-sm":"text-white/40"}`,children:"USD"}),I.jsx("button",{onClick:()=>h("TWD"),className:`px-2 py-0.5 rounded-full text-[9px] font-bold transition-all ${l==="TWD"?"bg-primary text-lakers-purple shadow-sm":"text-white/40"}`,children:"TWD"})]})]}),I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx("span",{className:"text-primary text-3xl font-bold leading-none",children:l==="USD"?"$":"NT$"}),I.jsx("input",{value:n,onChange:q=>{const ot=q.target.value;(ot===""||/^\d*\.?\d{0,2}$/.test(ot))&&a(ot)},className:"bg-transparent border-none text-primary text-5xl font-bold p-0 focus:ring-0 w-48 text-center placeholder:text-white/30 placeholder:font-bold",placeholder:"0.00",type:"text",inputMode:"decimal"})]})]}),I.jsx("div",{className:"h-px bg-white/10 w-full"}),I.jsxs("div",{className:"flex flex-col",children:[I.jsx("label",{className:"text-primary/70 text-[10px] font-bold uppercase tracking-widest mb-2",children:""}),I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("span",{className:"material-symbols-outlined text-primary text-xl",children:"receipt_long"}),I.jsx("input",{value:p,onChange:q=>v(q.target.value),className:"bg-transparent border-none text-white text-lg font-medium p-0 focus:ring-0 flex-1 placeholder:text-white/30",placeholder:": ",type:"text"})]})]})]})}),I.jsxs("div",{className:"bg-card-dark rounded-xl p-5 mb-6 shadow-sm border border-primary/20",children:[I.jsxs("div",{className:"flex items-center justify-between mb-6",children:[I.jsx("h3",{className:"text-white text-base font-bold leading-tight",children:""}),I.jsxs("div",{className:"flex items-center gap-1 text-primary/70",children:[I.jsx("span",{className:"material-symbols-outlined text-sm",children:"group"}),I.jsx("span",{className:"text-[11px] font-medium italic",children:""})]})]}),I.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 custom-scrollbar",children:D.length===0?I.jsx("p",{className:"text-sm text-gray-500 italic",children:" ()"}):D.map(q=>I.jsxs("button",{onClick:()=>nt(q.uid),className:`flex flex-col items-center gap-2 min-w-[64px] transition-opacity ${y.includes(q.uid)?"opacity-100":"opacity-40"}`,children:[I.jsxs("div",{className:`relative p-0.5 rounded-full ring-2 ${y.includes(q.uid)?"ring-primary":"ring-transparent"} ring-offset-2 ring-offset-card-dark`,children:[q.photoURL?I.jsx("img",{alt:q.displayName,className:"w-12 h-12 rounded-full object-cover bg-slate-200",src:q.photoURL}):I.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-600 flex items-center justify-center text-white font-bold",children:q.displayName?q.displayName[0]:"?"}),y.includes(q.uid)&&I.jsx("div",{className:"absolute -bottom-1 -right-1 bg-primary text-white rounded-full p-0.5 border-2 border-card-dark",children:I.jsx("span",{className:"material-symbols-outlined text-[12px] block font-bold text-lakers-purple",children:"check"})})]}),I.jsx("p",{className:"text-white text-[11px] font-bold truncate w-16 text-center",children:q.displayName||"User"})]},q.uid))}),I.jsxs("div",{className:"mt-6 p-1 bg-black/20 rounded-lg flex",children:[I.jsx("button",{className:"flex-1 py-2 px-4 rounded-md text-xs font-bold transition-all bg-primary text-lakers-purple shadow-sm",children:""}),I.jsx("button",{className:"flex-1 py-2 px-4 rounded-md text-xs font-bold transition-all text-white/40",children:""})]})]}),I.jsx("div",{className:"bg-card-dark rounded-xl p-5 shadow-sm border border-primary/20",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex flex-col",children:[I.jsx("p",{className:"text-primary/70 text-[10px] font-bold uppercase tracking-wider",children:""}),I.jsxs("p",{className:"text-primary text-2xl font-bold",children:[l==="USD"?"$":"NT$",n&&y.length+1>0?nr(n).divide(y.length+1).toString():"0.00"]})]}),I.jsxs("div",{className:"bg-primary/20 text-primary px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-tight",children:[y.length+1," "]})]})})]}),I.jsx("div",{className:"fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-[430px] p-6 bg-gradient-to-t from-background-dark via-background-dark to-transparent pt-10 z-30",children:I.jsxs("button",{onClick:Y,disabled:S,className:"w-full bg-primary hover:bg-primary/90 text-lakers-purple font-bold py-4 rounded-xl shadow-lg shadow-primary/20 transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[I.jsx("span",{className:"material-symbols-outlined",children:"add"}),""]})})]})}function yL(){const r=Gs(),{currentUser:t}=Uc(),[n,a]=K.useState("USD"),[l,h]=K.useState([]),[p,v]=K.useState({}),[y,T]=K.useState(!0);K.useEffect(()=>{async function nt(){try{const Y=await Ac(Yo(Xa,"users")),q={};Y.forEach(Dt=>{q[Dt.id]=Dt.data()}),v(q);const ot=Lf(Yo(Xa,"expenses"),RD("createdAt","desc")),lt=await Ac(ot),ct=[];lt.forEach(Dt=>{ct.push({id:Dt.id,...Dt.data()})}),h(ct)}catch(Y){console.error("Error fetching data:",Y)}finally{T(!1)}}nt()},[]);const S=(nt,Y)=>{const q=parseFloat(nt);return n==="USD"?Y==="TWD"?q/32:q:Y==="USD"?q*32:q},A=nt=>nt?nt.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",D=nt=>{if(!nt)return"Unknown Date";const Y=nt.toDate(),q=new Date,ot=new Date;return ot.setDate(ot.getDate()-1),Y.toDateString()===q.toDateString()?"Today":Y.toDateString()===ot.toDateString()?"Yesterday":Y.toLocaleDateString("en-US",{month:"short",day:"numeric"})},G=l.reduce((nt,Y)=>{const q=D(Y.createdAt);return nt[q]||(nt[q]=[]),nt[q].push(Y),nt},{});return I.jsxs("div",{className:"relative flex h-full min-h-screen w-full max-w-[430px] mx-auto flex-col bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display overflow-x-hidden shadow-2xl",children:[I.jsxs("header",{className:"sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md pt-6 px-4",children:[I.jsxs("div",{className:"flex items-center justify-between mb-4",children:[I.jsx("button",{onClick:()=>r("/overview"),className:"text-lakers-gold cursor-pointer",children:I.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios"})}),I.jsx("h1",{className:"text-xl font-extrabold tracking-tight uppercase italic dark:text-white",children:"All Expense Details"}),I.jsx("div",{className:"text-lakers-gold",children:I.jsx("span",{className:"material-symbols-outlined text-3xl",children:"more_horiz"})})]}),I.jsxs("div",{className:"flex bg-slate-200 dark:bg-[#362b40] p-1 rounded-xl mb-6 shadow-inner",children:[I.jsxs("label",{className:`flex cursor-pointer h-10 grow items-center justify-center overflow-hidden rounded-lg px-2 transition-all duration-200 ${n==="USD"?"bg-primary text-white":"text-slate-500 dark:text-[#ae9ebd]"}`,children:[I.jsx("span",{className:"truncate",children:"USD"}),I.jsx("input",{checked:n==="USD",onChange:()=>a("USD"),className:"invisible w-0",name:"currency",type:"radio",value:"USD"})]}),I.jsxs("label",{className:`flex cursor-pointer h-10 grow items-center justify-center overflow-hidden rounded-lg px-2 transition-all duration-200 ${n==="TWD"?"bg-primary text-white":"text-slate-500 dark:text-[#ae9ebd]"}`,children:[I.jsx("span",{className:"truncate",children:"TWD"}),I.jsx("input",{checked:n==="TWD",onChange:()=>a("TWD"),className:"invisible w-0",name:"currency",type:"radio",value:"TWD"})]})]})]}),I.jsxs("main",{className:"flex-1 px-4 py-2 space-y-4 pb-32 overflow-y-auto custom-scrollbar",children:[Object.keys(G).map(nt=>I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-center gap-3 py-2 pt-4",children:[I.jsx("div",{className:"h-[1px] flex-1 bg-primary/20"}),I.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-primary/60 dark:text-primary",children:nt}),I.jsx("div",{className:"h-[1px] flex-1 bg-primary/20"})]}),G[nt].map(Y=>{let q=p[Y.paidBy];!q&&t&&t.uid===Y.paidBy&&(q={displayName:t.displayName,photoURL:t.photoURL}),q||(q={displayName:"Unknown"});const ot=q.displayName?q.displayName[0]:"?",lt=S(Y.amount,Y.currency),ct=Y.splitWith||[];return I.jsxs("div",{className:"bg-white dark:bg-card-dark rounded-xl overflow-hidden shadow-xl border-l-4 border-lakers-gold mb-4",children:[I.jsxs("div",{className:"p-5",children:[I.jsxs("div",{className:"flex justify-between items-start mb-4",children:[I.jsxs("div",{className:"max-w-[70%]",children:[I.jsx("h3",{className:"text-lg font-bold leading-tight dark:text-white",children:Y.item}),I.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[I.jsx("span",{className:"material-symbols-outlined text-sm text-primary",children:"sell"}),I.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase tracking-tighter",children:"General"})]})]}),I.jsxs("div",{className:"text-right",children:[I.jsxs("p",{className:"text-xl font-black text-lakers-gold gold-glow",children:[n==="USD"?"$":"NT$",lt.toFixed(2)]}),I.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:["Total ",n]})]})]}),I.jsxs("div",{className:"flex items-center justify-between mt-6",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"relative",children:I.jsx("div",{className:"size-10 rounded-full border-2 border-lakers-gold overflow-hidden bg-primary flex items-center justify-center",children:q.photoURL?I.jsx("img",{src:q.photoURL,alt:q.displayName,className:"w-full h-full object-cover"}):I.jsx("span",{className:"text-white font-bold text-xs",children:ot})})}),I.jsxs("div",{children:[I.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none mb-1",children:"Paid by"}),I.jsx("p",{className:"text-sm font-bold dark:text-white",children:q.displayName})]})]}),I.jsxs("div",{className:"flex flex-col items-end",children:[I.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none mb-2",children:"Split with"}),I.jsxs("div",{className:"flex -space-x-3",children:[ct.slice(0,3).map(Dt=>{let Lt=p[Dt];return!Lt&&t&&t.uid===Dt&&(Lt={displayName:t.displayName,photoURL:t.photoURL}),I.jsx("div",{className:"size-8 rounded-full ring-2 ring-white dark:ring-card-dark bg-slate-700 flex items-center justify-center text-[10px] font-bold text-white shadow-md overflow-hidden",children:Lt?.photoURL?I.jsx("img",{src:Lt.photoURL,alt:Lt.displayName,className:"w-full h-full object-cover"}):I.jsx("span",{children:Lt?.displayName?Lt.displayName[0]:"?"})},Dt)}),ct.length>3&&I.jsxs("div",{className:"size-8 rounded-full ring-2 ring-white dark:ring-card-dark bg-slate-700 flex items-center justify-center text-[10px] font-bold text-white shadow-md",children:["+",ct.length-3]}),ct.length===0&&I.jsx("span",{className:"text-xs text-slate-500 font-bold",children:"None"})]})]})]})]}),I.jsx("div",{className:"px-5 py-3 bg-slate-50 dark:bg-black/20 flex justify-between items-center border-t border-slate-100 dark:border-white/5",children:I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"material-symbols-outlined text-lg text-slate-400",children:"schedule"}),I.jsx("span",{className:"text-xs font-medium text-slate-400",children:A(Y.createdAt)})]})})]},Y.id)})]},nt)),l.length===0&&!y&&I.jsx("div",{className:"text-center py-10 text-slate-500",children:"No expenses found."})]}),I.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 flex items-center justify-center z-40",children:I.jsx("button",{onClick:()=>r("/add-expense"),className:"bg-primary text-lakers-gold w-16 h-16 rounded-full shadow-[0_8px_25px_rgba(89,46,127,0.5)] flex items-center justify-center active:scale-95 transition-transform border-4 border-background-dark",children:I.jsx("span",{className:"material-symbols-outlined text-3xl font-black",children:"add"})})}),I.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 max-w-[430px] mx-auto h-20 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-xl border-t border-primary/20 flex justify-around items-center px-6 pb-4 z-50",children:[I.jsxs("button",{onClick:()=>r("/itinerary"),className:"flex flex-col items-center gap-1 text-slate-400",children:[I.jsx("span",{className:"material-symbols-outlined",children:"explore"}),I.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Trip"})]}),I.jsxs("button",{onClick:()=>r("/expenses"),className:"flex flex-col items-center gap-1 text-primary dark:text-lakers-gold",children:[I.jsx("span",{className:"material-symbols-outlined",style:{fontVariationSettings:"'FILL' 1"},children:"payments"}),I.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Expenses"})]}),I.jsxs("div",{className:"flex flex-col items-center gap-1 text-slate-400",children:[I.jsx("span",{className:"material-symbols-outlined",children:"group"}),I.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Squad"})]}),I.jsxs("div",{className:"flex flex-col items-center gap-1 text-slate-400",children:[I.jsx("span",{className:"material-symbols-outlined",children:"settings"}),I.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Menu"})]})]})]})}function vL(){return I.jsx(SS,{basename:"/la-nba/",children:I.jsx(zD,{children:I.jsxs(eS,{children:[I.jsx(Vo,{path:"/",element:I.jsx(UD,{})}),I.jsx(Vo,{path:"/overview",element:I.jsx(ic,{children:I.jsx(BD,{})})}),I.jsx(Vo,{path:"/itinerary",element:I.jsx(ic,{children:I.jsx(jD,{})})}),I.jsx(Vo,{path:"/day/:id",element:I.jsx(ic,{children:I.jsx(gL,{})})}),I.jsx(Vo,{path:"/add-expense",element:I.jsx(ic,{children:I.jsx(_L,{})})}),I.jsx(Vo,{path:"/expenses",element:I.jsx(ic,{children:I.jsx(yL,{})})})]})})})}n1.createRoot(document.getElementById("root")).render(I.jsx(K.StrictMode,{children:I.jsx(vL,{})}));
