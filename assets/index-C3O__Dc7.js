(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var jd={exports:{}},Tl={};var iv;function cA(){if(iv)return Tl;iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Tl.Fragment=e,Tl.jsx=n,Tl.jsxs=n,Tl}var rv;function hA(){return rv||(rv=1,jd.exports=cA()),jd.exports}var w=hA(),zd={exports:{}},Ee={};var sv;function fA(){if(sv)return Ee;sv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),I=Symbol.iterator;function z(M){return M===null||typeof M!="object"?null:(M=I&&M[I]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,B={};function ne(M,J,ae){this.props=M,this.context=J,this.refs=B,this.updater=ae||Z}ne.prototype.isReactComponent={},ne.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},ne.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function te(){}te.prototype=ne.prototype;function ie(M,J,ae){this.props=M,this.context=J,this.refs=B,this.updater=ae||Z}var Ae=ie.prototype=new te;Ae.constructor=ie,X(Ae,ne.prototype),Ae.isPureReactComponent=!0;var we=Array.isArray;function Re(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(M,J,ae){var ue=ae.ref;return{$$typeof:r,type:M,key:J,ref:ue!==void 0?ue:null,props:ae}}function V(M,J){return R(M.type,J,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return J[ae]})}var C=/\/+/g;function rt(M,J){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):J.toString(36)}function It(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Re,Re):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Y(M,J,ae,ue,_e){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=M._init,Y(Ue(M._payload),J,ae,ue,_e)}}if(Ue)return _e=_e(M),Ue=ue===""?"."+rt(M,0):ue,we(_e)?(ae="",Ue!=null&&(ae=Ue.replace(C,"$&/")+"/"),Y(_e,J,ae,"",function(as){return as})):_e!=null&&(O(_e)&&(_e=V(_e,ae+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(C,"$&/")+"/")+Ue)),J.push(_e)),1;Ue=0;var Nt=ue===""?".":ue+":";if(we(M))for(var st=0;st<M.length;st++)ue=M[st],Ce=Nt+rt(ue,st),Ue+=Y(ue,J,ae,Ce,_e);else if(st=z(M),typeof st=="function")for(M=st.call(M),st=0;!(ue=M.next()).done;)ue=ue.value,Ce=Nt+rt(ue,st++),Ue+=Y(ue,J,ae,Ce,_e);else if(Ce==="object"){if(typeof M.then=="function")return Y(It(M),J,ae,ue,_e);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(M,J,ae){if(M==null)return M;var ue=[],_e=0;return Y(M,ue,"","",function(Ce){return J.call(ae,Ce,_e++)}),ue}function me(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var je=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:se,forEach:function(M,J,ae){se(M,function(){J.apply(this,arguments)},ae)},count:function(M){var J=0;return se(M,function(){J++}),J},toArray:function(M){return se(M,function(J){return J})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ee.Activity=b,Ee.Children=Ge,Ee.Component=ne,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=ie,Ee.StrictMode=s,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ee.cache=function(M){return function(){return M.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(M,J,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=X({},M.props),_e=M.key;if(J!=null)for(Ce in J.key!==void 0&&(_e=""+J.key),J)!A.call(J,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&J.ref===void 0||(ue[Ce]=J[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var Ue=Array(Ce),Nt=0;Nt<Ce;Nt++)Ue[Nt]=arguments[Nt+2];ue.children=Ue}return R(M.type,_e,ue)},Ee.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ee.createElement=function(M,J,ae){var ue,_e={},Ce=null;if(J!=null)for(ue in J.key!==void 0&&(Ce=""+J.key),J)A.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=J[ue]);var Ue=arguments.length-2;if(Ue===1)_e.children=ae;else if(1<Ue){for(var Nt=Array(Ue),st=0;st<Ue;st++)Nt[st]=arguments[st+2];_e.children=Nt}if(M&&M.defaultProps)for(ue in Ue=M.defaultProps,Ue)_e[ue]===void 0&&(_e[ue]=Ue[ue]);return R(M,Ce,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(M){return{$$typeof:p,render:M}},Ee.isValidElement=O,Ee.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:me}},Ee.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},Ee.startTransition=function(M){var J=N.T,ae={};N.T=ae;try{var ue=M(),_e=N.S;_e!==null&&_e(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Re,je)}catch(Ce){je(Ce)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),N.T=J}},Ee.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ee.use=function(M){return N.H.use(M)},Ee.useActionState=function(M,J,ae){return N.H.useActionState(M,J,ae)},Ee.useCallback=function(M,J){return N.H.useCallback(M,J)},Ee.useContext=function(M){return N.H.useContext(M)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(M,J){return N.H.useDeferredValue(M,J)},Ee.useEffect=function(M,J){return N.H.useEffect(M,J)},Ee.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ee.useId=function(){return N.H.useId()},Ee.useImperativeHandle=function(M,J,ae){return N.H.useImperativeHandle(M,J,ae)},Ee.useInsertionEffect=function(M,J){return N.H.useInsertionEffect(M,J)},Ee.useLayoutEffect=function(M,J){return N.H.useLayoutEffect(M,J)},Ee.useMemo=function(M,J){return N.H.useMemo(M,J)},Ee.useOptimistic=function(M,J){return N.H.useOptimistic(M,J)},Ee.useReducer=function(M,J,ae){return N.H.useReducer(M,J,ae)},Ee.useRef=function(M){return N.H.useRef(M)},Ee.useState=function(M){return N.H.useState(M)},Ee.useSyncExternalStore=function(M,J,ae){return N.H.useSyncExternalStore(M,J,ae)},Ee.useTransition=function(){return N.H.useTransition()},Ee.version="19.2.3",Ee}var av;function Lm(){return av||(av=1,zd.exports=fA()),zd.exports}var G=Lm(),Bd={exports:{}},bl={},qd={exports:{}},Hd={};var ov;function dA(){return ov||(ov=1,(function(r){function e(Y,se){var me=Y.length;Y.push(se);e:for(;0<me;){var je=me-1>>>1,Ge=Y[je];if(0<o(Ge,se))Y[je]=se,Y[me]=Ge,me=je;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var se=Y[0],me=Y.pop();if(me!==se){Y[0]=me;e:for(var je=0,Ge=Y.length,M=Ge>>>1;je<M;){var J=2*(je+1)-1,ae=Y[J],ue=J+1,_e=Y[ue];if(0>o(ae,me))ue<Ge&&0>o(_e,ae)?(Y[je]=_e,Y[ue]=me,je=ue):(Y[je]=ae,Y[J]=me,je=J);else if(ue<Ge&&0>o(_e,me))Y[je]=_e,Y[ue]=me,je=ue;else break e}}return se}function o(Y,se){var me=Y.sortIndex-se.sortIndex;return me!==0?me:Y.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],E=1,b=null,I=3,z=!1,Z=!1,X=!1,B=!1,ne=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function Ae(Y){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=Y)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function we(Y){if(X=!1,Ae(Y),!Z)if(n(g)!==null)Z=!0,Re||(Re=!0,L());else{var se=n(y);se!==null&&It(we,se.startTime-Y)}}var Re=!1,N=-1,A=5,R=-1;function V(){return B?!0:!(r.unstable_now()-R<A)}function O(){if(B=!1,Re){var Y=r.unstable_now();R=Y;var se=!0;try{e:{Z=!1,X&&(X=!1,te(N),N=-1),z=!0;var me=I;try{t:{for(Ae(Y),b=n(g);b!==null&&!(b.expirationTime>Y&&V());){var je=b.callback;if(typeof je=="function"){b.callback=null,I=b.priorityLevel;var Ge=je(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof Ge=="function"){b.callback=Ge,Ae(Y),se=!0;break t}b===n(g)&&s(g),Ae(Y)}else s(g);b=n(g)}if(b!==null)se=!0;else{var M=n(y);M!==null&&It(we,M.startTime-Y),se=!1}}break e}finally{b=null,I=me,z=!1}se=void 0}}finally{se?L():Re=!1}}}var L;if(typeof ie=="function")L=function(){ie(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,rt=C.port2;C.port1.onmessage=O,L=function(){rt.postMessage(null)}}else L=function(){ne(O,0)};function It(Y,se){N=ne(function(){Y(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(Y){switch(I){case 1:case 2:case 3:var se=3;break;default:se=I}var me=I;I=se;try{return Y()}finally{I=me}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=I;I=Y;try{return se()}finally{I=me}},r.unstable_scheduleCallback=function(Y,se,me){var je=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,Y){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,Y={id:E++,callback:se,priorityLevel:Y,startTime:me,expirationTime:Ge,sortIndex:-1},me>je?(Y.sortIndex=me,e(y,Y),n(g)===null&&Y===n(y)&&(X?(te(N),N=-1):X=!0,It(we,me-je))):(Y.sortIndex=Ge,e(g,Y),Z||z||(Z=!0,Re||(Re=!0,L()))),Y},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Y){var se=I;return function(){var me=I;I=se;try{return Y.apply(this,arguments)}finally{I=me}}}})(Hd)),Hd}var lv;function mA(){return lv||(lv=1,qd.exports=dA()),qd.exports}var Fd={exports:{}},Kt={};var uv;function pA(){if(uv)return Kt;uv=1;var r=Lm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Kt.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Kt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Kt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Kt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:I,fetchPriority:z}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:I,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Kt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Kt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Kt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Kt.requestFormReset=function(g){s.d.r(g)},Kt.unstable_batchedUpdates=function(g,y){return g(y)},Kt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.2.3",Kt}var cv;function gA(){if(cv)return Fd.exports;cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=pA(),Fd.exports}var hv;function yA(){if(hv)return bl;hv=1;var r=mA(),e=Lm(),n=gA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,I=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case ne:return"Profiler";case B:return"StrictMode";case we:return"Suspense";case Re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case ie:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case Ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var It=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function M(t){return{current:t}}function J(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ae(t,i){Ge++,je[Ge]=t.current,t.current=i}var ue=M(null),_e=M(null),Ce=M(null),Ue=M(null);function Nt(t,i){switch(ae(Ce,i),ae(_e,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?R_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=R_(i),t=C_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ue),ae(ue,t)}function st(){J(ue),J(_e),J(Ce)}function as(t){t.memoizedState!==null&&ae(Ue,t);var i=ue.current,a=C_(i,t.type);i!==a&&(ae(_e,t),ae(ue,a))}function $s(t){_e.current===t&&(J(ue),J(_e)),Ue.current===t&&(J(Ue),yl._currentValue=me)}var Js,Zs;function ni(t){if(Js===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Js=i&&i[1]||"",Zs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+t+Zs}var yo=!1;function os(t,i){if(!t||yo)return"";yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){q=F}t.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var x=_.split(`
`),j=T.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===j.length)for(l=x.length-1,h=j.length-1;1<=l&&0<=h&&x[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==j[h]){var Q=`
`+x[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ni(a):""}function _o(t,i){switch(t.tag){case 26:case 27:case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return t.child!==i&&i!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return os(t.type,!1);case 11:return os(t.type.render,!1);case 1:return os(t.type,!0);case 31:return ni("Activity");default:return""}}function vo(t){try{var i="",a=null;do i+=_o(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,Dt=r.unstable_scheduleCallback,ur=r.unstable_cancelCallback,zh=r.unstable_shouldYield,nu=r.unstable_requestPaint,Wt=r.unstable_now,ls=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,To=r.unstable_UserBlockingPriority,cr=r.unstable_NormalPriority,Bh=r.unstable_LowPriority,iu=r.unstable_IdlePriority,ru=r.log,su=r.unstable_setDisableYieldValue,Pn=null,jt=null;function bn(t){if(typeof ru=="function"&&su(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Pn,t)}catch{}}var ft=Math.clz32?Math.clz32:ou,au=Math.log,Ws=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(au(t)/Ws|0)|0}var ii=256,us=262144,_t=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ri(l):(_&=T,_!==0?h=ri(_):a||(a=T&~t,a!==0&&(h=ri(a))))):(T=l&~d,T!==0?h=ri(T):_!==0?h=ri(_):a||(a=l&~t,a!==0&&(h=ri(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function qh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ai(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function cs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hh(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-ft(a),$=1<<Q;T[Q]=0,x[Q]=-1;var q=j[Q];if(q!==null)for(j[Q]=null,Q=0;Q<q.length;Q++){var F=q[Q];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&hs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function hs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function bo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function So(t,i){var a=i&-i;return a=(a&42)!==0?1:fs(a),(a&(t.suspendedLanes|i))!==0?0:a}function fs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:$_(t.type))}function zn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Bn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Bn,Vt="__reactProps$"+Bn,oi="__reactContainer$"+Bn,ea="__reactEvents$"+Bn,Fh="__reactListeners$"+Bn,cu="__reactHandles$"+Bn,hu="__reactResources$"+Bn,li="__reactMarker$"+Bn;function ta(t){delete t[vt],delete t[Vt],delete t[ea],delete t[Fh],delete t[cu]}function ui(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[oi]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=V_(t);t!==null;){if(a=t[vt])return a;t=V_(t)}return i}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[vt]||t[oi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function fn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ci(t){var i=t[hu];return i||(i=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[li]=!0}var Ao=new Set,wo={};function hi(t,i){fi(t,i),fi(t+"Capture",i)}function fi(t,i){for(wo[t]=i,t=0;t<i.length;t++)Ao.add(i[t])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},xo={};function fu(t){return yt.call(xo,t)?!0:yt.call(Co,t)?!1:Ro.test(t)?xo[t]=!0:(Co[t]=!0,!1)}function na(t,i,a){if(fu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function dn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Tt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Io(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=hr(t)?"checked":"value";t._valueTracker=Io(t,i,""+t[i])}}function ds(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=hr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ms=/[\n"\\]/g;function nn(t){return t.replace(ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ia(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+kt(i)):t.value!==""+kt(i)&&(t.value=""+kt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?No(t,_,kt(i)):a!=null?No(t,_,kt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+kt(T):t.removeAttribute("name")}function du(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+kt(a):"",i=i!=null?""+kt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function No(t,i,a){i==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function mu(t,i,a){if(i!=null&&(i=""+kt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+kt(a):""}function dr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(It(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=kt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function rn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||pu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Oo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Do(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Do(t,d,i[d])}function ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return mr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var Mo=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pr=null,mi=null;function ps(t){var i=Sn(t);if(i&&(t=i.stateNode)){var a=t[Vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Vt]||null;if(!h)throw Error(s(90));ia(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ds(l)}break e;case"textarea":mu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&fr(t,!!a.multiple,i,!1)}}}var aa=!1;function gr(t,i,a){if(aa)return t(i,a);aa=!0;try{var l=t(i);return l}finally{if(aa=!1,(pr!==null||mi!==null)&&(uc(),pr&&(i=pr,t=mi,mi=pr=null,ps(i),t)))for(i=0;i<t.length;i++)ps(t[i])}}function Hn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(wn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){gs=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{gs=!1}var pi=null,Vo=null,ys=null;function ko(){if(ys)return ys;var t,i=Vo,a=i.length,l,h="value"in pi?pi.value:pi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return ys=h.slice(t,1<l?1-l:void 0)}function _s(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function Fn(){return!1}function zt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Mi:Fn,this.isPropagationStopped=Fn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),i}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=zt(Vi),yr=b({},Vi,{view:0,detail:0}),Lo=zt(yr),_r,oa,yi,la=b({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(_r=t.screenX-yi.screenX,oa=t.screenY-yi.screenY):oa=_r=0,yi=t),_r)},movementY:function(t){return"movementY"in t?t.movementY:oa}}),Uo=zt(la),vs=b({},la,{dataTransfer:0}),yu=zt(vs),_u=b({},yr,{relatedTarget:0}),Es=zt(_u),Po=b({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=zt(Po),ua=b({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=zt(ua),Tu=b({},Vi,{data:0}),_i=zt(Tu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Au[t])?!!i[t]:!1}function vr(){return wu}var en=b({},yr,{key:function(t){if(t.key){var i=bu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=_s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(t){return t.type==="keypress"?_s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=zt(en),Cu=b({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=zt(Cu),c=b({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),m=zt(c),v=b({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=zt(v),U=b({},la,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=zt(U),re=b({},Vi,{newState:0,oldState:0}),be=zt(re),dt=[9,13,27,32],qe=wn&&"CompositionEvent"in window,at=null;wn&&"documentMode"in document&&(at=document.documentMode);var Rn=wn&&"TextEvent"in window&&!at,vi=wn&&(!qe||at&&8<at&&11>=at),Gn=" ",Qn=!1;function Ts(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ha=!1;function Vb(t,i){switch(t){case"compositionend":return ca(i);case"keypress":return i.which!==32?null:(Qn=!0,Gn);case"textInput":return t=i.data,t===Gn&&Qn?null:t;default:return null}}function kb(t,i){if(ha)return t==="compositionend"||!qe&&Ts(t,i)?(t=ko(),ys=Vo=pi=null,ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vi&&i.locale!=="ko"?null:i.data;default:return null}}var Lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Lb[t.type]:i==="textarea"}function Pp(t,i,a,l){pr?mi?mi.push(l):mi=[l]:pr=l,i=gc(i,"onChange"),0<i.length&&(a=new gi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var jo=null,zo=null;function Ub(t){E_(t,0)}function xu(t){var i=fn(t);if(ds(i))return t}function jp(t,i){if(t==="change")return i}var zp=!1;if(wn){var Gh;if(wn){var Qh="oninput"in document;if(!Qh){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),Qh=typeof Bp.oninput=="function"}Gh=Qh}else Gh=!1;zp=Gh&&(!document.documentMode||9<document.documentMode)}function qp(){jo&&(jo.detachEvent("onpropertychange",Hp),zo=jo=null)}function Hp(t){if(t.propertyName==="value"&&xu(zo)){var i=[];Pp(i,zo,t,An(t)),gr(Ub,i)}}function Pb(t,i,a){t==="focusin"?(qp(),jo=i,zo=a,jo.attachEvent("onpropertychange",Hp)):t==="focusout"&&qp()}function jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(zo)}function zb(t,i){if(t==="click")return xu(i)}function Bb(t,i){if(t==="input"||t==="change")return xu(i)}function qb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var mn=typeof Object.is=="function"?Object.is:qb;function Bo(t,i){if(mn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!yt.call(i,h)||!mn(t[h],i[h]))return!1}return!0}function Fp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gp(t,i){var a=Fp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fp(a)}}function Qp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Qp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Yp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=di(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=di(t.document)}return i}function Yh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Hb=wn&&"documentMode"in document&&11>=document.documentMode,fa=null,Kh=null,qo=null,Xh=!1;function Kp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||fa==null||fa!==di(l)||(l=fa,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qo&&Bo(qo,l)||(qo=l,l=gc(Kh,"onSelect"),0<l.length&&(i=new gi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=fa)))}function bs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var da={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},$h={},Xp={};wn&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Ss(t){if($h[t])return $h[t];if(!da[t])return t;var i=da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Xp)return $h[t]=i[a];return t}var $p=Ss("animationend"),Jp=Ss("animationiteration"),Zp=Ss("animationstart"),Fb=Ss("transitionrun"),Gb=Ss("transitionstart"),Qb=Ss("transitioncancel"),Wp=Ss("transitionend"),eg=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Yn(t,i){eg.set(t,i),hi(i,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],ma=0,Zh=0;function Nu(){for(var t=ma,i=Zh=ma=0;i<t;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&tg(a,h,d)}}function Du(t,i,a,l){Cn[ma++]=t,Cn[ma++]=i,Cn[ma++]=a,Cn[ma++]=l,Zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wh(t,i,a,l){return Du(t,i,a,l),Ou(t)}function As(t,i){return Du(t,null,null,i),Ou(t)}function tg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ou(t){if(50<cl)throw cl=0,ud=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var pa={};function Yb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,i,a,l){return new Yb(t,i,a,l)}function ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,i){var a=t.alternate;return a===null?(a=pn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ng(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Mu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")ef(t)&&(_=1);else if(typeof t=="string")_=ZS(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=pn(31,a,i,h),t.elementType=R,t.lanes=d,t;case X:return ws(a.children,h,d,i);case B:_=8,h|=24;break;case ne:return t=pn(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case we:return t=pn(13,a,i,h),t.elementType=we,t.lanes=d,t;case Re:return t=pn(19,a,i,h),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case te:_=9;break e;case Ae:_=11;break e;case N:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=pn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ws(t,i,a,l){return t=pn(7,t,l,i),t.lanes=a,t}function tf(t,i,a){return t=pn(6,t,null,i),t.lanes=a,t}function ig(t){var i=pn(18,null,null,0);return i.stateNode=t,i}function nf(t,i,a){return i=pn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var rg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=rg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:vo(i)},rg.set(t,i),i)}return{value:t,source:i,stack:vo(i)}}var ga=[],ya=0,Vu=null,Ho=0,In=[],Nn=0,Er=null,Ei=1,Ti="";function Ui(t,i){ga[ya++]=Ho,ga[ya++]=Vu,Vu=t,Ho=i}function sg(t,i,a){In[Nn++]=Ei,In[Nn++]=Ti,In[Nn++]=Er,Er=t;var l=Ei;t=Ti;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ei=1<<32-ft(i)+h|a<<h|l,Ti=d+t}else Ei=1<<d|a<<h|l,Ti=t}function rf(t){t.return!==null&&(Ui(t,1),sg(t,1,0))}function sf(t){for(;t===Vu;)Vu=ga[--ya],ga[ya]=null,Ho=ga[--ya],ga[ya]=null;for(;t===Er;)Er=In[--Nn],In[Nn]=null,Ti=In[--Nn],In[Nn]=null,Ei=In[--Nn],In[Nn]=null}function ag(t,i){In[Nn++]=Ei,In[Nn++]=Ti,In[Nn++]=Er,Ei=i.id,Ti=i.overflow,Er=t}var Bt=null,tt=null,Le=!1,Tr=null,Dn=!1,af=Error(s(519));function br(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(xn(i,t)),af}function og(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[Vt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<fl.length;a++)Ne(fl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),dr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||A_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||br(t,!0)}function lg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Bt=Bt.return}}function _a(t){if(t!==Bt)return!1;if(!Le)return lg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ad(t.type,t.memoizedProps)),a=!a),a&&tt&&br(t),lg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=M_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=M_(t)}else i===27?(i=tt,Lr(t.type)?(t=Id,Id=null,tt=t):tt=i):tt=Bt?Mn(t.stateNode.nextSibling):null;return!0}function Rs(){tt=Bt=null,Le=!1}function of(){var t=Tr;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Tr=null),t}function Fo(t){Tr===null?Tr=[t]:Tr.push(t)}var lf=M(null),Cs=null,Pi=null;function Sr(t,i,a){ae(lf,i._currentValue),i._currentValue=a}function ji(t){t._currentValue=lf.current,J(lf)}function uf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function cf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var x=0;x<i.length;x++)if(T.context===i[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),uf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),uf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function va(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;mn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(yl):t=[yl])}h=h.return}t!==null&&cf(i,t,a,l),i.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xs(t){Cs=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return ug(Cs,t)}function Lu(t,i){return Cs===null&&xs(t),ug(t,i)}function ug(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(t===null)throw Error(s(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return a}var Kb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Xb=r.unstable_scheduleCallback,$b=r.unstable_NormalPriority,bt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new Kb,data:new Map,refCount:0}}function Go(t){t.refCount--,t.refCount===0&&Xb($b,function(){t.controller.abort()})}var Qo=null,ff=0,Ea=0,Ta=null;function Jb(t,i){if(Qo===null){var a=Qo=[];ff=0,Ea=pd(),Ta={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ff++,i.then(cg,cg),i}function cg(){if(--ff===0&&Qo!==null){Ta!==null&&(Ta.status="fulfilled");var t=Qo;Qo=null,Ea=0,Ta=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Zb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var hg=Y.S;Y.S=function(t,i){Ky=Wt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Jb(t,i),hg!==null&&hg(t,i)};var Is=M(null);function df(){var t=Is.current;return t!==null?t:We.pooledCache}function Uu(t,i){i===null?ae(Is,Is.current):ae(Is,i.pool)}function fg(){var t=df();return t===null?null:{parent:bt._currentValue,pool:t}}var ba=Error(s(460)),mf=Error(s(474)),Pu=Error(s(542)),ju={then:function(){}};function dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(qn,qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gg(t),t;default:if(typeof i.status=="string")i.then(qn,qn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gg(t),t}throw Ds=i,ba}}function Ns(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ds=a,ba):a}}var Ds=null;function pg(){if(Ds===null)throw Error(s(459));var t=Ds;return Ds=null,t}function gg(t){if(t===ba||t===Pu)throw Error(s(483))}var Sa=null,Yo=0;function zu(t){var i=Yo;return Yo+=1,Sa===null&&(Sa=[]),mg(Sa,t,i)}function Ko(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Bu(t,i){throw i.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function yg(t){function i(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Li(k,D),k.index=0,k.sibling=null,k}function d(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,K){return D===null||D.tag!==6?(D=tf(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function x(k,D,P,K){var fe=P.type;return fe===X?Q(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Ns(fe)===D.type)?(D=h(D,P.props),Ko(D,P),D.return=k,D):(D=Mu(P.type,P.key,P.props,null,k.mode,K),Ko(D,P),D.return=k,D)}function j(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=nf(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function Q(k,D,P,K,fe){return D===null||D.tag!==7?(D=ws(P,k.mode,K,fe),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=tf(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case z:return P=Mu(D.type,D.key,D.props,null,k.mode,P),Ko(P,D),P.return=k,P;case Z:return D=nf(D,k.mode,P),D.return=k,D;case A:return D=Ns(D),$(k,D,P)}if(It(D)||L(D))return D=ws(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,zu(D),P);if(D.$$typeof===ie)return $(k,Lu(k,D),P);Bu(k,D)}return null}function q(k,D,P,K){var fe=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return fe!==null?null:T(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case z:return P.key===fe?x(k,D,P,K):null;case Z:return P.key===fe?j(k,D,P,K):null;case A:return P=Ns(P),q(k,D,P,K)}if(It(P)||L(P))return fe!==null?null:Q(k,D,P,K,null);if(typeof P.then=="function")return q(k,D,zu(P),K);if(P.$$typeof===ie)return q(k,D,Lu(k,P),K);Bu(k,P)}return null}function F(k,D,P,K,fe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(D,k,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return k=k.get(K.key===null?P:K.key)||null,x(D,k,K,fe);case Z:return k=k.get(K.key===null?P:K.key)||null,j(D,k,K,fe);case A:return K=Ns(K),F(k,D,P,K,fe)}if(It(K)||L(K))return k=k.get(P)||null,Q(D,k,K,fe,null);if(typeof K.then=="function")return F(k,D,P,zu(K),fe);if(K.$$typeof===ie)return F(k,D,P,Lu(D,K),fe);Bu(D,K)}return null}function ce(k,D,P,K){for(var fe=null,ze=null,he=D,xe=D=0,Oe=null;he!==null&&xe<P.length;xe++){he.index>xe?(Oe=he,he=null):Oe=he.sibling;var Be=q(k,he,P[xe],K);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(k,he),D=d(Be,D,xe),ze===null?fe=Be:ze.sibling=Be,ze=Be,he=Oe}if(xe===P.length)return a(k,he),Le&&Ui(k,xe),fe;if(he===null){for(;xe<P.length;xe++)he=$(k,P[xe],K),he!==null&&(D=d(he,D,xe),ze===null?fe=he:ze.sibling=he,ze=he);return Le&&Ui(k,xe),fe}for(he=l(he);xe<P.length;xe++)Oe=F(he,k,xe,P[xe],K),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?xe:Oe.key),D=d(Oe,D,xe),ze===null?fe=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function(Br){return i(k,Br)}),Le&&Ui(k,xe),fe}function pe(k,D,P,K){if(P==null)throw Error(s(151));for(var fe=null,ze=null,he=D,xe=D=0,Oe=null,Be=P.next();he!==null&&!Be.done;xe++,Be=P.next()){he.index>xe?(Oe=he,he=null):Oe=he.sibling;var Br=q(k,he,Be.value,K);if(Br===null){he===null&&(he=Oe);break}t&&he&&Br.alternate===null&&i(k,he),D=d(Br,D,xe),ze===null?fe=Br:ze.sibling=Br,ze=Br,he=Oe}if(Be.done)return a(k,he),Le&&Ui(k,xe),fe;if(he===null){for(;!Be.done;xe++,Be=P.next())Be=$(k,Be.value,K),Be!==null&&(D=d(Be,D,xe),ze===null?fe=Be:ze.sibling=Be,ze=Be);return Le&&Ui(k,xe),fe}for(he=l(he);!Be.done;xe++,Be=P.next())Be=F(he,k,xe,Be.value,K),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?xe:Be.key),D=d(Be,D,xe),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(uA){return i(k,uA)}),Le&&Ui(k,xe),fe}function Ze(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===X&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case z:e:{for(var fe=P.key;D!==null;){if(D.key===fe){if(fe=P.type,fe===X){if(D.tag===7){a(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break e}}else if(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Ns(fe)===D.type){a(k,D.sibling),K=h(D,P.props),Ko(K,P),K.return=k,k=K;break e}a(k,D);break}else i(k,D);D=D.sibling}P.type===X?(K=ws(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Mu(P.type,P.key,P.props,null,k.mode,K),Ko(K,P),K.return=k,k=K)}return _(k);case Z:e:{for(fe=P.key;D!==null;){if(D.key===fe)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break e}else{a(k,D);break}else i(k,D);D=D.sibling}K=nf(P,k.mode,K),K.return=k,k=K}return _(k);case A:return P=Ns(P),Ze(k,D,P,K)}if(It(P))return ce(k,D,P,K);if(L(P)){if(fe=L(P),typeof fe!="function")throw Error(s(150));return P=fe.call(P),pe(k,D,P,K)}if(typeof P.then=="function")return Ze(k,D,zu(P),K);if(P.$$typeof===ie)return Ze(k,D,Lu(k,P),K);Bu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),K=h(D,P),K.return=k,k=K):(a(k,D),K=tf(P,k.mode,K),K.return=k,k=K),_(k)):a(k,D)}return function(k,D,P,K){try{Yo=0;var fe=Ze(k,D,P,K);return Sa=null,fe}catch(he){if(he===ba||he===Pu)throw he;var ze=pn(29,he,null,k.mode);return ze.lanes=K,ze.return=k,ze}}}var Os=yg(!0),_g=yg(!1),Ar=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ou(t),tg(t,null,a),i}return Du(t,l,i,a),Ou(t)}function Xo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,bo(t,a)}}function yf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var _f=!1;function $o(){if(_f){var t=Ta;if(t!==null)throw t}}function Jo(t,i,a,l){_f=!1;var h=t.updateQueue;Ar=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,j=x.next;x.next=null,_===null?d=j:_.next=j,_=x;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=j:T.next=j,Q.lastBaseUpdate=x))}if(d!==null){var $=h.baseState;_=0,Q=j=x=null,T=d;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(De&q)===q:(l&q)===q){q!==0&&q===Ea&&(_f=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,pe=T;q=i;var Ze=a;switch(pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){$=ce.call(Ze,$,q);break e}$=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,q=typeof ce=="function"?ce.call(Ze,$,q):ce,q==null)break e;$=b({},$,q);break e;case 2:Ar=!0}}q=T.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(j=Q=F,x=$):Q=Q.next=F,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(x=$),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Dr|=_,t.lanes=_,t.memoizedState=$}}function vg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Eg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vg(a[t],i)}var Aa=M(null),qu=M(0);function Tg(t,i){t=Ki,ae(qu,t),ae(Aa,i),Ki=t|i.baseLanes}function vf(){ae(qu,Ki),ae(Aa,Aa.current)}function Ef(){Ki=qu.current,J(Aa),J(qu)}var gn=M(null),On=null;function Cr(t){var i=t.alternate;ae(mt,mt.current&1),ae(gn,t),On===null&&(i===null||Aa.current!==null||i.memoizedState!==null)&&(On=t)}function Tf(t){ae(mt,mt.current),ae(gn,t),On===null&&(On=t)}function bg(t){t.tag===22?(ae(mt,mt.current),ae(gn,t),On===null&&(On=t)):xr()}function xr(){ae(mt,mt.current),ae(gn,gn.current)}function yn(t){J(gn),On===t&&(On=null),J(mt)}var mt=M(0);function Hu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cd(a)||xd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zi=0,Se=null,$e=null,St=null,Fu=!1,wa=!1,Ms=!1,Gu=0,Zo=0,Ra=null,Wb=0;function ct(){throw Error(s(321))}function bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!mn(t[a],i[a]))return!1;return!0}function Sf(t,i,a,l,h,d){return zi=d,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?sy:Pf,Ms=!1,d=a(l,h),Ms=!1,wa&&(d=Ag(i,a,l,h)),Sg(t),d}function Sg(t){Y.H=tl;var i=$e!==null&&$e.next!==null;if(zi=0,St=$e=Se=null,Fu=!1,Zo=0,Ra=null,i)throw Error(s(300));t===null||At||(t=t.dependencies,t!==null&&ku(t)&&(At=!0))}function Ag(t,i,a,l){Se=t;var h=0;do{if(wa&&(Ra=null),Zo=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,St=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=ay,d=i(a,l)}while(wa);return d}function eS(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Wo(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Se.flags|=1024),i}function Af(){var t=Gu!==0;return Gu=0,t}function wf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Rf(t){if(Fu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Fu=!1}zi=0,St=$e=Se=null,wa=!1,Zo=Gu=0,Ra=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Se.memoizedState=St=t:St=St.next=t,St}function pt(){if($e===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=St===null?Se.memoizedState:St.next;if(i!==null)St=i,$e=t;else{if(t===null)throw Se.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},St===null?Se.memoizedState=St=t:St=St.next=t}return St}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var i=Zo;return Zo+=1,Ra===null&&(Ra=[]),t=mg(Ra,t,i),i=Se,(St===null?i.memoizedState:St.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?sy:Pf),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===ie)return qt(t)}throw Error(s(438,String(t)))}function Cf(t){var i=null,a=Se.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Qu(),Se.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Bi(t,i){return typeof i=="function"?i(t):i}function Ku(t){var i=pt();return xf(i,$e,t)}function xf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,x=null,j=i,Q=!1;do{var $=j.lane&-536870913;if($!==j.lane?(De&$)===$:(zi&$)===$){var q=j.revertLane;if(q===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Ea&&(Q=!0);else if((zi&q)===q){j=j.next,q===Ea&&(Q=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=$,_=d):x=x.next=$,Se.lanes|=q,Dr|=q;$=j.action,Ms&&a(d,$),d=j.hasEagerState?j.eagerState:a(d,$)}else q={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=q,_=d):x=x.next=q,Se.lanes|=$,Dr|=$;j=j.next}while(j!==null&&j!==i);if(x===null?_=d:x.next=T,!mn(d,t.memoizedState)&&(At=!0,Q&&(a=Ta,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function If(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);mn(d,i.memoizedState)||(At=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function wg(t,i,a){var l=Se,h=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!mn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,At=!0),h=h.queue,Of(xg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Ca(9,{destroy:void 0},Cg.bind(null,l,h,a,i),null),We===null)throw Error(s(349));d||(zi&127)!==0||Rg(l,i,a)}return a}function Rg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Se.updateQueue,i===null?(i=Qu(),Se.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Cg(t,i,a,l){i.value=a,i.getSnapshot=l,Ig(i)&&Ng(t)}function xg(t,i,a){return a(function(){Ig(i)&&Ng(t)})}function Ig(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!mn(t,a)}catch{return!0}}function Ng(t){var i=As(t,2);i!==null&&un(i,t,2)}function Nf(t){var i=tn();if(typeof t=="function"){var a=t;if(t=a(),Ms){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},i}function Dg(t,i,a,l){return t.baseState=a,xf(t,$e,typeof l=="function"?l:Bi)}function tS(t,i,a,l,h){if(Ju(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Og(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Og(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var T=a(h,l),x=Y.S;x!==null&&x(_,T),Mg(t,i,T)}catch(j){Df(t,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),Mg(t,i,d)}catch(j){Df(t,i,j)}}function Mg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vg(t,i,l)},function(l){return Df(t,i,l)}):Vg(t,i,a)}function Vg(t,i,a){i.status="fulfilled",i.value=a,kg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Og(t,a)))}function Df(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,kg(i),i=i.next;while(i!==l)}t.action=null}function kg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Lg(t,i){return i}function Ug(t,i){if(Le){var a=We.formState;if(a!==null){e:{var l=Se;if(Le){if(tt){t:{for(var h=tt,d=Dn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Mn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=Mn(h.nextSibling),l=h.data==="F!";break e}}br(l)}l=!1}l&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lg,lastRenderedState:i},a.queue=l,a=ny.bind(null,Se,l),l.dispatch=a,l=Nf(!1),d=Uf.bind(null,Se,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=tS.bind(null,Se,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Pg(t){var i=pt();return jg(i,$e,t)}function jg(t,i,a){if(i=xf(t,i,Lg)[0],t=Ku(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Wo(i)}catch(_){throw _===ba?Pu:_}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Se.flags|=2048,Ca(9,{destroy:void 0},nS.bind(null,h,a),null)),[l,d,t]}function nS(t,i){t.action=i}function zg(t){var i=pt(),a=$e;if(a!==null)return jg(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ca(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Se.updateQueue,i===null&&(i=Qu(),Se.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Bg(){return pt().memoizedState}function Xu(t,i,a,l){var h=tn();Se.flags|=t,h.memoizedState=Ca(1|i,{destroy:void 0},a,l===void 0?null:l)}function $u(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&bf(l,$e.memoizedState.deps)?h.memoizedState=Ca(i,d,a,l):(Se.flags|=t,h.memoizedState=Ca(1|i,d,a,l))}function qg(t,i){Xu(8390656,8,t,i)}function Of(t,i){$u(2048,8,t,i)}function iS(t){Se.flags|=4;var i=Se.updateQueue;if(i===null)i=Qu(),Se.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Hg(t){var i=pt().memoizedState;return iS({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Fg(t,i){return $u(4,2,t,i)}function Gg(t,i){return $u(4,4,t,i)}function Qg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Yg(t,i,a){a=a!=null?a.concat([t]):null,$u(4,4,Qg.bind(null,i,t),a)}function Mf(){}function Kg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Xg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&bf(i,l[1]))return l[0];if(l=t(),Ms){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[l,i],l}function Vf(t,i,a){return a===void 0||(zi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=$y(),Se.lanes|=t,Dr|=t,a)}function $g(t,i,a,l){return mn(a,i)?a:Aa.current!==null?(t=Vf(t,a,l),mn(t,i)||(At=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(De&261930)===0?(At=!0,t.memoizedState=a):(t=$y(),Se.lanes|=t,Dr|=t,i)}function Jg(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Y.T,T={};Y.T=T,Uf(t,!1,i,a);try{var x=h(),j=Y.S;if(j!==null&&j(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=Zb(x,l);el(t,i,Q,En(t))}else el(t,i,l,En(t))}catch($){el(t,i,{then:function(){},status:"rejected",reason:$},En())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),Y.T=_}}function rS(){}function kf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Zg(t).queue;Jg(t,h,i,me,a===null?rS:function(){return Wg(t),a(l)})}function Zg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Wg(t){var i=Zg(t);i.next===null&&(i=t.alternate.memoizedState),el(t,i.next.queue,{},En())}function Lf(){return qt(yl)}function ey(){return pt().memoizedState}function ty(){return pt().memoizedState}function sS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();t=wr(a);var l=Rr(i,t,a);l!==null&&(un(l,i,a),Xo(l,i,a)),i={cache:hf()},t.payload=i;return}i=i.return}}function aS(t,i,a){var l=En();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(t)?iy(i,a):(a=Wh(t,i,a,l),a!==null&&(un(a,t,l),ry(a,i,l)))}function ny(t,i,a){var l=En();el(t,i,a,l)}function el(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))iy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,mn(T,_))return Du(t,i,h,0),We===null&&Nu(),!1}catch{}if(a=Wh(t,i,h,l),a!==null)return un(a,t,l),ry(a,i,l),!0}return!1}function Uf(t,i,a,l){if(l={lane:2,revertLane:pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(i)throw Error(s(479))}else i=Wh(t,a,l,2),i!==null&&un(i,t,2)}function Ju(t){var i=t.alternate;return t===Se||i!==null&&i===Se}function iy(t,i){wa=Fu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ry(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,bo(t,a)}}var tl={readContext:qt,use:Yu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};tl.useEffectEvent=ct;var sy={readContext:qt,use:Yu,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:qt,useEffect:qg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Xu(4194308,4,Qg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Xu(4194308,4,t,i)},useInsertionEffect:function(t,i){Xu(4,2,t,i)},useMemo:function(t,i){var a=tn();i=i===void 0?null:i;var l=t();if(Ms){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=tn();if(a!==void 0){var h=a(i);if(Ms){bn(!0);try{a(i)}finally{bn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=aS.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=Nf(t);var i=t.queue,a=ny.bind(null,Se,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(t,i){var a=tn();return Vf(a,t,i)},useTransition:function(){var t=Nf(!1);return t=Jg.bind(null,Se,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Se,h=tn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(De&127)!==0||Rg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,qg(xg.bind(null,l,d,t),[t]),l.flags|=2048,Ca(9,{destroy:void 0},Cg.bind(null,l,d,a,i),null),a},useId:function(){var t=tn(),i=We.identifierPrefix;if(Le){var a=Ti,l=Ei;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Gu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Wb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Lf,useFormState:Ug,useActionState:Ug,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Uf.bind(null,Se,!0,a),a.dispatch=i,[t,i]},useMemoCache:Cf,useCacheRefresh:function(){return tn().memoizedState=sS.bind(null,Se)},useEffectEvent:function(t){var i=tn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:qt,use:Yu,useCallback:Kg,useContext:qt,useEffect:Of,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Ku,useRef:Bg,useState:function(){return Ku(Bi)},useDebugValue:Mf,useDeferredValue:function(t,i){var a=pt();return $g(a,$e.memoizedState,t,i)},useTransition:function(){var t=Ku(Bi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:wg,useId:ey,useHostTransitionStatus:Lf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,i){var a=pt();return Dg(a,$e,t,i)},useMemoCache:Cf,useCacheRefresh:ty};Pf.useEffectEvent=Hg;var ay={readContext:qt,use:Yu,useCallback:Kg,useContext:qt,useEffect:Of,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:If,useRef:Bg,useState:function(){return If(Bi)},useDebugValue:Mf,useDeferredValue:function(t,i){var a=pt();return $e===null?Vf(a,t,i):$g(a,$e.memoizedState,t,i)},useTransition:function(){var t=If(Bi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:wg,useId:ey,useHostTransitionStatus:Lf,useFormState:zg,useActionState:zg,useOptimistic:function(t,i){var a=pt();return $e!==null?Dg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:ty};ay.useEffectEvent=Hg;function jf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var zf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=En(),h=wr(l);h.payload=i,a!=null&&(h.callback=a),i=Rr(t,h,l),i!==null&&(un(i,t,l),Xo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=En(),h=wr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Rr(t,h,l),i!==null&&(un(i,t,l),Xo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=En(),l=wr(a);l.tag=2,i!=null&&(l.callback=i),i=Rr(t,l,a),i!==null&&(un(i,t,a),Xo(i,t,a))}};function oy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Bo(a,l)||!Bo(h,d):!0}function ly(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&zf.enqueueReplaceState(i,i.state,null)}function Vs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function uy(t){Iu(t)}function cy(t){console.error(t)}function hy(t){Iu(t)}function Zu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function fy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(t,i,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(t,i)},a}function dy(t){return t=wr(t),t.tag=3,t}function my(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){fy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){fy(i,a,l),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function oS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&va(i,a,h,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?cc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),fd(t,l,h)),!1;case 22:return a.flags|=65536,l===ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),fd(t,l,h)),!1}throw Error(s(435,a.tag))}return fd(t,l,h),cc(),!1}if(Le)return i=gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==af&&(t=Error(s(422),{cause:l}),Fo(xn(t,a)))):(l!==af&&(i=Error(s(423),{cause:l}),Fo(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=Bf(t.stateNode,l,h),yf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),ul===null?ul=[d]:ul.push(d),ht!==4&&(ht=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Bf(a.stateNode,l,t),yf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dy(h),my(h,t,a,l),yf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(s(461)),At=!1;function Ht(t,i,a,l){i.child=t===null?_g(i,null,a,l):Os(i,t.child,a,l)}function py(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return xs(i),l=Sf(t,i,a,_,d,h),T=Af(),t!==null&&!At?(wf(t,i,h),qi(t,i,h)):(Le&&T&&rf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function gy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,yy(t,i,d,l,h)):(t=Mu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!$f(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(_,l)&&t.ref===i.ref)return qi(t,i,h)}return i.flags|=1,t=Li(d,l),t.ref=i.ref,t.return=i,i.child=t}function yy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Bo(d,l)&&t.ref===i.ref)if(At=!1,i.pendingProps=l=d,$f(t,h))(t.flags&131072)!==0&&(At=!0);else return i.lanes=t.lanes,qi(t,i,h)}return Hf(t,i,a,l,h)}function _y(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return vy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(i,d!==null?d.cachePool:null),d!==null?Tg(i,d):vf(),bg(i);else return l=i.lanes=536870912,vy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Uu(i,d.cachePool),Tg(i,d),xr(),i.memoizedState=null):(t!==null&&Uu(i,null),vf(),xr());return Ht(t,i,h,a),i.child}function nl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function vy(t,i,a,l,h){var d=df();return d=d===null?null:{parent:bt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Uu(i,null),vf(),bg(i),t!==null&&va(t,i,l,!0),i.childLanes=h,null}function Wu(t,i){return i=tc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ey(t,i,a){return Os(i,t.child,null,a),t=Wu(i,i.pendingProps),t.flags|=2,yn(i),i.memoizedState=null,t}function lS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Wu(i,l),i.lanes=536870912,nl(null,t);if(Tf(i),(t=tt)?(t=O_(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Er!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=ig(t),a.return=i,i.child=a,Bt=i,tt=null)):t=null,t===null)throw br(i);return i.lanes=536870912,null}return Wu(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Tf(i),h)if(i.flags&256)i.flags&=-257,i=Ey(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(At||va(t,i,a,!1),h=(a&t.childLanes)!==0,At||h){if(l=We,l!==null&&(_=So(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,As(t,_),un(l,t,_),qf;cc(),i=Ey(t,i,a)}else t=d.treeContext,tt=Mn(_.nextSibling),Bt=i,Le=!0,Tr=null,Dn=!1,t!==null&&ag(i,t),i=Wu(i,l),i.flags|=4096;return i}return t=Li(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function ec(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Hf(t,i,a,l,h){return xs(i),a=Sf(t,i,a,l,void 0,h),l=Af(),t!==null&&!At?(wf(t,i,h),qi(t,i,h)):(Le&&l&&rf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function Ty(t,i,a,l,h,d){return xs(i),i.updateQueue=null,a=Ag(i,l,a,h),Sg(t),l=Af(),t!==null&&!At?(wf(t,i,d),qi(t,i,d)):(Le&&l&&rf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function by(t,i,a,l,h){if(xs(i),i.stateNode===null){var d=pa,_=a.contextType;typeof _=="object"&&_!==null&&(d=qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},pf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?qt(_):pa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(jf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&zf.enqueueReplaceState(d,d.state,null),Jo(i,l,d,h),$o(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,x=Vs(a,T);d.props=x;var j=d.context,Q=a.contextType;_=pa,typeof Q=="object"&&Q!==null&&(_=qt(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==_)&&ly(i,d,l,_),Ar=!1;var q=i.memoizedState;d.state=q,Jo(i,l,d,h),$o(),j=i.memoizedState,T||q!==j||Ar?(typeof $=="function"&&(jf(i,a,$,l),j=i.memoizedState),(x=Ar||oy(i,a,x,l,q,j,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,gf(t,i),_=i.memoizedProps,Q=Vs(a,_),d.props=Q,$=i.pendingProps,q=d.context,j=a.contextType,x=pa,typeof j=="object"&&j!==null&&(x=qt(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||q!==x)&&ly(i,d,l,x),Ar=!1,q=i.memoizedState,d.state=q,Jo(i,l,d,h),$o();var F=i.memoizedState;_!==$||q!==F||Ar||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof T=="function"&&(jf(i,a,T,l),F=i.memoizedState),(Q=Ar||oy(i,a,Q,l,q,F,x)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=x,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ec(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Os(i,t.child,null,h),i.child=Os(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=qi(t,i,h),t}function Sy(t,i,a,l){return Rs(),i.flags|=256,Ht(t,i,a,l),i.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:fg()}}function Qf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=vn),t}function Ay(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?Cr(i):xr(),(t=tt)?(t=O_(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Er!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=ig(t),a.return=i,i.child=a,Bt=i,tt=null)):t=null,t===null)throw br(i);return xd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(xr(),h=i.mode,T=tc({mode:"hidden",children:T},h),l=ws(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Gf(a),l.childLanes=Qf(t,_,a),i.memoizedState=Ff,nl(null,l)):(Cr(i),Yf(i,T))}var x=t.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(d)i.flags&256?(Cr(i),i.flags&=-257,i=Kf(t,i,a)):i.memoizedState!==null?(xr(),i.child=t.child,i.flags|=128,i=null):(xr(),T=l.fallback,h=i.mode,l=tc({mode:"visible",children:l.children},h),T=ws(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Os(i,t.child,null,a),l=i.child,l.memoizedState=Gf(a),l.childLanes=Qf(t,_,a),i.memoizedState=Ff,i=nl(null,l));else if(Cr(i),xd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,Fo({value:l,source:null,stack:null}),i=Kf(t,i,a)}else if(At||va(t,i,a,!1),_=(a&t.childLanes)!==0,At||_){if(_=We,_!==null&&(l=So(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,As(t,l),un(_,t,l),qf;Cd(T)||cc(),i=Kf(t,i,a)}else Cd(T)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,tt=Mn(T.nextSibling),Bt=i,Le=!0,Tr=null,Dn=!1,t!==null&&ag(i,t),i=Yf(i,l.children),i.flags|=4096);return i}return h?(xr(),T=l.fallback,h=i.mode,x=t.child,j=x.sibling,l=Li(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,j!==null?T=Li(j,T):(T=ws(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,nl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Gf(a):(h=T.cachePool,h!==null?(x=bt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=fg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Qf(t,_,a),i.memoizedState=Ff,nl(t.child,l)):(Cr(i),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Yf(t,i){return i=tc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function tc(t,i){return t=pn(22,t,null,i),t.lanes=0,t}function Kf(t,i,a){return Os(i,t.child,null,a),t=Yf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function wy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),uf(t.return,i,a)}function Xf(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Ry(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(mt,_),Ht(t,i,l,a),l=Le?Ho:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,a,i);else if(t.tag===19)wy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Hu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Xf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Xf(i,!0,a,null,d,l);break;case"together":Xf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Dr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Li(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function $f(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function uS(t,i,a){switch(i.tag){case 3:Nt(i,i.stateNode.containerInfo),Sr(i,bt,t.memoizedState.cache),Rs();break;case 27:case 5:as(i);break;case 4:Nt(i,i.stateNode.containerInfo);break;case 10:Sr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ay(t,i,a):(Cr(i),t=qi(t,i,a),t!==null?t.sibling:null);Cr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(va(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ry(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return i.lanes=0,_y(t,i,a,i.pendingProps);case 24:Sr(i,bt,t.memoizedState.cache)}return qi(t,i,a)}function Cy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)At=!0;else{if(!$f(t,a)&&(i.flags&128)===0)return At=!1,uS(t,i,a);At=(t.flags&131072)!==0}else At=!1,Le&&(i.flags&1048576)!==0&&sg(i,Ho,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ns(i.elementType),i.type=t,typeof t=="function")ef(t)?(l=Vs(t,l),i.tag=1,i=by(null,i,t,l,a)):(i.tag=0,i=Hf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Ae){i.tag=11,i=py(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=gy(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return Hf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Vs(l,i.pendingProps),by(t,i,l,h,a);case 3:e:{if(Nt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,gf(t,i),Jo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Sr(i,bt,l),l!==d.cache&&cf(i,[bt],a,!0),$o(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Sy(t,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),Fo(h),i=Sy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=Mn(t.firstChild),Bt=i,Le=!0,Tr=null,Dn=!0,a=_g(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Rs(),l===h){i=qi(t,i,a);break e}Ht(t,i,l,a)}i=i.child}return i;case 26:return ec(t,i),t===null?(a=P_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=yc(Ce.current).createElement(a),l[vt]=i,l[Vt]=t,Ft(l,a,t),Et(l),i.stateNode=l):i.memoizedState=P_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return as(i),t===null&&Le&&(l=i.stateNode=k_(i.type,i.pendingProps,Ce.current),Bt=i,Dn=!0,h=tt,Lr(i.type)?(Id=h,tt=Mn(l.firstChild)):tt=h),Ht(t,i,i.pendingProps.children,a),ec(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=tt)&&(l=jS(l,i.type,i.pendingProps,Dn),l!==null?(i.stateNode=l,Bt=i,tt=Mn(l.firstChild),Dn=!1,h=!0):h=!1),h||br(i)),as(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Ad(h,d)?l=null:_!==null&&Ad(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Sf(t,i,eS,null,null,a),yl._currentValue=h),ec(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=zS(a,i.pendingProps,Dn),a!==null?(i.stateNode=a,Bt=i,tt=null,t=!0):t=!1),t||br(i)),null;case 13:return Ay(t,i,a);case 4:return Nt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Os(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return py(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Sr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,xs(i),h=qt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return gy(t,i,i.type,i.pendingProps,a);case 15:return yy(t,i,i.type,i.pendingProps,a);case 19:return Ry(t,i,a);case 31:return lS(t,i,a);case 22:return _y(t,i,a,i.pendingProps);case 24:return xs(i),l=qt(bt),t===null?(h=df(),h===null&&(h=We,d=hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},pf(i),Sr(i,bt,h)):((t.lanes&a)!==0&&(gf(t,i),Jo(i,null,null,a),$o()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Sr(i,bt,l)):(l=d.cache,Sr(i,bt,l),l!==h.cache&&cf(i,[bt],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(t){t.flags|=4}function Jf(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(e_())t.flags|=8192;else throw Ds=ju,mf}else t.flags&=-16777217}function xy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!H_(i))if(e_())t.flags|=8192;else throw Ds=ju,mf}function nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?lu():536870912,t.lanes|=i,Da|=i)}function il(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function cS(t,i,a){var l=i.pendingProps;switch(sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(bt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(_a(i)?Hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,of())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Hi(i),d!==null?(nt(i),xy(i,d)):(nt(i),Jf(i,h,null,l,a))):d?d!==t.memoizedState?(Hi(i),nt(i),xy(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Hi(i),nt(i),Jf(i,h,t,l,a)),null;case 27:if($s(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,_a(i)?og(i):(t=k_(h,l,a),i.stateNode=t,Hi(i))}return nt(i),null;case 5:if($s(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,_a(i))og(i);else{var _=yc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[vt]=i,d[Vt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Ft(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Hi(i)}}return nt(i),Jf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,_a(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||A_(t.nodeValue,a)),t||br(i,!0)}else t=yc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=_a(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=i}else Rs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(yn(i),i):(yn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=_a(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=i}else Rs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(yn(i),i):(yn(i),null)}return yn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),nc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&vd(i.stateNode.containerInfo),nt(i),null;case 10:return ji(i.type),nt(i),null;case 19:if(J(mt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)il(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Hu(t),d!==null){for(i.flags|=128,il(l,!1),t=d.updateQueue,i.updateQueue=t,nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ng(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Le&&Ui(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Wt()>oc&&(i.flags|=128,h=!0,il(l,!1),i.lanes=4194304)}else{if(!h)if(t=Hu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,nc(i,t),il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*Wt()-l.renderingStartTime>oc&&a!==536870912&&(i.flags|=128,h=!0,il(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Wt(),t.sibling=null,a=mt.current,ae(mt,h?a&1|2:a&1),Le&&Ui(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return yn(i),Ef(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&J(Is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(bt),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function hS(t,i){switch(sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(bt),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return $s(i),null;case 31:if(i.memoizedState!==null){if(yn(i),i.alternate===null)throw Error(s(340));Rs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(yn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Rs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(mt),null;case 4:return st(),null;case 10:return ji(i.type),null;case 22:case 23:return yn(i),Ef(),t!==null&&J(Is),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(bt),null;case 25:return null;default:return null}}function Iy(t,i){switch(sf(i),i.tag){case 3:ji(bt),st();break;case 26:case 27:case 5:$s(i);break;case 4:st();break;case 31:i.memoizedState!==null&&yn(i);break;case 13:yn(i);break;case 19:J(mt);break;case 10:ji(i.type);break;case 22:case 23:yn(i),Ef(),t!==null&&J(Is);break;case 24:ji(bt)}}function rl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ke(i,i.return,T)}}function Ir(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var x=a,j=T;try{j()}catch(Q){Ke(h,x,Q)}}}l=l.next}while(l!==d)}}catch(Q){Ke(i,i.return,Q)}}function Ny(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Eg(i,a)}catch(l){Ke(t,t.return,l)}}}function Dy(t,i,a){a.props=Vs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(t,i,l)}}function sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ke(t,i,h)}}function bi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ke(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ke(t,i,h)}else a.current=null}function Oy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ke(t,t.return,h)}}function Zf(t,i,a){try{var l=t.stateNode;MS(l,t.type,a,i),l[Vt]=i}catch(h){Ke(t,t.return,h)}}function My(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Lr(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||My(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ed(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qn));else if(l!==4&&(l===27&&Lr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ed(t,i,a),t=t.sibling;t!==null;)ed(t,i,a),t=t.sibling}function ic(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Lr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ic(t,i,a),t=t.sibling;t!==null;)ic(t,i,a),t=t.sibling}function Vy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[vt]=t,i[Vt]=a}catch(d){Ke(t,t.return,d)}}var Fi=!1,wt=!1,td=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function fS(t,i){if(t=t.containerInfo,bd=Ac,t=Yp(t),Yh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,x=-1,j=0,Q=0,$=t,q=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(T=_+h),$!==d||l!==0&&$.nodeType!==3||(x=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===t)break t;if(q===a&&++j===h&&(T=_),q===d&&++Q===l&&(x=_),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:t,selectionRange:a},Ac=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Vs(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ke(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Rd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function Ly(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(t,a),l&4&&rl(5,a);break;case 1:if(Qi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ke(a,a.return,_)}else{var h=Vs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ke(a,a.return,_)}}l&64&&Ny(a),l&512&&sl(a,a.return);break;case 3:if(Qi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Eg(t,i)}catch(_){Ke(a,a.return,_)}}break;case 27:i===null&&l&4&&Vy(a);case 26:case 5:Qi(t,a),i===null&&l&4&&Oy(a),l&512&&sl(a,a.return);break;case 12:Qi(t,a);break;case 31:Qi(t,a),l&4&&jy(t,a);break;case 13:Qi(t,a),l&4&&zy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=TS.bind(null,a),BS(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||wt,h=Fi;var d=wt;Fi=l,(wt=i)&&!d?Yi(t,a,(a.subtreeFlags&8772)!==0):Qi(t,a),Fi=h,wt=d}break;case 30:break;default:Qi(t,a)}}function Uy(t){var i=t.alternate;i!==null&&(t.alternate=null,Uy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ta(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,sn=!1;function Gi(t,i,a){for(a=a.child;a!==null;)Py(t,i,a),a=a.sibling}function Py(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:wt||bi(a,i),Gi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||bi(a,i);var l=ot,h=sn;Lr(a.type)&&(ot=a.stateNode,sn=!1),Gi(t,i,a),ml(a.stateNode),ot=l,sn=h;break;case 5:wt||bi(a,i);case 6:if(l=ot,h=sn,ot=null,Gi(t,i,a),ot=l,sn=h,ot!==null)if(sn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ke(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ke(a,i,d)}break;case 18:ot!==null&&(sn?(t=ot,N_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ja(t)):N_(ot,a.stateNode));break;case 4:l=ot,h=sn,ot=a.stateNode.containerInfo,sn=!0,Gi(t,i,a),ot=l,sn=h;break;case 0:case 11:case 14:case 15:Ir(2,a,i),wt||Ir(4,a,i),Gi(t,i,a);break;case 1:wt||(bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Dy(a,i,l)),Gi(t,i,a);break;case 21:Gi(t,i,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,Gi(t,i,a),wt=l;break;default:Gi(t,i,a)}}function jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ja(t)}catch(a){Ke(i,i.return,a)}}}function zy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ja(t)}catch(a){Ke(i,i.return,a)}}function dS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ky),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ky),i;default:throw Error(s(435,t.tag))}}function rc(t,i){var a=dS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=bS.bind(null,t,l);l.then(h,h)}})}function an(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Lr(T.type)){ot=T.stateNode,sn=!1;break e}break;case 5:ot=T.stateNode,sn=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(ot===null)throw Error(s(160));Py(d,_,h),ot=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)By(i,t),i=i.sibling}var Kn=null;function By(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(i,t),on(t),l&4&&(Ir(3,t,t.return),rl(3,t),Ir(5,t,t.return));break;case 1:an(i,t),on(t),l&512&&(wt||a===null||bi(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(an(i,t),on(t),l&512&&(wt||a===null||bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[li]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[vt]=t,Et(d),l=d;break e;case"link":var _=B_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(_=B_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,Et(d),l=d}t.stateNode=l}else q_(h,t.type,t.stateNode);else t.stateNode=z_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?q_(h,t.type,t.stateNode):z_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(i,t),on(t),l&512&&(wt||a===null||bi(a,a.return)),a!==null&&l&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(i,t),on(t),l&512&&(wt||a===null||bi(a,a.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(ce){Ke(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Zf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(td=!0);break;case 6:if(an(i,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ke(t,t.return,ce)}}break;case 3:if(Ec=null,h=Kn,Kn=_c(i.containerInfo),an(i,t),Kn=h,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ja(i.containerInfo)}catch(ce){Ke(t,t.return,ce)}td&&(td=!1,qy(t));break;case 4:l=Kn,Kn=_c(t.stateNode.containerInfo),an(i,t),on(t),Kn=l;break;case 12:an(i,t),on(t);break;case 31:an(i,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 13:an(i,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ac=Wt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=Fi,Q=wt;if(Fi=j||h,wt=Q||x,an(i,t),wt=Q,Fi=j,on(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||Fi||wt||ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=x.stateNode;var $=x.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Ke(x,x.return,ce)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ce){Ke(x,x.return,ce)}}}else if(i.tag===18){if(a===null){x=i;try{var F=x.stateNode;h?D_(F,!0):D_(x.stateNode,!1)}catch(ce){Ke(x,x.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rc(t,a))));break;case 19:an(i,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 30:break;case 21:break;default:an(i,t),on(t)}}function on(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(My(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Wf(t);ic(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var T=Wf(t);ic(t,T,_);break;case 3:case 4:var x=a.stateNode.containerInfo,j=Wf(t);ed(t,j,x);break;default:throw Error(s(161))}}catch(Q){Ke(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ly(t,i.alternate,i),i=i.sibling}function ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ir(4,i,i.return),ks(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Dy(i,i.return,a),ks(i);break;case 27:ml(i.stateNode);case 26:case 5:bi(i,i.return),ks(i);break;case 22:i.memoizedState===null&&ks(i);break;case 30:ks(i);break;default:ks(i)}t=t.sibling}}function Yi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Yi(h,d,a),rl(4,d);break;case 1:if(Yi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ke(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)vg(x[h],T)}catch(j){Ke(l,l.return,j)}}a&&_&64&&Ny(d),sl(d,d.return);break;case 27:Vy(d);case 26:case 5:Yi(h,d,a),a&&l===null&&_&4&&Oy(d),sl(d,d.return);break;case 12:Yi(h,d,a);break;case 31:Yi(h,d,a),a&&_&4&&jy(h,d);break;case 13:Yi(h,d,a),a&&_&4&&zy(h,d);break;case 22:d.memoizedState===null&&Yi(h,d,a),sl(d,d.return);break;case 30:break;default:Yi(h,d,a)}i=i.sibling}}function nd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Go(a))}function id(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Go(t))}function Xn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hy(t,i,a,l),i=i.sibling}function Hy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(t,i,a,l),h&2048&&rl(9,i);break;case 1:Xn(t,i,a,l);break;case 3:Xn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Go(t)));break;case 12:if(h&2048){Xn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Ke(i,i.return,x)}}else Xn(t,i,a,l);break;case 31:Xn(t,i,a,l);break;case 13:Xn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Xn(t,i,a,l):al(t,i):d._visibility&2?Xn(t,i,a,l):(d._visibility|=2,xa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&nd(_,i);break;case 24:Xn(t,i,a,l),h&2048&&id(i.alternate,i);break;default:Xn(t,i,a,l)}}function xa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,x=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:xa(d,_,T,x,h),rl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?xa(d,_,T,x,h):al(d,_):(Q._visibility|=2,xa(d,_,T,x,h)),h&&j&2048&&nd(_.alternate,_);break;case 24:xa(d,_,T,x,h),h&&j&2048&&id(_.alternate,_);break;default:xa(d,_,T,x,h)}i=i.sibling}}function al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:al(a,l),h&2048&&nd(l.alternate,l);break;case 24:al(a,l),h&2048&&id(l.alternate,l);break;default:al(a,l)}i=i.sibling}}var ol=8192;function Ia(t,i,a){if(t.subtreeFlags&ol)for(t=t.child;t!==null;)Fy(t,i,a),t=t.sibling}function Fy(t,i,a){switch(t.tag){case 26:Ia(t,i,a),t.flags&ol&&t.memoizedState!==null&&WS(a,Kn,t.memoizedState,t.memoizedProps);break;case 5:Ia(t,i,a);break;case 3:case 4:var l=Kn;Kn=_c(t.stateNode.containerInfo),Ia(t,i,a),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ol,ol=16777216,Ia(t,i,a),ol=l):Ia(t,i,a));break;default:Ia(t,i,a)}}function Gy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ll(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,Yy(l,t)}Gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qy(t),t=t.sibling}function Qy(t){switch(t.tag){case 0:case 11:case 15:ll(t),t.flags&2048&&Ir(9,t,t.return);break;case 3:ll(t);break;case 12:ll(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,sc(t)):ll(t);break;default:ll(t)}}function sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,Yy(l,t)}Gy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ir(8,i,i.return),sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,sc(i));break;default:sc(i)}t=t.sibling}}function Yy(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Ir(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Go(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(Uy(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var mS={getCacheForType:function(t){var i=qt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return qt(bt).controller.signal}},pS=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,Ie=null,De=0,Ye=0,_n=null,Nr=!1,Na=!1,rd=!1,Ki=0,ht=0,Dr=0,Ls=0,sd=0,vn=0,Da=0,ul=null,ln=null,ad=!1,ac=0,Ky=0,oc=1/0,lc=null,Or=null,Ot=0,Mr=null,Oa=null,Xi=0,od=0,ld=null,Xy=null,cl=0,ud=null;function En(){return(He&2)!==0&&De!==0?De&-De:Y.T!==null?pd():uu()}function $y(){if(vn===0)if((De&536870912)===0||Le){var t=us;us<<=1,(us&3932160)===0&&(us=262144),vn=t}else vn=536870912;return t=gn.current,t!==null&&(t.flags|=32),vn}function un(t,i,a){(t===We&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),Vr(t,De,vn,!1)),cs(t,a),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(Ls|=a),ht===4&&Vr(t,De,vn,!1)),Si(t))}function Jy(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||jn(t,i),h=l?_S(t,i):hd(t,i,!0),d=l;do{if(h===0){Na&&!l&&Vr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!gS(a)){h=hd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=ul;var x=T.current.memoizedState.isDehydrated;if(x&&(Ma(T,_).flags|=256),_=hd(T,_,!1),_!==2){if(rd&&!x){T.errorRecoveryDisabledLanes|=d,Ls|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ma(t,0),Vr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vr(l,i,vn,!Nr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ac+300-Wt(),10<h)){if(Vr(l,i,vn,!Nr),si(l,0,!0)!==0)break e;Xi=i,l.timeoutHandle=x_(Zy.bind(null,l,a,ln,lc,ad,i,vn,Ls,Da,Nr,d,"Throttled",-0,0),h);break e}Zy(l,a,ln,lc,ad,i,vn,Ls,Da,Nr,d,null,-0,0)}}break}while(!0);Si(t)}function Zy(t,i,a,l,h,d,_,T,x,j,Q,$,q,F){if(t.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Fy(i,d,$);var ce=(d&62914560)===d?ac-Wt():(d&4194048)===d?Ky-Wt():0;if(ce=eA($,ce),ce!==null){Xi=d,t.cancelPendingCommit=ce(a_.bind(null,t,i,d,a,l,h,_,T,x,Q,$,null,q,F)),Vr(t,d,_,!j);return}}a_(t,i,d,a,l,h,_,T,x)}function gS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(t,i,a,l){i&=~sd,i&=~Ls,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&hs(t,a,i)}function uc(){return(He&6)===0?(hl(0),!1):!0}function cd(){if(Ie!==null){if(Ye===0)var t=Ie.return;else t=Ie,Pi=Cs=null,Rf(t),Sa=null,Yo=0,t=Ie;for(;t!==null;)Iy(t.alternate,t),t=t.return;Ie=null}}function Ma(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,LS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,cd(),We=t,Ie=a=Li(t.current,null),De=i,Ye=0,_n=null,Nr=!1,Na=jn(t,i),rd=!1,Da=vn=sd=Ls=Dr=ht=0,ln=ul=null,ad=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ft(l),d=1<<h;i|=t[h],l&=~d}return Ki=i,Nu(),a}function Wy(t,i){Se=null,Y.H=tl,i===ba||i===Pu?(i=pg(),Ye=3):i===mf?(i=pg(),Ye=4):Ye=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Ie===null&&(ht=1,Zu(t,xn(i,t.current)))}function e_(){var t=gn.current;return t===null?!0:(De&4194048)===De?On===null:(De&62914560)===De||(De&536870912)!==0?t===On:!1}function t_(){var t=Y.H;return Y.H=tl,t===null?tl:t}function n_(){var t=Y.A;return Y.A=mS,t}function cc(){ht=4,Nr||(De&4194048)!==De&&gn.current!==null||(Na=!0),(Dr&134217727)===0&&(Ls&134217727)===0||We===null||Vr(We,De,vn,!1)}function hd(t,i,a){var l=He;He|=2;var h=t_(),d=n_();(We!==t||De!==i)&&(lc=null,Ma(t,i)),i=!1;var _=ht;e:do try{if(Ye!==0&&Ie!==null){var T=Ie,x=_n;switch(Ye){case 8:cd(),_=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(i=!0);var j=Ye;if(Ye=0,_n=null,Va(t,T,x,j),a&&Na){_=0;break e}break;default:j=Ye,Ye=0,_n=null,Va(t,T,x,j)}}yS(),_=ht;break}catch(Q){Wy(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Pi=Cs=null,He=l,Y.H=h,Y.A=d,Ie===null&&(We=null,De=0,Nu()),_}function yS(){for(;Ie!==null;)i_(Ie)}function _S(t,i){var a=He;He|=2;var l=t_(),h=n_();We!==t||De!==i?(lc=null,oc=Wt()+500,Ma(t,i)):Na=jn(t,i);e:do try{if(Ye!==0&&Ie!==null){i=Ie;var d=_n;t:switch(Ye){case 1:Ye=0,_n=null,Va(t,i,d,1);break;case 2:case 9:if(dg(d)){Ye=0,_n=null,r_(i);break}i=function(){Ye!==2&&Ye!==9||We!==t||(Ye=7),Si(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:dg(d)?(Ye=0,_n=null,r_(i)):(Ye=0,_n=null,Va(t,i,d,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var T=Ie;if(_?H_(_):T.stateNode.complete){Ye=0,_n=null;var x=T.sibling;if(x!==null)Ie=x;else{var j=T.return;j!==null?(Ie=j,hc(j)):Ie=null}break t}}Ye=0,_n=null,Va(t,i,d,5);break;case 6:Ye=0,_n=null,Va(t,i,d,6);break;case 8:cd(),ht=6;break e;default:throw Error(s(462))}}vS();break}catch(Q){Wy(t,Q)}while(!0);return Pi=Cs=null,Y.H=l,Y.A=h,He=a,Ie!==null?0:(We=null,De=0,Nu(),ht)}function vS(){for(;Ie!==null&&!zh();)i_(Ie)}function i_(t){var i=Cy(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,i===null?hc(t):Ie=i}function r_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ty(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Ty(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Rf(i);default:Iy(a,i),i=Ie=ng(i,Ki),i=Cy(a,i,Ki)}t.memoizedProps=t.pendingProps,i===null?hc(t):Ie=i}function Va(t,i,a,l){Pi=Cs=null,Rf(i),Sa=null,Yo=0;var h=i.return;try{if(oS(t,h,i,a,De)){ht=1,Zu(t,xn(a,t.current)),Ie=null;return}}catch(d){if(h!==null)throw Ie=h,d;ht=1,Zu(t,xn(a,t.current)),Ie=null;return}i.flags&32768?(Le||l===1?t=!0:Na||(De&536870912)!==0?t=!1:(Nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),s_(i,t)):hc(i)}function hc(t){var i=t;do{if((i.flags&32768)!==0){s_(i,Nr);return}t=i.return;var a=cS(i.alternate,i,Ki);if(a!==null){Ie=a;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);ht===0&&(ht=5)}function s_(t,i){do{var a=hS(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);ht=6,Ie=null}function a_(t,i,a,l,h,d,_,T,x){t.cancelPendingCommit=null;do fc();while(Ot!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Zh,Hh(t,a,d,_,T,x),t===We&&(Ie=We=null,De=0),Oa=i,Mr=t,Xi=a,od=d,ld=h,Xy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,SS(cr,function(){return h_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=se.p,se.p=2,_=He,He|=4;try{fS(t,i,a)}finally{He=_,se.p=h,Y.T=l}}Ot=1,o_(),l_(),u_()}}function o_(){if(Ot===1){Ot=0;var t=Mr,i=Oa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{By(i,t);var d=Sd,_=Yp(t.containerInfo),T=d.focusedElem,x=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Qp(T.ownerDocument.documentElement,T)){if(x!==null&&Yh(T)){var j=x.start,Q=x.end;if(Q===void 0&&(Q=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(Q,T.value.length);else{var $=T.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),ce=T.textContent.length,pe=Math.min(x.start,ce),Ze=x.end===void 0?pe:Math.min(x.end,ce);!F.extend&&pe>Ze&&(_=Ze,Ze=pe,pe=_);var k=Gp(T,pe),D=Gp(T,Ze);if(k&&D&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),pe>Ze?(F.addRange(P),F.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),F.addRange(P))}}}}for($=[],F=T;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var K=$[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ac=!!bd,Sd=bd=null}finally{He=h,se.p=l,Y.T=a}}t.current=i,Ot=2}}function l_(){if(Ot===2){Ot=0;var t=Mr,i=Oa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{Ly(t,i.alternate,i)}finally{He=h,se.p=l,Y.T=a}}Ot=3}}function u_(){if(Ot===4||Ot===3){Ot=0,nu();var t=Mr,i=Oa,a=Xi,l=Xy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ot=5:(Ot=0,Oa=Mr=null,c_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Or=null),Oi(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Pn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=se.p,se.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Y.T=i,se.p=h}}(Xi&3)!==0&&fc(),Si(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ud?cl++:(cl=0,ud=t):cl=0,hl(0)}}function c_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Go(i)))}function fc(){return o_(),l_(),u_(),h_()}function h_(){if(Ot!==5)return!1;var t=Mr,i=od;od=0;var a=Oi(Xi),l=Y.T,h=se.p;try{se.p=32>a?32:a,Y.T=null,a=ld,ld=null;var d=Mr,_=Xi;if(Ot=0,Oa=Mr=null,Xi=0,(He&6)!==0)throw Error(s(331));var T=He;if(He|=4,Qy(d.current),Hy(d,d.current,_,a),He=T,hl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Pn,d)}catch{}return!0}finally{se.p=h,Y.T=l,c_(t,i)}}function f_(t,i,a){i=xn(a,i),i=Bf(t.stateNode,i,2),t=Rr(t,i,2),t!==null&&(cs(t,2),Si(t))}function Ke(t,i,a){if(t.tag===3)f_(t,t,a);else for(;i!==null;){if(i.tag===3){f_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){t=xn(a,t),a=dy(2),l=Rr(i,a,2),l!==null&&(my(a,l,i,t),cs(l,2),Si(l));break}}i=i.return}}function fd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new pS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(rd=!0,h.add(a),t=ES.bind(null,t,i,a),i.then(t,t))}function ES(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>Wt()-ac?(He&2)===0&&Ma(t,0):sd|=a,Da===De&&(Da=0)),Si(t)}function d_(t,i){i===0&&(i=lu()),t=As(t,i),t!==null&&(cs(t,i),Si(t))}function TS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),d_(t,a)}function bS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),d_(t,a)}function SS(t,i){return Dt(t,i)}var dc=null,ka=null,dd=!1,mc=!1,md=!1,kr=0;function Si(t){t!==ka&&t.next===null&&(ka===null?dc=ka=t:ka=ka.next=t),mc=!0,dd||(dd=!0,wS())}function hl(t,i){if(!md&&mc){md=!0;do for(var a=!1,l=dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,y_(l,d))}else d=De,d=si(l,l===We?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||jn(l,d)||(a=!0,y_(l,d));l=l.next}while(a);md=!1}}function AS(){m_()}function m_(){mc=dd=!1;var t=0;kr!==0&&kS()&&(t=kr);for(var i=Wt(),a=null,l=dc;l!==null;){var h=l.next,d=p_(l,i);d===0?(l.next=null,a===null?dc=h:a.next=h,h===null&&(ka=a)):(a=l,(t!==0||(d&3)!==0)&&(mc=!0)),l=h}Ot!==0&&Ot!==5||hl(t),kr!==0&&(kr=0)}function p_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),T=1<<_,x=h[_];x===-1?((T&a)===0||(T&l)!==0)&&(h[_]=qh(T,i)):x<=i&&(t.expiredLanes|=T),d&=~T}if(i=We,a=De,a=si(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ur(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||jn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ur(l),Oi(a)){case 2:case 8:a=To;break;case 32:a=cr;break;case 268435456:a=iu;break;default:a=cr}return l=g_.bind(null,t),a=Dt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ur(l),t.callbackPriority=2,t.callbackNode=null,2}function g_(t,i){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(fc()&&t.callbackNode!==a)return null;var l=De;return l=si(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jy(t,l,i),p_(t,Wt()),t.callbackNode!=null&&t.callbackNode===a?g_.bind(null,t):null)}function y_(t,i){if(fc())return null;Jy(t,i,!0)}function wS(){US(function(){(He&6)!==0?Dt(Eo,AS):m_()})}function pd(){if(kr===0){var t=Ea;t===0&&(t=ii,ii<<=1,(ii&261888)===0&&(ii=256)),kr=t}return kr}function __(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function v_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function RS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=__((h[Vt]||null).action),_=l.submitter;_&&(i=(i=_[Vt]||null)?__(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new gi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(kr!==0){var x=_?v_(h,_):new FormData(h);kf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=_?v_(h,_):new FormData(h),kf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var gd=0;gd<Jh.length;gd++){var yd=Jh[gd],CS=yd.toLowerCase(),xS=yd[0].toUpperCase()+yd.slice(1);Yn(CS,"on"+xS)}Yn($p,"onAnimationEnd"),Yn(Jp,"onAnimationIteration"),Yn(Zp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Fb,"onTransitionRun"),Yn(Gb,"onTransitionStart"),Yn(Qb,"onTransitionCancel"),Yn(Wp,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function E_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],x=T.instance,j=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(Q){Iu(Q)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(T=l[_],x=T.instance,j=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(Q){Iu(Q)}h.currentTarget=null,d=x}}}}function Ne(t,i){var a=i[ea];a===void 0&&(a=i[ea]=new Set);var l=t+"__bubble";a.has(l)||(T_(i,t,2,!1),a.add(l))}function _d(t,i,a){var l=0;i&&(l|=4),T_(a,t,l,i)}var pc="_reactListening"+Math.random().toString(36).slice(2);function vd(t){if(!t[pc]){t[pc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(IS.has(a)||_d(a,!1,t),_d(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[pc]||(i[pc]=!0,_d("selectionchange",!1,i))}}function T_(t,i,a,l){switch($_(i)){case 2:var h=iA;break;case 8:h=rA;break;default:h=Vd}a=h.bind(null,i,a,t),h=void 0,!gs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ed(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ui(T),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}T=T.parentNode}}l=l.return}gr(function(){var j=d,Q=An(a),$=[];e:{var q=eg.get(t);if(q!==void 0){var F=gi,ce=t;switch(t){case"keypress":if(_s(a)===0)break e;case"keydown":case"keyup":F=Ru;break;case"focusin":ce="focus",F=Es;break;case"focusout":ce="blur",F=Es;break;case"beforeblur":case"afterblur":F=Es;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case $p:case Jp:case Zp:F=vu;break;case Wp:F=S;break;case"scroll":case"scrollend":F=Lo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ki;break;case"toggle":case"beforetoggle":F=be}var pe=(i&4)!==0,Ze=!pe&&(t==="scroll"||t==="scrollend"),k=pe?q!==null?q+"Capture":null:q;pe=[];for(var D=j,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Hn(D,k),K!=null&&pe.push(dl(D,K,P))),Ze)break;D=D.return}0<pe.length&&(q=new F(q,ce,null,a,Q),$.push({event:q,listeners:pe}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Mo&&(ce=a.relatedTarget||a.fromElement)&&(ui(ce)||ce[oi]))break e;if((F||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ce=a.relatedTarget||a.toElement,F=j,ce=ce?ui(ce):null,ce!==null&&(Ze=u(ce),pe=ce.tag,ce!==Ze||pe!==5&&pe!==27&&pe!==6)&&(ce=null)):(F=null,ce=j),F!==ce)){if(pe=Uo,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(pe=ki,K="onPointerLeave",k="onPointerEnter",D="pointer"),Ze=F==null?q:fn(F),P=ce==null?q:fn(ce),q=new pe(K,D+"leave",F,a,Q),q.target=Ze,q.relatedTarget=P,K=null,ui(Q)===j&&(pe=new pe(k,D+"enter",ce,a,Q),pe.target=P,pe.relatedTarget=Ze,K=pe),Ze=K,F&&ce)t:{for(pe=NS,k=F,D=ce,P=0,K=k;K;K=pe(K))P++;K=0;for(var fe=D;fe;fe=pe(fe))K++;for(;0<P-K;)k=pe(k),P--;for(;0<K-P;)D=pe(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){pe=k;break t}k=pe(k),D=pe(D)}pe=null}else pe=null;F!==null&&b_($,q,F,pe,!1),ce!==null&&Ze!==null&&b_($,Ze,ce,pe,!0)}}e:{if(q=j?fn(j):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var ze=jp;else if(Up(q))if(zp)ze=Bb;else{ze=jb;var he=Pb}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&ra(j.elementType)&&(ze=jp):ze=zb;if(ze&&(ze=ze(t,j))){Pp($,ze,a,Q);break e}he&&he(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&No(q,"number",q.value)}switch(he=j?fn(j):window,t){case"focusin":(Up(he)||he.contentEditable==="true")&&(fa=he,Kh=j,qo=null);break;case"focusout":qo=Kh=fa=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Kp($,a,Q);break;case"selectionchange":if(Hb)break;case"keydown":case"keyup":Kp($,a,Q)}var xe;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ha?Ts(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(vi&&a.locale!=="ko"&&(ha||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ha&&(xe=ko()):(pi=Q,Vo="value"in pi?pi.value:pi.textContent,ha=!0)),he=gc(j,Oe),0<he.length&&(Oe=new _i(Oe,t,null,a,Q),$.push({event:Oe,listeners:he}),xe?Oe.data=xe:(xe=ca(a),xe!==null&&(Oe.data=xe)))),(xe=Rn?Vb(t,a):kb(t,a))&&(Oe=gc(j,"onBeforeInput"),0<Oe.length&&(he=new _i("onBeforeInput","beforeinput",null,a,Q),$.push({event:he,listeners:Oe}),he.data=xe)),RS($,t,j,a,Q)}E_($,i)})}function dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function gc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Hn(t,a),h!=null&&l.unshift(dl(t,h,d)),h=Hn(t,i),h!=null&&l.push(dl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function NS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function b_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,x=T.alternate,j=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||j===null||(x=j,h?(j=Hn(a,d),j!=null&&_.unshift(dl(a,j,x))):h||(j=Hn(a,d),j!=null&&_.push(dl(a,j,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var DS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function S_(t){return(typeof t=="string"?t:""+t).replace(DS,`
`).replace(OS,"")}function A_(t,i){return i=S_(i),S_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&rn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,l);break;case"style":Oo(t,l,d);break;case"data":if(i!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=sa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=sa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),na(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":na(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,na(t,a,l))}}function Td(t,i,a,l,h,d){switch(a){case"style":Oo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):na(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=_=h=null,x=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":x=Q;break;case"defaultChecked":j=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Je(t,i,l,Q,a,null)}}du(t,d,T,x,j,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?fr(t,!!l,i,!1):a!=null&&fr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,_,T,a,null)}dr(t,l,h,d);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,x,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<fl.length;l++)Ne(fl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,j,l,a,null)}return;default:if(ra(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Td(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function MS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,x=null,j=null,Q=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":x=$;default:l.hasOwnProperty(F)||Je(t,i,F,null,l,$)}}for(var q in l){var F=l[q];if($=a[q],l.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Q=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==$&&Je(t,i,q,F,l,$)}}ia(t,_,T,x,j,Q,d,h);return;case"select":F=_=T=q=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":F=x;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==x&&Je(t,i,h,d,l,x)}i=T,a=_,l=F,q!=null?fr(t,!!a,q,!1):!!l!=!!a&&(i!=null?fr(t,!!a,i,!0):fr(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}mu(t,q,F);return;case"option":for(var ce in a)q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:Je(t,i,ce,null,l,q));for(x in l)q=l[x],F=a[x],l.hasOwnProperty(x)&&q!==F&&(q!=null||F!=null)&&(x==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":Je(t,i,x,q,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)q=a[pe],a.hasOwnProperty(pe)&&q!=null&&!l.hasOwnProperty(pe)&&Je(t,i,pe,null,l,q);for(j in l)if(q=l[j],F=a[j],l.hasOwnProperty(j)&&q!==F&&(q!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,j,q,l,F)}return;default:if(ra(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&Td(t,i,Ze,void 0,l,q);for(Q in l)q=l[Q],F=a[Q],!l.hasOwnProperty(Q)||q===F||q===void 0&&F===void 0||Td(t,i,Q,q,l,F);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&Je(t,i,k,null,l,q);for($ in l)q=l[$],F=a[$],!l.hasOwnProperty($)||q===F||q==null&&F==null||Je(t,i,$,q,l,F)}function w_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&w_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],j=x.startTime;if(j>T)break;var Q=x.transferSize,$=x.initiatorType;Q&&w_($)&&(x=x.responseEnd,_+=Q*(x<T?1:(T-j)/(x-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Sd=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function R_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ad(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wd=null;function kS(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var x_=typeof setTimeout=="function"?setTimeout:void 0,LS=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(t){return I_.resolve(null).then(t).catch(PS)}:x_;function PS(t){setTimeout(function(){throw t})}function Lr(t){return t==="head"}function N_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ja(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ml(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[li]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&ml(t.ownerDocument.body);a=h}while(a);ja(i)}function D_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Rd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rd(a),ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[li])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function zS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function O_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Mn(t.nextSibling),t===null))return null;return t}function Cd(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function BS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Id=null;function M_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Mn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function V_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function k_(t,i,a){switch(i=yc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ta(t)}var Vn=new Map,L_=new Set;function _c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=se.d;se.d={f:qS,r:HS,D:FS,C:GS,L:QS,m:YS,X:XS,S:KS,M:$S};function qS(){var t=$i.f(),i=uc();return t||i}function HS(t){var i=Sn(t);i!==null&&i.tag===5&&i.type==="form"?Wg(i):$i.r(t)}var La=typeof document>"u"?null:document;function U_(t,i,a){var l=La;if(l&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),L_.has(h)||(L_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),Et(i),l.head.appendChild(i)))}}function FS(t){$i.D(t),U_("dns-prefetch",t,null)}function GS(t,i){$i.C(t,i),U_("preconnect",t,i)}function QS(t,i,a){$i.L(t,i,a);var l=La;if(l&&t&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(t)+'"]';var d=h;switch(i){case"style":d=Ua(t);break;case"script":d=Pa(t)}Vn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Vn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(pl(d))||i==="script"&&l.querySelector(gl(d))||(i=l.createElement("link"),Ft(i,"link",t),Et(i),l.head.appendChild(i)))}}function YS(t,i){$i.m(t,i);var a=La;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Pa(t)}if(!Vn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(d)))return}l=a.createElement("link"),Ft(l,"link",t),Et(l),a.head.appendChild(l)}}}function KS(t,i,a){$i.S(t,i,a);var l=La;if(l&&t){var h=ci(l).hoistableStyles,d=Ua(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(pl(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Vn.get(d))&&Nd(t,a);var x=_=l.createElement("link");Et(x),Ft(x,"link",t),x._p=new Promise(function(j,Q){x.onload=j,x.onerror=Q}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,vc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function XS(t,i){$i.X(t,i);var a=La;if(a&&t){var l=ci(a).hoistableScripts,h=Pa(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=b({src:t,async:!0},i),(i=Vn.get(h))&&Dd(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $S(t,i){$i.M(t,i);var a=La;if(a&&t){var l=ci(a).hoistableScripts,h=Pa(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Vn.get(h))&&Dd(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function P_(t,i,a,l){var h=(h=Ce.current)?_c(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ua(a.href),a=ci(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ua(a.href);var d=ci(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(pl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||JS(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Pa(a),a=ci(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ua(t){return'href="'+nn(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function j_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function JS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),Et(i),t.head.appendChild(i))}function Pa(t){return'[src="'+nn(t)+'"]'}function gl(t){return"script[async]"+t}function z_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return i.instance=l,Et(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Ft(l,"style",h),vc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ua(a.href);var d=t.querySelector(pl(h));if(d)return i.state.loading|=4,i.instance=d,Et(d),d;l=j_(a),(h=Vn.get(h))&&Nd(l,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),Ft(d,"link",l),i.state.loading|=4,vc(d,a.precedence,t),i.instance=d;case"script":return d=Pa(a.src),(h=t.querySelector(gl(d)))?(i.instance=h,Et(h),h):(l=a,(h=Vn.get(d))&&(l=b({},a),Dd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,vc(l,a.precedence,t));return i.instance}function vc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Nd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Dd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ec=null;function B_(t,i,a){if(Ec===null){var l=new Map,h=Ec=new Map;h.set(a,l)}else h=Ec,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[li]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function q_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function ZS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function H_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function WS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ua(l.href),d=i.querySelector(pl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Tc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Et(d);return}d=i.ownerDocument||i,l=j_(l),(h=Vn.get(h))&&Nd(l,h),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),Ft(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Tc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Od=0;function eA(t,i){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Od===0&&(Od=62500*VS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Od?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Sc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,i.forEach(tA,t),bc=null,Tc.call(t))}function tA(t,i){if(!(i.state.loading&4)){var a=bc.get(t);if(a)var l=a.get(null);else{a=new Map,bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var yl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function nA(t,i,a,l,h,d,_,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function F_(t,i,a,l,h,d,_,T,x,j,Q,$){return t=new nA(t,i,a,_,x,j,Q,$,T),i=1,d===!0&&(i|=24),d=pn(3,null,null,i),t.current=d,d.stateNode=t,i=hf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},pf(d),t}function G_(t){return t?(t=pa,t):pa}function Q_(t,i,a,l,h,d){h=G_(h),l.context===null?l.context=h:l.pendingContext=h,l=wr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rr(t,l,i),a!==null&&(un(a,t,i),Xo(a,t,i))}function Y_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Md(t,i){Y_(t,i),(t=t.alternate)&&Y_(t,i)}function K_(t){if(t.tag===13||t.tag===31){var i=As(t,67108864);i!==null&&un(i,t,67108864),Md(t,67108864)}}function X_(t){if(t.tag===13||t.tag===31){var i=En();i=fs(i);var a=As(t,i);a!==null&&un(a,t,i),Md(t,i)}}var Ac=!0;function iA(t,i,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=2,Vd(t,i,a,l)}finally{se.p=d,Y.T=h}}function rA(t,i,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=8,Vd(t,i,a,l)}finally{se.p=d,Y.T=h}}function Vd(t,i,a,l){if(Ac){var h=kd(l);if(h===null)Ed(t,i,l,wc,a),J_(t,l);else if(aA(h,t,i,a,l))l.stopPropagation();else if(J_(t,l),i&4&&-1<sA.indexOf(t)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ri(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var x=1<<31-ft(_);T.entanglements[1]|=x,_&=~x}Si(d),(He&6)===0&&(oc=Wt()+500,hl(0))}}break;case 31:case 13:T=As(d,2),T!==null&&un(T,d,2),uc(),Md(d,2)}if(d=kd(l),d===null&&Ed(t,i,l,wc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ed(t,i,l,null,a)}}function kd(t){return t=An(t),Ld(t)}var wc=null;function Ld(t){if(wc=null,t=ui(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return wc=t,null}function $_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ls()){case Eo:return 2;case To:return 8;case cr:case Bh:return 32;case iu:return 268435456;default:return 32}default:return 32}}var Ud=!1,Ur=null,Pr=null,jr=null,_l=new Map,vl=new Map,zr=[],sA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(t,i){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function El(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Sn(i),i!==null&&K_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function aA(t,i,a,l,h){switch(i){case"focusin":return Ur=El(Ur,t,i,a,l,h),!0;case"dragenter":return Pr=El(Pr,t,i,a,l,h),!0;case"mouseover":return jr=El(jr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return _l.set(d,El(_l.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,vl.set(d,El(vl.get(d)||null,t,i,a,l,h)),!0}return!1}function Z_(t){var i=ui(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,zn(t.priority,function(){X_(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,zn(t.priority,function(){X_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Mo=l,a.target.dispatchEvent(l),Mo=null}else return i=Sn(a),i!==null&&K_(i),t.blockedOn=a,!1;i.shift()}return!0}function W_(t,i,a){Rc(t)&&a.delete(i)}function oA(){Ud=!1,Ur!==null&&Rc(Ur)&&(Ur=null),Pr!==null&&Rc(Pr)&&(Pr=null),jr!==null&&Rc(jr)&&(jr=null),_l.forEach(W_),vl.forEach(W_)}function Cc(t,i){t.blockedOn===i&&(t.blockedOn=null,Ud||(Ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,oA)))}var xc=null;function ev(t){xc!==t&&(xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Ld(l||a)===null)continue;break}var d=Sn(a);d!==null&&(t.splice(i,3),i-=3,kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ja(t){function i(x){return Cc(x,t)}Ur!==null&&Cc(Ur,t),Pr!==null&&Cc(Pr,t),jr!==null&&Cc(jr,t),_l.forEach(i),vl.forEach(i);for(var a=0;a<zr.length;a++){var l=zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)Z_(a),a.blockedOn===null&&zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Vt]||null;if(typeof d=="function")_||ev(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Vt]||null)T=_.formAction;else if(Ld(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),ev(a)}}}function tv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Pd(t){this._internalRoot=t}Ic.prototype.render=Pd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();Q_(a,l,t,i,null,null)},Ic.prototype.unmount=Pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Q_(t.current,2,null,t,null,null),uc(),i[oi]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var i=uu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,t),a===0&&Z_(t)}};var nv=e.version;if(nv!=="19.2.3")throw Error(s(527,nv,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var lA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Pn=Nc.inject(lA),jt=Nc}catch{}}return bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=uy,d=cy,_=hy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=F_(t,1,!1,null,null,a,l,null,h,d,_,tv),t[oi]=i.current,vd(t),new Pd(i)},bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=uy,_=cy,T=hy,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=F_(t,1,!0,i,a??null,l,h,x,d,_,T,tv),i.context=G_(null),a=i.current,l=En(),l=fs(l),h=wr(l),h.callback=null,Rr(a,h,l),a=l,i.current.lanes=a,cs(i,a),Si(i),t[oi]=i.current,vd(t),new Ic(i)},bl.version="19.2.3",bl}var fv;function _A(){if(fv)return Bd.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bd.exports=yA(),Bd.exports}var vA=_A();var dv="popstate";function EA(r={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return om("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ml(o)}return bA(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Un(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TA(){return Math.random().toString(36).substring(2,10)}function mv(r,e){return{usr:r.state,key:r.key,idx:e}}function om(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?so(e):e,state:n,key:e&&e.key||s||TA()}}function Ml({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function so(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function bA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){p="POP";let B=E(),ne=B==null?null:B-y;y=B,g&&g({action:p,location:X.location,delta:ne})}function I(B,ne){p="PUSH";let te=om(X.location,B,ne);y=E()+1;let ie=mv(te,y),Ae=X.createHref(te);try{f.pushState(ie,"",Ae)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;o.location.assign(Ae)}u&&g&&g({action:p,location:X.location,delta:1})}function z(B,ne){p="REPLACE";let te=om(X.location,B,ne);y=E();let ie=mv(te,y),Ae=X.createHref(te);f.replaceState(ie,"",Ae),u&&g&&g({action:p,location:X.location,delta:0})}function Z(B){return SA(B)}let X={get action(){return p},get location(){return r(o,f)},listen(B){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(dv,b),g=B,()=>{o.removeEventListener(dv,b),g=null}},createHref(B){return e(o,B)},createURL:Z,encodeLocation(B){let ne=Z(B);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:I,replace:z,go(B){return f.go(B)}};return X}function SA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ml(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function QE(r,e,n="/"){return AA(r,e,n,!1)}function AA(r,e,n,s){let o=typeof e=="string"?so(e):e,u=nr(o.pathname||"/",n);if(u==null)return null;let f=YE(r);wA(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=LA(u);p=VA(f[g],y,s)}return p}function YE(r,e=[],n=[],s="",o=!1){let u=(f,p,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=er([s,E.relativePath]),I=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),YE(f.children,e,I,b,g)),!(f.path==null&&!f.index)&&e.push({path:b,score:OA(b,f.index),routesMeta:I})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let g of KE(f.path))u(f,p,!0,g)}),e}function KE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=KE(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function wA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:MA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var RA=/^:[\w-]+$/,CA=3,xA=2,IA=1,NA=10,DA=-2,pv=r=>r==="*";function OA(r,e){let n=r.split("/"),s=n.length;return n.some(pv)&&(s+=DA),e&&(s+=xA),n.filter(o=>!pv(o)).reduce((o,u)=>o+(RA.test(u)?CA:u===""?IA:NA),s)}function MA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function VA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Zc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),I=g.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=Zc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:er([u,b.pathname]),pathnameBase:zA(er([u,b.pathnameBase])),route:I}),b.pathnameBase!=="/"&&(u=er([u,b.pathnameBase]))}return f}function Zc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=kA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},I)=>{if(E==="*"){let Z=p[I]||"";f=u.slice(0,u.length-Z.length).replace(/(.)\/+$/,"$1")}const z=p[I];return b&&!z?y[E]=void 0:y[E]=(z||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function kA(r,e=!1,n=!0){Un(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function LA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function nr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var XE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UA=r=>XE.test(r);function PA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?so(r):r,u;if(n)if(UA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Un(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=gv(n.substring(1),"/"):u=gv(n,e)}else u=e;return{pathname:u,search:BA(s),hash:qA(o)}}function gv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Gd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Um(r){let e=jA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Pm(r,e,n,s=!1){let o;typeof r=="string"?o=so(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Gd("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Gd("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Gd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),b-=1;o.pathname=I.join("/")}p=b>=0?e[b]:"/"}let g=PA(o,p),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var er=r=>r.join("/").replace(/\/\/+/g,"/"),zA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),BA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,qA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,HA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function FA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function GA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function JE(r,e){let n=r;if(typeof n!="string"||!XE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if($E)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=nr(f.pathname,e);f.origin===u.origin&&p!=null?n=p+f.search+f.hash:o=!0}catch{Un(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZE=["POST","PUT","PATCH","DELETE"];new Set(ZE);var QA=["GET",...ZE];new Set(QA);var ao=G.createContext(null);ao.displayName="DataRouter";var vh=G.createContext(null);vh.displayName="DataRouterState";var YA=G.createContext(!1),WE=G.createContext({isTransitioning:!1});WE.displayName="ViewTransition";var KA=G.createContext(new Map);KA.displayName="Fetchers";var XA=G.createContext(null);XA.displayName="Await";var Tn=G.createContext(null);Tn.displayName="Navigation";var Hl=G.createContext(null);Hl.displayName="Location";var ti=G.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var jm=G.createContext(null);jm.displayName="RouteError";var e0="REACT_ROUTER_ERROR",$A="REDIRECT",JA="ROUTE_ERROR_RESPONSE";function ZA(r){if(r.startsWith(`${e0}:${$A}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function WA(r){if(r.startsWith(`${e0}:${JA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new HA(e.status,e.statusText,e.data)}catch{}}function e1(r,{relative:e}={}){lt(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Tn),{hash:o,pathname:u,search:f}=Fl(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:er([n,u])),s.createHref({pathname:p,search:f,hash:o})}function oo(){return G.useContext(Hl)!=null}function or(){return lt(oo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Hl).location}var t0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n0(r){G.useContext(Tn).static||G.useLayoutEffect(r)}function ss(){let{isDataRoute:r}=G.useContext(ti);return r?m1():t1()}function t1(){lt(oo(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(ao),{basename:e,navigator:n}=G.useContext(Tn),{matches:s}=G.useContext(ti),{pathname:o}=or(),u=JSON.stringify(Um(s)),f=G.useRef(!1);return n0(()=>{f.current=!0}),G.useCallback((g,y={})=>{if(Un(f.current,t0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Pm(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:er([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}G.createContext(null);function n1(){let{matches:r}=G.useContext(ti),e=r[r.length-1];return e?e.params:{}}function Fl(r,{relative:e}={}){let{matches:n}=G.useContext(ti),{pathname:s}=or(),o=JSON.stringify(Um(n));return G.useMemo(()=>Pm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function i1(r,e){return i0(r,e)}function i0(r,e,n,s,o){lt(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(Tn),{matches:f}=G.useContext(ti),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",b=p&&p.route;{let te=b&&b.path||"";s0(y,!b||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let I=or(),z;if(e){let te=typeof e=="string"?so(e):e;lt(E==="/"||te.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),z=te}else z=I;let Z=z.pathname||"/",X=Z;if(E!=="/"){let te=E.replace(/^\//,"").split("/");X="/"+Z.replace(/^\//,"").split("/").slice(te.length).join("/")}let B=QE(r,{pathname:X});Un(b||B!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),Un(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=l1(B&&B.map(te=>Object.assign({},te,{params:Object.assign({},g,te.params),pathname:er([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:er([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),f,n,s,o);return e&&ne?G.createElement(Hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},ne):ne}function r1(){let r=d1(),e=FA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var s1=G.createElement(r1,null),r0=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=WA(r.digest);n&&(r=n)}let e=r!==void 0?G.createElement(ti.Provider,{value:this.props.routeContext},G.createElement(jm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?G.createElement(a1,{error:r},e):e}};r0.contextType=YA;var Qd=new WeakMap;function a1({children:r,error:e}){let{basename:n}=G.useContext(Tn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ZA(e.digest);if(s){let o=Qd.get(e);if(o)throw o;let u=JE(s.location,n);if($E&&!Qd.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Qd.set(e,f),f}return G.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function o1({routeContext:r,match:e,children:n}){let s=G.useContext(ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(ti.Provider,{value:r},n)}function l1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let p=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=E),b.route.id){let{loaderData:I,errors:z}=n,Z=b.route.loader&&!I.hasOwnProperty(b.route.id)&&(!z||z[b.route.id]===void 0);if(b.route.lazy||Z){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:GA(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,I)=>{let z,Z=!1,X=null,B=null;n&&(z=f&&b.route.id?f[b.route.id]:void 0,X=b.route.errorElement||s1,p&&(g<0&&I===0?(s0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Z=!0,B=null):g===I&&(Z=!0,B=b.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,I+1)),te=()=>{let ie;return z?ie=X:Z?ie=B:b.route.Component?ie=G.createElement(b.route.Component,null):b.route.element?ie=b.route.element:ie=E,G.createElement(o1,{match:b,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:ie})};return n&&(b.route.ErrorBoundary||b.route.errorElement||I===0)?G.createElement(r0,{location:n.location,revalidation:n.revalidation,component:X,error:z,children:te(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):te()},null)}function zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u1(r){let e=G.useContext(ao);return lt(e,zm(r)),e}function c1(r){let e=G.useContext(vh);return lt(e,zm(r)),e}function h1(r){let e=G.useContext(ti);return lt(e,zm(r)),e}function Bm(r){let e=h1(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function f1(){return Bm("useRouteId")}function d1(){let r=G.useContext(jm),e=c1("useRouteError"),n=Bm("useRouteError");return r!==void 0?r:e.errors?.[n]}function m1(){let{router:r}=u1("useNavigate"),e=Bm("useNavigate"),n=G.useRef(!1);return n0(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Un(n.current,t0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var yv={};function s0(r,e,n){!e&&!yv[r]&&(yv[r]=!0,Un(!1,n))}G.memo(p1);function p1({routes:r,future:e,state:n,onError:s}){return i0(r,void 0,n,s,e)}function g1({to:r,replace:e,state:n,relative:s}){lt(oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(Tn);Un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(ti),{pathname:f}=or(),p=ss(),g=Pm(r,Um(u),f,s==="path"),y=JSON.stringify(g);return G.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:s})},[p,y,s,e,n]),null}function za(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[p,o,u,f]);typeof n=="string"&&(n=so(n));let{pathname:y="/",search:E="",hash:b="",state:I=null,key:z="default"}=n,Z=G.useMemo(()=>{let X=nr(y,p);return X==null?null:{location:{pathname:X,search:E,hash:b,state:I,key:z},navigationType:s}},[p,y,E,b,I,z,s]);return Un(Z!=null,`<Router basename="${p}"> is not able to match the URL "${y}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),Z==null?null:G.createElement(Tn.Provider,{value:g},G.createElement(Hl.Provider,{children:e,value:Z}))}function _1({children:r,location:e}){return i1(lm(r),e)}function lm(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,lm(s.props.children,u));return}lt(s.type===za,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=lm(s.props.children,u)),n.push(f)}),n}var zc="get",Bc="application/x-www-form-urlencoded";function Eh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function v1(r){return Eh(r)&&r.tagName.toLowerCase()==="button"}function E1(r){return Eh(r)&&r.tagName.toLowerCase()==="form"}function T1(r){return Eh(r)&&r.tagName.toLowerCase()==="input"}function b1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function S1(r,e){return r.button===0&&(!e||e==="_self")&&!b1(r)}var Dc=null;function A1(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var w1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yd(r){return r!=null&&!w1.has(r)?(Un(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bc}"`),null):r}function R1(r,e){let n,s,o,u,f;if(E1(r)){let p=r.getAttribute("action");s=p?nr(p,e):null,n=r.getAttribute("method")||zc,o=Yd(r.getAttribute("enctype"))||Bc,u=new FormData(r)}else if(v1(r)||T1(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?nr(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||zc,o=Yd(r.getAttribute("formenctype"))||Yd(p.getAttribute("enctype"))||Bc,u=new FormData(p,r),!A1()){let{name:y,type:E,value:b}=r;if(E==="image"){let I=y?`${y}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else y&&u.append(y,b)}}else{if(Eh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zc,s=null,o=Bc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function C1(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&nr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function x1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function N1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await x1(u,n);return f.links?f.links():[]}return[]}));return V1(s.flat(1).filter(I1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _v(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function D1(r,e,{includeHydrateFallback:n}={}){return O1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function O1(r){return[...new Set(r)]}function M1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function V1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(M1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function a0(){let r=G.useContext(ao);return qm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function k1(){let r=G.useContext(vh);return qm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Hm=G.createContext(void 0);Hm.displayName="FrameworkContext";function o0(){let r=G.useContext(Hm);return qm(r,"You must render this element inside a <HydratedRouter> element"),r}function L1(r,e){let n=G.useContext(Hm),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,I=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=ne=>{ne.forEach(te=>{f(te.isIntersecting)})},B=new IntersectionObserver(X,{threshold:.5});return I.current&&B.observe(I.current),()=>{B.disconnect()}}},[r]),G.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let z=()=>{o(!0)},Z=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:Sl(p,z),onBlur:Sl(g,Z),onMouseEnter:Sl(y,z),onMouseLeave:Sl(E,Z),onTouchStart:Sl(b,z)}]:[!1,I,{}]}function Sl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function U1({page:r,...e}){let{router:n}=a0(),s=G.useMemo(()=>QE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(j1,{page:r,matches:s,...e}):null}function P1(r){let{manifest:e,routeModules:n}=o0(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return N1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function j1({page:r,matches:e,...n}){let s=or(),{future:o,manifest:u,routeModules:f}=o0(),{basename:p}=a0(),{loaderData:g,matches:y}=k1(),E=G.useMemo(()=>_v(r,e,y,u,s,"data"),[r,e,y,u,s]),b=G.useMemo(()=>_v(r,e,y,u,s,"assets"),[r,e,y,u,s]),I=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let X=new Set,B=!1;if(e.forEach(te=>{let ie=u.routes[te.route.id];!ie||!ie.hasLoader||(!E.some(Ae=>Ae.route.id===te.route.id)&&te.route.id in g&&f[te.route.id]?.shouldRevalidate||ie.hasClientLoader?B=!0:X.add(te.route.id))}),X.size===0)return[];let ne=C1(r,p,o.unstable_trailingSlashAwareDataRequests,"data");return B&&X.size>0&&ne.searchParams.set("_routes",e.filter(te=>X.has(te.route.id)).map(te=>te.route.id).join(",")),[ne.pathname+ne.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,f]),z=G.useMemo(()=>D1(b,u),[b,u]),Z=P1(b);return G.createElement(G.Fragment,null,I.map(X=>G.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...n})),z.map(X=>G.createElement("link",{key:X,rel:"modulepreload",href:X,...n})),Z.map(({key:X,link:B})=>G.createElement("link",{key:X,nonce:n.nonce,...B})))}function z1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var B1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B1&&(window.__reactRouterVersion="7.12.0")}catch{}function q1({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=G.useRef();o.current==null&&(o.current=EA({window:s,v5Compat:!0}));let u=o.current,[f,p]=G.useState({action:u.action,location:u.location}),g=G.useCallback(y=>{n===!1?p(y):G.startTransition(()=>p(y))},[n]);return G.useLayoutEffect(()=>u.listen(g),[u,g]),G.createElement(y1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var l0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u0=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:I,...z},Z){let{basename:X,unstable_useTransitions:B}=G.useContext(Tn),ne=typeof y=="string"&&l0.test(y),te=JE(y,X);y=te.to;let ie=e1(y,{relative:o}),[Ae,we,Re]=L1(s,z),N=Q1(y,{replace:f,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:I,unstable_useTransitions:B});function A(V){e&&e(V),V.defaultPrevented||N(V)}let R=G.createElement("a",{...z,...Re,href:te.absoluteURL||ie,onClick:te.isExternal||u?e:A,ref:z1(Z,we),target:g,"data-discover":!ne&&n==="render"?"true":void 0});return Ae&&!ne?G.createElement(G.Fragment,null,R,G.createElement(U1,{page:ie})):R});u0.displayName="Link";var H1=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...y},E){let b=Fl(f,{relative:y.relative}),I=or(),z=G.useContext(vh),{navigator:Z,basename:X}=G.useContext(Tn),B=z!=null&&J1(b)&&p===!0,ne=Z.encodeLocation?Z.encodeLocation(b).pathname:b.pathname,te=I.pathname,ie=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;n||(te=te.toLowerCase(),ie=ie?ie.toLowerCase():null,ne=ne.toLowerCase()),ie&&X&&(ie=nr(ie,X)||ie);const Ae=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let we=te===ne||!o&&te.startsWith(ne)&&te.charAt(Ae)==="/",Re=ie!=null&&(ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(ne.length)==="/"),N={isActive:we,isPending:Re,isTransitioning:B},A=we?e:void 0,R;typeof s=="function"?R=s(N):R=[s,we?"active":null,Re?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(N):u;return G.createElement(u0,{...y,"aria-current":A,className:R,ref:E,style:V,to:f,viewTransition:p},typeof g=="function"?g(N):g)});H1.displayName="NavLink";var F1=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=zc,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:I,...z},Z)=>{let{unstable_useTransitions:X}=G.useContext(Tn),B=X1(),ne=$1(p,{relative:y}),te=f.toLowerCase()==="get"?"get":"post",ie=typeof p=="string"&&l0.test(p),Ae=we=>{if(g&&g(we),we.defaultPrevented)return;we.preventDefault();let Re=we.nativeEvent.submitter,N=Re?.getAttribute("formmethod")||f,A=()=>B(Re||we.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:I});X&&n!==!1?G.startTransition(()=>A()):A()};return G.createElement("form",{ref:Z,method:te,action:ne,onSubmit:s?g:Ae,...z,"data-discover":!ie&&r==="render"?"true":void 0})});F1.displayName="Form";function G1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c0(r){let e=G.useContext(ao);return lt(e,G1(r)),e}function Q1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=ss(),E=or(),b=Fl(r,{relative:u});return G.useCallback(I=>{if(S1(I,e)){I.preventDefault();let z=n!==void 0?n:Ml(E)===Ml(b),Z=()=>y(r,{replace:z,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p});g?G.startTransition(()=>Z()):Z()}},[E,y,b,n,s,e,r,o,u,f,p,g])}var Y1=0,K1=()=>`__${String(++Y1)}__`;function X1(){let{router:r}=c0("useSubmit"),{basename:e}=G.useContext(Tn),n=f1(),s=r.fetch,o=r.navigate;return G.useCallback(async(u,f={})=>{let{action:p,method:g,encType:y,formData:E,body:b}=R1(u,e);if(f.navigate===!1){let I=f.fetcherKey||K1();await s(I,n,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function $1(r,{relative:e}={}){let{basename:n}=G.useContext(Tn),s=G.useContext(ti);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Fl(r||".",{relative:e})},f=or();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),Ml(u)}function J1(r,{relative:e}={}){let n=G.useContext(WE);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=c0("useViewTransitionState"),o=Fl(r,{relative:e});if(!n.isTransitioning)return!1;let u=nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Zc(o.pathname,f)!=null||Zc(o.pathname,u)!=null}const Z1=()=>{};var vv={};const h0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},W1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},f0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|p>>4;let I=(p&15)<<2|y>>6,z=y&63;g||(z=64,f||(I=64)),s.push(n[E],n[b],n[I],n[z])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(h0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):W1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||b==null)throw new ew;const I=u<<2|p>>4;if(s.push(I),y!==64){const z=p<<4&240|y>>2;if(s.push(z),b!==64){const Z=y<<6&192|b;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ew extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tw=function(r){const e=h0(r);return f0.encodeByteArray(e,!0)},Wc=function(r){return tw(r).replace(/\./g,"")},d0=function(r){try{return f0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iw=()=>nw().__FIREBASE_DEFAULTS__,rw=()=>{if(typeof process>"u"||typeof vv>"u")return;const r=vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&d0(r[1]);return e&&JSON.parse(e)},Th=()=>{try{return Z1()||iw()||rw()||sw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},m0=r=>Th()?.emulatorHosts?.[r],aw=r=>{const e=m0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},p0=()=>Th()?.config,g0=r=>Th()?.[`_${r}`];class ow{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y0(r){return(await fetch(r,{credentials:"include"})).ok}function lw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Wc(JSON.stringify(n)),Wc(JSON.stringify(f)),""].join(".")}const Cl={};function uw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Cl))Cl[e]?r.emulator.push(e):r.prod.push(e);return r}function cw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Ev=!1;function _0(r,e){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Cl[r]===e||Cl[r]||Ev)return;Cl[r]=e;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",u=uw().prod.length>0;function f(){const I=document.getElementById(s);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,z){I.setAttribute("width","24"),I.setAttribute("id",z),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Ev=!0,f()},I}function E(I,z){I.setAttribute("id",z),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function b(){const I=cw(s),z=n("text"),Z=document.getElementById(z)||document.createElement("span"),X=n("learnmore"),B=document.getElementById(X)||document.createElement("a"),ne=n("preprendIcon"),te=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ie=I.element;p(ie),E(B,X);const Ae=y();g(te,ne),ie.append(te,Z,B,Ae),document.body.appendChild(ie)}u?(Z.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function fw(){const r=Th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function pw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gw(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yw(){return!fw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _w(){try{return typeof indexedDB=="object"}catch{return!1}}function vw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Ew="FirebaseError";class lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Ew,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Tw(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new lr(o,p,s)}}function Tw(r,e){return r.replace(bw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const bw=/\{\$([^}]+)}/g;function Sw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Bs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Tv(u)&&Tv(f)){if(!Bs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Tv(r){return r!==null&&typeof r=="object"}function Ql(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Aw(r,e){const n=new ww(r,e);return n.subscribe.bind(n)}class ww{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Rw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Kd(){}function hn(r){return r&&r._delegate?r._delegate:r}class qs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Us="[DEFAULT]";class Cw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ow;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Iw(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xw(r){return r===Us?void 0:r}function Iw(r){return r.instantiationMode==="EAGER"}class Nw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Cw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const Dw={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Ow=Me.INFO,Mw={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Vw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Mw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=Ow,this._logHandler=Vw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const kw=(r,e)=>e.some(n=>r instanceof n);let bv,Sv;function Lw(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uw(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v0=new WeakMap,um=new WeakMap,E0=new WeakMap,Xd=new WeakMap,Gm=new WeakMap;function Pw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Yr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&v0.set(n,r)}).catch(()=>{}),Gm.set(e,r),e}function jw(r){if(um.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});um.set(r,e)}let cm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return um.get(r);if(e==="objectStoreNames")return r.objectStoreNames||E0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zw(r){cm=r(cm)}function Bw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call($d(this),e,...n);return E0.set(s,e.sort?e.sort():[e]),Yr(s)}:Uw().includes(r)?function(...e){return r.apply($d(this),e),Yr(v0.get(this))}:function(...e){return Yr(r.apply($d(this),e))}}function qw(r){return typeof r=="function"?Bw(r):(r instanceof IDBTransaction&&jw(r),kw(r,Lw())?new Proxy(r,cm):r)}function Yr(r){if(r instanceof IDBRequest)return Pw(r);if(Xd.has(r))return Xd.get(r);const e=qw(r);return e!==r&&(Xd.set(r,e),Gm.set(e,r)),e}const $d=r=>Gm.get(r);function Hw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=Yr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Yr(f.result),g.oldVersion,g.newVersion,Yr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const Fw=["get","getKey","getAll","getAllKeys","count"],Gw=["put","add","delete","clear"],Jd=new Map;function Av(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Gw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Fw.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Jd.set(e,u),u}zw(r=>({...r,get:(e,n,s)=>Av(e,n)||r.get(e,n,s),has:(e,n)=>!!Av(e,n)||r.has(e,n)}));class Qw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Yw(r){return r.getComponent()?.type==="VERSION"}const hm="@firebase/app",wv="0.14.6";const ir=new Fm("@firebase/app"),Kw="@firebase/app-compat",Xw="@firebase/analytics-compat",$w="@firebase/analytics",Jw="@firebase/app-check-compat",Zw="@firebase/app-check",Ww="@firebase/auth",eR="@firebase/auth-compat",tR="@firebase/database",nR="@firebase/data-connect",iR="@firebase/database-compat",rR="@firebase/functions",sR="@firebase/functions-compat",aR="@firebase/installations",oR="@firebase/installations-compat",lR="@firebase/messaging",uR="@firebase/messaging-compat",cR="@firebase/performance",hR="@firebase/performance-compat",fR="@firebase/remote-config",dR="@firebase/remote-config-compat",mR="@firebase/storage",pR="@firebase/storage-compat",gR="@firebase/firestore",yR="@firebase/ai",_R="@firebase/firestore-compat",vR="firebase",ER="12.6.0";const fm="[DEFAULT]",TR={[hm]:"fire-core",[Kw]:"fire-core-compat",[$w]:"fire-analytics",[Xw]:"fire-analytics-compat",[Zw]:"fire-app-check",[Jw]:"fire-app-check-compat",[Ww]:"fire-auth",[eR]:"fire-auth-compat",[tR]:"fire-rtdb",[nR]:"fire-data-connect",[iR]:"fire-rtdb-compat",[rR]:"fire-fn",[sR]:"fire-fn-compat",[aR]:"fire-iid",[oR]:"fire-iid-compat",[lR]:"fire-fcm",[uR]:"fire-fcm-compat",[cR]:"fire-perf",[hR]:"fire-perf-compat",[fR]:"fire-rc",[dR]:"fire-rc-compat",[mR]:"fire-gcs",[pR]:"fire-gcs-compat",[gR]:"fire-fst",[_R]:"fire-fst-compat",[yR]:"fire-vertex","fire-js":"fire-js",[vR]:"fire-js-all"};const eh=new Map,bR=new Map,dm=new Map;function Rv(r,e){try{r.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ja(r){const e=r.name;if(dm.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,r);for(const n of eh.values())Rv(n,r);for(const n of bR.values())Rv(n,r);return!0}function Qm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function $n(r){return r==null?!1:r.settings!==void 0}const SR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Gl("app","Firebase",SR);class AR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const uo=ER;function T0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Kr.create("bad-app-name",{appName:String(o)});if(n||(n=p0()),!n)throw Kr.create("no-options");const u=eh.get(o);if(u){if(Bs(n,u.options)&&Bs(s,u.config))return u;throw Kr.create("duplicate-app",{appName:o})}const f=new Nw(o);for(const g of dm.values())f.addComponent(g);const p=new AR(n,s,f);return eh.set(o,p),p}function b0(r=fm){const e=eh.get(r);if(!e&&r===fm&&p0())return T0();if(!e)throw Kr.create("no-app",{appName:r});return e}function Xr(r,e,n){let s=TR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(f.join(" "));return}Ja(new qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const wR="firebase-heartbeat-database",RR=1,Vl="firebase-heartbeat-store";let Zd=null;function S0(){return Zd||(Zd=Hw(wR,RR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Kr.create("idb-open",{originalErrorMessage:r.message})})),Zd}async function CR(r){try{const n=(await S0()).transaction(Vl),s=await n.objectStore(Vl).get(A0(r));return await n.done,s}catch(e){if(e instanceof lr)ir.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e?.message});ir.warn(n.message)}}}async function Cv(r,e){try{const s=(await S0()).transaction(Vl,"readwrite");await s.objectStore(Vl).put(e,A0(r)),await s.done}catch(n){if(n instanceof lr)ir.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n?.message});ir.warn(s.message)}}}function A0(r){return`${r.name}!${r.options.appId}`}const xR=1024,IR=30;class NR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>IR){const o=MR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ir.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xv(),{heartbeatsToSend:n,unsentEntries:s}=DR(this._heartbeatsCache.heartbeats),o=Wc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ir.warn(e),""}}}function xv(){return new Date().toISOString().substring(0,10)}function DR(r,e=xR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Iv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Iv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _w()?vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Iv(r){return Wc(JSON.stringify({version:2,heartbeats:r})).length}function MR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function VR(r){Ja(new qs("platform-logger",e=>new Qw(e),"PRIVATE")),Ja(new qs("heartbeat",e=>new NR(e),"PRIVATE")),Xr(hm,wv,r),Xr(hm,wv,"esm2020"),Xr("fire-js","")}VR("");function w0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kR=w0,R0=new Gl("auth","Firebase",w0());const th=new Fm("@firebase/auth");function LR(r,...e){th.logLevel<=Me.WARN&&th.warn(`Auth (${uo}): ${r}`,...e)}function qc(r,...e){th.logLevel<=Me.ERROR&&th.error(`Auth (${uo}): ${r}`,...e)}function Ni(r,...e){throw Km(r,...e)}function Wn(r,...e){return Km(r,...e)}function Ym(r,e,n){const s={...kR(),[e]:n};return new Gl("auth","Firebase",s).create(e,{appName:r.name})}function zs(r){return Ym(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UR(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ni(r,"argument-error"),Ym(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Km(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return R0.create(r,...e)}function ye(r,e,...n){if(!r)throw Km(e,...n)}function Zi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qc(e),new Error(e)}function rr(r,e){r||Zi(e)}function mm(){return typeof self<"u"&&self.location?.href||""}function PR(){return Nv()==="http:"||Nv()==="https:"}function Nv(){return typeof self<"u"&&self.location?.protocol||null}function jR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PR()||mw()||"connection"in navigator)?navigator.onLine:!0}function zR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=hw()||pw()}get(){return jR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xm(r,e){rr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class C0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HR=new Yl(3e4,6e4);function $m(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function co(r,e,n,s,o={}){return x0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Ql({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return dw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(y.credentials="include"),C0.fetch()(await I0(r,r.config.apiHost,n,p),y)})}async function x0(r,e,n){r._canInitEmulator=!1;const s={...BR,...e};try{const o=new GR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Oc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Oc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Oc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ym(r,E,y);Ni(r,E)}}catch(o){if(o instanceof lr)throw o;Ni(r,"network-request-failed",{message:String(o)})}}async function FR(r,e,n,s,o={}){const u=await co(r,e,n,s,o);return"mfaPendingCredential"in u&&Ni(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function I0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Xm(r.config,o):`${r.config.apiScheme}://${o}`;return qR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class GR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Wn(this.auth,"network-request-failed")),HR.get())})}}function Oc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Wn(r,e,s);return o.customData._tokenResponse=n,o}async function QR(r,e){return co(r,"POST","/v1/accounts:delete",e)}async function nh(r,e){return co(r,"POST","/v1/accounts:lookup",e)}function xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YR(r,e=!1){const n=hn(r),s=await n.getIdToken(e),o=Jm(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:xl(Wd(o.auth_time)),issuedAtTime:xl(Wd(o.iat)),expirationTime:xl(Wd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Wd(r){return Number(r)*1e3}function Jm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=d0(n);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Dv(r){const e=Jm(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function kl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof lr&&KR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function KR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class XR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(r){const e=r.auth,n=await r.getIdToken(),s=await kl(r,nh(e,{idToken:n}));ye(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?N0(o.providerUserInfo):[],f=JR(r.providerData,u),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=p?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function $R(r){const e=hn(r);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function N0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ZR(r,e){const n=await x0(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await I0(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(g.credentials="include"),C0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WR(r,e){return co(r,"POST","/v2/accounts:revokeToken",$m(r,e))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=Dv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await ZR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ga;return s&&(ye(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function qr(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new XR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await kl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YR(this,e)}reload(){return $R(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await kl(this,QR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:I,isAnonymous:z,providerData:Z,stsTokenManager:X}=n;ye(b&&X,e,"internal-error");const B=Ga.fromJSON(this.name,X);ye(typeof b=="string",e,"internal-error"),qr(s,e.name),qr(o,e.name),ye(typeof I=="boolean",e,"internal-error"),ye(typeof z=="boolean",e,"internal-error"),qr(u,e.name),qr(f,e.name),qr(p,e.name),qr(g,e.name),qr(y,e.name),qr(E,e.name);const ne=new Jn({uid:b,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:z,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:B,createdAt:y,lastLoginAt:E});return Z&&Array.isArray(Z)&&(ne.providerData=Z.map(te=>({...te}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ga;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?N0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new Ga;p.updateFromIdToken(s);const g=new Jn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Ov=new Map;function Wi(r){rr(r instanceof Function,"Expected a class definition");let e=Ov.get(r);return e?(rr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Ov.set(r,e),e)}class D0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}D0.type="NONE";const Mv=D0;function Hc(r,e,n){return`firebase:${r}:${e}:${n}`}class Qa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Hc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nh(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Qa(Wi(Mv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Wi(Mv);const f=Hc(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const I=await nh(e,{idToken:E}).catch(()=>{});if(!I)break;b=await Jn._fromGetAccountInfoResponse(e,I,E)}else b=Jn._fromJSON(e,E);y!==u&&(p=b),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Qa(u,e,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Qa(u,e,s))}}function Vv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U0(e))return"Blackberry";if(P0(e))return"Webos";if(M0(e))return"Safari";if((e.includes("chrome/")||V0(e))&&!e.includes("edge/"))return"Chrome";if(L0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function O0(r=Zt()){return/firefox\//i.test(r)}function M0(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V0(r=Zt()){return/crios\//i.test(r)}function k0(r=Zt()){return/iemobile/i.test(r)}function L0(r=Zt()){return/android/i.test(r)}function U0(r=Zt()){return/blackberry/i.test(r)}function P0(r=Zt()){return/webos/i.test(r)}function Zm(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function eC(r=Zt()){return Zm(r)&&!!window.navigator?.standalone}function tC(){return gw()&&document.documentMode===10}function j0(r=Zt()){return Zm(r)||L0(r)||P0(r)||U0(r)||/windows phone/i.test(r)||k0(r)}function z0(r,e=[]){let n;switch(r){case"Browser":n=Vv(Zt());break;case"Worker":n=`${Vv(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}class nC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function iC(r,e={}){return co(r,"GET","/v2/passwordPolicy",$m(r,e))}const rC=6;class sC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class aC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new nC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nh(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(zs(this));const n=e?hn(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iC(this),n=new sC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await WR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bh(r){return hn(r)}class kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Aw(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oC(r){Wm=r}function lC(r){return Wm.loadJS(r)}function uC(){return Wm.gapiScript}function cC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function hC(r,e){const n=Qm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Bs(u,e??{}))return o;Ni(o,"already-initialized")}return n.initialize({options:e})}function fC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Wi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function dC(r,e,n){const s=bh(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=B0(e),{host:f,port:p}=mC(e),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(Bs(y,s.config.emulator)&&Bs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,lo(f)?(y0(`${u}//${f}${g}`),_0("Auth",!0)):pC()}function B0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function mC(r){const e=B0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Lv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Lv(f)}}}function Lv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function pC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class q0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,n){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}async function Ya(r,e){return FR(r,"POST","/v1/accounts:signInWithIdp",$m(r,e))}const gC="http://localhost";class Hs extends q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Hs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ya(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ya(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ya(e,n)}buildRequest(){const e={requestUri:gC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ql(n)}return e}}class ep{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Kl extends ep{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hr extends Kl{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class Ji extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ji.credential(n,s)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";class Fr extends Kl{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Gr extends Kl{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Jn._fromIdTokenResponse(e,s,o),f=Uv(s);return new Za({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Uv(s);return new Za({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Uv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class rh extends lr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new rh(e,n,s,o)}}function H0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(r,u,e,s):u})}async function yC(r,e,n=!1){const s=await kl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Za._forOperation(r,"link",s)}async function _C(r,e,n=!1){const{auth:s}=r;if($n(s.app))return Promise.reject(zs(s));const o="reauthenticate";try{const u=await kl(r,H0(s,o,e,r),n);ye(u.idToken,s,"internal-error");const f=Jm(u.idToken);ye(f,s,"internal-error");const{sub:p}=f;return ye(r.uid===p,s,"user-mismatch"),Za._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ni(s,"user-mismatch"),u}}async function vC(r,e,n=!1){if($n(r.app))return Promise.reject(zs(r));const s="signIn",o=await H0(r,s,e),u=await Za._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function EC(r,e,n,s){return hn(r).onIdTokenChanged(e,n,s)}function TC(r,e,n){return hn(r).beforeAuthStateChanged(e,n)}function bC(r,e,n,s){return hn(r).onAuthStateChanged(e,n,s)}function SC(r){return hn(r).signOut()}const sh="__sak";class F0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const AC=1e3,wC=10;class G0 extends F0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);tC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},AC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}G0.type="LOCAL";const RC=G0;class Q0 extends F0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Q0.type="SESSION";const Y0=Q0;function CC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Sh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await CC(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];function tp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class xC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=tp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const I=b;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(I.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function wi(){return window}function IC(r){wi().location.href=r}function K0(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function NC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DC(){return navigator?.serviceWorker?.controller||null}function OC(){return K0()?self:null}const X0="firebaseLocalStorageDb",MC=1,ah="firebaseLocalStorage",$0="fbase_key";class Xl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ah(r,e){return r.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function VC(){const r=indexedDB.deleteDatabase(X0);return new Xl(r).toPromise()}function gm(){const r=indexedDB.open(X0,MC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ah,{keyPath:$0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ah)?e(s):(s.close(),await VC(),e(await gm()))})})}async function Pv(r,e,n){const s=Ah(r,!0).put({[$0]:e,value:n});return new Xl(s).toPromise()}async function kC(r,e){const n=Ah(r,!1).get(e),s=await new Xl(n).toPromise();return s===void 0?null:s.value}function jv(r,e){const n=Ah(r,!0).delete(e);return new Xl(n).toPromise()}const LC=800,UC=3;class J0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>UC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(OC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await NC(),!this.activeServiceWorker)return;this.sender=new xC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gm();return await Pv(e,sh,"1"),await jv(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Pv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>kC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ah(o,!1).getAll();return new Xl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J0.type="LOCAL";const PC=J0;new Yl(3e4,6e4);function Z0(r,e){return e?Wi(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class np extends q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jC(r){return vC(r.auth,new np(r),r.bypassAuthState)}function zC(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),_C(n,new np(r),r.bypassAuthState)}async function BC(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),yC(n,new np(r),r.bypassAuthState)}class W0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jC;case"linkViaPopup":case"linkViaRedirect":return BC;case"reauthViaPopup":case"reauthViaRedirect":return zC;default:Ni(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qC=new Yl(2e3,1e4);async function HC(r,e,n){if($n(r.app))return Promise.reject(Wn(r,"operation-not-supported-in-this-environment"));const s=bh(r);UR(r,e,ep);const o=Z0(s,n);return new Ps(s,"signInViaPopup",e,o).executeNotNull()}class Ps extends W0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qC.get())};e()}}Ps.currentPopupAction=null;const FC="pendingRedirect",Fc=new Map;class GC extends W0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const s=await QC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QC(r,e){const n=XC(e),s=KC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function YC(r,e){Fc.set(r._key(),e)}function KC(r){return Wi(r._redirectPersistence)}function XC(r){return Hc(FC,r.config.apiKey,r.name)}async function $C(r,e,n=!1){if($n(r.app))return Promise.reject(zs(r));const s=bh(r),o=Z0(s,e),f=await new GC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const JC=600*1e3;class ZC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JC&&this.cachedEventUids.clear(),this.cachedEventUids.has(zv(e))}saveEventToCache(e){this.cachedEventUids.add(zv(e)),this.lastProcessedEventTime=Date.now()}}function zv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function eT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function WC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eT(r);default:return!1}}async function ex(r,e={}){return co(r,"GET","/v1/projects",e)}const tx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nx=/^https?/;async function ix(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ex(r);for(const n of e)try{if(rx(n))return}catch{}Ni(r,"unauthorized-domain")}function rx(r){const e=mm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!nx.test(n))return!1;if(tx.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const sx=new Yl(3e4,6e4);function Bv(){const r=wi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function ax(r){return new Promise((e,n)=>{function s(){Bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bv(),n(Wn(r,"network-request-failed"))},timeout:sx.get()})}if(wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(wi().gapi?.load)s();else{const o=cC("iframefcb");return wi()[o]=()=>{gapi.load?s():n(Wn(r,"network-request-failed"))},lC(`${uC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function ox(r){return Gc=Gc||ax(r),Gc}const lx=new Yl(5e3,15e3),ux="__/auth/iframe",cx="emulator/auth/iframe",hx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dx(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Xm(e,cx):`https://${r.config.authDomain}/${ux}`,s={apiKey:e.apiKey,appName:r.name,v:uo},o=fx.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ql(s).slice(1)}`}async function mx(r){const e=await ox(r),n=wi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:dx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Wn(r,"network-request-failed"),p=wi().setTimeout(()=>{u(f)},lx.get());function g(){wi().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const px={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gx=500,yx=600,_x="_blank",vx="http://localhost";class qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ex(r,e,n,s=gx,o=yx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...px,width:s.toString(),height:o.toString(),top:u,left:f},y=Zt().toLowerCase();n&&(p=V0(y)?_x:n),O0(y)&&(e=e||vx,g.scrollbars="yes");const E=Object.entries(g).reduce((I,[z,Z])=>`${I}${z}=${Z},`,"");if(eC(y)&&p!=="_self")return Tx(e||"",p),new qv(null);const b=window.open(e||"",p,E);ye(b,r,"popup-blocked");try{b.focus()}catch{}return new qv(b)}function Tx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const bx="__/auth/handler",Sx="emulator/auth/handler",Ax=encodeURIComponent("fac");async function Hv(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:uo,eventId:o};if(e instanceof ep){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Sw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof Kl){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await r._getAppCheckToken(),y=g?`#${Ax}=${encodeURIComponent(g)}`:"";return`${wx(r)}?${Ql(p).slice(1)}${y}`}function wx({config:r}){return r.emulator?Xm(r,Sx):`https://${r.authDomain}/${bx}`}const em="webStorageSupport";class Rx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y0,this._completeRedirectFn=$C,this._overrideRedirectResult=YC}async _openPopup(e,n,s,o){rr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Hv(e,n,s,mm(),o);return Ex(e,u,tp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Hv(e,n,s,mm(),o);return IC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await mx(e),s=new ZC(e);return n.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},o=>{const u=o?.[0]?.[em];u!==void 0&&n(!!u),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ix(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j0()||M0()||Zm()}}const Cx=Rx;var Fv="@firebase/auth",Gv="1.12.0";class xx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ix(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Nx(r){Ja(new qs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z0(r)},y=new aC(s,o,u,g);return fC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ja(new qs("auth-internal",e=>{const n=bh(e.getProvider("auth").getImmediate());return(s=>new xx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(Fv,Gv,Ix(r)),Xr(Fv,Gv,"esm2020")}const Dx=300,Ox=g0("authIdTokenMaxAge")||Dx;let Qv=null;const Mx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Ox)return;const o=n?.token;Qv!==o&&(Qv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Vx(r=b0()){const e=Qm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=hC(r,{popupRedirectResolver:Cx,persistence:[PC,RC,Y0]}),s=g0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Mx(u.toString());TC(n,f,()=>f(n.currentUser)),EC(n,p=>f(p))}}const o=m0("auth");return o&&dC(n,`http://${o}`),n}function kx(){return document.getElementsByTagName("head")?.[0]??document}oC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Wn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",kx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Nx("Browser");var Lx="firebase",Ux="12.7.0";Xr(Lx,Ux,"app");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,tT;(function(){var r;function e(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,O,L){for(var C=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)C[rt-2]=arguments[rt];return A.prototype[O].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],O=N.g[2];let L=N.g[3],C;C=A+(L^R&(O^L))+V[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(O^A&(R^O))+V[1]+3905402710&4294967295,L=A+(C<<12&4294967295|C>>>20),C=O+(R^L&(A^R))+V[2]+606105819&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(A^O&(L^A))+V[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(L^R&(O^L))+V[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(O^A&(R^O))+V[5]+1200080426&4294967295,L=A+(C<<12&4294967295|C>>>20),C=O+(R^L&(A^R))+V[6]+2821735955&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(A^O&(L^A))+V[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(L^R&(O^L))+V[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(O^A&(R^O))+V[9]+2336552879&4294967295,L=A+(C<<12&4294967295|C>>>20),C=O+(R^L&(A^R))+V[10]+4294925233&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(A^O&(L^A))+V[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(L^R&(O^L))+V[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(O^A&(R^O))+V[13]+4254626195&4294967295,L=A+(C<<12&4294967295|C>>>20),C=O+(R^L&(A^R))+V[14]+2792965006&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(A^O&(L^A))+V[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(O^L&(R^O))+V[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(A^R))+V[6]+3225465664&4294967295,L=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(L^A))+V[11]+643717713&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(O^L))+V[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^L&(R^O))+V[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(A^R))+V[10]+38016083&4294967295,L=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(L^A))+V[15]+3634488961&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(O^L))+V[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^L&(R^O))+V[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(A^R))+V[14]+3275163606&4294967295,L=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(L^A))+V[3]+4107603335&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(O^L))+V[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^L&(R^O))+V[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(A^R))+V[2]+4243563512&4294967295,L=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(L^A))+V[7]+1735328473&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(O^L))+V[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(R^O^L)+V[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^O)+V[8]+2272392833&4294967295,L=A+(C<<11&4294967295|C>>>21),C=O+(L^A^R)+V[11]+1839030562&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^A)+V[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^L)+V[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^O)+V[4]+1272893353&4294967295,L=A+(C<<11&4294967295|C>>>21),C=O+(L^A^R)+V[7]+4139469664&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^A)+V[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^L)+V[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^O)+V[0]+3936430074&4294967295,L=A+(C<<11&4294967295|C>>>21),C=O+(L^A^R)+V[3]+3572445317&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^A)+V[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^L)+V[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^O)+V[12]+3873151461&4294967295,L=A+(C<<11&4294967295|C>>>21),C=O+(L^A^R)+V[15]+530742520&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^A)+V[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(O^(R|~L))+V[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~O))+V[7]+1126891415&4294967295,L=A+(C<<10&4294967295|C>>>22),C=O+(A^(L|~R))+V[14]+2878612391&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~A))+V[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~L))+V[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~O))+V[3]+2399980690&4294967295,L=A+(C<<10&4294967295|C>>>22),C=O+(A^(L|~R))+V[10]+4293915773&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~A))+V[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~L))+V[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~O))+V[15]+4264355552&4294967295,L=A+(C<<10&4294967295|C>>>22),C=O+(A^(L|~R))+V[6]+2734768916&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~A))+V[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~L))+V[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~O))+V[11]+3174756917&4294967295,L=A+(C<<10&4294967295|C>>>22),C=O+(A^(L|~R))+V[2]+718787259&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<A;){if(O==0)for(;L<=R;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<A;)if(V[O++]=N.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<A;)if(V[O++]=N[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[A++]=this.g[R]>>>V&255;return N};function u(N,A){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function f(N,A){this.h=A;const R=[];let V=!0;for(let O=N.length-1;O>=0;O--){const L=N[O]|0;V&&L==A||(R[O]=L,V=!1)}this.g=R}var p={};function g(N){return-128<=N&&N<128?u(N,function(A){return new f([A|0],A<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return B(y(-N));const A=[];let R=1;for(let V=0;N>=R;V++)A[V]=N/R|0,R*=4294967296;return new f(A,0)}function E(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return B(E(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let V=b;for(let L=0;L<N.length;L+=8){var O=Math.min(8,N.length-L);const C=parseInt(N.substring(L,L+O),A);O<8?(O=y(Math.pow(A,O)),V=V.j(O).add(y(C))):(V=V.j(R),V=V.add(y(C)))}return V}var b=g(0),I=g(1),z=g(16777216);r=f.prototype,r.m=function(){if(X(this))return-B(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(X(this))return"-"+B(this).toString(N);const A=y(Math.pow(N,6));var R=this;let V="";for(;;){const O=Ae(R,A).g;R=ne(R,O.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=O,Z(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function X(N){return N.h==-1}r.l=function(N){return N=ne(this,N),X(N)?-1:Z(N)?0:1};function B(N){const A=N.g.length,R=[];for(let V=0;V<A;V++)R[V]=~N.g[V];return new f(R,~N.h).add(I)}r.abs=function(){return X(this)?B(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let O=0;O<=A;O++){let L=V+(this.i(O)&65535)+(N.i(O)&65535),C=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=C>>>16,L&=65535,C&=65535,R[O]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ne(N,A){return N.add(B(A))}r.j=function(N){if(Z(this)||Z(N))return b;if(X(this))return X(N)?B(this).j(B(N)):B(B(this).j(N));if(X(N))return B(this.j(B(N)));if(this.l(z)<0&&N.l(z)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const L=this.i(V)>>>16,C=this.i(V)&65535,rt=N.i(O)>>>16,It=N.i(O)&65535;R[2*V+2*O]+=C*It,te(R,2*V+2*O),R[2*V+2*O+1]+=L*It,te(R,2*V+2*O+1),R[2*V+2*O+1]+=C*rt,te(R,2*V+2*O+1),R[2*V+2*O+2]+=L*rt,te(R,2*V+2*O+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new f(R,0)};function te(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ie(N,A){this.g=N,this.h=A}function Ae(N,A){if(Z(A))throw Error("division by zero");if(Z(N))return new ie(b,b);if(X(N))return A=Ae(B(N),A),new ie(B(A.g),B(A.h));if(X(A))return A=Ae(N,B(A)),new ie(B(A.g),A.h);if(N.g.length>30){if(X(N)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var R=I,V=A;V.l(N)<=0;)R=we(R),V=we(V);var O=Re(R,1),L=Re(V,1);for(V=Re(V,2),R=Re(R,2);!Z(V);){var C=L.add(V);C.l(N)<=0&&(O=O.add(R),L=C),V=Re(V,1),R=Re(R,1)}return A=ne(N,O.j(A)),new ie(O,A)}for(O=b;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(R),C=L.j(A);X(C)||C.l(N)>0;)R-=V,L=y(R),C=L.j(A);Z(L)&&(L=I),O=O.add(L),N=ne(N,C)}return new ie(O,N)}r.B=function(N){return Ae(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&N.i(V);return new f(R,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|N.i(V);return new f(R,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^N.i(V);return new f(R,this.h^N.h)};function we(N){const A=N.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(R,N.h)}function Re(N,A){const R=A>>5;A%=32;const V=N.g.length-R,O=[];for(let L=0;L<V;L++)O[L]=A>0?N.i(L+R)>>>A|N.i(L+R+1)<<32-A:N.i(L+R);return new f(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,tT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,$r=f}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nT,Al,iT,Qc,ym,rT,sT,aT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break e;v=v[U]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,U,H){for(var re=Array(arguments.length-2),be=2;be<arguments.length;be++)re[be-2]=arguments[be];return m.prototype[U].apply(S,re)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function z(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function Z(c,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const H=U.length||0;c.length=v+H;for(let re=0;re<H;re++)c[v+re]=U[re]}else c.push(U)}}class X{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function B(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class te{constructor(){this.h=this.g=null}add(m,v){const S=ie.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new X(()=>new Ae,c=>c.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let we,Re=!1,N=new te,A=()=>{const c=Promise.resolve(void 0);we=()=>{c.then(R)}};function R(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){B(v)}var m=ie;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Re=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function rt(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}b(rt,O),rt.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(c,m,v,S,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=U,this.key=++Y,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function Ge(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,m){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let H=0;H<J.length;H++)v=J[H],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,m,v,S,U){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const re=Ce(c,m,S,U);return re>-1?(m=c[re],v||(m.fa=!1)):(m=new se(m,this.src,H,!!S,U),m.fa=v,c.push(m)),m};function _e(c,m){const v=m.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(S,U,1),H&&(me(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,m,v,S){for(let U=0;U<c.length;++U){const H=c[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==S)return U}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Nt={};function st(c,m,v,S,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)st(c,m[H],v,S,U);return null}return v=vo(v),c&&c[It]?c.J(m,v,p(S)?!!S.capture:!1,U):as(c,m,v,!1,S,U)}function as(c,m,v,S,U,H){if(!m)throw Error("Invalid event type");const re=p(U)?!!U.capture:!!U;let be=os(c);if(be||(c[Ue]=be=new ue(c)),v=be.add(m,v,S,re,H),v.proxy)return v;if(S=$s(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)L||(U=re),U===void 0&&(U=!1),c.addEventListener(m.toString(),S,U);else if(c.attachEvent)c.attachEvent(ni(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $s(){function c(v){return m.call(c.src,c.listener,v)}const m=yo;return c}function Js(c,m,v,S,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Js(c,m[H],v,S,U);else S=p(S)?!!S.capture:!!S,v=vo(v),c&&c[It]?(c=c.i,H=String(m).toString(),H in c.g&&(m=c.g[H],v=Ce(m,v,S,U),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[H],c.h--)))):c&&(c=os(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ce(m,v,S,U)),(v=c>-1?m[c]:null)&&Zs(v))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[It])_e(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(ni(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=os(m))?(_e(v,c),v.h==0&&(v.src=null,m[Ue]=null)):me(c)}}}function ni(c){return c in Nt?Nt[c]:Nt[c]="on"+c}function yo(c,m){if(c.da)c=!0;else{m=new rt(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&Zs(c),c=v.call(S,m)}return c}function os(c){return c=c[Ue],c instanceof ue?c:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(c){return typeof c=="function"?c:(c[_o]||(c[_o]=function(m){return c.handleEvent(m)}),c[_o])}function yt(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}b(yt,V),yt.prototype[It]=!0,yt.prototype.removeEventListener=function(c,m,v,S){Js(this,c,m,v,S)};function Dt(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var U=m;m=new O(S,c),ae(m,U)}U=!0;let H,re;if(v)for(re=v.length-1;re>=0;re--)H=m.g=v[re],U=ur(H,S,!0,m)&&U;if(H=m.g=c,U=ur(H,S,!0,m)&&U,U=ur(H,S,!1,m)&&U,v)for(re=0;re<v.length;re++)H=m.g=v[re],U=ur(H,S,!1,m)&&U}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)me(v[S]);delete c.g[m],c.h--}}this.G=null},yt.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},yt.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function ur(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const re=m[H];if(re&&!re.da&&re.capture==v){const be=re.listener,dt=re.ha||re.src;re.fa&&_e(c.i,re),U=be.call(dt,S)!==!1&&U}}return U&&!S.defaultPrevented}function zh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function nu(c){c.g=zh(()=>{c.g=null,c.i&&(c.i=!1,nu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Wt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){V.call(this),this.h=c,this.g={}}b(ls,V);var Eo=[];function To(c){je(c.g,function(m,v){this.g.hasOwnProperty(v)&&Zs(m)},c),c.g={}}ls.prototype.N=function(){ls.Z.N.call(this),To(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=f.JSON.stringify,Bh=f.JSON.parse,iu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ru(){}function su(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){O.call(this,"d")}b(jt,O);function bn(){O.call(this,"c")}b(bn,O);var ft={},au=null;function Ws(){return au=au||new yt}ft.Ia="serverreachability";function ou(c){O.call(this,ft.Ia,c)}b(ou,O);function ii(c){const m=Ws();Dt(m,new ou(m))}ft.STAT_EVENT="statevent";function us(c,m){O.call(this,ft.STAT_EVENT,c),this.stat=m}b(us,O);function _t(c){const m=Ws();Dt(m,new us(m,c))}ft.Ja="timingevent";function ri(c,m){O.call(this,ft.Ja,c),this.size=m}b(ri,O);function si(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function qh(c,m,v,S,U,H){c.info(function(){if(c.g)if(H){var re="",be=H.split("&");for(let qe=0;qe<be.length;qe++){var dt=be[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Rn=at.split("_");re=Rn.length>=2&&Rn[1]=="type"?re+(at+"="+dt+"&"):re+(at+"=redacted&")}}}else re=null;else re=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+v+`
`+re})}function lu(c,m,v,S,U,H,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+re})}function ai(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hh(c,v)+(S?" "+S:"")})}function cs(c,m){c.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Hh(c,m){if(!c.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return cr(H)}catch{return m}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function fs(){}b(fs,ru),fs.prototype.g=function(){return new XMLHttpRequest},So=new fs;function Oi(c){return encodeURIComponent(String(c))}function uu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function zn(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var vt={},Vt={};function oi(c,m,v){c.M=1,c.A=ds(Tt(m)),c.u=v,c.R=!0,ea(c,null)}function ea(c,m){c.F=Date.now(),li(c),c.B=Tt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ra(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Bn,c.g=Au(c.j,v?m:null,!c.u),c.P>0&&(c.O=new Wt(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Eo[0]=U.toString()),U=Eo);for(let H=0;H<U.length;H++){const re=st(v,U[H],S||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ii(),qh(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Fn(c)==3?m.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const be=Fn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||be!=4||dt==7||(dt==8||qe<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Fh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,be,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var H=S;break t}}H=null}if(c=H)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,_t(12),fn(this),Sn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=hu(this,v),at==Vt){be==4&&(this.m=4,_t(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(at==vt){this.m=4,_t(15),ai(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,at,null),ci(this,at);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||v.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(re),re.P=!0,_t(11))}}else ai(this.i,this.l,v,null),ci(this,v);be==4&&fn(this),this.o&&!this.K&&(be==4?Eu(this.j,this):(this.o=!1,li(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),fn(this),Sn(this)}}}catch{}};function Fh(c){if(!cu(c))return c.g.la();const m=zt(c.g);if(m==="")return"";let v="";const S=m.length,U=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),Sn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<S;H++)c.h.h=!0,v+=c.h.i.decode(m[H],{stream:!(U&&H==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function hu(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?Vt:(v=Number(m.substring(v,S)),isNaN(v)?vt:(S+=1,S+v>m.length?Vt:(m=m.slice(S,S+v),c.C=S+v,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function li(c){c.T=Date.now()+c.H,ta(c,c.H)}function ta(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(y(c.aa,c),m)}function ui(c){c.D&&(f.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(cs(this.i,this.B),this.M!=2&&(ii(),_t(17)),fn(this),this.m=2,Sn(this)):ta(this,this.T-c)};function Sn(c){c.j.I==0||c.K||Eu(c.j,c)}function fn(c){ui(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,To(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ci(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||fi(v.h,c))){if(!c.L&&fi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ua(v),_r(v);else break e;Es(v),_t(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((c.L||v.g==c)&&ua(v),!C(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let qe=U[m];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Rn=qe[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const vi=qe[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Gn=qe[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(S=1.5*Gn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Qn=c.g;if(Qn){const Ts=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var H=S.h;H.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ro(H,H.h),H.h=null))}if(S.G){const ca=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(S.wa=ca,Qe(S.J,S.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=c;if(S.na=Su(S,S.L?S.ba:null,S.W),re.L){Co(S.h,re);var be=re,dt=S.O;dt&&(be.H=dt),be.D&&(ui(be),li(be)),S.g=re}else _u(S);v.i.length>0&&yi(v)}else qe[0]!="stop"&&qe[0]!="close"||_i(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?_i(v,7):Lo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}ii(4)}catch{}}var Et=class{constructor(c,m){this.g=c,this.map=m}};function Ao(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function fi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ro(c,m){c.g?c.g.add(m):c.h=m}function Co(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return z(c.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let U,H=null;S>=0?(U=c[v].substring(0,S),H=c[v].substring(S+1)):U=c[v],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof dn?(this.l=c.l,kt(this,c.j),this.o=c.o,this.g=c.g,hr(this,c.u),this.h=c.h,Io(this,gu(c.i)),this.m=c.m):c&&(m=String(c).match(fu))?(this.l=!1,kt(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),hr(this,m[4]),this.h=di(m[5]||"",!0),Io(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}dn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ms(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ms(m,ia,!0),"@"),c.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ms(v,v.charAt(0)=="/"?No:du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ms(v,mu)),c.join("")},dn.prototype.resolve=function(c){const m=Tt(this);let v=!!c.j;v?kt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)hr(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let re=0;re<U.length;){const be=U[re++];be=="."?S&&re==U.length&&H.push(""):be==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&re==U.length&&H.push("")):(H.push(be),S=!0)}S=H.join("/")}else S=U}return v?m.h=S:v=c.i.toString()!=="",v?Io(m,gu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Tt(c){return new dn(c)}function kt(c,m,v){c.j=v?di(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function hr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Io(c,m,v){m instanceof dr?(c.i=m,sa(c.i,c.l)):(v||(m=ms(m,fr)),c.i=new dr(m,c.l))}function Qe(c,m,v){c.i.set(m,v)}function ds(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ms(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,nn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ia=/[#\/\?@]/g,du=/[#\?:]/g,No=/[#\?]/g,fr=/[#\?@]/g,mu=/#/g;function dr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&na(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=dr.prototype,r.add=function(c,m){rn(this),this.i=null,c=mr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function pu(c,m){rn(c),m=mr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Do(c,m){return rn(c),m=mr(c,m),c.g.has(m)}r.forEach=function(c,m){rn(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(m,U,S,this)},this)},this)};function Oo(c,m){rn(c);let v=[];if(typeof m=="string")Do(c,m)&&(v=v.concat(c.g.get(mr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return rn(this),this.i=null,c=mr(this,c),Do(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Oo(this,c),c.length>0?String(c[0]):m):m};function ra(c,m,v){pu(c,m),v.length>0&&(c.i=null,c.g.set(mr(c,m),z(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const U=Oi(v);v=Oo(this,v);for(let H=0;H<v.length;H++){let re=U;v[H]!==""&&(re+="="+Oi(v[H])),c.push(re)}}return this.i=c.join("&")};function gu(c){const m=new dr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function mr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function sa(c,m){m&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(pu(this,S),ra(this,U,v))},c)),c.j=m}function qn(c,m){const v=new jn;if(f.Image){const S=new Image;S.onload=E(An,v,"TestLoadImage: loaded",!0,m,S),S.onerror=E(An,v,"TestLoadImage: error",!1,m,S),S.onabort=E(An,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(An,v,"TestLoadImage: timeout",!1,m,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function Mo(c,m){const v=new jn,S=new AbortController,U=setTimeout(()=>{S.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(v,"TestPingServer: error",!1,m)})}function An(c,m,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function pr(){this.g=new iu}function mi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(mi,ru),mi.prototype.g=function(){return new ps(this.i,this.h)};function ps(c,m){yt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ps,yt),r=ps.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Hn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?gr(this):Hn(this),this.readyState==3&&aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,gr(this))},r.Na=function(c){this.g&&(this.response=c,gr(this))},r.ga=function(){this.g&&gr(this)};function gr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wn(c){let m="";return je(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function gs(c,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=wn(v),typeof c=="string"?v!=null&&Oi(v):Qe(c,m,v))}function Xe(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,yt);var pi=/^https?$/i,Vo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){ys(this,H);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())v.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of v)this.g.setRequestHeader(H,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){ys(this,H)}};function ys(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,ko(c),Mi(c)}function ko(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},r.Xa=function(){_s(this)};function _s(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=H===0){let re=String(c.D).match(fu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),S=!pi.test(re?re.toLowerCase():"")}v=S}if(v)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var U=Fn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",ko(c)}}finally{Mi(c)}}}}function Mi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Dt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Bh(m)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(c){const m={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var v=uu(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}Ge(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function yr(c){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,c),this.Za=gi("retryDelaySeedMs",1e4,c),this.Ta=gi("forwardChannelMaxRetries",2,c),this.va=gi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(c&&c.concurrentRequestLimit),this.Ba=new pr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=yr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,S){_t(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Su(this,null,this.W),yi(this)};function Lo(c){if(oa(c),c.I==3){var m=c.V++,v=Tt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),vs(c,v),m=new zn(c,c.j,m),m.M=2,m.A=ds(Tt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}bu(c)}function _r(c){c.g&&(Po(c),c.g.cancel(),c.g=null)}function oa(c){_r(c),c.v&&(f.clearTimeout(c.v),c.v=null),ua(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function yi(c){if(!wo(c.h)&&!c.m){c.m=!0;var m=c.Ea;we||A(),Re||(we(),Re=!0),N.add(m,c),c.D=0}}function la(c,m){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(y(c.Ea,c,m),Tu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new zn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=M(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=yu(this,U,m),v=Tt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),vs(this,v),H&&(this.R?m="headers="+Oi(wn(H))+"&"+m:this.u&&gs(v,this.u,H)),Ro(this.h,U),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),U.U=!0,oi(U,v,null)):oi(U,v,m),this.I=2}}else this.I==3&&(c?Uo(this,c):this.i.length==0||wo(this.h)||Uo(this))};function Uo(c,m){var v;m?v=m.l:v=c.V++;const S=Tt(c.J);Qe(S,"SID",c.M),Qe(S,"RID",v),Qe(S,"AID",c.K),vs(c,S),c.u&&c.o&&gs(S,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=yu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ro(c.h,v),oi(v,S,m)}function vs(c,m){c.H&&je(c.H,function(v,S){Qe(m,S,v)}),c.l&&je({},function(v,S){Qe(m,S,v)})}function yu(c,m,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var U=c.i;let be=-1;for(;;){const dt=["count="+v];be==-1?v>0?(be=U[0].g,dt.push("ofs="+be)):be=0:dt.push("ofs="+be);let qe=!0;for(let at=0;at<v;at++){var H=U[at].g;const Rn=U[at].map;if(H-=be,H<0)be=Math.max(0,U[at].g-100),qe=!1;else try{H="req"+H+"_"||"";try{var re=Rn instanceof Map?Rn:Object.entries(Rn);for(const[vi,Gn]of re){let Qn=Gn;p(Gn)&&(Qn=cr(Gn)),dt.push(H+vi+"="+encodeURIComponent(Qn))}}catch(vi){throw dt.push(H+"type="+encodeURIComponent("_badmap")),vi}}catch{S&&S(Rn)}}if(qe){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),m.G=c,re}function _u(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;we||A(),Re||(we(),Re=!0),N.add(m,c),c.A=0}}function Es(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(y(c.Da,c),Tu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),_r(this),vu(this))};function Po(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function vu(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Tt(c.na);Qe(m,"RID","rpc"),Qe(m,"SID",c.M),Qe(m,"AID",c.K),Qe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(m,"TO",c.ia),Qe(m,"TYPE","xmlhttp"),vs(c,m),c.u&&c.o&&gs(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ds(Tt(m)),v.u=null,v.R=!0,ea(v,c)}r.Va=function(){this.C!=null&&(this.C=null,_r(this),Es(this),_t(19))};function ua(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Eu(c,m){var v=null;if(c.g==m){ua(c),Po(c),c.g=null;var S=2}else if(fi(c.h,m))v=m.G,Co(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;S=Ws(),Dt(S,new ri(S,v)),yi(c)}else _u(c);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&la(c,m)||S==2&&Es(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),U){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function Tu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function _i(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),S=c.Ua;const U=!S;S=new dn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||kt(S,"https"),ds(S),U?qn(S.toString(),v):Mo(S.toString(),v)}else _t(2);c.I=0,c.l&&c.l.pa(m),bu(c),oa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function bu(c){if(c.I=0,c.ja=[],c.l){const m=xo(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.oa()}}function Su(c,m,v){var S=v instanceof dn?Tt(v):new dn(v);if(S.g!="")m&&(S.g=m+"."+S.g),hr(S,S.u);else{var U=f.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new dn(null);S&&kt(H,S),m&&(H.g=m),U&&hr(H,U),v&&(H.h=v),S=H}return v=c.G,m=c.wa,v&&m&&Qe(S,v,m),Qe(S,"VER",c.ka),vs(c,S),S}function Au(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xe(new mi({ab:v})):new Xe(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function vr(){}vr.prototype.g=function(c,m){return new en(c,m)};function en(c,m){yt.call(this),this.g=new yr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ki(this)}b(en,yt),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Lo(this.g)},en.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=cr(c),c=v);m.i.push(new Et(m.Ya++,c)),m.I==3&&yi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,en.Z.N.call(this)};function Ru(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}b(Ru,jt);function Cu(){bn.call(this),this.status=1}b(Cu,bn);function ki(c){this.g=c}b(ki,wu),ki.prototype.ra=function(){Dt(this.g,"a")},ki.prototype.qa=function(c){Dt(this.g,new Ru(c))},ki.prototype.pa=function(c){Dt(this.g,new Cu)},ki.prototype.oa=function(){Dt(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,aT=function(){return new vr},sT=function(){return Ws()},rT=ft,ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Qc=hs,bo.COMPLETE="complete",iT=bo,su.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Al=su,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,nT=Xe}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const Kv="@firebase/firestore",Xv="4.9.3";class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let ho="12.7.0";const Fs=new Fm("@firebase/firestore");function Ba(){return Fs.logLevel}function oe(r,...e){if(Fs.logLevel<=Me.DEBUG){const n=e.map(ip);Fs.debug(`Firestore (${ho}): ${r}`,...n)}}function sr(r,...e){if(Fs.logLevel<=Me.ERROR){const n=e.map(ip);Fs.error(`Firestore (${ho}): ${r}`,...n)}}function Wa(r,...e){if(Fs.logLevel<=Me.WARN){const n=e.map(ip);Fs.warn(`Firestore (${ho}): ${r}`,...n)}}function ip(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ge(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,oT(r,s,n)}function oT(r,e,n){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw sr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||oT(e,o,s)}function Te(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class lT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Px{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class jx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zx{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new lT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class Bx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Bx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $v{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $v(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $v(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Fx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Fx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function _m(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return tm(o)===tm(u)?Ve(o,u):tm(o)?1:-1}return Ve(r.length,e.length)}const Gx=55296,Qx=57343;function tm(r){const e=r.charCodeAt(0);return e>=Gx&&e<=Qx}function eo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const Jv="__name__";class Ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ge(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ai.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ai.isNumericId(e),o=Ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(n)):_m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class et extends Ai{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const Yx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ai{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return Yx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jv}static keyField(){return new Qt([Jv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(et.fromString(e))}static fromName(e){return new de(et.fromString(e).popFirst(5))}static empty(){return new de(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new et(e.slice()))}}function uT(r,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Kx(r,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Zv(r){if(!de.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Wv(r){if(de.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ge(12329,{type:typeof r})}function oh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(r);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function $l(r,e){if(!cT(r))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}const eE=-62135596800,tE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*tE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<eE)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($l(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:xt("string",it._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new it(0,0))}static max(){return new ve(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ll=-1;function Xx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new Wr(o,de.empty(),e)}function $x(r){return new Wr(r.readTime,r.key,Ll)}class Wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(ve.min(),de.empty(),Ll)}static max(){return new Wr(ve.max(),de.empty(),Ll)}}function Jx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const Zx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==Zx)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++p,p===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function e2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mo(r){return r.name==="IndexedDbTransactionError"}class Rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;const sp=-1;function Ch(r){return r==null}function lh(r){return r===0&&1/r==-1/0}function t2(r){return typeof r=="number"&&Number.isInteger(r)&&!lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const hT="";function n2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=nE(e)),e=i2(r.get(n),e);return nE(e)}function i2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case hT:n+="";break;default:n+=u}}return n}function nE(r){return r+hT+""}function iE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Qs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function fT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rE(this.data.getIterator())}getIteratorFrom(e){return new rE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class rE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new Mt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class dT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new dT("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const r2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=r2.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const mT="server_timestamp",pT="__type__",gT="__previous_value__",yT="__local_write_time__";function ap(r){return(r?.mapValue?.fields||{})[pT]?.stringValue===mT}function xh(r){const e=r.mapValue.fields[gT];return ap(e)?xh(e):e}function Ul(r){const e=es(r.mapValue.fields[yT].timestampValue);return new it(e.seconds,e.nanos)}class s2{constructor(e,n,s,o,u,f,p,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const uh="(default)";class Pl{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}const _T="__type__",a2="__max__",kc={mapValue:{}},vT="__vector__",ch="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ap(r)?4:l2(r)?9007199254740991:o2(r)?10:11:ge(28295,{value:r})}function Di(r,e){if(r===e)return!0;const n=ns(r);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ul(r).isEqual(Ul(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=es(o.timestampValue),p=es(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),p=gt(u.doubleValue);return f===p?lh(f)===lh(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return eo(r.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(iE(f)!==iE(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Di(f[g],p[g])))return!1;return!0})(r,e);default:return ge(52216,{left:r})}}function jl(r,e){return(r.values||[]).find((n=>Di(n,e)))!==void 0}function to(r,e){if(r===e)return 0;const n=ns(r),s=ns(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=gt(u.integerValue||u.doubleValue),g=gt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return sE(r.timestampValue,e.timestampValue);case 4:return sE(Ul(r),Ul(e));case 5:return _m(r.stringValue,e.stringValue);case 6:return(function(u,f){const p=ts(u),g=ts(f);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Ve(p[y],g[y]);if(E!==0)return E}return Ve(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Ve(gt(u.latitude),gt(f.latitude));return p!==0?p:Ve(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return aE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},y=p[ch]?.arrayValue,E=g[ch]?.arrayValue,b=Ve(y?.values?.length||0,E?.values?.length||0);return b!==0?b:aE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===kc.mapValue&&f===kc.mapValue)return 0;if(u===kc.mapValue)return 1;if(f===kc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const I=_m(g[b],E[b]);if(I!==0)return I;const z=to(p[g[b]],y[E[b]]);if(z!==0)return z}return Ve(g.length,E.length)})(r.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function sE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=es(r),s=es(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function aE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=to(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function no(r){return vm(r)}function vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=es(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ts(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=vm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${vm(n.fields[f])}`;return o+"}"})(r.mapValue):ge(61005,{value:r})}function Yc(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(r);return e?16+Yc(e):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Yc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Qs(s.fields,((u,f)=>{o+=u.length+Yc(f)})),o})(r.mapValue);default:throw ge(13486,{value:r})}}function oE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Em(r){return!!r&&"integerValue"in r}function op(r){return!!r&&"arrayValue"in r}function lE(r){return!!r&&"nullValue"in r}function uE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function o2(r){return(r?.mapValue?.fields||{})[_T]?.stringValue===vT}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Qs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Il(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Il(r.arrayValue.values[n]);return e}return{...r}}function l2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===a2}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Il(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Qs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new kn(Il(this.value))}}function ET(r){const e=[];return Qs(r.fields,((n,s)=>{const o=new Qt([n]);if(Kc(s)){const u=ET(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Zn(e)}class Jt{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,ve.min(),ve.min(),ve.min(),kn.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,ve.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,ve.min(),ve.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,ve.min(),ve.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,n){this.position=e,this.inclusive=n}}function cE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(f.referenceValue),n.key):s=to(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function hE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Di(r.position[n],e.position[n]))return!1;return!0}class fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function u2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class TT{}class Ct extends TT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new h2(e,n,s):n==="array-contains"?new m2(e,s):n==="in"?new p2(e,s):n==="not-in"?new g2(e,s):n==="array-contains-any"?new y2(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new f2(e,s):new d2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(to(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(to(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends TT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ei(e,n)}matches(e){return bT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bT(r){return r.op==="and"}function ST(r){return c2(r)&&bT(r)}function c2(r){for(const e of r.filters)if(e instanceof ei)return!1;return!0}function Tm(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+no(r.value);if(ST(r))return r.filters.map((e=>Tm(e))).join(",");{const e=r.filters.map((n=>Tm(n))).join(",");return`${r.op}(${e})`}}function AT(r,e){return r instanceof Ct?(function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)})(r,e):r instanceof ei?(function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,p)=>u&&AT(f,o.filters[p])),!0):!1})(r,e):void ge(19439)}function wT(r){return r instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`})(r):r instanceof ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(wT).join(" ,")+"}"})(r):"Filter"}class h2 extends Ct{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class f2 extends Ct{constructor(e,n){super(e,"in",n),this.keys=RT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class d2 extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=RT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function RT(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class m2 extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return op(n)&&jl(n.arrayValue,this.value)}}class p2 extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class g2 extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class y2 extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>jl(this.value.arrayValue,s)))}}class _2{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function fE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new _2(r,e,n,s,o,u,f)}function lp(r){const e=Te(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Tm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>no(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>no(s))).join(",")),e.Te=n}return e.Te}function up(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!u2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!AT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!hE(r.startAt,e.startAt)&&hE(r.endAt,e.endAt)}function bm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Jl{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function v2(r,e,n,s,o,u,f,p){return new Jl(r,e,n,s,o,u,f,p)}function CT(r){return new Jl(r)}function dE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xT(r){return r.collectionGroup!==null}function Nl(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Mt(Qt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fh(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new fh(Qt.keyField(),s))}return e.Ie}function Ri(r){const e=Te(r);return e.Ee||(e.Ee=E2(e,Nl(r))),e.Ee}function E2(r,e){if(r.limitType==="F")return fE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new fh(o.field,u)}));const n=r.endAt?new hh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new hh(r.startAt.position,r.startAt.inclusive):null;return fE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Sm(r,e){const n=r.filters.concat([e]);return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Am(r,e,n){return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ih(r,e){return up(Ri(r),Ri(e))&&r.limitType===e.limitType}function IT(r){return`${lp(Ri(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>wT(o))).join(", ")}]`),Ch(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>no(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>no(o))).join(",")),`Target(${s})`})(Ri(r))}; limitType=${r.limitType})`}function Nh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Nl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const y=cE(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,Nl(s),o)||s.endAt&&!(function(f,p,g){const y=cE(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,Nl(s),o))})(r,e)}function T2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function NT(r){return(e,n)=>{let s=!1;for(const o of Nl(r)){const u=b2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function b2(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?to(g,y):ge(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ge(19790,{direction:r.dir})}}class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return fT(this.inner)}size(){return this.innerSize}}const S2=new ut(de.comparator);function ar(){return S2}const DT=new ut(de.comparator);function wl(...r){let e=DT;for(const n of r)e=e.insert(n.key,n);return e}function OT(r){let e=DT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function js(){return Dl()}function MT(){return Dl()}function Dl(){return new Ys((r=>r.toString()),((r,e)=>r.isEqual(e)))}const A2=new ut(de.comparator),w2=new Mt(de.comparator);function ke(...r){let e=w2;for(const n of r)e=e.add(n);return e}const R2=new Mt(Ve);function C2(){return R2}function cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function VT(r){return{integerValue:""+r}}function x2(r,e){return t2(e)?VT(e):cp(r,e)}class Dh{constructor(){this._=void 0}}function I2(r,e,n){return r instanceof zl?(function(o,u){const f={fields:{[pT]:{stringValue:mT},[yT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ap(u)&&(u=xh(u)),u&&(f.fields[gT]=u),{mapValue:f}})(n,e):r instanceof Bl?LT(r,e):r instanceof ql?UT(r,e):(function(o,u){const f=kT(o,u),p=mE(f)+mE(o.Ae);return Em(f)&&Em(o.Ae)?VT(p):cp(o.serializer,p)})(r,e)}function N2(r,e,n){return r instanceof Bl?LT(r,e):r instanceof ql?UT(r,e):n}function kT(r,e){return r instanceof dh?(function(s){return Em(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class zl extends Dh{}class Bl extends Dh{constructor(e){super(),this.elements=e}}function LT(r,e){const n=PT(e);for(const s of r.elements)n.some((o=>Di(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ql extends Dh{constructor(e){super(),this.elements=e}}function UT(r,e){let n=PT(e);for(const s of r.elements)n=n.filter((o=>!Di(o,s)));return{arrayValue:{values:n}}}class dh extends Dh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function mE(r){return gt(r.integerValue||r.doubleValue)}function PT(r){return op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class D2{constructor(e,n){this.field=e,this.transform=n}}function O2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Bl&&o instanceof Bl||s instanceof ql&&o instanceof ql?eo(s.elements,o.elements,Di):s instanceof dh&&o instanceof dh?Di(s.Ae,o.Ae):s instanceof zl&&o instanceof zl})(r.transform,e.transform)}class M2{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Oh{}function jT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new BT(r.key,tr.none()):new Zl(r.key,r.data,tr.none());{const n=r.data,s=kn.empty();let o=new Mt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ks(r.key,s,new Zn(o.toArray()),tr.none())}}function V2(r,e,n){r instanceof Zl?(function(o,u,f){const p=o.value.clone(),g=gE(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Ks?(function(o,u,f){if(!Xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=gE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(zT(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ol(r,e,n,s){return r instanceof Zl?(function(u,f,p,g){if(!Xc(u.precondition,f))return p;const y=u.value.clone(),E=yE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ks?(function(u,f,p,g){if(!Xc(u.precondition,f))return p;const y=yE(u.fieldTransforms,g,f),E=f.data;return E.setAll(zT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,p){return Xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,n)}function k2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=kT(s.transform,o||null);u!=null&&(n===null&&(n=kn.empty()),n.set(s.field,u))}return n||null}function pE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&eo(s,o,((u,f)=>O2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Zl extends Oh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ks extends Oh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function gE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,N2(f,p,n[o]))}return s}function yE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,I2(u,f,e))}return s}class BT extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L2 extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class U2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&V2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ol(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ol(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=MT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=jT(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,((n,s)=>pE(n,s)))&&eo(this.baseMutations,e.baseMutations,((n,s)=>pE(n,s)))}}class hp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return A2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new hp(e,n,s,o)}}class P2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class j2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,Pe;function z2(r){switch(r){case W.OK:return ge(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ge(15467,{code:r})}}function qT(r){if(r===void 0)return sr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Rt.OK:return W.OK;case Rt.CANCELLED:return W.CANCELLED;case Rt.UNKNOWN:return W.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return W.INTERNAL;case Rt.UNAVAILABLE:return W.UNAVAILABLE;case Rt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Rt.NOT_FOUND:return W.NOT_FOUND;case Rt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Rt.ABORTED:return W.ABORTED;case Rt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Rt.DATA_LOSS:return W.DATA_LOSS;default:return ge(39323,{code:r})}}(Pe=Rt||(Rt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function B2(){return new TextEncoder}const q2=new $r([4294967295,4294967295],0);function _E(r){const e=B2().encode(r),n=new tT;return n.update(e),new Uint8Array(n.digest())}function vE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $r([n,s],0),new $r([o,u],0)]}class fp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Rl(`Invalid padding: ${n}`);if(s<0)throw new Rl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$r.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply($r.fromNumber(s)));return o.compare(q2)===1&&(o=new $r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_E(e),[s,o]=vE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new fp(u,o,n);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=_E(e),[s,o]=vE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Mh(ve.min(),o,new ut(Ve),ar(),ke())}}class Wl{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Wl(s,n,ke(),ke(),ke())}}class $c{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class HT{constructor(e,n){this.targetId=e,this.Ce=n}}class FT{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class EE{constructor(){this.ve=0,this.Fe=TE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ge(38017,{changeType:u})}})),new Wl(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=TE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class H2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ar(),this.Je=Lc(),this.He=Lc(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(bm(u))if(s===0){const f=new de(u.path);this.et(n,f,Jt.newNoDocument(f,ve.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=ts(s).toUint8Array()}catch(g){if(g instanceof dT)return Wa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new fp(f,o,u)}catch(g){return Wa(g instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&bm(p.target)){const g=new de(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Jt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Mh(e,n,this.Ye,this.je,s);return this.je=ar(),this.Je=Lc(),this.He=Lc(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new EE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new EE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lc(){return new ut(de.comparator)}function TE(){return new ut(de.comparator)}const F2={asc:"ASCENDING",desc:"DESCENDING"},G2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q2={and:"AND",or:"OR"};class Y2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wm(r,e){return r.useProto3Json||Ch(e)?e:{value:e}}function mh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function K2(r,e){return mh(r,e.toTimestamp())}function Ci(r){return Fe(!!r,49232),ve.fromTimestamp((function(n){const s=es(n);return new it(s.seconds,s.nanos)})(r))}function dp(r,e){return Rm(r,e).canonicalString()}function Rm(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function QT(r){const e=et.fromString(r);return Fe(JT(e),10190,{key:e.toString()}),e}function Cm(r,e){return dp(r.databaseId,e.path)}function nm(r,e){const n=QT(e);if(n.get(1)!==r.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(KT(n))}function YT(r,e){return dp(r.databaseId,e)}function X2(r){const e=QT(r);return e.length===4?et.emptyPath():KT(e)}function xm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function KT(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bE(r,e,n){return{name:Cm(r,e),fields:n.value.mapValue.fields}}function $2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ge(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:qT(y.code);return new le(E,y.message||"")})(f);n=new FT(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=nm(r,s.document.name),u=Ci(s.document.updateTime),f=s.document.createTime?Ci(s.document.createTime):ve.min(),p=new kn({mapValue:{fields:s.document.fields}}),g=Jt.newFoundDocument(o,u,f,p),y=s.targetIds||[],E=s.removedTargetIds||[];n=new $c(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=nm(r,s.document),u=s.readTime?Ci(s.readTime):ve.min(),f=Jt.newNoDocument(o,u),p=s.removedTargetIds||[];n=new $c([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=nm(r,s.document),u=s.removedTargetIds||[];n=new $c([],u,o,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new j2(o,u),p=s.targetId;n=new HT(p,f)}}return n}function J2(r,e){let n;if(e instanceof Zl)n={update:bE(r,e.key,e.value)};else if(e instanceof BT)n={delete:Cm(r,e.key)};else if(e instanceof Ks)n={update:bE(r,e.key,e.data),updateMask:aI(e.fieldMask)};else{if(!(e instanceof L2))return ge(16599,{Vt:e.type});n={verify:Cm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof zl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Bl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof dh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw ge(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:K2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ge(27497)})(r,e.precondition)),n}function Z2(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ci(o.updateTime):Ci(u);return f.isEqual(ve.min())&&(f=Ci(u)),new M2(f,o.transformResults||[])})(n,e)))):[]}function W2(r,e){return{documents:[YT(r,e.path)]}}function eI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=YT(r,o);const u=(function(y){if(y.length!==0)return $T(ei.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(I){return{field:Ha(I.field),direction:iI(I.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=wm(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function tI(r){let e=X2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const I=XT(b);return I instanceof ei&&ST(I)?I.getFilters():[I]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((I=>(function(Z){return new fh(Fa(Z.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(I)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let I;return I=typeof b=="object"?b.value:b,Ch(I)?null:I})(n.limit));let g=null;n.startAt&&(g=(function(b){const I=!!b.before,z=b.values||[];return new hh(z,I)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const I=!b.before,z=b.values||[];return new hh(z,I)})(n.endAt)),v2(e,o,f,u,p,"F",g,y)}function nI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fa(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fa(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(n.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ct.create(Fa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ei.create(n.compositeFilter.filters.map((s=>XT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(n.compositeFilter.op))})(r):ge(30097,{filter:r})}function iI(r){return F2[r]}function rI(r){return G2[r]}function sI(r){return Q2[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Qt.fromServerFormat(r.fieldPath)}function $T(r){return r instanceof Ct?(function(n){if(n.op==="=="){if(uE(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(lE(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uE(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(lE(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:rI(n.op),value:n.value}}})(r):r instanceof ei?(function(n){const s=n.getFilters().map((o=>$T(o)));return s.length===1?s[0]:{compositeFilter:{op:sI(n.op),filters:s}}})(r):ge(54877,{filter:r})}function aI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function JT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qr{constructor(e,n,s,o,u=ve.min(),f=ve.min(),p=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oI{constructor(e){this.yt=e}}function lI(r){const e=tI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Am(e,e.limit,"L"):e}class uI{constructor(){this.Cn=new cI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Wr.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class cI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(et.comparator)).toArray()}}const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZT=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(ZT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}const AE="LruGarbageCollector",hI=1048576;function wE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class fI{constructor(e){this.Ir=e,this.buffer=new Mt(wE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();wE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(AE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mo(n)?oe(AE,"Ignoring IndexedDB error during garbage collection: ",n):await fo(n)}await this.Vr(3e5)}))}}class mI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Rh.ce);const s=new fI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(SE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,p=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),Ba()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function pI(r,e){return new mI(r,e)}class gI{constructor(){this.changes=new Ys((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _I{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ol(s.mutation,o,Zn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=wl();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,s,o){let u=ar();const f=Dl(),p=(function(){return Dl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ks)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ol(E.mutation,y,E.mutation.getFieldMask(),it.now())):f.set(y.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>p.set(y,new yI(E,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=Dl();let o=new ut(((f,p)=>f-p)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Zn.empty();E=p.applyToLocalView(y,E),s.set(g,E);const b=(o.get(p.batchId)||ke()).add(g);o=o.insert(p.batchId,b)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,b=MT();E.forEach((I=>{if(!u.has(I)){const z=jT(n.get(I),s.get(I));z!==null&&b.set(I,z),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return de.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(js());let p=Ll,g=u;return f.next((y=>ee.forEach(y,((E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((I=>{g=g.insert(E,I)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ke()))).next((E=>({batchId:p,changes:OT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=wl();return this.indexManager.getCollectionParents(e,u).next((p=>ee.forEach(p,(g=>{const y=(function(b,I){return new Jl(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((b,I)=>{f=f.insert(b,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))}));let p=wl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Ol(E.mutation,y,Zn.empty(),it.now()),Nh(n,y)&&(p=p.insert(g,y))})),p}))}}class vI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:lI(o.bundledQuery),readTime:Ci(o.readTime)}})(n)),ee.resolve()}}class EI{constructor(){this.overlays=new ut(de.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=js();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=js(),u=n.length+1,f=new de(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=js(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=js(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return ee.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new P2(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class TI{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class mp{constructor(){this.Qr=new Mt(Ut.$r),this.Ur=new Mt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new et([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new et([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}class bI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Ut.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new U2(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Ut(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?sp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Ve);return n.forEach((o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new de(u),0);let p=new Mt(Ve);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),f),ee.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class SI{constructor(e){this.ri=e,this.docs=(function(){return new ut(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=ar();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ar();const f=n.path,p=new de(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Jx($x(E),s)<=0||(o.has(E.key)||Nh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ge(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new AI(this)}getSize(e){return ee.resolve(this.size)}}class AI extends gI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class wI{constructor(e){this.persistence=e,this.si=new Ys((n=>lp(n)),up),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new mp,this.targetCount=0,this.ai=io.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class WT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new TI,this.referenceDelegate=e(this),this.Pi=new wI(this),this.indexManager=new uI,this.remoteDocumentCache=(function(o){return new SI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new oI(n),this.Ii=new vI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new bI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new RI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class RI extends Wx{constructor(e){super(),this.currentSequenceNumber=e}}class pp{constructor(e){this.persistence=e,this.Ri=new mp,this.Vi=null}static mi(e){return new pp(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=de.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ph{constructor(e,n){this.persistence=e,this.pi=new Ys((s=>n2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=pI(this,n)}static mi(e,n){return new ph(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((p=>{p||(s++,u.removeEntry(f,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yc(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gp(e,n.fromCache,s,o)}}class CI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yw()?8:e2(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new CI;return this.Ss(e,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,f,p.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ba()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Ba()<=Me.DEBUG&&oe("QueryEngine","Query:",qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ba()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(n))):ee.resolve())}ys(e,n){if(dE(n))return ee.resolve(null);let s=Ri(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Am(n,null,"F"),s=Ri(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,f,g.readTime)?this.ys(e,Am(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return dE(n)||o.isEqual(ve.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(Ba()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(n)),this.vs(e,f,n,Xx(o,Ll)).next((p=>p)))}))}Ds(e,n){let s=new Mt(NT(e));return n.forEach(((o,u)=>{Nh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ba()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",qa(n)),this.ps.getDocumentsMatchingQuery(e,n,Wr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const yp="LocalStore",II=3e8;class NI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new Ys((u=>lp(u)),up),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _I(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function DI(r,e,n,s){return new NI(r,e,n,s)}async function eb(r,e){const n=Te(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=ke();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function OI(r,e){const n=Te(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const b=y.batch,I=b.keys();let z=ee.resolve();return I.forEach((Z=>{z=z.next((()=>E.getEntry(g,Z))).next((X=>{const B=y.docVersions.get(Z);Fe(B!==null,48541),X.version.compareTo(B)<0&&(b.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))}))})),z.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=ke();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function tb(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function MI(r,e){const n=Te(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((E,b)=>{const I=o.get(b);if(!I)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let z=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?z=z.withResumeToken(Yt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,s)),o=o.insert(b,z),(function(X,B,ne){return X.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=II?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(I,z,E)&&p.push(n.Pi.updateTargetData(u,z))}));let g=ar(),y=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(VI(u,f,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(ve.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(E)}return ee.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function VI(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=ar();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):oe(yp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function kI(r,e){const n=Te(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function LI(r,e){const n=Te(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Qr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Im(r,e,n){const s=Te(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!mo(f))throw f;oe(yp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function RE(r,e,n){const s=Te(r);let o=ve.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const b=Te(g),I=b.xs.get(E);return I!==void 0?ee.resolve(b.Ms.get(I)):b.Pi.getTargetData(y,E)})(s,f,Ri(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:ve.min(),n?u:ke()))).next((p=>(UI(s,T2(e),p),{documents:p,Qs:u})))))}function UI(r,e,n){let s=r.Os.get(e)||ve.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class CE{constructor(){this.activeTargetIds=C2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PI{constructor(){this.Mo=new CE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new CE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jI{Oo(e){}shutdown(){}}const xE="ConnectivityMonitor";class IE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(xE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function Nm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const im="RestConnection",zI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Nm(),p=this.zo(e,n.toUriEncodedString());oe(im,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),E=lo(y);return this.Jo(e,p,g,s,E).then((b=>(oe(im,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw Wa(im,`RPC '${e}' ${f} failed with error: `,b,"url: ",p,"request:",s),b}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=zI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class qI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class HI extends BI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Nm();return new Promise(((p,g)=>{const y=new nT;y.setWithCredentials(!0),y.listenOnce(iT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qc.NO_ERROR:const b=y.getResponseJson();oe(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),p(b);break;case Qc.TIMEOUT:oe(Xt,`RPC '${e}' ${f} timed out`),g(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const I=y.getStatus();if(oe(Xt,`RPC '${e}' ${f} failed with status:`,I,"response text:",y.getResponseText()),I>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const Z=z?.error;if(Z&&Z.status&&Z.message){const X=(function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(te)>=0?te:W.UNKNOWN})(Z.status);g(new le(X,Z.message))}else g(new le(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(W.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);oe(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Nm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=aT(),p=sT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");oe(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);this.I_(b);let I=!1,z=!1;const Z=new qI({Yo:B=>{z?oe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(I||(oe(Xt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),I=!0),oe(Xt,`RPC '${e}' stream ${o} sending:`,B),b.send(B))},Zo:()=>b.close()}),X=(B,ne,te)=>{B.listen(ne,(ie=>{try{te(ie)}catch(Ae){setTimeout((()=>{throw Ae}),0)}}))};return X(b,Al.EventType.OPEN,(()=>{z||(oe(Xt,`RPC '${e}' stream ${o} transport opened.`),Z.o_())})),X(b,Al.EventType.CLOSE,(()=>{z||(z=!0,oe(Xt,`RPC '${e}' stream ${o} transport closed`),Z.a_(),this.E_(b))})),X(b,Al.EventType.ERROR,(B=>{z||(z=!0,Wa(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),Z.a_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),X(b,Al.EventType.MESSAGE,(B=>{if(!z){const ne=B.data[0];Fe(!!ne,16349);const te=ne,ie=te?.error||te[0]?.error;if(ie){oe(Xt,`RPC '${e}' stream ${o} received error:`,ie);const Ae=ie.status;let we=(function(A){const R=Rt[A];if(R!==void 0)return qT(R)})(Ae),Re=ie.message;we===void 0&&(we=W.INTERNAL,Re="Unknown error status: "+Ae+" with message "+ie.message),z=!0,Z.a_(new le(we,Re)),b.close()}else oe(Xt,`RPC '${e}' stream ${o} received:`,ne),Z.u_(ne)}})),X(p,rT.STAT_EVENT,(B=>{B.stat===ym.PROXY?oe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===ym.NOPROXY&&oe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function rm(){return typeof document<"u"?document:null}function Vh(r){return new Y2(r,!0)}class nb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const NE="PersistentStream";class ib{constructor(e,n,s,o,u,f,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(NE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(NE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FI extends ib{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?Ci(f.readTime):ve.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=xm(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=bm(g)?{documents:W2(u,g)}:{query:eI(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=GT(u,f.resumeToken);const y=wm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(ve.min())>0){p.readTime=mh(u,f.snapshotVersion.toTimestamp());const y=wm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=nI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=xm(this.serializer),n.removeTarget=e,this.q_(n)}}class GI extends ib{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Z2(e.writeResults,e.commitTime),s=Ci(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>J2(this.serializer,s)))};this.q_(n)}}class QI{}class YI extends QI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Rm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Rm(n,s),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class KI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gs="RemoteStore";class XI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Xs(this)&&(oe(Gs,"Restarting streams for network reachability change."),await(async function(g){const y=Te(g);y.Ea.add(4),await eu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await kh(y)})(this))}))})),this.Ra=new KI(s,o)}}async function kh(r){if(Xs(r))for(const e of r.da)await e(!0)}async function eu(r){for(const e of r.da)await e(!1)}function rb(r,e){const n=Te(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tp(n)?Ep(n):po(n).O_()&&vp(n,e))}function _p(r,e){const n=Te(r),s=po(n);n.Ia.delete(e),s.O_()&&sb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Xs(n)&&n.Ra.set("Unknown"))}function vp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}po(r).Y_(e)}function sb(r,e){r.Va.Ue(e),po(r).Z_(e)}function Ep(r){r.Va=new H2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Ra.ua()}function Tp(r){return Xs(r)&&!po(r).x_()&&r.Ia.size>0}function Xs(r){return Te(r).Ea.size===0}function ab(r){r.Va=void 0}async function $I(r){r.Ra.set("Online")}async function JI(r){r.Ia.forEach(((e,n)=>{vp(r,e)}))}async function ZI(r,e){ab(r),Tp(r)?(r.Ra.ha(e),Ep(r)):r.Ra.set("Unknown")}async function WI(r,e,n){if(r.Ra.set("Online"),e instanceof FT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){oe(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gh(r,s)}else if(e instanceof $c?r.Va.Ze(e):e instanceof HT?r.Va.st(e):r.Va.tt(e),!n.isEqual(ve.min()))try{const s=await tb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),sb(u,g);const b=new Qr(E.target,g,y,E.sequenceNumber);vp(u,b)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){oe(Gs,"Failed to raise snapshot:",s),await gh(r,s)}}async function gh(r,e,n){if(!mo(e))throw e;r.Ea.add(1),await eu(r),r.Ra.set("Offline"),n||(n=()=>tb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(Gs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await kh(r)}))}function ob(r,e){return e().catch((n=>gh(r,n,e)))}async function Lh(r){const e=Te(r),n=is(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sp;for(;eN(e);)try{const o=await kI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,tN(e,o)}catch(o){await gh(e,o)}lb(e)&&ub(e)}function eN(r){return Xs(r)&&r.Ta.length<10}function tN(r,e){r.Ta.push(e);const n=is(r);n.O_()&&n.X_&&n.ea(e.mutations)}function lb(r){return Xs(r)&&!is(r).x_()&&r.Ta.length>0}function ub(r){is(r).start()}async function nN(r){is(r).ra()}async function iN(r){const e=is(r);for(const n of r.Ta)e.ea(n.mutations)}async function rN(r,e,n){const s=r.Ta.shift(),o=hp.from(s,e,n);await ob(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Lh(r)}async function sN(r,e){e&&is(r).X_&&await(async function(s,o){if((function(f){return z2(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();is(s).B_(),await ob(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Lh(s)}})(r,e),lb(r)&&ub(r)}async function DE(r,e){const n=Te(r);n.asyncQueue.verifyOperationInProgress(),oe(Gs,"RemoteStore received new credentials");const s=Xs(n);n.Ea.add(3),await eu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kh(n)}async function aN(r,e){const n=Te(r);e?(n.Ea.delete(2),await kh(n)):e||(n.Ea.add(2),await eu(n),n.Ra.set("Unknown"))}function po(r){return r.ma||(r.ma=(function(n,s,o){const u=Te(n);return u.sa(),new FI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:$I.bind(null,r),t_:JI.bind(null,r),r_:ZI.bind(null,r),H_:WI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Tp(r)?Ep(r):r.Ra.set("Unknown")):(await r.ma.stop(),ab(r))}))),r.ma}function is(r){return r.fa||(r.fa=(function(n,s,o){const u=Te(n);return u.sa(),new GI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:nN.bind(null,r),r_:sN.bind(null,r),ta:iN.bind(null,r),na:rN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Lh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(Gs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new bp(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(r,e){if(sr("AsyncQueue",`${e}: ${r}`),mo(r))return new le(W.UNAVAILABLE,`${e}: ${r}`);throw r}class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=wl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class OE{constructor(){this.ga=new ut(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ro{constructor(e,n,s,o,u,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new ro(e,n,Ka.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class oN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lN{constructor(){this.queries=ME(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Te(n),u=o.queries;o.queries=ME(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function ME(){return new Ys((r=>IT(r)),Ih)}async function uN(r,e){const n=Te(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new oN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Sp(f,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ap(n)}async function cN(r,e){const n=Te(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hN(r,e){const n=Te(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&Ap(n)}function fN(r,e,n){const s=Te(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Ap(r){r.Ca.forEach((e=>{e.next()}))}var Dm,VE;(VE=Dm||(Dm={})).Ma="default",VE.Cache="cache";class dN{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dm.Cache}}class cb{constructor(e){this.key=e}}class hb{constructor(e){this.key=e}}class mN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=NT(e),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new OE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const I=o.get(E),z=Nh(this.query,b)?b:null,Z=!!I&&this.mutatedKeys.has(I.key),X=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let B=!1;I&&z?I.data.isEqual(z.data)?Z!==X&&(s.track({type:3,doc:z}),B=!0):this.su(I,z)||(s.track({type:2,doc:z}),B=!0,(g&&this.eu(z,g)>0||y&&this.eu(z,y)<0)&&(p=!0)):!I&&z?(s.track({type:0,doc:z}),B=!0):I&&!z&&(s.track({type:1,doc:I}),B=!0,(g||y)&&(p=!0)),B&&(z?(f=f.add(z),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(z,Z){const X=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:B})}};return X(z)-X(Z)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new ro(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new hb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new cb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wp="SyncEngine";class pN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class gN{constructor(e){this.key=e,this.hu=!1}}class yN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ys((p=>IT(p)),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new ut(de.comparator),this.Au=new Map,this.Ru=new mp,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _N(r,e,n=!0){const s=yb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await fb(s,e,n,!0),o}async function vN(r,e){const n=yb(r);await fb(n,e,!0,!1)}async function fb(r,e,n,s){const o=await LI(r.localStore,Ri(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await EN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&rb(r.remoteStore,o),p}async function EN(r,e,n,s,o){r.pu=(b,I,z)=>(async function(X,B,ne,te){let ie=B.view.ru(ne);ie.Cs&&(ie=await RE(X.localStore,B.query,!1).then((({documents:N})=>B.view.ru(N,ie))));const Ae=te&&te.targetChanges.get(B.targetId),we=te&&te.targetMismatches.get(B.targetId)!=null,Re=B.view.applyChanges(ie,X.isPrimaryClient,Ae,we);return LE(X,B.targetId,Re.au),Re.snapshot})(r,b,I,z);const u=await RE(r.localStore,e,!0),f=new mN(e,u.Qs),p=f.ru(u.documents),g=Wl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);LE(r,n,y.au);const E=new pN(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function TN(r,e,n){const s=Te(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Ih(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Im(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&_p(s.remoteStore,o.targetId),Om(s,o.targetId)})).catch(fo)):(Om(s,o.targetId),await Im(s.localStore,o.targetId,!0))}async function bN(r,e){const n=Te(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),_p(n.remoteStore,s.targetId))}async function SN(r,e,n){const s=NN(r);try{const o=await(function(f,p){const g=Te(f),y=it.now(),E=p.reduce(((z,Z)=>z.add(Z.key)),ke());let b,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let Z=ar(),X=ke();return g.Ns.getEntries(z,E).next((B=>{Z=B,Z.forEach(((ne,te)=>{te.isValidDocument()||(X=X.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(z,Z))).next((B=>{b=B;const ne=[];for(const te of p){const ie=k2(te,b.get(te.key).overlayedDocument);ie!=null&&ne.push(new Ks(te.key,ie,ET(ie.value.mapValue),tr.exists(!0)))}return g.mutationQueue.addMutationBatch(z,y,ne,p)})).next((B=>{I=B;const ne=B.applyToLocalDocumentSet(b,X);return g.documentOverlayCache.saveOverlays(z,B.batchId,ne)}))})).then((()=>({batchId:I.batchId,changes:OT(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(Ve)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await tu(s,o.changes),await Lh(s.remoteStore)}catch(o){const u=Sp(o,"Failed to persist write");n.reject(u)}}async function db(r,e){const n=Te(r);try{const s=await MI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await tu(n,s,e)}catch(s){await fo(s)}}function kE(r,e,n){const s=Te(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=Te(f);g.onlineState=p;let y=!1;g.queries.forEach(((E,b)=>{for(const I of b.Sa)I.va(p)&&(y=!0)})),y&&Ap(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AN(r,e,n){const s=Te(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(de.comparator);f=f.insert(u,Jt.newNoDocument(u,ve.min()));const p=ke().add(u),g=new Mh(ve.min(),new Map,new ut(Ve),f,p);await db(s,g),s.du=s.du.remove(u),s.Au.delete(e),Rp(s)}else await Im(s.localStore,e,!1).then((()=>Om(s,e,n))).catch(fo)}async function wN(r,e){const n=Te(r),s=e.batch.batchId;try{const o=await OI(n.localStore,e);pb(n,s,null),mb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await tu(n,o)}catch(o){await fo(o)}}async function RN(r,e,n){const s=Te(r);try{const o=await(function(f,p){const g=Te(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((b=>(Fe(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);pb(s,e,n),mb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await tu(s,o)}catch(o){await fo(o)}}function mb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function pb(r,e,n){const s=Te(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Om(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||gb(r,s)}))}function gb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(_p(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Rp(r))}function LE(r,e,n){for(const s of n)s instanceof cb?(r.Ru.addReference(s.key,e),CN(r,s)):s instanceof hb?(oe(wp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||gb(r,s.key)):ge(19791,{wu:s})}function CN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(oe(wp,"New document in limbo: "+n),r.Eu.add(s),Rp(r))}function Rp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(et.fromString(e)),s=r.fu.next();r.Au.set(s,new gN(n)),r.du=r.du.insert(n,s),rb(r.remoteStore,new Qr(Ri(CT(n.path)),s,"TargetPurposeLimboResolution",Rh.ce))}}async function tu(r,e,n){const s=Te(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=gp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=Te(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ee.forEach(y,(I=>ee.forEach(I.Es,(z=>E.persistence.referenceDelegate.addReference(b,I.targetId,z))).next((()=>ee.forEach(I.ds,(z=>E.persistence.referenceDelegate.removeReference(b,I.targetId,z)))))))))}catch(b){if(!mo(b))throw b;oe(yp,"Failed to update sequence numbers: "+b)}for(const b of y){const I=b.targetId;if(!b.fromCache){const z=E.Ms.get(I),Z=z.snapshotVersion,X=z.withLastLimboFreeSnapshotVersion(Z);E.Ms=E.Ms.insert(I,X)}}})(s.localStore,u))}async function xN(r,e){const n=Te(r);if(!n.currentUser.isEqual(e)){oe(wp,"User change. New user:",e.toKey());const s=await eb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new le(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await tu(n,s.Ls)}}function IN(r,e){const n=Te(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function yb(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=db.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AN.bind(null,e),e.Pu.H_=hN.bind(null,e.eventManager),e.Pu.yu=fN.bind(null,e.eventManager),e}function NN(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RN.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return DI(this.persistence,new xI,e.initialUser,this.serializer)}Cu(e){return new WT(pp.mi,this.serializer)}Du(e){return new PI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class DN extends yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new WT((s=>ph.mi(s,n)),this.serializer)}}class Mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>kE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xN.bind(null,this.syncEngine),await aN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lN})()}createDatastore(e){const n=Vh(e.databaseInfo.databaseId),s=(function(u){return new HI(u)})(e.databaseInfo);return(function(u,f,p,g){return new YI(u,f,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,p){return new XI(s,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>kE(this.syncEngine,n,0)),(function(){return IE.v()?new IE:new jI})())}createSyncEngine(e,n){return(function(o,u,f,p,g,y,E){const b=new yN(o,u,f,p,g,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Te(n);oe(Gs,"RemoteStore shutting down."),s.Ea.add(5),await eu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class ON{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const rs="FirestoreClient";class MN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{oe(rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(oe(rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Sp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function sm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(rs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await eb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function UE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await VN(r);oe(rs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>DE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>DE(e.remoteStore,o))),r._onlineComponents=e}async function VN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(rs,"Using user provided OfflineComponentProvider");try{await sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await sm(r,new yh)}}else oe(rs,"Using default OfflineComponentProvider"),await sm(r,new DN(void 0));return r._offlineComponents}async function _b(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(rs,"Using user provided OnlineComponentProvider"),await UE(r,r._uninitializedComponentsProvider._online)):(oe(rs,"Using default OnlineComponentProvider"),await UE(r,new Mm))),r._onlineComponents}function kN(r){return _b(r).then((e=>e.syncEngine))}async function LN(r){const e=await _b(r),n=e.eventManager;return n.onListen=_N.bind(null,e.syncEngine),n.onUnlisten=TN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bN.bind(null,e.syncEngine),n}function UN(r,e,n={}){const s=new Jr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const E=new ON({next:I=>{E.Nu(),f.enqueueAndForget((()=>cN(u,b))),I.fromCache&&g.source==="server"?y.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),b=new dN(p,E,{includeMetadataChanges:!0,qa:!0});return uN(u,b)})(await LN(r),r.asyncQueue,e,n,s))),s.promise}function vb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const PE=new Map;const Eb="firestore.googleapis.com",jE=!0;class zE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Eb,this.ssl=jE}else this.host=e.host,this.ssl=e.ssl??jE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hI)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Px;switch(s.type){case"firstParty":return new qx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=PE.get(n);s&&(oe("ComponentProvider","Removing Datastore"),PE.delete(n),s.terminate())})(this),Promise.resolve()}}function PN(r,e,n,s={}){r=oh(r,Uh);const o=lo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(y0(`https://${p}`),_0("Firestore",!0)),u.host!==Eb&&u.host!==p&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!Bs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$t.MOCK_USER;else{y=lw(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(b)}r._authCredentials=new jx(new lT(y,E))}}class go{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class Pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if($l(n,Pt._jsonSchema))return new Pt(e,s||null,new de(et.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:xt("string",Pt._jsonSchemaVersion),referencePath:xt("string")};class Zr extends go{constructor(e,n,s){super(e,n,CT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new de(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function Vm(r,e,...n){if(r=hn(r),uT("collection","path",e),r instanceof Uh){const s=et.fromString(e,...n);return Wv(s),new Zr(r,null,s)}{if(!(r instanceof Pt||r instanceof Zr))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return Wv(s),new Zr(r.firestore,null,s)}}function jN(r,e,...n){if(r=hn(r),arguments.length===1&&(e=rp.newId()),uT("doc","path",e),r instanceof Uh){const s=et.fromString(e,...n);return Zv(s),new Pt(r,null,new de(s))}{if(!(r instanceof Pt||r instanceof Zr))throw new le(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return Zv(s),new Pt(r.firestore,r instanceof Zr?r.converter:null,new de(s))}}const BE="AsyncQueue";class qE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nb(this,"async_queue_retry"),this._c=()=>{const s=rm();s&&oe(BE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!mo(e))throw e;oe(BE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",HE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=bp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ge(47125,{Pc:HE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function HE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Cp extends Uh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new qE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qE(e),this._firestoreClient=void 0,await e}}}function zN(r,e){const n=typeof r=="object"?r:b0(),s=typeof r=="string"?r:uh,o=Qm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=aw("firestore");u&&PN(o,...u)}return o}function Tb(r){if(r._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||BN(r),r._firestoreClient}function BN(r){const e=r._freezeSettings(),n=(function(o,u,f,p){return new s2(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,vb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new MN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Yt.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($l(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:xt("string",Ln._jsonSchemaVersion),bytes:xt("string")};class xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ip{constructor(e){this._methodName=e}}class xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if($l(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:xt("string",xi._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};class Ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($l(e,Ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ii(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:xt("string",Ii._jsonSchemaVersion),vectorValues:xt("object")};const qN=/^__.*__$/;class HN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zl(e,this.data,n,this.fieldTransforms)}}function bb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:r})}}class Np{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Np({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bb(this.Ac)&&qN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Vh(e)}Cc(e,n,s,o=!1){return new Np({Ac:e,methodName:n,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sb(r){const e=r._freezeSettings(),n=Vh(r._databaseId);return new FN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function GN(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Rb("Data must be an object, but it was:",f,s);const p=Ab(s,f);let g,y;if(u.merge)g=new Zn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const I=YN(e,b,n);if(!f.contains(I))throw new le(W.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);XN(E,I)||E.push(I)}g=new Zn(E),y=f.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=f.fieldTransforms;return new HN(new kn(p),g,y)}class Dp extends Ip{_toFieldTransform(e){return new D2(e.path,new zl)}isEqual(e){return e instanceof Dp}}function QN(r,e,n,s=!1){return Op(n,r.Cc(s?4:3,e))}function Op(r,e){if(wb(r=hn(r)))return Rb("Unsupported field value:",e,r),Ab(r,e);if(r instanceof Ip)return(function(s,o){if(!bb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const p of s){let g=Op(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return x2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:mh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mh(o.serializer,u)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:GT(o.serializer,s._byteString)};if(s instanceof Pt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ii)return(function(f,p){return{mapValue:{fields:{[_T]:{stringValue:vT},[ch]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return cp(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${wh(s)}`)})(r,e)}function Ab(r,e){const n={};return fT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(r,((s,o)=>{const u=Op(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function wb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof xi||r instanceof Ln||r instanceof Pt||r instanceof Ip||r instanceof Ii)}function Rb(r,e,n){if(!wb(n)||!cT(n)){const s=wh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function YN(r,e,n){if((e=hn(e))instanceof xp)return e._internalPath;if(typeof e=="string")return Cb(r,e);throw _h("Field path arguments must be of type string or ",r,!1,void 0,n)}const KN=new RegExp("[~\\*/\\[\\]]");function Cb(r,e,n){if(e.search(KN)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new xp(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function _h(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new le(W.INVALID_ARGUMENT,p+r+g)}function XN(r,e){return r.some((n=>n.isEqual(e)))}class xb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $N extends xb{data(){return super.data()}}function Mp(r,e){return typeof e=="string"?Cb(r,e):e instanceof xp?e._internalPath:e._delegate._internalPath}function JN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vp{}class ZN extends Vp{}function WN(r,e,...n){let s=[];e instanceof Vp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof kp)).length,p=u.filter((g=>g instanceof Ph)).length;if(f>1||f>0&&p>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Ph extends ZN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ph(e,n,s)}_apply(e){const n=this._parse(e);return Ib(e._query,n),new go(e.firestore,e.converter,Sm(e._query,n))}_parse(e){const n=Sb(e.firestore);return(function(u,f,p,g,y,E,b){let I;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){GE(b,E);const Z=[];for(const X of b)Z.push(FE(g,u,X));I={arrayValue:{values:Z}}}else I=FE(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||GE(b,E),I=QN(p,f,b,E==="in"||E==="not-in");return Ct.create(y,E,I)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function eD(r,e,n){const s=e,o=Mp("where",r);return Ph._create(o,s,n)}class kp extends Vp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)Ib(f,g),f=Sm(f,g)})(e._query,n),new go(e.firestore,e.converter,Sm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FE(r,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xT(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!de.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return oE(r,new de(s))}if(n instanceof Pt)return oE(r,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function GE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ib(r,e){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tD{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Qs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[ch].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new Ii(n)}convertGeoPoint(e){return new xi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=xh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const n=es(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(JT(s),9688,{name:e});const o=new Pl(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function nD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends xb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Mp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:xt("string",Xa._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Jc extends Xa{data(e={}){return super.data(e)}}class $a{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Jc(this._firestore,this._userDataWriter,s.key,s,new Pc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new Jc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Pc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Jc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Pc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:iD(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:r})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:xt("string",$a._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class rD extends tD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function Nb(r){r=oh(r,go);const e=oh(r.firestore,Cp),n=Tb(e),s=new rD(e);return JN(r._query),UN(n,r._query).then((o=>new $a(e,s,r,o)))}function sD(r,e){const n=oh(r.firestore,Cp),s=jN(r),o=nD(r.converter,e);return aD(n,[GN(Sb(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,tr.exists(!1))]).then((()=>s))}function aD(r,e){return(function(s,o){const u=new Jr;return s.asyncQueue.enqueueAndForget((async()=>SN(await kN(s),o,u))),u.promise})(Tb(r),e)}function oD(){return new Dp("serverTimestamp")}(function(e,n=!0){(function(o){ho=o})(uo),Ja(new qs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Cp(new zx(s.getProvider("auth-internal")),new Hx(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Xr(Kv,Xv,e),Xr(Kv,Xv,"esm2020")})();const lD={apiKey:"AIzaSyDyPzPk6CZBJ0armWcK145KnQg4X2EJ1Gc",authDomain:"la-nba.firebaseapp.com",projectId:"la-nba",storageBucket:"la-nba.firebasestorage.app",messagingSenderId:"222296057914",appId:"1:222296057914:web:3f3702623b48f6506aed03"},Db=T0(lD),am=Vx(Db),uD=new Ji,km=zN(Db),Ob=G.createContext();function jh(){return G.useContext(Ob)}function cD({children:r}){const[e,n]=G.useState(null),[s,o]=G.useState(!0);function u(){return HC(am,uD)}function f(){return SC(am)}G.useEffect(()=>bC(am,y=>{n(y),o(!1)}),[]);const p={currentUser:e,login:u,logout:f};return w.jsx(Ob.Provider,{value:p,children:!s&&r})}function jc({children:r}){const{currentUser:e}=jh();return e?r:w.jsx(g1,{to:"/"})}function hD(){const{login:r,currentUser:e}=jh(),n=ss();G.useEffect(()=>{e&&n("/overview")},[e,n]);const s=async()=>{try{await r(),n("/overview")}catch(o){console.error("Failed to log in",o)}};return w.jsxs("div",{className:"relative h-[100dvh] w-full flex flex-col bg-background-dark max-w-[430px] mx-auto overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 z-0",children:w.jsx("div",{className:"w-full h-full bg-center bg-cover opacity-60",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuCyFS12cE_tdsJCcYWBRFI5_dm4dNftwFwFHYBIONKZS--oHxvHki6fjPcsSzItxp2gr4YdIXhoDMEaUcsmgn373vc9cOULt-X_WDUabdSxzEvu-hC_koF5HudSf_pDLhLH-gWulGmvAVBYrUkDsrJF6_P1OOrhkvFjQRfWVm3rTqC3DatZIQZjAwbA6o7p4DTEs8F4UPEbruOBnGn6dYXWvgvN7reYe2J4AgIoDAaLmr91Eq9tdNk5BZ-D8MT_7Ite6qHXL3RUYOQ")'},children:w.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-background-dark"})})}),w.jsxs("div",{className:"relative z-10 pt-20 px-8 text-center flex-1 flex flex-col items-center justify-center",children:[w.jsx("div",{className:"mb-6 flex justify-center",children:w.jsx("div",{className:"p-4 rounded-3xl bg-primary/10 border border-primary/20 backdrop-blur-md",children:w.jsx("span",{className:"material-symbols-outlined text-primary text-5xl",children:"wb_sunny"})})}),w.jsxs("div",{className:"mb-8",children:[w.jsxs("h1",{className:"font-display font-bold text-6xl tracking-tight mb-2 text-white",children:["",w.jsx("br",{}),"    ",w.jsx("span",{className:"text-primary italic",children:"LA BRON JAMES"})]}),w.jsx("p",{className:"text-white/80 text-lg font-medium leading-relaxed max-w-[280px] mx-auto",children:" 8 "})]}),w.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-8 mt-8",children:[w.jsx("div",{className:"bg-card-dark/70 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-2xl",children:w.jsx("div",{className:"space-y-6",children:w.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-4 bg-white text-black font-bold h-14 rounded-xl active:scale-[0.98] transition-all shadow-lg hover:bg-gray-50",children:[w.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),w.jsx("span",{className:"text-base",children:" Google "})]})})}),w.jsx("div",{className:"pt-4 flex justify-center opacity-40",children:w.jsx("div",{className:"h-1.5 w-32 bg-white/50 rounded-full"})})]})]})]})}function Mb(){const r=ss(),e=or(),n=s=>e.pathname===s;return w.jsxs("nav",{className:"fixed bottom-0 w-full max-w-[430px] bg-background-dark/95 border-t border-white/10 px-6 py-4 backdrop-blur-xl flex justify-between items-center z-50",children:[w.jsxs("button",{onClick:()=>r("/overview"),className:`flex flex-col items-center gap-1 cursor-pointer transition-colors ${n("/overview")?"text-primary":"text-gray-500 hover:text-primary"}`,children:[w.jsx("span",{className:`material-symbols-outlined text-2xl ${n("/overview")?"fill-icon":""}`,children:"dashboard"}),w.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Overview"})]}),w.jsxs("button",{onClick:()=>r("/itinerary"),className:`flex flex-col items-center gap-1 cursor-pointer transition-colors ${n("/itinerary")?"text-primary":"text-gray-500 hover:text-primary"}`,children:[w.jsx("span",{className:"material-symbols-outlined text-2xl",children:"explore"}),w.jsx("span",{className:"text-[10px] font-medium uppercase tracking-tighter",children:"Guide"})]}),w.jsxs("button",{onClick:()=>r("/add-expense"),className:`flex flex-col items-center gap-1 cursor-pointer transition-colors ${n("/add-expense")?"text-primary":"text-gray-500 hover:text-primary"}`,children:[w.jsx("span",{className:"material-symbols-outlined text-2xl",children:"payments"}),w.jsx("span",{className:"text-[10px] font-medium uppercase tracking-tighter",children:"Expenses"})]}),w.jsxs("button",{className:"flex flex-col items-center gap-1 text-gray-500 hover:text-primary transition-colors cursor-pointer",children:[w.jsx("span",{className:"material-symbols-outlined text-2xl",children:"settings"}),w.jsx("span",{className:"text-[10px] font-medium uppercase tracking-tighter",children:"Settings"})]})]})}const Lp=JSON.parse(`[{"id":1,"date":"2026-02-18","weekday":"Wednesday","title":"Arrival & Check-in","location":"San Gabriel","weather":"Sunny 72F","events":[{"time":"16:50","title":"Arrive ONT Airport","location":"Ontario International Airport","mapLink":"https://maps.google.com/?q=ONT+Airport","icon":"flight_land"},{"time":"18:00","title":"Pick up Rental Car","location":"Rental Car Center","mapLink":"","icon":"directions_car"},{"time":"19:00","title":"Check-in Airbnb","location":"8753 East Arcadia Avenue, San Gabriel","mapLink":"https://www.google.com/maps/search/?api=1&query=8753+East+Arcadia+Avenue+San+Gabriel+CA","icon":"home"},{"time":"20:00","title":"Dinner: Golden Deli / 101 Noodle Express","location":"San Gabriel","mapLink":"https://www.google.com/maps/search/?api=1&query=Golden+Deli+San+Gabriel","icon":"restaurant"}]},{"id":2,"date":"2026-02-19","weekday":"Thursday","title":"Pasadena Culture & Jet Lag","location":"Pasadena","weather":"Sunny 75F","events":[{"time":"10:00","title":"Breakfast: Vroman's / Great Maple","location":"Pasadena","mapLink":"","icon":"coffee"},{"time":"11:00","title":"The Huntington Library","location":"The Huntington","mapLink":"https://www.google.com/maps/search/?api=1&query=The+Huntington+Library","icon":"local_library"},{"time":"14:00","title":"Old Pasadena Shopping","location":"Colorado Blvd","mapLink":"","icon":"shopping_bag"},{"time":"16:00","title":"Trader Joe's","location":"South Pasadena","mapLink":"https://www.google.com/maps/search/?api=1&query=Trader+Joe's+South+Pasadena","icon":"shopping_cart"},{"time":"17:30","title":"Super King Market","location":"Altadena","mapLink":"https://www.google.com/maps/search/?api=1&query=Super+King+Market+Altadena","icon":"store"},{"time":"19:00","title":"Dinner: Sam Woo BBQ / Boiling Point","location":"San Gabriel","mapLink":"","icon":"restaurant"}]},{"id":3,"date":"2026-02-20","weekday":"Friday","title":"Lakers Game Day & Hollywood","location":"DTLA / Hollywood","weather":"Sunny 74F","events":[{"time":"09:30","title":"Breakfast: Eggslut","location":"Grand Central Market","mapLink":"https://www.google.com/maps/search/?api=1&query=Grand+Central+Market","icon":"egg_alt"},{"time":"11:30","title":"Beverly Hills & Rodeo Drive","location":"Beverly Hills","mapLink":"","icon":"diamond"},{"time":"13:30","title":"Lunch: The Grove / Farmers Market","location":"The Grove","mapLink":"","icon":"lunch_dining"},{"time":"15:00","title":"Hollywood Walk of Fame","location":"Hollywood Blvd","mapLink":"","icon":"star"},{"time":"16:30","title":"Head to Arena (Parking)","location":"Crypto.com Arena","mapLink":"https://www.google.com/maps/search/?api=1&query=Crypto.com+Arena","icon":"directions_car"},{"time":"19:00","title":"Lakers vs Clippers","location":"Crypto.com Arena","mapLink":"","icon":"sports_basketball"},{"time":"22:00","title":"Return to San Gabriel","location":"San Gabriel","mapLink":"","icon":"home"}]},{"id":4,"date":"2026-02-21","weekday":"Saturday","title":"Choose Your Adventure","location":"Santa Monica / Universal / Disney","weather":"Sunny 70F","events":[{"time":"09:30","title":"Option A: Santa Monica Pier","location":"Santa Monica","mapLink":"https://www.google.com/maps/search/?api=1&query=Santa+Monica+Pier","icon":"beach_access"},{"time":"14:00","title":"Option A: Getty Center","location":"Brentwood","mapLink":"https://www.google.com/maps/search/?api=1&query=The+Getty+Center","icon":"museum"},{"time":"09:00","title":"Option B: Universal Studios","location":"Universal City","mapLink":"","icon":"movie"},{"time":"08:00","title":"Option C: Disneyland","location":"Anaheim","mapLink":"","icon":"castle"}]},{"id":5,"date":"2026-02-22","weekday":"Sunday","title":"Road to Las Vegas","location":"Las Vegas","weather":"Sunny 65F","events":[{"time":"10:00","title":"Checkout Airbnb","location":"San Gabriel","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Brunch: Yi Mei Deli","location":"San Gabriel","mapLink":"","icon":"breakfast_dining"},{"time":"12:30","title":"Drive to Las Vegas","location":"I-15 North","mapLink":"","icon":"directions_car"},{"time":"14:30","title":"Stop: Barstow Outlets","location":"Barstow","mapLink":"https://www.google.com/maps/search/?api=1&query=Outlets+at+Barstow","icon":"shopping_bag"},{"time":"17:30","title":"Check-in: Treasure Island / Luxor","location":"Las Vegas Strip","mapLink":"","icon":"hotel"},{"time":"19:00","title":"The Strip Walk & Dinner","location":"Las Vegas Blvd","mapLink":"","icon":"nightlife"}]},{"id":6,"date":"2026-02-23","weekday":"Monday","title":"Grand Canyon Tour","location":"Grand Canyon / Las Vegas","weather":"Sunny 50F","events":[{"time":"06:00","title":"Tour Pickup","location":"Hotel Lobby","mapLink":"","icon":"directions_bus"},{"time":"13:00","title":"Grand Canyon South Rim","location":"Grand Canyon National Park","mapLink":"","icon":"landscape"},{"time":"20:30","title":"Return to Las Vegas","location":"Las Vegas","mapLink":"","icon":"home"},{"time":"21:00","title":"Dinner: In-N-Out / Buffet","location":"Las Vegas","mapLink":"","icon":"fastfood"}]},{"id":7,"date":"2026-02-24","weekday":"Tuesday","title":"Return to California","location":"Ontario","weather":"Sunny 72F","events":[{"time":"10:30","title":"Checkout Hotel","location":"Las Vegas","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Seven Magic Mountains","location":"S Las Vegas Blvd","mapLink":"https://www.google.com/maps/search/?api=1&query=Seven+Magic+Mountains","icon":"photo_camera"},{"time":"13:00","title":"Drive to Ontario","location":"I-15 South","mapLink":"","icon":"directions_car"},{"time":"16:00","title":"Ontario Mills Outlets","location":"Ontario","mapLink":"https://www.google.com/maps/search/?api=1&query=Ontario+Mills","icon":"shopping_bag"},{"time":"19:00","title":"Check-in: Hotel d'Lins","location":"3400 Shelby St, Ontario, CA 91764","mapLink":"","icon":"hotel"}]},{"id":8,"date":"2026-02-25","weekday":"Wednesday","title":"Departure","location":"ONT Airport","weather":"Sunny 72F","events":[{"time":"10:00","title":"Checkout","location":"Hotel d'Lins","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Rancho Santa Ana Botanic Garden","location":"Claremont","mapLink":"https://www.google.com/maps/search/?api=1&query=California+Botanic+Garden","icon":"park"},{"time":"15:00","title":"Early Dinner / Last Shopping","location":"Ontario","mapLink":"","icon":"restaurant"},{"time":"19:30","title":"Return Rental Car","location":"ONT Rental Car Center","mapLink":"","icon":"no_crash"},{"time":"20:30","title":"Airport Check-in","location":"ONT Airport","mapLink":"","icon":"flight_takeoff"},{"time":"22:50","title":"Flight CI23 Departure","location":"ONT Airport","mapLink":"","icon":"airplanemode_active"}]}]`);function fD(){const r=ss(),{currentUser:e}=jh(),[n,s]=G.useState(0);return G.useEffect(()=>{async function o(){if(e)try{const u=WN(Vm(km,"expenses"),eD("paidBy","==",e.uid)),f=await Nb(u);let p=0;f.forEach(g=>{p+=parseFloat(g.data().amount)}),s(p)}catch(u){console.error("Error fetching expenses:",u)}}o()},[e]),w.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-24 font-display",children:[w.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-background-dark/80 ios-blur p-4 border-b border-white/5",children:[w.jsx("div",{className:"flex size-10 items-center justify-center cursor-pointer active:opacity-50 transition-opacity",children:w.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"menu"})}),w.jsx("h1",{className:"text-white text-base font-bold flex-1 text-center tracking-tight",children:""}),w.jsx("div",{className:"flex size-10 items-center justify-center",children:e?.photoURL?w.jsx("img",{src:e.photoURL,alt:"User",className:"size-8 rounded-full border border-primary/30"}):w.jsx("button",{className:"size-8 rounded-full bg-primary/20 text-primary flex items-center justify-center border border-primary/30",children:w.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"person"})})})]}),w.jsxs("main",{className:"flex-1 px-5 pt-6 space-y-6",children:[w.jsx("section",{children:w.jsxs("div",{className:"relative rounded-2xl bg-card-dark border border-white/10 overflow-hidden shadow-xl",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 z-20",children:w.jsxs("div",{className:"flex items-center gap-1 bg-black/40 px-2 py-1 rounded-full border border-white/10",children:[w.jsx("span",{className:"material-symbols-outlined text-primary text-[14px]",children:"sync_alt"}),w.jsx("span",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:"USD/TWD"})]})}),w.jsx("div",{className:"relative w-full h-32 bg-center bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBbIfNtpxEJBkZ8nYoWabGRJZepciIRWK4jMVZPfjItvYa9li7pRYX8TrXIArgl87Yh5Djf_pEfmr2eoPqW639TGnFeWm1r_ysOIOaQQqGTVrJJjwadrfrB5b95zhiANEEoHRW2FyWshCDf1NoPpUapy6OL41TA8a18js9_Fr-xuM8NOXE1PF8U-6O7Jmwvl0b8Qnj9tgGZxzjVmHu1Bc4Iu4KbnV02UfiX1yKMc3IxFtk8NDEOTFYIUZ86hblVP0Twpk_vhw7yA00")'},children:w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card-dark via-card-dark/40 to-transparent"})}),w.jsxs("div",{className:"px-5 pb-5 -mt-6 relative z-10 flex flex-col",children:[w.jsx("span",{className:"text-primary text-[10px] font-bold tracking-[0.15em] uppercase mb-1",children:""}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsxs("div",{className:"flex items-baseline gap-2",children:[w.jsxs("p",{className:"text-white text-3xl font-bold tracking-tight",children:["$",n.toFixed(2)]}),w.jsx("span",{className:"text-gray-500 text-sm font-medium",children:"USD"})]}),w.jsxs("div",{className:"flex items-center gap-2 mt-0.5 opacity-80",children:[w.jsx("span",{className:"material-symbols-outlined text-[14px] text-gray-400",children:"trending_up"}),w.jsxs("p",{className:"text-gray-400 text-lg font-semibold leading-none",children:[" NT$ ",(n*32).toLocaleString()]}),w.jsx("span",{className:"text-gray-600 text-[10px] font-medium uppercase tracking-tighter",children:"TWD"})]})]}),w.jsx("button",{onClick:()=>r("/add-expense"),className:"mt-4 w-full bg-primary text-background-dark py-3 rounded-xl font-bold text-xs uppercase tracking-widest active:scale-[0.98] transition-transform",children:""})]})]})}),w.jsx("section",{className:"grid grid-cols-1 gap-4",children:w.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-br from-blue-600/20 to-primary/5 p-4 rounded-2xl border border-white/5 ios-blur",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"size-12 bg-white/10 rounded-xl flex items-center justify-center",children:w.jsx("span",{className:"material-symbols-outlined text-primary text-3xl fill-icon",children:"partly_cloudy_day"})}),w.jsxs("div",{children:[w.jsxs("p",{className:"text-white text-lg font-bold",children:["24C ",w.jsx("span",{className:"text-gray-400 font-normal",children:""})]}),w.jsxs("p",{className:"text-gray-500 text-[11px] font-medium flex items-center gap-1",children:[w.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"location_on"})," , CA"]})]})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-primary text-[10px] font-bold uppercase tracking-wider mb-1",children:""}),w.jsx("p",{className:"text-white/80 text-xs font-semibold",children:"17:45"})]})]})}),w.jsxs("div",{className:"flex items-center justify-between border-b border-white/5 pb-2",children:[w.jsx("h2",{className:"text-white text-xl font-bold tracking-tight",children:"8 "}),w.jsxs("div",{className:"flex items-center gap-1 bg-white/5 px-2 py-1 rounded-md",children:[w.jsx("span",{className:"material-symbols-outlined text-[14px] text-primary",children:"calendar_month"}),w.jsx("span",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-wider",children:"2/18 - 2/25"})]})]}),w.jsx("section",{className:"space-y-3 pb-8",children:Lp.map(o=>w.jsxs("div",{onClick:()=>r(`/day/${o.id}`),className:`flex items-center gap-4 border border-white/5 p-4 rounded-2xl active:bg-white/5 transition-colors cursor-pointer ${o.id===1?"bg-primary/10 border-primary/20":"bg-card-dark"}`,children:[w.jsxs("div",{className:`flex flex-col items-center justify-center size-14 rounded-xl ${o.id===1?"bg-primary text-background-dark":"bg-white/5 text-gray-400"}`,children:[w.jsx("span",{className:"text-[10px] font-black uppercase leading-none mb-0.5",children:"2"}),w.jsx("span",{className:"text-xl font-bold leading-none",children:parseInt(o.date.split("-")[2])})]}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[w.jsxs("span",{className:`${o.id===1?"text-primary":"text-gray-500"} text-[10px] font-black uppercase tracking-widest`,children:[" 0",o.id," "]}),o.id===1&&w.jsx("span",{className:"size-1 bg-primary rounded-full"}),w.jsx("span",{className:`${o.id===1?"text-primary":"text-gray-500"} text-[10px] font-medium uppercase`,children:o.location})]}),w.jsx("p",{className:"text-white text-base font-bold leading-snug",children:o.title})]}),w.jsx("span",{className:`material-symbols-outlined ${o.id===1?"text-primary":"text-gray-700"}`,children:"arrow_forward_ios"})]},o.id))})]}),w.jsx(Mb,{})]})}function dD(){const r=ss();return w.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-24 font-display",children:[w.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-background-dark/80 ios-blur p-4 border-b border-white/5",children:[w.jsx("div",{onClick:()=>r(-1),className:"flex size-10 items-center justify-center cursor-pointer active:opacity-50 transition-opacity",children:w.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"arrow_back"})}),w.jsx("h1",{className:"text-white text-base font-bold flex-1 text-center tracking-tight",children:"Full Itinerary"}),w.jsx("div",{className:"size-10"})]}),w.jsx("main",{className:"flex-1 px-5 pt-6 space-y-6",children:Lp.map(e=>w.jsxs("div",{onClick:()=>r(`/day/${e.id}`),className:"group flex items-start gap-4 p-4 rounded-2xl border border-white/5 bg-card-dark active:bg-white/5 cursor-pointer",children:[w.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[3rem]",children:[w.jsx("span",{className:"text-gray-500 text-[10px] font-bold uppercase",children:e.weekday.substring(0,3)}),w.jsx("span",{className:"text-2xl font-bold text-white",children:parseInt(e.date.split("-")[2])})]}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("p",{className:"text-primary text-xs font-bold uppercase tracking-wider mb-1",children:["Day ",e.id,"  ",e.location]}),w.jsx("h3",{className:"text-white text-lg font-bold leading-tight mb-2",children:e.title}),w.jsx("div",{className:"flex flex-wrap gap-2",children:e.events.slice(0,3).map((n,s)=>w.jsx("span",{className:"text-gray-400 text-xs bg-black/20 px-2 py-1 rounded-md border border-white/5",children:n.title},s))})]}),w.jsx("span",{className:"material-symbols-outlined text-gray-600 group-active:text-primary self-center",children:"chevron_right"})]},e.id))}),w.jsx(Mb,{})]})}function mD(){const{id:r}=n1(),e=ss(),n=Lp.find(s=>s.id===parseInt(r));return n?w.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-24 font-display",children:[w.jsx("nav",{className:"sticky top-0 z-50 bg-background-dark/95 backdrop-blur-xl border-b border-white/5",children:w.jsxs("div",{className:"flex items-center justify-between px-4 h-16",children:[w.jsx("button",{onClick:()=>e(-1),className:"w-12 h-12 flex items-center justify-center rounded-full active:bg-white/10 transition-colors",children:w.jsx("span",{className:"material-symbols-outlined text-2xl text-white",children:"arrow_back_ios_new"})}),w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-[10px] font-bold opacity-50 uppercase tracking-[0.2em] text-primary",children:n.date}),w.jsxs("p",{className:"text-lg font-bold text-white",children:["Day ",n.id," Details"]})]}),w.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-full active:bg-white/10 transition-colors",children:w.jsx("span",{className:"material-symbols-outlined text-2xl text-white",children:"ios_share"})})]})}),w.jsxs("main",{className:"px-4 pt-6 space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:"bg-card-dark p-4 rounded-2xl border border-white/5 shadow-sm flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:w.jsx("span",{className:"material-symbols-outlined text-primary",children:"cloudy_snowing"})}),w.jsxs("div",{children:[w.jsx("span",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Weather"}),w.jsx("span",{className:"text-lg font-bold text-white",children:n.weather})]})]}),w.jsxs("div",{className:"bg-card-dark p-4 rounded-2xl border border-white/5 shadow-sm flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:w.jsx("span",{className:"material-symbols-outlined text-emerald-500",children:"currency_exchange"})}),w.jsxs("div",{children:[w.jsx("span",{className:"block text-[10px] font-bold text-gray-400 uppercase",children:"Rate (TWD)"}),w.jsx("span",{className:"text-lg font-bold text-primary",children:"32.1"})]})]})]}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-white/5"}),w.jsx("div",{className:"space-y-10",children:n.events.map((s,o)=>w.jsxs("div",{className:"relative pl-14",children:[w.jsx("div",{className:"absolute left-3 top-0 w-6 h-6 rounded-full bg-primary ring-4 ring-background-dark z-10 flex items-center justify-center shadow-lg",children:w.jsx("span",{className:"material-symbols-outlined text-[14px] text-white font-bold",children:o===0?"check":"schedule"})}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("span",{className:"text-xs font-bold text-primary mb-1 block",children:s.time}),w.jsx("h3",{className:"text-xl font-bold text-white",children:s.title})]}),w.jsx("span",{className:"material-symbols-outlined opacity-30 text-white",children:"more_horiz"})]}),w.jsx("div",{className:"rounded-2xl overflow-hidden bg-card-dark border border-white/10 shadow-md",children:s.mapLink?w.jsxs("a",{href:s.mapLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-4 active:bg-white/5 transition-colors cursor-pointer group",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:w.jsx("span",{className:"material-symbols-outlined text-sm text-primary",children:s.icon||"location_on"})}),w.jsx("span",{className:"text-sm font-medium text-gray-300 truncate max-w-[150px]",children:s.location})]}),w.jsxs("span",{className:"text-xs font-bold text-primary uppercase tracking-wider flex items-center gap-1 group-hover:underline",children:["Open ",w.jsx("span",{className:"material-symbols-outlined text-sm",children:"open_in_new"})]})]}):w.jsxs("div",{className:"flex items-center gap-3 p-4",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:w.jsx("span",{className:"material-symbols-outlined text-sm text-gray-400",children:s.icon||"location_on"})}),w.jsx("span",{className:"text-sm font-medium text-gray-400 truncate",children:s.location})]})})]})]},o))})]})]}),w.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-[360px] bg-white/10 backdrop-blur-xl rounded-full px-2 py-2 flex items-center justify-between shadow-2xl border border-white/10 z-[100]",children:[w.jsx("button",{onClick:()=>e("/itinerary"),className:"flex-1 flex flex-col items-center justify-center py-2 text-primary",children:w.jsx("span",{className:"material-symbols-outlined",children:"calendar_month"})}),w.jsx("button",{onClick:()=>e("/overview"),className:"flex-1 flex flex-col items-center justify-center py-2 text-slate-400",children:w.jsx("span",{className:"material-symbols-outlined",children:"dashboard"})}),w.jsx("div",{className:"flex-1 flex justify-center -mt-8",children:w.jsx("button",{onClick:()=>e("/add-expense"),className:"w-14 h-14 bg-primary text-white rounded-full shadow-lg flex items-center justify-center ring-4 ring-background-dark active:scale-95 transition-transform",children:w.jsx("span",{className:"material-symbols-outlined text-3xl",children:"add"})})}),w.jsx("button",{className:"flex-1 flex flex-col items-center justify-center py-2 text-slate-400",children:w.jsx("span",{className:"material-symbols-outlined",children:"payments"})}),w.jsx("button",{className:"flex-1 flex flex-col items-center justify-center py-2 text-slate-400",children:w.jsx("span",{className:"material-symbols-outlined",children:"person"})})]})]}):w.jsx("div",{className:"text-white text-center pt-20",children:"Day not found"})}function pD(){const r=ss(),{currentUser:e}=jh(),[n,s]=G.useState(""),[o,u]=G.useState("USD"),[f,p]=G.useState(""),[g,y]=G.useState([]),[E,b]=G.useState(!1),[I,z]=G.useState([]);G.useEffect(()=>{async function B(){try{const ne=await Nb(Vm(km,"users")),te=[];ne.forEach(ie=>{ie.id!==e?.uid&&te.push(ie.data())}),z(te)}catch(ne){console.error("Error fetching users:",ne)}}B()},[e]);const Z=B=>{g.includes(B)?y(g.filter(ne=>ne!==B)):y([...g,B])},X=async()=>{if(!n||!f){alert("");return}b(!0);try{await sD(Vm(km,"expenses"),{amount:parseFloat(n),currency:o,item:f,paidBy:e.uid,splitWith:g,createdAt:oD()}),r("/overview")}catch(B){console.error("Error adding document: ",B),alert("")}finally{b(!1)}};return w.jsxs("div",{className:"relative flex h-full min-h-screen w-full max-w-[430px] mx-auto flex-col bg-background-dark overflow-x-hidden shadow-2xl font-display text-white",children:[w.jsxs("header",{className:"sticky top-0 z-20 flex items-center bg-background-dark/80 backdrop-blur-md px-4 pt-4 pb-4 justify-between border-b border-white/10",children:[w.jsx("button",{onClick:()=>r(-1),className:"text-primary text-base font-medium",children:""}),w.jsx("h1",{className:"text-white text-[17px] font-bold",children:""}),w.jsx("div",{className:"flex w-12 items-center justify-end",children:w.jsx("button",{onClick:X,disabled:E,className:"text-primary text-base font-bold disabled:opacity-50",children:""})})]}),w.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar px-4 pt-6 pb-32",children:[w.jsx("div",{className:"bg-card-dark rounded-xl p-5 mb-6 shadow-sm border border-white/5",children:w.jsxs("div",{className:"flex flex-col gap-6",children:[w.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest",children:""}),w.jsxs("div",{className:"flex bg-black/20 p-0.5 rounded-full",children:[w.jsx("button",{onClick:()=>u("USD"),className:`px-2 py-0.5 rounded-full text-[9px] font-bold transition-all ${o==="USD"?"bg-slate-700 text-white shadow-sm":"text-slate-500"}`,children:"USD"}),w.jsx("button",{onClick:()=>u("TWD"),className:`px-2 py-0.5 rounded-full text-[9px] font-bold transition-all ${o==="TWD"?"bg-slate-700 text-white shadow-sm":"text-slate-500"}`,children:"TWD"})]})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("span",{className:"text-primary text-3xl font-bold leading-none",children:o==="USD"?"$":"NT$"}),w.jsx("input",{value:n,onChange:B=>s(B.target.value),className:"bg-transparent border-none text-white text-5xl font-bold p-0 focus:ring-0 w-48 text-center placeholder:text-slate-700 placeholder:font-bold",placeholder:"0.00",type:"number",step:"0.01"})]})]}),w.jsx("div",{className:"h-px bg-white/10 w-full"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("label",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest mb-2",children:""}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"material-symbols-outlined text-primary text-xl",children:"receipt_long"}),w.jsx("input",{value:f,onChange:B=>p(B.target.value),className:"bg-transparent border-none text-white text-lg font-medium p-0 focus:ring-0 flex-1 placeholder:text-slate-600",placeholder:": ",type:"text"})]})]})]})}),w.jsxs("div",{className:"bg-card-dark rounded-xl p-5 mb-6 shadow-sm border border-white/5",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsx("h3",{className:"text-white text-base font-bold leading-tight",children:""}),w.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[w.jsx("span",{className:"material-symbols-outlined text-sm",children:"group"}),w.jsx("span",{className:"text-[11px] font-medium italic",children:""})]})]}),w.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 custom-scrollbar",children:I.length===0?w.jsx("p",{className:"text-sm text-gray-500 italic",children:" ()"}):I.map(B=>w.jsxs("button",{onClick:()=>Z(B.uid),className:`flex flex-col items-center gap-2 min-w-[64px] transition-opacity ${g.includes(B.uid)?"opacity-100":"opacity-40"}`,children:[w.jsxs("div",{className:`relative p-0.5 rounded-full ring-2 ${g.includes(B.uid)?"ring-primary":"ring-transparent"} ring-offset-2 ring-offset-card-dark`,children:[B.photoURL?w.jsx("img",{alt:B.displayName,className:"w-12 h-12 rounded-full object-cover bg-slate-200",src:B.photoURL}):w.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-600 flex items-center justify-center text-white font-bold",children:B.displayName?B.displayName[0]:"?"}),g.includes(B.uid)&&w.jsx("div",{className:"absolute -bottom-1 -right-1 bg-primary text-white rounded-full p-0.5 border-2 border-card-dark",children:w.jsx("span",{className:"material-symbols-outlined text-[12px] block font-bold",children:"check"})})]}),w.jsx("p",{className:"text-white text-[11px] font-bold truncate w-16 text-center",children:B.displayName||"User"})]},B.uid))}),w.jsxs("div",{className:"mt-6 p-1 bg-black/20 rounded-lg flex",children:[w.jsx("button",{className:"flex-1 py-2 px-4 rounded-md text-xs font-bold transition-all bg-card-dark text-white shadow-sm",children:""}),w.jsx("button",{className:"flex-1 py-2 px-4 rounded-md text-xs font-bold transition-all text-slate-500",children:""})]})]}),w.jsx("div",{className:"bg-card-dark rounded-xl p-5 shadow-sm border border-white/5",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:""}),w.jsxs("p",{className:"text-white text-2xl font-bold",children:[o==="USD"?"$":"NT$",n&&g.length+1>0?(parseFloat(n)/(g.length+1)).toFixed(2):"0.00"]})]}),w.jsxs("div",{className:"bg-teal-500/10 text-teal-500 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-tight",children:[g.length+1," "]})]})})]}),w.jsx("div",{className:"fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-[430px] p-6 bg-gradient-to-t from-background-dark via-background-dark to-transparent pt-10 z-30",children:w.jsxs("button",{onClick:X,disabled:E,className:"w-full bg-primary hover:bg-primary/90 text-background-dark font-bold py-4 rounded-xl shadow-lg shadow-primary/20 transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[w.jsx("span",{className:"material-symbols-outlined",children:"add"}),""]})})]})}function gD(){return w.jsx(q1,{basename:"/la-nba/",children:w.jsx(cD,{children:w.jsxs(_1,{children:[w.jsx(za,{path:"/",element:w.jsx(hD,{})}),w.jsx(za,{path:"/overview",element:w.jsx(jc,{children:w.jsx(fD,{})})}),w.jsx(za,{path:"/itinerary",element:w.jsx(jc,{children:w.jsx(dD,{})})}),w.jsx(za,{path:"/day/:id",element:w.jsx(jc,{children:w.jsx(mD,{})})}),w.jsx(za,{path:"/add-expense",element:w.jsx(jc,{children:w.jsx(pD,{})})})]})})})}vA.createRoot(document.getElementById("root")).render(w.jsx(G.StrictMode,{children:w.jsx(gD,{})}));
