(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function jE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Zm={exports:{}},ic={};var Qv;function n1(){if(Qv)return ic;Qv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:m,ref:l!==void 0?l:null,props:h}}return ic.Fragment=t,ic.jsx=n,ic.jsxs=n,ic}var Yv;function i1(){return Yv||(Yv=1,Zm.exports=n1()),Zm.exports}var C=i1(),Km={exports:{}},Ft={};var Xv;function r1(){if(Xv)return Ft;Xv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function B(j){return j===null||typeof j!="object"?null:(j=D&&j[D]||j["@@iterator"],typeof j=="function"?j:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,H={};function at(j,ot,gt){this.props=j,this.context=ot,this.refs=H,this.updater=gt||Q}at.prototype.isReactComponent={},at.prototype.setState=function(j,ot){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ot,"setState")},at.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function lt(){}lt.prototype=at.prototype;function st(j,ot,gt){this.props=j,this.context=ot,this.refs=H,this.updater=gt||Q}var Rt=st.prototype=new lt;Rt.constructor=st,F(Rt,at.prototype),Rt.isPureReactComponent=!0;var Dt=Array.isArray;function Vt(){}var V={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function P(j,ot,gt){var _t=gt.ref;return{$$typeof:r,type:j,key:ot,ref:_t!==void 0?_t:null,props:gt}}function Z(j,ot){return P(j.type,ot,j.props)}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function G(j){var ot={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(gt){return ot[gt]})}var z=/\/+/g;function oe(j,ot){return typeof j=="object"&&j!==null&&j.key!=null?G(""+j.key):ot.toString(36)}function Xe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Vt,Vt):(j.status="pending",j.then(function(ot){j.status==="pending"&&(j.status="fulfilled",j.value=ot)},function(ot){j.status==="pending"&&(j.status="rejected",j.reason=ot)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function rt(j,ot,gt,_t,Tt){var bt=typeof j;(bt==="undefined"||bt==="boolean")&&(j=null);var Ht=!1;if(j===null)Ht=!0;else switch(bt){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(j.$$typeof){case r:case t:Ht=!0;break;case S:return Ht=j._init,rt(Ht(j._payload),ot,gt,_t,Tt)}}if(Ht)return Tt=Tt(j),Ht=_t===""?"."+oe(j,0):_t,Dt(Tt)?(gt="",Ht!=null&&(gt=Ht.replace(z,"$&/")+"/"),rt(Tt,ot,gt,"",function(ur){return ur})):Tt!=null&&(O(Tt)&&(Tt=Z(Tt,gt+(Tt.key==null||j&&j.key===Tt.key?"":(""+Tt.key).replace(z,"$&/")+"/")+Ht)),ot.push(Tt)),1;Ht=0;var Te=_t===""?".":_t+":";if(Dt(j))for(var Ae=0;Ae<j.length;Ae++)_t=j[Ae],bt=Te+oe(_t,Ae),Ht+=rt(_t,ot,gt,bt,Tt);else if(Ae=B(j),typeof Ae=="function")for(j=Ae.call(j),Ae=0;!(_t=j.next()).done;)_t=_t.value,bt=Te+oe(_t,Ae++),Ht+=rt(_t,ot,gt,bt,Tt);else if(bt==="object"){if(typeof j.then=="function")return rt(Xe(j),ot,gt,_t,Tt);throw ot=String(j),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function vt(j,ot,gt){if(j==null)return j;var _t=[],Tt=0;return rt(j,_t,"","",function(bt){return ot.call(gt,bt,Tt++)}),_t}function pt(j){if(j._status===-1){var ot=j._result;ot=ot(),ot.then(function(gt){(j._status===0||j._status===-1)&&(j._status=1,j._result=gt)},function(gt){(j._status===0||j._status===-1)&&(j._status=2,j._result=gt)}),j._status===-1&&(j._status=0,j._result=ot)}if(j._status===1)return j._result.default;throw j._result}var te=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},wt={map:vt,forEach:function(j,ot,gt){vt(j,function(){ot.apply(this,arguments)},gt)},count:function(j){var ot=0;return vt(j,function(){ot++}),ot},toArray:function(j){return vt(j,function(ot){return ot})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ft.Activity=A,Ft.Children=wt,Ft.Component=at,Ft.Fragment=n,Ft.Profiler=l,Ft.PureComponent=st,Ft.StrictMode=a,Ft.Suspense=y,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(j){return V.H.useMemoCache(j)}},Ft.cache=function(j){return function(){return j.apply(null,arguments)}},Ft.cacheSignal=function(){return null},Ft.cloneElement=function(j,ot,gt){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var _t=F({},j.props),Tt=j.key;if(ot!=null)for(bt in ot.key!==void 0&&(Tt=""+ot.key),ot)!M.call(ot,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&ot.ref===void 0||(_t[bt]=ot[bt]);var bt=arguments.length-2;if(bt===1)_t.children=gt;else if(1<bt){for(var Ht=Array(bt),Te=0;Te<bt;Te++)Ht[Te]=arguments[Te+2];_t.children=Ht}return P(j.type,Tt,_t)},Ft.createContext=function(j){return j={$$typeof:m,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:h,_context:j},j},Ft.createElement=function(j,ot,gt){var _t,Tt={},bt=null;if(ot!=null)for(_t in ot.key!==void 0&&(bt=""+ot.key),ot)M.call(ot,_t)&&_t!=="key"&&_t!=="__self"&&_t!=="__source"&&(Tt[_t]=ot[_t]);var Ht=arguments.length-2;if(Ht===1)Tt.children=gt;else if(1<Ht){for(var Te=Array(Ht),Ae=0;Ae<Ht;Ae++)Te[Ae]=arguments[Ae+2];Tt.children=Te}if(j&&j.defaultProps)for(_t in Ht=j.defaultProps,Ht)Tt[_t]===void 0&&(Tt[_t]=Ht[_t]);return P(j,bt,Tt)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(j){return{$$typeof:v,render:j}},Ft.isValidElement=O,Ft.lazy=function(j){return{$$typeof:S,_payload:{_status:-1,_result:j},_init:pt}},Ft.memo=function(j,ot){return{$$typeof:E,type:j,compare:ot===void 0?null:ot}},Ft.startTransition=function(j){var ot=V.T,gt={};V.T=gt;try{var _t=j(),Tt=V.S;Tt!==null&&Tt(gt,_t),typeof _t=="object"&&_t!==null&&typeof _t.then=="function"&&_t.then(Vt,te)}catch(bt){te(bt)}finally{ot!==null&&gt.types!==null&&(ot.types=gt.types),V.T=ot}},Ft.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Ft.use=function(j){return V.H.use(j)},Ft.useActionState=function(j,ot,gt){return V.H.useActionState(j,ot,gt)},Ft.useCallback=function(j,ot){return V.H.useCallback(j,ot)},Ft.useContext=function(j){return V.H.useContext(j)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(j,ot){return V.H.useDeferredValue(j,ot)},Ft.useEffect=function(j,ot){return V.H.useEffect(j,ot)},Ft.useEffectEvent=function(j){return V.H.useEffectEvent(j)},Ft.useId=function(){return V.H.useId()},Ft.useImperativeHandle=function(j,ot,gt){return V.H.useImperativeHandle(j,ot,gt)},Ft.useInsertionEffect=function(j,ot){return V.H.useInsertionEffect(j,ot)},Ft.useLayoutEffect=function(j,ot){return V.H.useLayoutEffect(j,ot)},Ft.useMemo=function(j,ot){return V.H.useMemo(j,ot)},Ft.useOptimistic=function(j,ot){return V.H.useOptimistic(j,ot)},Ft.useReducer=function(j,ot,gt){return V.H.useReducer(j,ot,gt)},Ft.useRef=function(j){return V.H.useRef(j)},Ft.useState=function(j){return V.H.useState(j)},Ft.useSyncExternalStore=function(j,ot,gt){return V.H.useSyncExternalStore(j,ot,gt)},Ft.useTransition=function(){return V.H.useTransition()},Ft.version="19.2.3",Ft}var Wv;function Gp(){return Wv||(Wv=1,Km.exports=r1()),Km.exports}var K=Gp();const pp=jE(K);var Qm={exports:{}},rc={},Ym={exports:{}},Xm={};var Jv;function s1(){return Jv||(Jv=1,(function(r){function t(rt,vt){var pt=rt.length;rt.push(vt);t:for(;0<pt;){var te=pt-1>>>1,wt=rt[te];if(0<l(wt,vt))rt[te]=vt,rt[pt]=wt,pt=te;else break t}}function n(rt){return rt.length===0?null:rt[0]}function a(rt){if(rt.length===0)return null;var vt=rt[0],pt=rt.pop();if(pt!==vt){rt[0]=pt;t:for(var te=0,wt=rt.length,j=wt>>>1;te<j;){var ot=2*(te+1)-1,gt=rt[ot],_t=ot+1,Tt=rt[_t];if(0>l(gt,pt))_t<wt&&0>l(Tt,gt)?(rt[te]=Tt,rt[_t]=pt,te=_t):(rt[te]=gt,rt[ot]=pt,te=ot);else if(_t<wt&&0>l(Tt,pt))rt[te]=Tt,rt[_t]=pt,te=_t;else break t}}return vt}function l(rt,vt){var pt=rt.sortIndex-vt.sortIndex;return pt!==0?pt:rt.id-vt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var m=Date,v=m.now();r.unstable_now=function(){return m.now()-v}}var y=[],E=[],S=1,A=null,D=3,B=!1,Q=!1,F=!1,H=!1,at=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function Rt(rt){for(var vt=n(E);vt!==null;){if(vt.callback===null)a(E);else if(vt.startTime<=rt)a(E),vt.sortIndex=vt.expirationTime,t(y,vt);else break;vt=n(E)}}function Dt(rt){if(F=!1,Rt(rt),!Q)if(n(y)!==null)Q=!0,Vt||(Vt=!0,G());else{var vt=n(E);vt!==null&&Xe(Dt,vt.startTime-rt)}}var Vt=!1,V=-1,M=5,P=-1;function Z(){return H?!0:!(r.unstable_now()-P<M)}function O(){if(H=!1,Vt){var rt=r.unstable_now();P=rt;var vt=!0;try{t:{Q=!1,F&&(F=!1,lt(V),V=-1),B=!0;var pt=D;try{e:{for(Rt(rt),A=n(y);A!==null&&!(A.expirationTime>rt&&Z());){var te=A.callback;if(typeof te=="function"){A.callback=null,D=A.priorityLevel;var wt=te(A.expirationTime<=rt);if(rt=r.unstable_now(),typeof wt=="function"){A.callback=wt,Rt(rt),vt=!0;break e}A===n(y)&&a(y),Rt(rt)}else a(y);A=n(y)}if(A!==null)vt=!0;else{var j=n(E);j!==null&&Xe(Dt,j.startTime-rt),vt=!1}}break t}finally{A=null,D=pt,B=!1}vt=void 0}}finally{vt?G():Vt=!1}}}var G;if(typeof st=="function")G=function(){st(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,oe=z.port2;z.port1.onmessage=O,G=function(){oe.postMessage(null)}}else G=function(){at(O,0)};function Xe(rt,vt){V=at(function(){rt(r.unstable_now())},vt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(rt){switch(D){case 1:case 2:case 3:var vt=3;break;default:vt=D}var pt=D;D=vt;try{return rt()}finally{D=pt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(rt,vt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var pt=D;D=rt;try{return vt()}finally{D=pt}},r.unstable_scheduleCallback=function(rt,vt,pt){var te=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?te+pt:te):pt=te,rt){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=pt+wt,rt={id:S++,callback:vt,priorityLevel:rt,startTime:pt,expirationTime:wt,sortIndex:-1},pt>te?(rt.sortIndex=pt,t(E,rt),n(y)===null&&rt===n(E)&&(F?(lt(V),V=-1):F=!0,Xe(Dt,pt-te))):(rt.sortIndex=wt,t(y,rt),Q||B||(Q=!0,Vt||(Vt=!0,G()))),rt},r.unstable_shouldYield=Z,r.unstable_wrapCallback=function(rt){var vt=D;return function(){var pt=D;D=vt;try{return rt.apply(this,arguments)}finally{D=pt}}}})(Xm)),Xm}var $v;function a1(){return $v||($v=1,Ym.exports=s1()),Ym.exports}var Wm={exports:{}},zn={};var t0;function o1(){if(t0)return zn;t0=1;var r=Gp();function t(y){var E="https://react.dev/errors/"+y;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)E+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,E,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:E,implementation:S}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,E){if(y==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,zn.createPortal=function(y,E){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return h(y,E,null,S)},zn.flushSync=function(y){var E=m.T,S=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=E,a.p=S,a.d.f()}},zn.preconnect=function(y,E){typeof y=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(y,E))},zn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},zn.preinit=function(y,E){if(typeof y=="string"&&E&&typeof E.as=="string"){var S=E.as,A=v(S,E.crossOrigin),D=typeof E.integrity=="string"?E.integrity:void 0,B=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;S==="style"?a.d.S(y,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:B}):S==="script"&&a.d.X(y,{crossOrigin:A,integrity:D,fetchPriority:B,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},zn.preinitModule=function(y,E){if(typeof y=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var S=v(E.as,E.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(y)},zn.preload=function(y,E){if(typeof y=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var S=E.as,A=v(S,E.crossOrigin);a.d.L(y,S,{crossOrigin:A,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},zn.preloadModule=function(y,E){if(typeof y=="string")if(E){var S=v(E.as,E.crossOrigin);a.d.m(y,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:S,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(y)},zn.requestFormReset=function(y){a.d.r(y)},zn.unstable_batchedUpdates=function(y,E){return y(E)},zn.useFormState=function(y,E,S){return m.H.useFormState(y,E,S)},zn.useFormStatus=function(){return m.H.useHostTransitionStatus()},zn.version="19.2.3",zn}var e0;function BE(){if(e0)return Wm.exports;e0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Wm.exports=o1(),Wm.exports}var n0;function l1(){if(n0)return rc;n0=1;var r=a1(),t=Gp(),n=BE();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function m(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(a(188))}function E(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return y(p),e;if(g===c)return y(p),i;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=p,c=g;else{for(var w=!1,I=p.child;I;){if(I===o){w=!0,o=p,c=g;break}if(I===c){w=!0,c=p,o=g;break}I=I.sibling}if(!w){for(I=g.child;I;){if(I===o){w=!0,o=g,c=p;break}if(I===c){w=!0,c=g,o=p;break}I=I.sibling}if(!w)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function S(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=S(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),Dt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var z=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case at:return"Profiler";case H:return"StrictMode";case Dt:return"Suspense";case Vt:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case st:return e.displayName||"Context";case lt:return(e._context.displayName||"Context")+".Consumer";case Rt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:oe(e.type)||"Memo";case M:i=e._payload,e=e._init;try{return oe(e(i))}catch{}}return null}var Xe=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},te=[],wt=-1;function j(e){return{current:e}}function ot(e){0>wt||(e.current=te[wt],te[wt]=null,wt--)}function gt(e,i){wt++,te[wt]=e.current,e.current=i}var _t=j(null),Tt=j(null),bt=j(null),Ht=j(null);function Te(e,i){switch(gt(bt,i),gt(Tt,e),gt(_t,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?_v(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=_v(i),e=yv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(_t),gt(_t,e)}function Ae(){ot(_t),ot(Tt),ot(bt)}function ur(e){e.memoizedState!==null&&gt(Ht,e);var i=_t.current,o=yv(i,e.type);i!==o&&(gt(Tt,e),gt(_t,o))}function Dr(e){Tt.current===e&&(ot(_t),ot(Tt)),Ht.current===e&&(ot(Ht),$u._currentValue=pt)}var Vi,Mr;function zi(e){if(Vi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Vi=i&&i[1]||"",Mr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vi+e+Mr}var Qs=!1;function Lr(e,i){if(!e||Qs)return"";Qs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(it){var et=it}Reflect.construct(e,[],dt)}else{try{dt.call()}catch(it){et=it}e.call(dt.prototype)}}else{try{throw Error()}catch(it){et=it}(dt=e())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(it){if(it&&et&&typeof it.stack=="string")return[it.stack,et.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],I=g[1];if(w&&I){var U=w.split(`
`),$=I.split(`
`);for(p=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;if(c===U.length||p===$.length)for(c=U.length-1,p=$.length-1;1<=c&&0<=p&&U[c]!==$[p];)p--;for(;1<=c&&0<=p;c--,p--)if(U[c]!==$[p]){if(c!==1||p!==1)do if(c--,p--,0>p||U[c]!==$[p]){var ut=`
`+U[c].replace(" at new "," at ");return e.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",e.displayName)),ut}while(1<=c&&0<=p);break}}}finally{Qs=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?zi(o):""}function cs(e,i){switch(e.tag){case 26:case 27:case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return e.child!==i&&i!==null?zi("Suspense Fallback"):zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Lr(e.type,!1);case 11:return Lr(e.type.render,!1);case 1:return Lr(e.type,!0);case 31:return zi("Activity");default:return""}}function Or(e){try{var i="",o=null;do i+=cs(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Fe=Object.prototype.hasOwnProperty,qe=r.unstable_scheduleCallback,Ui=r.unstable_cancelCallback,el=r.unstable_shouldYield,no=r.unstable_requestPaint,Sn=r.unstable_now,hs=r.unstable_getCurrentPriorityLevel,fs=r.unstable_ImmediatePriority,Ys=r.unstable_UserBlockingPriority,cr=r.unstable_NormalPriority,yu=r.unstable_LowPriority,io=r.unstable_IdlePriority,ro=r.log,nl=r.unstable_setDisableYieldValue,Xn=null,We=null;function Fn(e){if(typeof ro=="function"&&nl(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Xn,e)}catch{}}var ze=Math.clz32?Math.clz32:il,Pr=Math.log,Xs=Math.LN2;function il(e){return e>>>=0,e===0?32:31-(Pr(e)/Xs|0)|0}var gi=256,kr=262144,Ue=4194304;function ji(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bi(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var p=0,g=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var I=c&134217727;return I!==0?(c=I&~g,c!==0?p=ji(c):(w&=I,w!==0?p=ji(w):o||(o=I&~e,o!==0&&(p=ji(o))))):(I=c&~g,I!==0?p=ji(I):w!==0?p=ji(w):o||(o=c&~e,o!==0&&(p=ji(o)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:p}function _i(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function vu(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rl(){var e=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),e}function Hi(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function hr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eu(e,i,o,c,p,g){var w=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var I=e.entanglements,U=e.expirationTimes,$=e.hiddenUpdates;for(o=w&~o;0<o;){var ut=31-ze(o),dt=1<<ut;I[ut]=0,U[ut]=-1;var et=$[ut];if(et!==null)for($[ut]=null,ut=0;ut<et.length;ut++){var it=et[ut];it!==null&&(it.lane&=-536870913)}o&=~dt}c!==0&&ds(e,c,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(w&~i))}function ds(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-ze(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function so(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-ze(o),p=1<<c;p&i|e[c]&i&&(e[c]|=i),o&=~p}}function ao(e,i){var o=i&-i;return o=(o&42)!==0?1:gn(o),(o&(e.suspendedLanes|i))!==0?0:o}function gn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ct(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function oo(){var e=vt.p;return e!==0?e:(e=window.event,e===void 0?32:Bv(e.type))}function Wn(e,i){var o=vt.p;try{return vt.p=e,i()}finally{vt.p=o}}var Jn=Math.random().toString(36).slice(2),je="__reactFiber$"+Jn,Ge="__reactProps$"+Jn,yi="__reactContainer$"+Jn,vi="__reactEvents$"+Jn,sl="__reactListeners$"+Jn,al="__reactHandles$"+Jn,ol="__reactResources$"+Jn,Fi="__reactMarker$"+Jn;function Ws(e){delete e[je],delete e[Ge],delete e[vi],delete e[sl],delete e[al]}function Ei(e){var i=e[je];if(i)return i;for(var o=e.parentNode;o;){if(i=o[yi]||o[je]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Sv(e);e!==null;){if(o=e[je])return o;e=Sv(e)}return i}e=o,o=e.parentNode}return null}function $n(e){if(e=e[je]||e[yi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _n(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function qi(e){var i=e[ol];return i||(i=e[ol]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(e){e[Fi]=!0}var lo=new Set,uo={};function Gi(e,i){ti(e,i),ti(e+"Capture",i)}function ti(e,i){for(uo[e]=i,e=0;e<i.length;e++)lo.add(i[e])}var fr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Js={},$s={};function Vr(e){return Fe.call($s,e)?!0:Fe.call(Js,e)?!1:fr.test(e)?$s[e]=!0:(Js[e]=!0,!1)}function Yt(e,i,o){if(Vr(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Xt(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Me(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ms(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function St(e){if(!e._valueTracker){var i=qn(e)?"checked":"value";e._valueTracker=ms(e,i,""+e[i])}}function ye(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=qn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zi=/[\n"\\]/g;function Ce(e){return e.replace(Zi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ta(e,i,o,c,p,g,w,I){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),i!=null?w==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),i!=null?bi(e,w,Le(i)):o!=null?bi(e,w,Le(o)):c!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?e.name=""+Le(I):e.removeAttribute("name")}function ps(e,i,o,c,p,g,w,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){St(e);return}o=o!=null?""+Le(o):"",i=i!=null?""+Le(i):o,I||i===e.value||(e.value=i),e.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=I?e.checked:!!c,e.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),St(e)}function bi(e,i,o){i==="number"&&ei(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ve(e,i,o,c){if(e=e.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=i.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Le(o),i=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function Ki(e,i,o){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Le(o):""}function ni(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(Xe(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Le(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),St(e)}function en(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dr(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||ea.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function gs(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&o[p]!==c&&dr(e,p,c)}else for(var g in i)i.hasOwnProperty(g)&&dr(e,g,i[g])}function zr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ur(e){return Qi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var na=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jr=null,Pt=null;function yn(e){var i=$n(e);if(i&&(e=i.stateNode)){var o=e[Ge]||null;t:switch(e=i.stateNode,i.type){case"input":if(ta(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ce(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var p=c[Ge]||null;if(!p)throw Error(a(90));ta(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&ye(c)}break t;case"textarea":Ki(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&ve(e,!!o.multiple,i,!1)}}}var he=!1;function mr(e,i,o){if(he)return e(i,o);he=!0;try{var c=e(i);return c}finally{if(he=!1,(jr!==null||Pt!==null)&&(Ah(),jr&&(i=jr,e=Pt,Pt=jr=null,yn(i),e)))for(i=0;i<e.length;i++)yn(e[i])}}function Gn(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Ge]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(On)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){pr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{pr=!1}var ii=null,gr=null,Oe=null;function Ti(){if(Oe)return Oe;var e,i=gr,o=i.length,c,p="value"in ii?ii.value:ii.textContent,g=p.length;for(e=0;e<o&&i[e]===p[e];e++);var w=o-e;for(c=1;c<=w&&i[o-c]===p[g-c];c++);return Oe=p.slice(e,1<c?1-c:void 0)}function Br(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function wi(){return!1}function nn(e){function i(o,c,p,g,w){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var I in e)e.hasOwnProperty(I)&&(o=e[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Yi:wi,this.isPropagationStopped=wi,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),i}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=nn(xi),_r=A({},xi,{view:0,detail:0}),Qt=nn(_r),Hr,vn,Pn,ys=A({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pn&&(Pn&&e.type==="mousemove"?(Hr=e.screenX-Pn.screenX,vn=e.screenY-Pn.screenY):vn=Hr=0,Pn=e),Hr)},movementY:function(e){return"movementY"in e?e.movementY:vn}}),co=nn(ys),yr=A({},ys,{dataTransfer:0}),ll=nn(yr),ho=A({},_r,{relatedTarget:0}),vs=nn(ho),fo=A({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=nn(fo),ra=A({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zn=nn(ra),ul=A({},xi,{data:0}),Si=nn(ul),Ai={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sa(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=po[e])?!!i[e]:!1}function Fr(){return sa}var En=A({},_r,{key:function(e){if(e.key){var i=Ai[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(e){return e.type==="keypress"?Br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),go=nn(En),cl=A({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vr=nn(cl),f=A({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),b=nn(f),x=A({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=nn(x),W=A({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=nn(W),yt=A({},xi,{newState:0,oldState:0}),Ut=nn(yt),le=[9,13,27,32],ue=On&&"CompositionEvent"in window,Re=null;On&&"documentMode"in document&&(Re=document.documentMode);var ri=On&&"TextEvent"in window&&!Re,si=On&&(!ue||Re&&8<Re&&11>=Re),Kn=" ",Ci=!1;function Es(e,i){switch(e){case"keyup":return le.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function Ri(e,i){switch(e){case"compositionend":return bs(i);case"keypress":return i.which!==32?null:(Ci=!0,Kn);case"textInput":return e=i.data,e===Kn&&Ci?null:e;default:return null}}function oa(e,i){if(aa)return e==="compositionend"||!ue&&Es(e,i)?(e=Ti(),Oe=gr=ii=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return si&&i.locale!=="ko"?null:i.data;default:return null}}var cd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!cd[e.type]:i==="textarea"}function Fc(e,i,o,c){jr?Pt?Pt.push(c):Pt=[c]:jr=c,i=Lh(i,"onChange"),0<i.length&&(o=new Xi("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var Ji=null,_o=null;function yo(e){hv(e,0)}function vo(e){var i=_n(e);if(ye(i))return e}function Eo(e,i){if(e==="change")return i}var qc=!1;if(On){var $i;if(On){var la="oninput"in document;if(!la){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),la=typeof Gc.oninput=="function"}$i=la}else $i=!1;qc=$i&&(!document.documentMode||9<document.documentMode)}function hl(){Ji&&(Ji.detachEvent("onpropertychange",Zc),_o=Ji=null)}function Zc(e){if(e.propertyName==="value"&&vo(_o)){var i=[];Fc(i,_o,e,Ln(e)),mr(yo,i)}}function Er(e,i,o){e==="focusin"?(hl(),Ji=i,_o=o,Ji.attachEvent("onpropertychange",Zc)):e==="focusout"&&hl()}function hd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vo(_o)}function ua(e,i){if(e==="click")return vo(i)}function fd(e,i){if(e==="input"||e==="change")return vo(i)}function br(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var bn=typeof Object.is=="function"?Object.is:br;function ca(e,i){if(bn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Fe.call(i,p)||!bn(e[p],i[p]))return!1}return!0}function fl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bo(e,i){var o=fl(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=fl(o)}}function dl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?dl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function To(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ei(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=ei(e.document)}return i}function qr(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var ml=On&&"documentMode"in document&&11>=document.documentMode,Gr=null,pl=null,wo=null,ha=!1;function Kc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ha||Gr==null||Gr!==ei(c)||(c=Gr,"selectionStart"in c&&qr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),wo&&ca(wo,c)||(wo=c,c=Lh(pl,"onSelect"),0<c.length&&(i=new Xi("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=Gr)))}function Zr(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var fa={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},gl={},Qc={};On&&(Qc=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Tn(e){if(gl[e])return gl[e];if(!fa[e])return e;var i=fa[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Qc)return gl[e]=i[o];return e}var xo=Tn("animationend"),Yc=Tn("animationiteration"),So=Tn("animationstart"),dd=Tn("transitionrun"),Xc=Tn("transitionstart"),md=Tn("transitioncancel"),da=Tn("transitionend"),Wc=new Map,Kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kr.push("scrollEnd");function ai(e,i){Wc.set(e,i),Gi(i,[e])}var Ao=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},oi=[],kn=0,_l=0;function Co(){for(var e=kn,i=_l=kn=0;i<e;){var o=oi[i];oi[i++]=null;var c=oi[i];oi[i++]=null;var p=oi[i];oi[i++]=null;var g=oi[i];if(oi[i++]=null,c!==null&&p!==null){var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}g!==0&&ma(o,p,g)}}function Qr(e,i,o,c){oi[kn++]=e,oi[kn++]=i,oi[kn++]=o,oi[kn++]=c,_l|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function bu(e,i,o,c){return Qr(e,i,o,c),Ro(e)}function tr(e,i){return Qr(e,null,null,i),Ro(e)}function ma(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&i!==null&&(p=31-ze(o),e=g.hiddenUpdates,c=e[p],c===null?e[p]=[i]:c.push(i),i.lane=o|536870912),g):null}function Ro(e){if(50<Zu)throw Zu=0,gm=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ts={};function pd(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,i,o,c){return new pd(e,i,o,c)}function yl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function er(e,i){var o=e.alternate;return o===null?(o=Vn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Tu(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Io(e,i,o,c,p,g){var w=0;if(c=e,typeof e=="function")yl(e)&&(w=1);else if(typeof e=="string")w=qx(e,o,_t.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case P:return e=Vn(31,o,i,p),e.elementType=P,e.lanes=g,e;case F:return ws(o.children,p,g,i);case H:w=8,p|=24;break;case at:return e=Vn(12,o,i,p|2),e.elementType=at,e.lanes=g,e;case Dt:return e=Vn(13,o,i,p),e.elementType=Dt,e.lanes=g,e;case Vt:return e=Vn(19,o,i,p),e.elementType=Vt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:w=10;break t;case lt:w=9;break t;case Rt:w=11;break t;case V:w=14;break t;case M:w=16,c=null;break t}w=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=Vn(w,o,i,p),i.elementType=e,i.type=c,i.lanes=g,i}function ws(e,i,o,c){return e=Vn(7,e,c,i),e.lanes=o,e}function vl(e,i,o){return e=Vn(6,e,null,i),e.lanes=o,e}function wu(e){var i=Vn(18,null,null,0);return i.stateNode=e,i}function xu(e,i,o){return i=Vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var s=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=s.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Or(i)},s.set(e,i),i)}return{value:e,source:i,stack:Or(i)}}var d=[],_=0,T=null,R=0,k=[],X=0,tt=null,ft=1,Et="";function Mt(e,i){d[_++]=R,d[_++]=T,T=e,R=i}function Zt(e,i,o){k[X++]=ft,k[X++]=Et,k[X++]=tt,tt=e;var c=ft;e=Et;var p=32-ze(c)-1;c&=~(1<<p),o+=1;var g=32-ze(i)+p;if(30<g){var w=p-p%5;g=(c&(1<<w)-1).toString(32),c>>=w,p-=w,ft=1<<32-ze(i)+p|o<<p|c,Et=g+e}else ft=1<<g|o<<p|c,Et=e}function fn(e){e.return!==null&&(Mt(e,1),Zt(e,1,0))}function Ke(e){for(;e===T;)T=d[--_],d[_]=null,R=d[--_],d[_]=null;for(;e===tt;)tt=k[--X],k[X]=null,Et=k[--X],k[X]=null,ft=k[--X],k[X]=null}function Qn(e,i){k[X++]=ft,k[X++]=Et,k[X++]=tt,ft=i.id,Et=i.overflow,tt=e}var fe=null,de=null,Wt=!1,Yr=null,li=!1,El=Error(a(519));function Xr(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw No(u(i,e)),El}function Su(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[je]=e,i[Ge]=c,o){case"dialog":$t("cancel",i),$t("close",i);break;case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(o=0;o<Qu.length;o++)$t(Qu[o],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"details":$t("toggle",i);break;case"input":$t("invalid",i),ps(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$t("invalid",i);break;case"textarea":$t("invalid",i),ni(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||pv(i.textContent,o)?(c.popover!=null&&($t("beforetoggle",i),$t("toggle",i)),c.onScroll!=null&&$t("scroll",i),c.onScrollEnd!=null&&$t("scrollend",i),c.onClick!=null&&(i.onclick=Mn),i=!0):i=!1,i||Xr(e,!0)}function Be(e){for(fe=e.return;fe;)switch(fe.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:fe=fe.return}}function Tr(e){if(e!==fe)return!1;if(!Wt)return Be(e),Wt=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Dm(e.type,e.memoizedProps)),o=!o),o&&de&&Xr(e),Be(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=xv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=xv(e)}else i===27?(i=de,Ra(e.type)?(e=km,km=null,de=e):de=i):de=fe?ir(e.stateNode.nextSibling):null;return!0}function xs(){de=fe=null,Wt=!1}function Au(){var e=Yr;return e!==null&&(fi===null?fi=e:fi.push.apply(fi,e),Yr=null),e}function No(e){Yr===null?Yr=[e]:Yr.push(e)}var Do=j(null),Wr=null,wr=null;function pa(e,i,o){gt(Do,i._currentValue),i._currentValue=o}function Ss(e){e._currentValue=Do.current,ot(Do)}function gd(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function _d(e,i,o,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var w=p.child;g=g.firstContext;t:for(;g!==null;){var I=g;g=p;for(var U=0;U<i.length;U++)if(I.context===i[U]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),gd(g.return,o,e),c||(w=null);break t}g=I.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(a(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),gd(w,o,e),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===e){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function bl(e,i,o,c){e=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var I=p.type;bn(p.pendingProps.value,w.value)||(e!==null?e.push(I):e=[I])}}else if(p===Ht.current){if(w=p.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push($u):e=[$u])}p=p.return}e!==null&&_d(i,e,o,c),i.flags|=262144}function Jc(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mo(e){Wr=e,wr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function An(e){return t_(Wr,e)}function $c(e,i){return Wr===null&&Mo(e),t_(e,i)}function t_(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},wr===null){if(e===null)throw Error(a(308));wr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else wr=wr.next=i;return o}var jw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},Bw=r.unstable_scheduleCallback,Hw=r.unstable_NormalPriority,rn={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yd(){return{controller:new jw,data:new Map,refCount:0}}function Cu(e){e.refCount--,e.refCount===0&&Bw(Hw,function(){e.controller.abort()})}var Ru=null,vd=0,Tl=0,wl=null;function Fw(e,i){if(Ru===null){var o=Ru=[];vd=0,Tl=Tm(),wl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return vd++,i.then(e_,e_),i}function e_(){if(--vd===0&&Ru!==null){wl!==null&&(wl.status="fulfilled");var e=Ru;Ru=null,Tl=0,wl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function qw(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var n_=rt.S;rt.S=function(e,i){Uy=Sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Fw(e,i),n_!==null&&n_(e,i)};var Lo=j(null);function Ed(){var e=Lo.current;return e!==null?e:Ie.pooledCache}function th(e,i){i===null?gt(Lo,Lo.current):gt(Lo,i.pool)}function i_(){var e=Ed();return e===null?null:{parent:rn._currentValue,pool:e}}var xl=Error(a(460)),bd=Error(a(474)),eh=Error(a(542)),nh={then:function(){}};function r_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function s_(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(Mn,Mn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,o_(e),e;default:if(typeof i.status=="string")i.then(Mn,Mn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,o_(e),e}throw Po=i,xl}}function Oo(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Po=o,xl):o}}var Po=null;function a_(){if(Po===null)throw Error(a(459));var e=Po;return Po=null,e}function o_(e){if(e===xl||e===eh)throw Error(a(483))}var Sl=null,Iu=0;function ih(e){var i=Iu;return Iu+=1,Sl===null&&(Sl=[]),s_(Sl,e,i)}function Nu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function rh(e,i){throw i.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function l_(e){function i(Y,q){if(e){var J=Y.deletions;J===null?(Y.deletions=[q],Y.flags|=16):J.push(q)}}function o(Y,q){if(!e)return null;for(;q!==null;)i(Y,q),q=q.sibling;return null}function c(Y){for(var q=new Map;Y!==null;)Y.key!==null?q.set(Y.key,Y):q.set(Y.index,Y),Y=Y.sibling;return q}function p(Y,q){return Y=er(Y,q),Y.index=0,Y.sibling=null,Y}function g(Y,q,J){return Y.index=J,e?(J=Y.alternate,J!==null?(J=J.index,J<q?(Y.flags|=67108866,q):J):(Y.flags|=67108866,q)):(Y.flags|=1048576,q)}function w(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function I(Y,q,J,ct){return q===null||q.tag!==6?(q=vl(J,Y.mode,ct),q.return=Y,q):(q=p(q,J),q.return=Y,q)}function U(Y,q,J,ct){var Lt=J.type;return Lt===F?ut(Y,q,J.props.children,ct,J.key):q!==null&&(q.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===M&&Oo(Lt)===q.type)?(q=p(q,J.props),Nu(q,J),q.return=Y,q):(q=Io(J.type,J.key,J.props,null,Y.mode,ct),Nu(q,J),q.return=Y,q)}function $(Y,q,J,ct){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=xu(J,Y.mode,ct),q.return=Y,q):(q=p(q,J.children||[]),q.return=Y,q)}function ut(Y,q,J,ct,Lt){return q===null||q.tag!==7?(q=ws(J,Y.mode,ct,Lt),q.return=Y,q):(q=p(q,J),q.return=Y,q)}function dt(Y,q,J){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=vl(""+q,Y.mode,J),q.return=Y,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case B:return J=Io(q.type,q.key,q.props,null,Y.mode,J),Nu(J,q),J.return=Y,J;case Q:return q=xu(q,Y.mode,J),q.return=Y,q;case M:return q=Oo(q),dt(Y,q,J)}if(Xe(q)||G(q))return q=ws(q,Y.mode,J,null),q.return=Y,q;if(typeof q.then=="function")return dt(Y,ih(q),J);if(q.$$typeof===st)return dt(Y,$c(Y,q),J);rh(Y,q)}return null}function et(Y,q,J,ct){var Lt=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Lt!==null?null:I(Y,q,""+J,ct);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===Lt?U(Y,q,J,ct):null;case Q:return J.key===Lt?$(Y,q,J,ct):null;case M:return J=Oo(J),et(Y,q,J,ct)}if(Xe(J)||G(J))return Lt!==null?null:ut(Y,q,J,ct,null);if(typeof J.then=="function")return et(Y,q,ih(J),ct);if(J.$$typeof===st)return et(Y,q,$c(Y,J),ct);rh(Y,J)}return null}function it(Y,q,J,ct,Lt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Y=Y.get(J)||null,I(q,Y,""+ct,Lt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case B:return Y=Y.get(ct.key===null?J:ct.key)||null,U(q,Y,ct,Lt);case Q:return Y=Y.get(ct.key===null?J:ct.key)||null,$(q,Y,ct,Lt);case M:return ct=Oo(ct),it(Y,q,J,ct,Lt)}if(Xe(ct)||G(ct))return Y=Y.get(J)||null,ut(q,Y,ct,Lt,null);if(typeof ct.then=="function")return it(Y,q,J,ih(ct),Lt);if(ct.$$typeof===st)return it(Y,q,J,$c(q,ct),Lt);rh(q,ct)}return null}function It(Y,q,J,ct){for(var Lt=null,me=null,Nt=q,Kt=q=0,ie=null;Nt!==null&&Kt<J.length;Kt++){Nt.index>Kt?(ie=Nt,Nt=null):ie=Nt.sibling;var pe=et(Y,Nt,J[Kt],ct);if(pe===null){Nt===null&&(Nt=ie);break}e&&Nt&&pe.alternate===null&&i(Y,Nt),q=g(pe,q,Kt),me===null?Lt=pe:me.sibling=pe,me=pe,Nt=ie}if(Kt===J.length)return o(Y,Nt),Wt&&Mt(Y,Kt),Lt;if(Nt===null){for(;Kt<J.length;Kt++)Nt=dt(Y,J[Kt],ct),Nt!==null&&(q=g(Nt,q,Kt),me===null?Lt=Nt:me.sibling=Nt,me=Nt);return Wt&&Mt(Y,Kt),Lt}for(Nt=c(Nt);Kt<J.length;Kt++)ie=it(Nt,Y,Kt,J[Kt],ct),ie!==null&&(e&&ie.alternate!==null&&Nt.delete(ie.key===null?Kt:ie.key),q=g(ie,q,Kt),me===null?Lt=ie:me.sibling=ie,me=ie);return e&&Nt.forEach(function(La){return i(Y,La)}),Wt&&Mt(Y,Kt),Lt}function kt(Y,q,J,ct){if(J==null)throw Error(a(151));for(var Lt=null,me=null,Nt=q,Kt=q=0,ie=null,pe=J.next();Nt!==null&&!pe.done;Kt++,pe=J.next()){Nt.index>Kt?(ie=Nt,Nt=null):ie=Nt.sibling;var La=et(Y,Nt,pe.value,ct);if(La===null){Nt===null&&(Nt=ie);break}e&&Nt&&La.alternate===null&&i(Y,Nt),q=g(La,q,Kt),me===null?Lt=La:me.sibling=La,me=La,Nt=ie}if(pe.done)return o(Y,Nt),Wt&&Mt(Y,Kt),Lt;if(Nt===null){for(;!pe.done;Kt++,pe=J.next())pe=dt(Y,pe.value,ct),pe!==null&&(q=g(pe,q,Kt),me===null?Lt=pe:me.sibling=pe,me=pe);return Wt&&Mt(Y,Kt),Lt}for(Nt=c(Nt);!pe.done;Kt++,pe=J.next())pe=it(Nt,Y,Kt,pe.value,ct),pe!==null&&(e&&pe.alternate!==null&&Nt.delete(pe.key===null?Kt:pe.key),q=g(pe,q,Kt),me===null?Lt=pe:me.sibling=pe,me=pe);return e&&Nt.forEach(function(e1){return i(Y,e1)}),Wt&&Mt(Y,Kt),Lt}function Se(Y,q,J,ct){if(typeof J=="object"&&J!==null&&J.type===F&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:t:{for(var Lt=J.key;q!==null;){if(q.key===Lt){if(Lt=J.type,Lt===F){if(q.tag===7){o(Y,q.sibling),ct=p(q,J.props.children),ct.return=Y,Y=ct;break t}}else if(q.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===M&&Oo(Lt)===q.type){o(Y,q.sibling),ct=p(q,J.props),Nu(ct,J),ct.return=Y,Y=ct;break t}o(Y,q);break}else i(Y,q);q=q.sibling}J.type===F?(ct=ws(J.props.children,Y.mode,ct,J.key),ct.return=Y,Y=ct):(ct=Io(J.type,J.key,J.props,null,Y.mode,ct),Nu(ct,J),ct.return=Y,Y=ct)}return w(Y);case Q:t:{for(Lt=J.key;q!==null;){if(q.key===Lt)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){o(Y,q.sibling),ct=p(q,J.children||[]),ct.return=Y,Y=ct;break t}else{o(Y,q);break}else i(Y,q);q=q.sibling}ct=xu(J,Y.mode,ct),ct.return=Y,Y=ct}return w(Y);case M:return J=Oo(J),Se(Y,q,J,ct)}if(Xe(J))return It(Y,q,J,ct);if(G(J)){if(Lt=G(J),typeof Lt!="function")throw Error(a(150));return J=Lt.call(J),kt(Y,q,J,ct)}if(typeof J.then=="function")return Se(Y,q,ih(J),ct);if(J.$$typeof===st)return Se(Y,q,$c(Y,J),ct);rh(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,q!==null&&q.tag===6?(o(Y,q.sibling),ct=p(q,J),ct.return=Y,Y=ct):(o(Y,q),ct=vl(J,Y.mode,ct),ct.return=Y,Y=ct),w(Y)):o(Y,q)}return function(Y,q,J,ct){try{Iu=0;var Lt=Se(Y,q,J,ct);return Sl=null,Lt}catch(Nt){if(Nt===xl||Nt===eh)throw Nt;var me=Vn(29,Nt,null,Y.mode);return me.lanes=ct,me.return=Y,me}}}var ko=l_(!0),u_=l_(!1),ga=!1;function Td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ya(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=Ro(e),ma(e,null,o),i}return Qr(e,c,i,o),Ro(e)}function Du(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,so(e,o)}}function xd(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?p=g=i:g=g.next=i}else p=g=i;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var Sd=!1;function Mu(){if(Sd){var e=wl;if(e!==null)throw e}}function Lu(e,i,o,c){Sd=!1;var p=e.updateQueue;ga=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var U=I,$=U.next;U.next=null,w===null?g=$:w.next=$,w=U;var ut=e.alternate;ut!==null&&(ut=ut.updateQueue,I=ut.lastBaseUpdate,I!==w&&(I===null?ut.firstBaseUpdate=$:I.next=$,ut.lastBaseUpdate=U))}if(g!==null){var dt=p.baseState;w=0,ut=$=U=null,I=g;do{var et=I.lane&-536870913,it=et!==I.lane;if(it?(ne&et)===et:(c&et)===et){et!==0&&et===Tl&&(Sd=!0),ut!==null&&(ut=ut.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var It=e,kt=I;et=i;var Se=o;switch(kt.tag){case 1:if(It=kt.payload,typeof It=="function"){dt=It.call(Se,dt,et);break t}dt=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=kt.payload,et=typeof It=="function"?It.call(Se,dt,et):It,et==null)break t;dt=A({},dt,et);break t;case 2:ga=!0}}et=I.callback,et!==null&&(e.flags|=64,it&&(e.flags|=8192),it=p.callbacks,it===null?p.callbacks=[et]:it.push(et))}else it={lane:et,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ut===null?($=ut=it,U=dt):ut=ut.next=it,w|=et;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;it=I,I=it.next,it.next=null,p.lastBaseUpdate=it,p.shared.pending=null}}while(!0);ut===null&&(U=dt),p.baseState=U,p.firstBaseUpdate=$,p.lastBaseUpdate=ut,g===null&&(p.shared.lanes=0),wa|=w,e.lanes=w,e.memoizedState=dt}}function c_(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function h_(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)c_(o[e],i)}var Al=j(null),sh=j(0);function f_(e,i){e=Os,gt(sh,e),gt(Al,i),Os=e|i.baseLanes}function Ad(){gt(sh,Os),gt(Al,Al.current)}function Cd(){Os=sh.current,ot(Al),ot(sh)}var Ii=j(null),nr=null;function va(e){var i=e.alternate;gt(Je,Je.current&1),gt(Ii,e),nr===null&&(i===null||Al.current!==null||i.memoizedState!==null)&&(nr=e)}function Rd(e){gt(Je,Je.current),gt(Ii,e),nr===null&&(nr=e)}function d_(e){e.tag===22?(gt(Je,Je.current),gt(Ii,e),nr===null&&(nr=e)):Ea()}function Ea(){gt(Je,Je.current),gt(Ii,Ii.current)}function Ni(e){ot(Ii),nr===e&&(nr=null),ot(Je)}var Je=j(0);function ah(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Om(o)||Pm(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var As=0,Gt=null,we=null,sn=null,oh=!1,Cl=!1,Vo=!1,lh=0,Ou=0,Rl=null,Gw=0;function Qe(){throw Error(a(321))}function Id(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!bn(e[o],i[o]))return!1;return!0}function Nd(e,i,o,c,p,g){return As=g,Gt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,rt.H=e===null||e.memoizedState===null?X_:Gd,Vo=!1,g=o(c,p),Vo=!1,Cl&&(g=p_(i,o,c,p)),m_(e),g}function m_(e){rt.H=Vu;var i=we!==null&&we.next!==null;if(As=0,sn=we=Gt=null,oh=!1,Ou=0,Rl=null,i)throw Error(a(300));e===null||an||(e=e.dependencies,e!==null&&Jc(e)&&(an=!0))}function p_(e,i,o,c){Gt=e;var p=0;do{if(Cl&&(Rl=null),Ou=0,Cl=!1,25<=p)throw Error(a(301));if(p+=1,sn=we=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}rt.H=W_,g=i(o,c)}while(Cl);return g}function Zw(){var e=rt.H,i=e.useState()[0];return i=typeof i.then=="function"?Pu(i):i,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(Gt.flags|=1024),i}function Dd(){var e=lh!==0;return lh=0,e}function Md(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function Ld(e){if(oh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}oh=!1}As=0,sn=we=Gt=null,Cl=!1,Ou=lh=0,Rl=null}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Gt.memoizedState=sn=e:sn=sn.next=e,sn}function $e(){if(we===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var i=sn===null?Gt.memoizedState:sn.next;if(i!==null)sn=i,we=e;else{if(e===null)throw Gt.alternate===null?Error(a(467)):Error(a(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},sn===null?Gt.memoizedState=sn=e:sn=sn.next=e}return sn}function uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pu(e){var i=Ou;return Ou+=1,Rl===null&&(Rl=[]),e=s_(Rl,e,i),i=Gt,(sn===null?i.memoizedState:sn.next)===null&&(i=i.alternate,rt.H=i===null||i.memoizedState===null?X_:Gd),e}function ch(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pu(e);if(e.$$typeof===st)return An(e)}throw Error(a(438,String(e)))}function Od(e){var i=null,o=Gt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Gt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=uh(),Gt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=Z;return i.index++,o}function Cs(e,i){return typeof i=="function"?i(e):i}function hh(e){var i=$e();return Pd(i,we,e)}function Pd(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var p=e.baseQueue,g=c.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}i.baseQueue=p=g,c.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{i=p.next;var I=w=null,U=null,$=i,ut=!1;do{var dt=$.lane&-536870913;if(dt!==$.lane?(ne&dt)===dt:(As&dt)===dt){var et=$.revertLane;if(et===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),dt===Tl&&(ut=!0);else if((As&et)===et){$=$.next,et===Tl&&(ut=!0);continue}else dt={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},U===null?(I=U=dt,w=g):U=U.next=dt,Gt.lanes|=et,wa|=et;dt=$.action,Vo&&o(g,dt),g=$.hasEagerState?$.eagerState:o(g,dt)}else et={lane:dt,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},U===null?(I=U=et,w=g):U=U.next=et,Gt.lanes|=dt,wa|=dt;$=$.next}while($!==null&&$!==i);if(U===null?w=g:U.next=I,!bn(g,e.memoizedState)&&(an=!0,ut&&(o=wl,o!==null)))throw o;e.memoizedState=g,e.baseState=w,e.baseQueue=U,c.lastRenderedState=g}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function kd(e){var i=$e(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,p=o.pending,g=i.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do g=e(g,w.action),w=w.next;while(w!==p);bn(g,i.memoizedState)||(an=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function g_(e,i,o){var c=Gt,p=$e(),g=Wt;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=i();var w=!bn((we||p).memoizedState,o);if(w&&(p.memoizedState=o,an=!0),p=p.queue,Ud(v_.bind(null,c,p,e),[e]),p.getSnapshot!==i||w||sn!==null&&sn.memoizedState.tag&1){if(c.flags|=2048,Il(9,{destroy:void 0},y_.bind(null,c,p,o,i),null),Ie===null)throw Error(a(349));g||(As&127)!==0||__(c,i,o)}return o}function __(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Gt.updateQueue,i===null?(i=uh(),Gt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function y_(e,i,o,c){i.value=o,i.getSnapshot=c,E_(i)&&b_(e)}function v_(e,i,o){return o(function(){E_(i)&&b_(e)})}function E_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!bn(e,o)}catch{return!0}}function b_(e){var i=tr(e,2);i!==null&&di(i,e,2)}function Vd(e){var i=Yn();if(typeof e=="function"){var o=e;if(e=o(),Vo){Fn(!0);try{o()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},i}function T_(e,i,o,c){return e.baseState=o,Pd(e,we,typeof c=="function"?c:Cs)}function Kw(e,i,o,c,p){if(mh(e))throw Error(a(485));if(e=i.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};rt.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,w_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function w_(e,i){var o=i.action,c=i.payload,p=e.state;if(i.isTransition){var g=rt.T,w={};rt.T=w;try{var I=o(p,c),U=rt.S;U!==null&&U(w,I),x_(e,i,I)}catch($){zd(e,i,$)}finally{g!==null&&w.types!==null&&(g.types=w.types),rt.T=g}}else try{g=o(p,c),x_(e,i,g)}catch($){zd(e,i,$)}}function x_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){S_(e,i,c)},function(c){return zd(e,i,c)}):S_(e,i,o)}function S_(e,i,o){i.status="fulfilled",i.value=o,A_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,w_(e,o)))}function zd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,A_(i),i=i.next;while(i!==c)}e.action=null}function A_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function C_(e,i){return i}function R_(e,i){if(Wt){var o=Ie.formState;if(o!==null){t:{var c=Gt;if(Wt){if(de){e:{for(var p=de,g=li;p.nodeType!==8;){if(!g){p=null;break e}if(p=ir(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){de=ir(p.nextSibling),c=p.data==="F!";break t}}Xr(c)}c=!1}c&&(i=o[0])}}return o=Yn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C_,lastRenderedState:i},o.queue=c,o=K_.bind(null,Gt,c),c.dispatch=o,c=Vd(!1),g=qd.bind(null,Gt,!1,c.queue),c=Yn(),p={state:i,dispatch:null,action:e,pending:null},c.queue=p,o=Kw.bind(null,Gt,p,g,o),p.dispatch=o,c.memoizedState=e,[i,o,!1]}function I_(e){var i=$e();return N_(i,we,e)}function N_(e,i,o){if(i=Pd(e,i,C_)[0],e=hh(Cs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Pu(i)}catch(w){throw w===xl?eh:w}else c=i;i=$e();var p=i.queue,g=p.dispatch;return o!==i.memoizedState&&(Gt.flags|=2048,Il(9,{destroy:void 0},Qw.bind(null,p,o),null)),[c,g,e]}function Qw(e,i){e.action=i}function D_(e){var i=$e(),o=we;if(o!==null)return N_(i,o,e);$e(),i=i.memoizedState,o=$e();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function Il(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Gt.updateQueue,i===null&&(i=uh(),Gt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function M_(){return $e().memoizedState}function fh(e,i,o,c){var p=Yn();Gt.flags|=e,p.memoizedState=Il(1|i,{destroy:void 0},o,c===void 0?null:c)}function dh(e,i,o,c){var p=$e();c=c===void 0?null:c;var g=p.memoizedState.inst;we!==null&&c!==null&&Id(c,we.memoizedState.deps)?p.memoizedState=Il(i,g,o,c):(Gt.flags|=e,p.memoizedState=Il(1|i,g,o,c))}function L_(e,i){fh(8390656,8,e,i)}function Ud(e,i){dh(2048,8,e,i)}function Yw(e){Gt.flags|=4;var i=Gt.updateQueue;if(i===null)i=uh(),Gt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function O_(e){var i=$e().memoizedState;return Yw({ref:i,nextImpl:e}),function(){if((ge&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function P_(e,i){return dh(4,2,e,i)}function k_(e,i){return dh(4,4,e,i)}function V_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function z_(e,i,o){o=o!=null?o.concat([e]):null,dh(4,4,V_.bind(null,i,e),o)}function jd(){}function U_(e,i){var o=$e();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Id(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function j_(e,i){var o=$e();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Id(i,c[1]))return c[0];if(c=e(),Vo){Fn(!0);try{e()}finally{Fn(!1)}}return o.memoizedState=[c,i],c}function Bd(e,i,o){return o===void 0||(As&1073741824)!==0&&(ne&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=By(),Gt.lanes|=e,wa|=e,o)}function B_(e,i,o,c){return bn(o,i)?o:Al.current!==null?(e=Bd(e,o,c),bn(e,i)||(an=!0),e):(As&42)===0||(As&1073741824)!==0&&(ne&261930)===0?(an=!0,e.memoizedState=o):(e=By(),Gt.lanes|=e,wa|=e,i)}function H_(e,i,o,c,p){var g=vt.p;vt.p=g!==0&&8>g?g:8;var w=rt.T,I={};rt.T=I,qd(e,!1,i,o);try{var U=p(),$=rt.S;if($!==null&&$(I,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ut=qw(U,c);ku(e,i,ut,Li(e))}else ku(e,i,c,Li(e))}catch(dt){ku(e,i,{then:function(){},status:"rejected",reason:dt},Li())}finally{vt.p=g,w!==null&&I.types!==null&&(w.types=I.types),rt.T=w}}function Xw(){}function Hd(e,i,o,c){if(e.tag!==5)throw Error(a(476));var p=F_(e).queue;H_(e,p,i,pt,o===null?Xw:function(){return q_(e),o(c)})}function F_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:pt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function q_(e){var i=F_(e);i.next===null&&(i=e.alternate.memoizedState),ku(e,i.next.queue,{},Li())}function Fd(){return An($u)}function G_(){return $e().memoizedState}function Z_(){return $e().memoizedState}function Ww(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Li();e=_a(o);var c=ya(i,e,o);c!==null&&(di(c,i,o),Du(c,i,o)),i={cache:yd()},e.payload=i;return}i=i.return}}function Jw(e,i,o){var c=Li();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},mh(e)?Q_(i,o):(o=bu(e,i,o,c),o!==null&&(di(o,e,c),Y_(o,i,c)))}function K_(e,i,o){var c=Li();ku(e,i,o,c)}function ku(e,i,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(mh(e))Q_(i,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,I=g(w,o);if(p.hasEagerState=!0,p.eagerState=I,bn(I,w))return Qr(e,i,p,0),Ie===null&&Co(),!1}catch{}if(o=bu(e,i,p,c),o!==null)return di(o,e,c),Y_(o,i,c),!0}return!1}function qd(e,i,o,c){if(c={lane:2,revertLane:Tm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},mh(e)){if(i)throw Error(a(479))}else i=bu(e,o,c,2),i!==null&&di(i,e,2)}function mh(e){var i=e.alternate;return e===Gt||i!==null&&i===Gt}function Q_(e,i){Cl=oh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function Y_(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,so(e,o)}}var Vu={readContext:An,use:ch,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Vu.useEffectEvent=Qe;var X_={readContext:An,use:ch,useCallback:function(e,i){return Yn().memoizedState=[e,i===void 0?null:i],e},useContext:An,useEffect:L_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,fh(4194308,4,V_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return fh(4194308,4,e,i)},useInsertionEffect:function(e,i){fh(4,2,e,i)},useMemo:function(e,i){var o=Yn();i=i===void 0?null:i;var c=e();if(Vo){Fn(!0);try{e()}finally{Fn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=Yn();if(o!==void 0){var p=o(i);if(Vo){Fn(!0);try{o(i)}finally{Fn(!1)}}}else p=i;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=Jw.bind(null,Gt,e),[c.memoizedState,e]},useRef:function(e){var i=Yn();return e={current:e},i.memoizedState=e},useState:function(e){e=Vd(e);var i=e.queue,o=K_.bind(null,Gt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:jd,useDeferredValue:function(e,i){var o=Yn();return Bd(o,e,i)},useTransition:function(){var e=Vd(!1);return e=H_.bind(null,Gt,e.queue,!0,!1),Yn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Gt,p=Yn();if(Wt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ie===null)throw Error(a(349));(ne&127)!==0||__(c,i,o)}p.memoizedState=o;var g={value:o,getSnapshot:i};return p.queue=g,L_(v_.bind(null,c,g,e),[e]),c.flags|=2048,Il(9,{destroy:void 0},y_.bind(null,c,g,o,i),null),o},useId:function(){var e=Yn(),i=Ie.identifierPrefix;if(Wt){var o=Et,c=ft;o=(c&~(1<<32-ze(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=lh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=Gw++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Fd,useFormState:R_,useActionState:R_,useOptimistic:function(e){var i=Yn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=qd.bind(null,Gt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Od,useCacheRefresh:function(){return Yn().memoizedState=Ww.bind(null,Gt)},useEffectEvent:function(e){var i=Yn(),o={impl:e};return i.memoizedState=o,function(){if((ge&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Gd={readContext:An,use:ch,useCallback:U_,useContext:An,useEffect:Ud,useImperativeHandle:z_,useInsertionEffect:P_,useLayoutEffect:k_,useMemo:j_,useReducer:hh,useRef:M_,useState:function(){return hh(Cs)},useDebugValue:jd,useDeferredValue:function(e,i){var o=$e();return B_(o,we.memoizedState,e,i)},useTransition:function(){var e=hh(Cs)[0],i=$e().memoizedState;return[typeof e=="boolean"?e:Pu(e),i]},useSyncExternalStore:g_,useId:G_,useHostTransitionStatus:Fd,useFormState:I_,useActionState:I_,useOptimistic:function(e,i){var o=$e();return T_(o,we,e,i)},useMemoCache:Od,useCacheRefresh:Z_};Gd.useEffectEvent=O_;var W_={readContext:An,use:ch,useCallback:U_,useContext:An,useEffect:Ud,useImperativeHandle:z_,useInsertionEffect:P_,useLayoutEffect:k_,useMemo:j_,useReducer:kd,useRef:M_,useState:function(){return kd(Cs)},useDebugValue:jd,useDeferredValue:function(e,i){var o=$e();return we===null?Bd(o,e,i):B_(o,we.memoizedState,e,i)},useTransition:function(){var e=kd(Cs)[0],i=$e().memoizedState;return[typeof e=="boolean"?e:Pu(e),i]},useSyncExternalStore:g_,useId:G_,useHostTransitionStatus:Fd,useFormState:D_,useActionState:D_,useOptimistic:function(e,i){var o=$e();return we!==null?T_(o,we,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Od,useCacheRefresh:Z_};W_.useEffectEvent=O_;function Zd(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:A({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Kd={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Li(),p=_a(c);p.payload=i,o!=null&&(p.callback=o),i=ya(e,p,c),i!==null&&(di(i,e,c),Du(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Li(),p=_a(c);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=ya(e,p,c),i!==null&&(di(i,e,c),Du(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Li(),c=_a(o);c.tag=2,i!=null&&(c.callback=i),i=ya(e,c,o),i!==null&&(di(i,e,o),Du(i,e,o))}};function J_(e,i,o,c,p,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,w):i.prototype&&i.prototype.isPureReactComponent?!ca(o,c)||!ca(p,g):!0}function $_(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&Kd.enqueueReplaceState(i,i.state,null)}function zo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=A({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}function ty(e){Ao(e)}function ey(e){console.error(e)}function ny(e){Ao(e)}function ph(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function iy(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Qd(e,i,o){return o=_a(o),o.tag=3,o.payload={element:null},o.callback=function(){ph(e,i)},o}function ry(e){return e=_a(e),e.tag=3,e}function sy(e,i,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;e.payload=function(){return p(g)},e.callback=function(){iy(i,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){iy(i,o,c),typeof p!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function $w(e,i,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&bl(i,o,p,!0),o=Ii.current,o!==null){switch(o.tag){case 31:case 13:return nr===null?Ch():o.alternate===null&&Ye===0&&(Ye=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===nh?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),vm(e,c,p)),!1;case 22:return o.flags|=65536,c===nh?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),vm(e,c,p)),!1}throw Error(a(435,o.tag))}return vm(e,c,p),Ch(),!1}if(Wt)return i=Ii.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==El&&(e=Error(a(422),{cause:c}),No(u(e,o)))):(c!==El&&(i=Error(a(423),{cause:c}),No(u(i,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=u(c,o),p=Qd(e.stateNode,c,p),xd(e,p),Ye!==4&&(Ye=2)),!1;var g=Error(a(520),{cause:c});if(g=u(g,o),Gu===null?Gu=[g]:Gu.push(g),Ye!==4&&(Ye=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=Qd(o.stateNode,c,e),xd(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xa===null||!xa.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=ry(p),sy(p,e,o,c),xd(o,p),!1}o=o.return}while(o!==null);return!1}var Yd=Error(a(461)),an=!1;function Cn(e,i,o,c){i.child=e===null?u_(i,null,o,c):ko(i,e.child,o,c)}function ay(e,i,o,c,p){o=o.render;var g=i.ref;if("ref"in c){var w={};for(var I in c)I!=="ref"&&(w[I]=c[I])}else w=c;return Mo(i),c=Nd(e,i,o,w,g,p),I=Dd(),e!==null&&!an?(Md(e,i,p),Rs(e,i,p)):(Wt&&I&&fn(i),i.flags|=1,Cn(e,i,c,p),i.child)}function oy(e,i,o,c,p){if(e===null){var g=o.type;return typeof g=="function"&&!yl(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,ly(e,i,g,c,p)):(e=Io(o.type,null,c,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!im(e,p)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:ca,o(w,c)&&e.ref===i.ref)return Rs(e,i,p)}return i.flags|=1,e=er(g,c),e.ref=i.ref,e.return=i,i.child=e}function ly(e,i,o,c,p){if(e!==null){var g=e.memoizedProps;if(ca(g,c)&&e.ref===i.ref)if(an=!1,i.pendingProps=c=g,im(e,p))(e.flags&131072)!==0&&(an=!0);else return i.lanes=e.lanes,Rs(e,i,p)}return Xd(e,i,o,c,p)}function uy(e,i,o,c){var p=c.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=i.child=e.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,i.child=null;return cy(e,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&th(i,g!==null?g.cachePool:null),g!==null?f_(i,g):Ad(),d_(i);else return c=i.lanes=536870912,cy(e,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(th(i,g.cachePool),f_(i,g),Ea(),i.memoizedState=null):(e!==null&&th(i,null),Ad(),Ea());return Cn(e,i,p,o),i.child}function zu(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function cy(e,i,o,c,p){var g=Ed();return g=g===null?null:{parent:rn._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},e!==null&&th(i,null),Ad(),d_(i),e!==null&&bl(e,i,c,!0),i.childLanes=p,null}function gh(e,i){return i=yh({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function hy(e,i,o){return ko(i,e.child,null,o),e=gh(i,i.pendingProps),e.flags|=2,Ni(i),i.memoizedState=null,e}function tx(e,i,o){var c=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Wt){if(c.mode==="hidden")return e=gh(i,c),i.lanes=536870912,zu(null,e);if(Rd(i),(e=de)?(e=wv(e,li),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:tt!==null?{id:ft,overflow:Et}:null,retryLane:536870912,hydrationErrors:null},o=wu(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Xr(i);return i.lanes=536870912,null}return gh(i,c)}var g=e.memoizedState;if(g!==null){var w=g.dehydrated;if(Rd(i),p)if(i.flags&256)i.flags&=-257,i=hy(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(an||bl(e,i,o,!1),p=(o&e.childLanes)!==0,an||p){if(c=Ie,c!==null&&(w=ao(c,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,tr(e,w),di(c,e,w),Yd;Ch(),i=hy(e,i,o)}else e=g.treeContext,de=ir(w.nextSibling),fe=i,Wt=!0,Yr=null,li=!1,e!==null&&Qn(i,e),i=gh(i,c),i.flags|=4096;return i}return e=er(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function _h(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function Xd(e,i,o,c,p){return Mo(i),o=Nd(e,i,o,c,void 0,p),c=Dd(),e!==null&&!an?(Md(e,i,p),Rs(e,i,p)):(Wt&&c&&fn(i),i.flags|=1,Cn(e,i,o,p),i.child)}function fy(e,i,o,c,p,g){return Mo(i),i.updateQueue=null,o=p_(i,c,o,p),m_(e),c=Dd(),e!==null&&!an?(Md(e,i,g),Rs(e,i,g)):(Wt&&c&&fn(i),i.flags|=1,Cn(e,i,o,g),i.child)}function dy(e,i,o,c,p){if(Mo(i),i.stateNode===null){var g=Ts,w=o.contextType;typeof w=="object"&&w!==null&&(g=An(w)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Kd,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Td(i),w=o.contextType,g.context=typeof w=="object"&&w!==null?An(w):Ts,g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Zd(i,o,w,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Kd.enqueueReplaceState(g,g.state,null),Lu(i,c,g,p),Mu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var I=i.memoizedProps,U=zo(o,I);g.props=U;var $=g.context,ut=o.contextType;w=Ts,typeof ut=="object"&&ut!==null&&(w=An(ut));var dt=o.getDerivedStateFromProps;ut=typeof dt=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=i.pendingProps!==I,ut||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||$!==w)&&$_(i,g,c,w),ga=!1;var et=i.memoizedState;g.state=et,Lu(i,c,g,p),Mu(),$=i.memoizedState,I||et!==$||ga?(typeof dt=="function"&&(Zd(i,o,dt,c),$=i.memoizedState),(U=ga||J_(i,o,U,c,et,$,w))?(ut||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=$),g.props=c,g.state=$,g.context=w,c=U):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,wd(e,i),w=i.memoizedProps,ut=zo(o,w),g.props=ut,dt=i.pendingProps,et=g.context,$=o.contextType,U=Ts,typeof $=="object"&&$!==null&&(U=An($)),I=o.getDerivedStateFromProps,($=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==dt||et!==U)&&$_(i,g,c,U),ga=!1,et=i.memoizedState,g.state=et,Lu(i,c,g,p),Mu();var it=i.memoizedState;w!==dt||et!==it||ga||e!==null&&e.dependencies!==null&&Jc(e.dependencies)?(typeof I=="function"&&(Zd(i,o,I,c),it=i.memoizedState),(ut=ga||J_(i,o,ut,c,et,it,U)||e!==null&&e.dependencies!==null&&Jc(e.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,it,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,it,U)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&et===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&et===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=it),g.props=c,g.state=it,g.context=U,c=ut):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&et===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&et===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,_h(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=ko(i,e.child,null,p),i.child=ko(i,null,o,p)):Cn(e,i,o,p),i.memoizedState=g.state,e=i.child):e=Rs(e,i,p),e}function my(e,i,o,c){return xs(),i.flags|=256,Cn(e,i,o,c),i.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jd(e){return{baseLanes:e,cachePool:i_()}}function $d(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Mi),e}function py(e,i,o){var c=i.pendingProps,p=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),w&&(p=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,e===null){if(Wt){if(p?va(i):Ea(),(e=de)?(e=wv(e,li),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:tt!==null?{id:ft,overflow:Et}:null,retryLane:536870912,hydrationErrors:null},o=wu(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Xr(i);return Pm(e)?i.lanes=32:i.lanes=536870912,null}var I=c.children;return c=c.fallback,p?(Ea(),p=i.mode,I=yh({mode:"hidden",children:I},p),c=ws(c,p,o,null),I.return=i,c.return=i,I.sibling=c,i.child=I,c=i.child,c.memoizedState=Jd(o),c.childLanes=$d(e,w,o),i.memoizedState=Wd,zu(null,c)):(va(i),tm(i,I))}var U=e.memoizedState;if(U!==null&&(I=U.dehydrated,I!==null)){if(g)i.flags&256?(va(i),i.flags&=-257,i=em(e,i,o)):i.memoizedState!==null?(Ea(),i.child=e.child,i.flags|=128,i=null):(Ea(),I=c.fallback,p=i.mode,c=yh({mode:"visible",children:c.children},p),I=ws(I,p,o,null),I.flags|=2,c.return=i,I.return=i,c.sibling=I,i.child=c,ko(i,e.child,null,o),c=i.child,c.memoizedState=Jd(o),c.childLanes=$d(e,w,o),i.memoizedState=Wd,i=zu(null,c));else if(va(i),Pm(I)){if(w=I.nextSibling&&I.nextSibling.dataset,w)var $=w.dgst;w=$,c=Error(a(419)),c.stack="",c.digest=w,No({value:c,source:null,stack:null}),i=em(e,i,o)}else if(an||bl(e,i,o,!1),w=(o&e.childLanes)!==0,an||w){if(w=Ie,w!==null&&(c=ao(w,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,tr(e,c),di(w,e,c),Yd;Om(I)||Ch(),i=em(e,i,o)}else Om(I)?(i.flags|=192,i.child=e.child,i=null):(e=U.treeContext,de=ir(I.nextSibling),fe=i,Wt=!0,Yr=null,li=!1,e!==null&&Qn(i,e),i=tm(i,c.children),i.flags|=4096);return i}return p?(Ea(),I=c.fallback,p=i.mode,U=e.child,$=U.sibling,c=er(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,$!==null?I=er($,I):(I=ws(I,p,o,null),I.flags|=2),I.return=i,c.return=i,c.sibling=I,i.child=c,zu(null,c),c=i.child,I=e.child.memoizedState,I===null?I=Jd(o):(p=I.cachePool,p!==null?(U=rn._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=i_(),I={baseLanes:I.baseLanes|o,cachePool:p}),c.memoizedState=I,c.childLanes=$d(e,w,o),i.memoizedState=Wd,zu(e.child,c)):(va(i),o=e.child,e=o.sibling,o=er(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(w=i.deletions,w===null?(i.deletions=[e],i.flags|=16):w.push(e)),i.child=o,i.memoizedState=null,o)}function tm(e,i){return i=yh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function yh(e,i){return e=Vn(22,e,null,i),e.lanes=0,e}function em(e,i,o){return ko(i,e.child,null,o),e=tm(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function gy(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),gd(e.return,i,o)}function nm(e,i,o,c,p,g){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=p,w.treeForkCount=g)}function _y(e,i,o){var c=i.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var w=Je.current,I=(w&2)!==0;if(I?(w=w&1|2,i.flags|=128):w&=1,gt(Je,w),Cn(e,i,c,o),c=Wt?R:0,!I&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gy(e,o,i);else if(e.tag===19)gy(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)e=o.alternate,e!==null&&ah(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),nm(i,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&ah(e)===null){i.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}nm(i,!0,o,null,g,c);break;case"together":nm(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Rs(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),wa|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(bl(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=er(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=er(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function im(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Jc(e)))}function ex(e,i,o){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),pa(i,rn,e.memoizedState.cache),xs();break;case 27:case 5:ur(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:pa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Rd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(va(i),i.flags|=128,null):(o&i.child.childLanes)!==0?py(e,i,o):(va(i),e=Rs(e,i,o),e!==null?e.sibling:null);va(i);break;case 19:var p=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(bl(e,i,o,!1),c=(o&i.childLanes)!==0),p){if(c)return _y(e,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),gt(Je,Je.current),c)break;return null;case 22:return i.lanes=0,uy(e,i,o,i.pendingProps);case 24:pa(i,rn,e.memoizedState.cache)}return Rs(e,i,o)}function yy(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)an=!0;else{if(!im(e,o)&&(i.flags&128)===0)return an=!1,ex(e,i,o);an=(e.flags&131072)!==0}else an=!1,Wt&&(i.flags&1048576)!==0&&Zt(i,R,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=Oo(i.elementType),i.type=e,typeof e=="function")yl(e)?(c=zo(e,c),i.tag=1,i=dy(null,i,e,c,o)):(i.tag=0,i=Xd(null,i,e,c,o));else{if(e!=null){var p=e.$$typeof;if(p===Rt){i.tag=11,i=ay(null,i,e,c,o);break t}else if(p===V){i.tag=14,i=oy(null,i,e,c,o);break t}}throw i=oe(e)||e,Error(a(306,i,""))}}return i;case 0:return Xd(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,p=zo(c,i.pendingProps),dy(e,i,c,p,o);case 3:t:{if(Te(i,i.stateNode.containerInfo),e===null)throw Error(a(387));c=i.pendingProps;var g=i.memoizedState;p=g.element,wd(e,i),Lu(i,c,null,o);var w=i.memoizedState;if(c=w.cache,pa(i,rn,c),c!==g.cache&&_d(i,[rn],o,!0),Mu(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=my(e,i,c,o);break t}else if(c!==p){p=u(Error(a(424)),i),No(p),i=my(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,de=ir(e.firstChild),fe=i,Wt=!0,Yr=null,li=!0,o=u_(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(xs(),c===p){i=Rs(e,i,o);break t}Cn(e,i,c,o)}i=i.child}return i;case 26:return _h(e,i),e===null?(o=Iv(i.type,null,i.pendingProps,null))?i.memoizedState=o:Wt||(o=i.type,e=i.pendingProps,c=Oh(bt.current).createElement(o),c[je]=i,c[Ge]=e,Rn(c,o,e),Ze(c),i.stateNode=c):i.memoizedState=Iv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ur(i),e===null&&Wt&&(c=i.stateNode=Av(i.type,i.pendingProps,bt.current),fe=i,li=!0,p=de,Ra(i.type)?(km=p,de=ir(c.firstChild)):de=p),Cn(e,i,i.pendingProps.children,o),_h(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Wt&&((p=c=de)&&(c=Dx(c,i.type,i.pendingProps,li),c!==null?(i.stateNode=c,fe=i,de=ir(c.firstChild),li=!1,p=!0):p=!1),p||Xr(i)),ur(i),p=i.type,g=i.pendingProps,w=e!==null?e.memoizedProps:null,c=g.children,Dm(p,g)?c=null:w!==null&&Dm(p,w)&&(i.flags|=32),i.memoizedState!==null&&(p=Nd(e,i,Zw,null,null,o),$u._currentValue=p),_h(e,i),Cn(e,i,c,o),i.child;case 6:return e===null&&Wt&&((e=o=de)&&(o=Mx(o,i.pendingProps,li),o!==null?(i.stateNode=o,fe=i,de=null,e=!0):e=!1),e||Xr(i)),null;case 13:return py(e,i,o);case 4:return Te(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=ko(i,null,c,o):Cn(e,i,c,o),i.child;case 11:return ay(e,i,i.type,i.pendingProps,o);case 7:return Cn(e,i,i.pendingProps,o),i.child;case 8:return Cn(e,i,i.pendingProps.children,o),i.child;case 12:return Cn(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,pa(i,i.type,c.value),Cn(e,i,c.children,o),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Mo(i),p=An(p),c=c(p),i.flags|=1,Cn(e,i,c,o),i.child;case 14:return oy(e,i,i.type,i.pendingProps,o);case 15:return ly(e,i,i.type,i.pendingProps,o);case 19:return _y(e,i,o);case 31:return tx(e,i,o);case 22:return uy(e,i,o,i.pendingProps);case 24:return Mo(i),c=An(rn),e===null?(p=Ed(),p===null&&(p=Ie,g=yd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),i.memoizedState={parent:c,cache:p},Td(i),pa(i,rn,p)):((e.lanes&o)!==0&&(wd(e,i),Lu(i,null,null,o),Mu()),p=e.memoizedState,g=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),pa(i,rn,c)):(c=g.cache,pa(i,rn,c),c!==p.cache&&_d(i,[rn],o,!0))),Cn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Is(e){e.flags|=4}function rm(e,i,o,c,p){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(Gy())e.flags|=8192;else throw Po=nh,bd}else e.flags&=-16777217}function vy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ov(i))if(Gy())e.flags|=8192;else throw Po=nh,bd}function vh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?rl():536870912,e.lanes|=i,Ll|=i)}function Uu(e,i){if(!Wt)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Pe(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function nx(e,i,o){var c=i.pendingProps;switch(Ke(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(i),null;case 1:return Pe(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ss(rn),Ae(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Tr(i)?Is(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Au())),Pe(i),null;case 26:var p=i.type,g=i.memoizedState;return e===null?(Is(i),g!==null?(Pe(i),vy(i,g)):(Pe(i),rm(i,p,null,c,o))):g?g!==e.memoizedState?(Is(i),Pe(i),vy(i,g)):(Pe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&Is(i),Pe(i),rm(i,p,e,c,o)),null;case 27:if(Dr(i),o=bt.current,p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Is(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Pe(i),null}e=_t.current,Tr(i)?Su(i):(e=Av(p,c,o),i.stateNode=e,Is(i))}return Pe(i),null;case 5:if(Dr(i),p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Is(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Pe(i),null}if(g=_t.current,Tr(i))Su(i);else{var w=Oh(bt.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?w.createElement(p,{is:c.is}):w.createElement(p)}}g[je]=i,g[Ge]=c;t:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break t;for(;w.sibling===null;){if(w.return===null||w.return===i)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=g;t:switch(Rn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Is(i)}}return Pe(i),rm(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Is(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=bt.current,Tr(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,p=fe,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[je]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||pv(e.nodeValue,o)),e||Xr(i,!0)}else e=Oh(e).createTextNode(c),e[je]=i,i.stateNode=e}return Pe(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=Tr(i),o!==null){if(e===null){if(!c)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[je]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),e=!1}else o=Au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(Ni(i),i):(Ni(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Pe(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Tr(i),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[je]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),p=!1}else p=Au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Ni(i),i):(Ni(i),null)}return Ni(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),vh(i,i.updateQueue),Pe(i),null);case 4:return Ae(),e===null&&Am(i.stateNode.containerInfo),Pe(i),null;case 10:return Ss(i.type),Pe(i),null;case 19:if(ot(Je),c=i.memoizedState,c===null)return Pe(i),null;if(p=(i.flags&128)!==0,g=c.rendering,g===null)if(p)Uu(c,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=ah(e),g!==null){for(i.flags|=128,Uu(c,!1),e=g.updateQueue,i.updateQueue=e,vh(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)Tu(o,e),o=o.sibling;return gt(Je,Je.current&1|2),Wt&&Mt(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&Sn()>xh&&(i.flags|=128,p=!0,Uu(c,!1),i.lanes=4194304)}else{if(!p)if(e=ah(g),e!==null){if(i.flags|=128,p=!0,e=e.updateQueue,i.updateQueue=e,vh(i,e),Uu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Wt)return Pe(i),null}else 2*Sn()-c.renderingStartTime>xh&&o!==536870912&&(i.flags|=128,p=!0,Uu(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(e=c.last,e!==null?e.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Sn(),e.sibling=null,o=Je.current,gt(Je,p?o&1|2:o&1),Wt&&Mt(i,c.treeForkCount),e):(Pe(i),null);case 22:case 23:return Ni(i),Cd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Pe(i),i.subtreeFlags&6&&(i.flags|=8192)):Pe(i),o=i.updateQueue,o!==null&&vh(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&ot(Lo),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ss(rn),Pe(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function ix(e,i){switch(Ke(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ss(rn),Ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Dr(i),null;case 31:if(i.memoizedState!==null){if(Ni(i),i.alternate===null)throw Error(a(340));xs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Ni(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));xs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ot(Je),null;case 4:return Ae(),null;case 10:return Ss(i.type),null;case 22:case 23:return Ni(i),Cd(),e!==null&&ot(Lo),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ss(rn),null;case 25:return null;default:return null}}function Ey(e,i){switch(Ke(i),i.tag){case 3:Ss(rn),Ae();break;case 26:case 27:case 5:Dr(i);break;case 4:Ae();break;case 31:i.memoizedState!==null&&Ni(i);break;case 13:Ni(i);break;case 19:ot(Je);break;case 10:Ss(i.type);break;case 22:case 23:Ni(i),Cd(),e!==null&&ot(Lo);break;case 24:Ss(rn)}}function ju(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&e)===e){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==p)}}catch(I){be(i,i.return,I)}}function ba(e,i,o){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&e)===e){var w=c.inst,I=w.destroy;if(I!==void 0){w.destroy=void 0,p=i;var U=o,$=I;try{$()}catch(ut){be(p,U,ut)}}}c=c.next}while(c!==g)}}catch(ut){be(i,i.return,ut)}}function by(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{h_(i,o)}catch(c){be(e,e.return,c)}}}function Ty(e,i,o){o.props=zo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){be(e,i,c)}}function Bu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(p){be(e,i,p)}}function Jr(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){be(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){be(e,i,p)}else o.current=null}function wy(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){be(e,e.return,p)}}function sm(e,i,o){try{var c=e.stateNode;Sx(c,e.type,o,i),c[Ge]=i}catch(p){be(e,e.return,p)}}function xy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ra(e.type)||e.tag===4}function am(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ra(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function om(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Mn));else if(c!==4&&(c===27&&Ra(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(om(e,i,o),e=e.sibling;e!==null;)om(e,i,o),e=e.sibling}function Eh(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Ra(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Eh(e,i,o),e=e.sibling;e!==null;)Eh(e,i,o),e=e.sibling}function Sy(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Rn(i,c,o),i[je]=e,i[Ge]=o}catch(g){be(e,e.return,g)}}var Ns=!1,on=!1,lm=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,wn=null;function rx(e,i){if(e=e.containerInfo,Im=Bh,e=To(e),qr(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var w=0,I=-1,U=-1,$=0,ut=0,dt=e,et=null;e:for(;;){for(var it;dt!==o||p!==0&&dt.nodeType!==3||(I=w+p),dt!==g||c!==0&&dt.nodeType!==3||(U=w+c),dt.nodeType===3&&(w+=dt.nodeValue.length),(it=dt.firstChild)!==null;)et=dt,dt=it;for(;;){if(dt===e)break e;if(et===o&&++$===p&&(I=w),et===g&&++ut===c&&(U=w),(it=dt.nextSibling)!==null)break;dt=et,et=dt.parentNode}dt=it}o=I===-1||U===-1?null:{start:I,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Nm={focusedElem:e,selectionRange:o},Bh=!1,wn=i;wn!==null;)if(i=wn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,wn=e;else for(;wn!==null;){switch(i=wn,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)p=e[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var It=zo(o.type,p);e=c.getSnapshotBeforeUpdate(It,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(kt){be(o,o.return,kt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Lm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,wn=e;break}wn=i.return}}function Cy(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ms(e,o),c&4&&ju(5,o);break;case 1:if(Ms(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(w){be(o,o.return,w)}else{var p=zo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(w){be(o,o.return,w)}}c&64&&by(o),c&512&&Bu(o,o.return);break;case 3:if(Ms(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{h_(e,i)}catch(w){be(o,o.return,w)}}break;case 27:i===null&&c&4&&Sy(o);case 26:case 5:Ms(e,o),i===null&&c&4&&wy(o),c&512&&Bu(o,o.return);break;case 12:Ms(e,o);break;case 31:Ms(e,o),c&4&&Ny(e,o);break;case 13:Ms(e,o),c&4&&Dy(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=dx.bind(null,o),Lx(e,o))));break;case 22:if(c=o.memoizedState!==null||Ns,!c){i=i!==null&&i.memoizedState!==null||on,p=Ns;var g=on;Ns=c,(on=i)&&!g?Ls(e,o,(o.subtreeFlags&8772)!==0):Ms(e,o),Ns=p,on=g}break;case 30:break;default:Ms(e,o)}}function Ry(e){var i=e.alternate;i!==null&&(e.alternate=null,Ry(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ws(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,ui=!1;function Ds(e,i,o){for(o=o.child;o!==null;)Iy(e,i,o),o=o.sibling}function Iy(e,i,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Xn,o)}catch{}switch(o.tag){case 26:on||Jr(o,i),Ds(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:on||Jr(o,i);var c=ke,p=ui;Ra(o.type)&&(ke=o.stateNode,ui=!1),Ds(e,i,o),Xu(o.stateNode),ke=c,ui=p;break;case 5:on||Jr(o,i);case 6:if(c=ke,p=ui,ke=null,Ds(e,i,o),ke=c,ui=p,ke!==null)if(ui)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(o.stateNode)}catch(g){be(o,i,g)}else try{ke.removeChild(o.stateNode)}catch(g){be(o,i,g)}break;case 18:ke!==null&&(ui?(e=ke,bv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Bl(e)):bv(ke,o.stateNode));break;case 4:c=ke,p=ui,ke=o.stateNode.containerInfo,ui=!0,Ds(e,i,o),ke=c,ui=p;break;case 0:case 11:case 14:case 15:ba(2,o,i),on||ba(4,o,i),Ds(e,i,o);break;case 1:on||(Jr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Ty(o,i,c)),Ds(e,i,o);break;case 21:Ds(e,i,o);break;case 22:on=(c=on)||o.memoizedState!==null,Ds(e,i,o),on=c;break;default:Ds(e,i,o)}}function Ny(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bl(e)}catch(o){be(i,i.return,o)}}}function Dy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bl(e)}catch(o){be(i,i.return,o)}}function sx(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ay),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ay),i;default:throw Error(a(435,e.tag))}}function bh(e,i){var o=sx(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var p=mx.bind(null,e,c);c.then(p,p)}})}function ci(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=e,w=i,I=w;t:for(;I!==null;){switch(I.tag){case 27:if(Ra(I.type)){ke=I.stateNode,ui=!1;break t}break;case 5:ke=I.stateNode,ui=!1;break t;case 3:case 4:ke=I.stateNode.containerInfo,ui=!0;break t}I=I.return}if(ke===null)throw Error(a(160));Iy(g,w,p),ke=null,ui=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)My(i,e),i=i.sibling}var xr=null;function My(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ci(i,e),hi(e),c&4&&(ba(3,e,e.return),ju(3,e),ba(5,e,e.return));break;case 1:ci(i,e),hi(e),c&512&&(on||o===null||Jr(o,o.return)),c&64&&Ns&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=xr;if(ci(i,e),hi(e),c&512&&(on||o===null||Jr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Fi]||g[je]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Rn(g,c,o),g[je]=e,Ze(g),c=g;break t;case"link":var w=Mv("link","href",p).get(c+(o.href||""));if(w){for(var I=0;I<w.length;I++)if(g=w[I],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(I,1);break e}}g=p.createElement(c),Rn(g,c,o),p.head.appendChild(g);break;case"meta":if(w=Mv("meta","content",p).get(c+(o.content||""))){for(I=0;I<w.length;I++)if(g=w[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(I,1);break e}}g=p.createElement(c),Rn(g,c,o),p.head.appendChild(g);break;default:throw Error(a(468,c))}g[je]=e,Ze(g),c=g}e.stateNode=c}else Lv(p,e.type,e.stateNode);else e.stateNode=Dv(p,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Lv(p,e.type,e.stateNode):Dv(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&sm(e,e.memoizedProps,o.memoizedProps)}break;case 27:ci(i,e),hi(e),c&512&&(on||o===null||Jr(o,o.return)),o!==null&&c&4&&sm(e,e.memoizedProps,o.memoizedProps);break;case 5:if(ci(i,e),hi(e),c&512&&(on||o===null||Jr(o,o.return)),e.flags&32){p=e.stateNode;try{en(p,"")}catch(It){be(e,e.return,It)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,sm(e,p,o!==null?o.memoizedProps:p)),c&1024&&(lm=!0);break;case 6:if(ci(i,e),hi(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(It){be(e,e.return,It)}}break;case 3:if(Vh=null,p=xr,xr=Ph(i.containerInfo),ci(i,e),xr=p,hi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Bl(i.containerInfo)}catch(It){be(e,e.return,It)}lm&&(lm=!1,Ly(e));break;case 4:c=xr,xr=Ph(e.stateNode.containerInfo),ci(i,e),hi(e),xr=c;break;case 12:ci(i,e),hi(e);break;case 31:ci(i,e),hi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,bh(e,c)));break;case 13:ci(i,e),hi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wh=Sn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,bh(e,c)));break;case 22:p=e.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,$=Ns,ut=on;if(Ns=$||p,on=ut||U,ci(i,e),on=ut,Ns=$,hi(e),c&8192)t:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||U||Ns||on||Uo(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(g=U.stateNode,p)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{I=U.stateNode;var dt=U.memoizedProps.style,et=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;I.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(It){be(U,U.return,It)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(It){be(U,U.return,It)}}}else if(i.tag===18){if(o===null){U=i;try{var it=U.stateNode;p?Tv(it,!0):Tv(U.stateNode,!1)}catch(It){be(U,U.return,It)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,bh(e,o))));break;case 19:ci(i,e),hi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,bh(e,c)));break;case 30:break;case 21:break;default:ci(i,e),hi(e)}}function hi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(xy(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,g=am(e);Eh(e,g,p);break;case 5:var w=o.stateNode;o.flags&32&&(en(w,""),o.flags&=-33);var I=am(e);Eh(e,I,w);break;case 3:case 4:var U=o.stateNode.containerInfo,$=am(e);om(e,$,U);break;default:throw Error(a(161))}}catch(ut){be(e,e.return,ut)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Ly(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ms(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cy(e,i.alternate,i),i=i.sibling}function Uo(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ba(4,i,i.return),Uo(i);break;case 1:Jr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Ty(i,i.return,o),Uo(i);break;case 27:Xu(i.stateNode);case 26:case 5:Jr(i,i.return),Uo(i);break;case 22:i.memoizedState===null&&Uo(i);break;case 30:Uo(i);break;default:Uo(i)}e=e.sibling}}function Ls(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=e,g=i,w=g.flags;switch(g.tag){case 0:case 11:case 15:Ls(p,g,o),ju(4,g);break;case 1:if(Ls(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch($){be(c,c.return,$)}if(c=g,p=c.updateQueue,p!==null){var I=c.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)c_(U[p],I)}catch($){be(c,c.return,$)}}o&&w&64&&by(g),Bu(g,g.return);break;case 27:Sy(g);case 26:case 5:Ls(p,g,o),o&&c===null&&w&4&&wy(g),Bu(g,g.return);break;case 12:Ls(p,g,o);break;case 31:Ls(p,g,o),o&&w&4&&Ny(p,g);break;case 13:Ls(p,g,o),o&&w&4&&Dy(p,g);break;case 22:g.memoizedState===null&&Ls(p,g,o),Bu(g,g.return);break;case 30:break;default:Ls(p,g,o)}i=i.sibling}}function um(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Cu(o))}function cm(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Cu(e))}function Sr(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Oy(e,i,o,c),i=i.sibling}function Oy(e,i,o,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Sr(e,i,o,c),p&2048&&ju(9,i);break;case 1:Sr(e,i,o,c);break;case 3:Sr(e,i,o,c),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Cu(e)));break;case 12:if(p&2048){Sr(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,w=g.id,I=g.onPostCommit;typeof I=="function"&&I(w,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){be(i,i.return,U)}}else Sr(e,i,o,c);break;case 31:Sr(e,i,o,c);break;case 13:Sr(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,w=i.alternate,i.memoizedState!==null?g._visibility&2?Sr(e,i,o,c):Hu(e,i):g._visibility&2?Sr(e,i,o,c):(g._visibility|=2,Nl(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),p&2048&&um(w,i);break;case 24:Sr(e,i,o,c),p&2048&&cm(i.alternate,i);break;default:Sr(e,i,o,c)}}function Nl(e,i,o,c,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,w=i,I=o,U=c,$=w.flags;switch(w.tag){case 0:case 11:case 15:Nl(g,w,I,U,p),ju(8,w);break;case 23:break;case 22:var ut=w.stateNode;w.memoizedState!==null?ut._visibility&2?Nl(g,w,I,U,p):Hu(g,w):(ut._visibility|=2,Nl(g,w,I,U,p)),p&&$&2048&&um(w.alternate,w);break;case 24:Nl(g,w,I,U,p),p&&$&2048&&cm(w.alternate,w);break;default:Nl(g,w,I,U,p)}i=i.sibling}}function Hu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,p=c.flags;switch(c.tag){case 22:Hu(o,c),p&2048&&um(c.alternate,c);break;case 24:Hu(o,c),p&2048&&cm(c.alternate,c);break;default:Hu(o,c)}i=i.sibling}}var Fu=8192;function Dl(e,i,o){if(e.subtreeFlags&Fu)for(e=e.child;e!==null;)Py(e,i,o),e=e.sibling}function Py(e,i,o){switch(e.tag){case 26:Dl(e,i,o),e.flags&Fu&&e.memoizedState!==null&&Gx(o,xr,e.memoizedState,e.memoizedProps);break;case 5:Dl(e,i,o);break;case 3:case 4:var c=xr;xr=Ph(e.stateNode.containerInfo),Dl(e,i,o),xr=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Fu,Fu=16777216,Dl(e,i,o),Fu=c):Dl(e,i,o));break;default:Dl(e,i,o)}}function ky(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function qu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];wn=c,zy(c,e)}ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vy(e),e=e.sibling}function Vy(e){switch(e.tag){case 0:case 11:case 15:qu(e),e.flags&2048&&ba(9,e,e.return);break;case 3:qu(e);break;case 12:qu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Th(e)):qu(e);break;default:qu(e)}}function Th(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];wn=c,zy(c,e)}ky(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ba(8,i,i.return),Th(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Th(i));break;default:Th(i)}e=e.sibling}}function zy(e,i){for(;wn!==null;){var o=wn;switch(o.tag){case 0:case 11:case 15:ba(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Cu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,wn=c;else t:for(o=e;wn!==null;){c=wn;var p=c.sibling,g=c.return;if(Ry(c),c===o){wn=null;break t}if(p!==null){p.return=g,wn=p;break t}wn=g}}}var ax={getCacheForType:function(e){var i=An(rn),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return An(rn).controller.signal}},ox=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ie=null,Jt=null,ne=0,Ee=0,Di=null,Ta=!1,Ml=!1,hm=!1,Os=0,Ye=0,wa=0,jo=0,fm=0,Mi=0,Ll=0,Gu=null,fi=null,dm=!1,wh=0,Uy=0,xh=1/0,Sh=null,xa=null,dn=0,Sa=null,Ol=null,Ps=0,mm=0,pm=null,jy=null,Zu=0,gm=null;function Li(){return(ge&2)!==0&&ne!==0?ne&-ne:rt.T!==null?Tm():oo()}function By(){if(Mi===0)if((ne&536870912)===0||Wt){var e=kr;kr<<=1,(kr&3932160)===0&&(kr=262144),Mi=e}else Mi=536870912;return e=Ii.current,e!==null&&(e.flags|=32),Mi}function di(e,i,o){(e===Ie&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Pl(e,0),Aa(e,ne,Mi,!1)),hr(e,o),((ge&2)===0||e!==Ie)&&(e===Ie&&((ge&2)===0&&(jo|=o),Ye===4&&Aa(e,ne,Mi,!1)),$r(e))}function Hy(e,i,o){if((ge&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||_i(e,i),p=c?cx(e,i):ym(e,i,!0),g=c;do{if(p===0){Ml&&!c&&Aa(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!lx(o)){p=ym(e,i,!1),g=!1;continue}if(p===2){if(g=i,e.errorRecoveryDisabledLanes&g)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;t:{var I=e;p=Gu;var U=I.current.memoizedState.isDehydrated;if(U&&(Pl(I,w).flags|=256),w=ym(I,w,!1),w!==2){if(hm&&!U){I.errorRecoveryDisabledLanes|=g,jo|=g,p=4;break t}g=fi,fi=p,g!==null&&(fi===null?fi=g:fi.push.apply(fi,g))}p=w}if(g=!1,p!==2)continue}}if(p===1){Pl(e,0),Aa(e,i,0,!0);break}t:{switch(c=e,g=p,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Aa(c,i,Mi,!Ta);break t;case 2:fi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=wh+300-Sn(),10<p)){if(Aa(c,i,Mi,!Ta),Bi(c,0,!0)!==0)break t;Ps=i,c.timeoutHandle=vv(Fy.bind(null,c,o,fi,Sh,dm,i,Mi,jo,Ll,Ta,g,"Throttled",-0,0),p);break t}Fy(c,o,fi,Sh,dm,i,Mi,jo,Ll,Ta,g,null,-0,0)}}break}while(!0);$r(e)}function Fy(e,i,o,c,p,g,w,I,U,$,ut,dt,et,it){if(e.timeoutHandle=-1,dt=i.subtreeFlags,dt&8192||(dt&16785408)===16785408){dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},Py(i,g,dt);var It=(g&62914560)===g?wh-Sn():(g&4194048)===g?Uy-Sn():0;if(It=Zx(dt,It),It!==null){Ps=g,e.cancelPendingCommit=It(Wy.bind(null,e,i,g,o,c,p,w,I,U,ut,dt,null,et,it)),Aa(e,g,w,!$);return}}Wy(e,i,g,o,c,p,w,I,U)}function lx(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!bn(g(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Aa(e,i,o,c){i&=~fm,i&=~jo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var p=i;0<p;){var g=31-ze(p),w=1<<g;c[g]=-1,p&=~w}o!==0&&ds(e,o,i)}function Ah(){return(ge&6)===0?(Ku(0),!1):!0}function _m(){if(Jt!==null){if(Ee===0)var e=Jt.return;else e=Jt,wr=Wr=null,Ld(e),Sl=null,Iu=0,e=Jt;for(;e!==null;)Ey(e.alternate,e),e=e.return;Jt=null}}function Pl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Rx(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Ps=0,_m(),Ie=e,Jt=o=er(e.current,null),ne=i,Ee=0,Di=null,Ta=!1,Ml=_i(e,i),hm=!1,Ll=Mi=fm=jo=wa=Ye=0,fi=Gu=null,dm=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var p=31-ze(c),g=1<<p;i|=e[p],c&=~g}return Os=i,Co(),o}function qy(e,i){Gt=null,rt.H=Vu,i===xl||i===eh?(i=a_(),Ee=3):i===bd?(i=a_(),Ee=4):Ee=i===Yd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Di=i,Jt===null&&(Ye=1,ph(e,u(i,e.current)))}function Gy(){var e=Ii.current;return e===null?!0:(ne&4194048)===ne?nr===null:(ne&62914560)===ne||(ne&536870912)!==0?e===nr:!1}function Zy(){var e=rt.H;return rt.H=Vu,e===null?Vu:e}function Ky(){var e=rt.A;return rt.A=ax,e}function Ch(){Ye=4,Ta||(ne&4194048)!==ne&&Ii.current!==null||(Ml=!0),(wa&134217727)===0&&(jo&134217727)===0||Ie===null||Aa(Ie,ne,Mi,!1)}function ym(e,i,o){var c=ge;ge|=2;var p=Zy(),g=Ky();(Ie!==e||ne!==i)&&(Sh=null,Pl(e,i)),i=!1;var w=Ye;t:do try{if(Ee!==0&&Jt!==null){var I=Jt,U=Di;switch(Ee){case 8:_m(),w=6;break t;case 3:case 2:case 9:case 6:Ii.current===null&&(i=!0);var $=Ee;if(Ee=0,Di=null,kl(e,I,U,$),o&&Ml){w=0;break t}break;default:$=Ee,Ee=0,Di=null,kl(e,I,U,$)}}ux(),w=Ye;break}catch(ut){qy(e,ut)}while(!0);return i&&e.shellSuspendCounter++,wr=Wr=null,ge=c,rt.H=p,rt.A=g,Jt===null&&(Ie=null,ne=0,Co()),w}function ux(){for(;Jt!==null;)Qy(Jt)}function cx(e,i){var o=ge;ge|=2;var c=Zy(),p=Ky();Ie!==e||ne!==i?(Sh=null,xh=Sn()+500,Pl(e,i)):Ml=_i(e,i);t:do try{if(Ee!==0&&Jt!==null){i=Jt;var g=Di;e:switch(Ee){case 1:Ee=0,Di=null,kl(e,i,g,1);break;case 2:case 9:if(r_(g)){Ee=0,Di=null,Yy(i);break}i=function(){Ee!==2&&Ee!==9||Ie!==e||(Ee=7),$r(e)},g.then(i,i);break t;case 3:Ee=7;break t;case 4:Ee=5;break t;case 7:r_(g)?(Ee=0,Di=null,Yy(i)):(Ee=0,Di=null,kl(e,i,g,7));break;case 5:var w=null;switch(Jt.tag){case 26:w=Jt.memoizedState;case 5:case 27:var I=Jt;if(w?Ov(w):I.stateNode.complete){Ee=0,Di=null;var U=I.sibling;if(U!==null)Jt=U;else{var $=I.return;$!==null?(Jt=$,Rh($)):Jt=null}break e}}Ee=0,Di=null,kl(e,i,g,5);break;case 6:Ee=0,Di=null,kl(e,i,g,6);break;case 8:_m(),Ye=6;break t;default:throw Error(a(462))}}hx();break}catch(ut){qy(e,ut)}while(!0);return wr=Wr=null,rt.H=c,rt.A=p,ge=o,Jt!==null?0:(Ie=null,ne=0,Co(),Ye)}function hx(){for(;Jt!==null&&!el();)Qy(Jt)}function Qy(e){var i=yy(e.alternate,e,Os);e.memoizedProps=e.pendingProps,i===null?Rh(e):Jt=i}function Yy(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=fy(o,i,i.pendingProps,i.type,void 0,ne);break;case 11:i=fy(o,i,i.pendingProps,i.type.render,i.ref,ne);break;case 5:Ld(i);default:Ey(o,i),i=Jt=Tu(i,Os),i=yy(o,i,Os)}e.memoizedProps=e.pendingProps,i===null?Rh(e):Jt=i}function kl(e,i,o,c){wr=Wr=null,Ld(i),Sl=null,Iu=0;var p=i.return;try{if($w(e,p,i,o,ne)){Ye=1,ph(e,u(o,e.current)),Jt=null;return}}catch(g){if(p!==null)throw Jt=p,g;Ye=1,ph(e,u(o,e.current)),Jt=null;return}i.flags&32768?(Wt||c===1?e=!0:Ml||(ne&536870912)!==0?e=!1:(Ta=e=!0,(c===2||c===9||c===3||c===6)&&(c=Ii.current,c!==null&&c.tag===13&&(c.flags|=16384))),Xy(i,e)):Rh(i)}function Rh(e){var i=e;do{if((i.flags&32768)!==0){Xy(i,Ta);return}e=i.return;var o=nx(i.alternate,i,Os);if(o!==null){Jt=o;return}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=e}while(i!==null);Ye===0&&(Ye=5)}function Xy(e,i){do{var o=ix(e.alternate,e);if(o!==null){o.flags&=32767,Jt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){Jt=e;return}Jt=e=o}while(e!==null);Ye=6,Jt=null}function Wy(e,i,o,c,p,g,w,I,U){e.cancelPendingCommit=null;do Ih();while(dn!==0);if((ge&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=_l,Eu(e,o,g,w,I,U),e===Ie&&(Jt=Ie=null,ne=0),Ol=i,Sa=e,Ps=o,mm=g,pm=p,jy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,px(cr,function(){return nv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=rt.T,rt.T=null,p=vt.p,vt.p=2,w=ge,ge|=4;try{rx(e,i,o)}finally{ge=w,vt.p=p,rt.T=c}}dn=1,Jy(),$y(),tv()}}function Jy(){if(dn===1){dn=0;var e=Sa,i=Ol,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=rt.T,rt.T=null;var c=vt.p;vt.p=2;var p=ge;ge|=4;try{My(i,e);var g=Nm,w=To(e.containerInfo),I=g.focusedElem,U=g.selectionRange;if(w!==I&&I&&I.ownerDocument&&dl(I.ownerDocument.documentElement,I)){if(U!==null&&qr(I)){var $=U.start,ut=U.end;if(ut===void 0&&(ut=$),"selectionStart"in I)I.selectionStart=$,I.selectionEnd=Math.min(ut,I.value.length);else{var dt=I.ownerDocument||document,et=dt&&dt.defaultView||window;if(et.getSelection){var it=et.getSelection(),It=I.textContent.length,kt=Math.min(U.start,It),Se=U.end===void 0?kt:Math.min(U.end,It);!it.extend&&kt>Se&&(w=Se,Se=kt,kt=w);var Y=bo(I,kt),q=bo(I,Se);if(Y&&q&&(it.rangeCount!==1||it.anchorNode!==Y.node||it.anchorOffset!==Y.offset||it.focusNode!==q.node||it.focusOffset!==q.offset)){var J=dt.createRange();J.setStart(Y.node,Y.offset),it.removeAllRanges(),kt>Se?(it.addRange(J),it.extend(q.node,q.offset)):(J.setEnd(q.node,q.offset),it.addRange(J))}}}}for(dt=[],it=I;it=it.parentNode;)it.nodeType===1&&dt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<dt.length;I++){var ct=dt[I];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}Bh=!!Im,Nm=Im=null}finally{ge=p,vt.p=c,rt.T=o}}e.current=i,dn=2}}function $y(){if(dn===2){dn=0;var e=Sa,i=Ol,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=rt.T,rt.T=null;var c=vt.p;vt.p=2;var p=ge;ge|=4;try{Cy(e,i.alternate,i)}finally{ge=p,vt.p=c,rt.T=o}}dn=3}}function tv(){if(dn===4||dn===3){dn=0,no();var e=Sa,i=Ol,o=Ps,c=jy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dn=5:(dn=0,Ol=Sa=null,ev(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(xa=null),Ct(o),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Xn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=rt.T,p=vt.p,vt.p=2,rt.T=null;try{for(var g=e.onRecoverableError,w=0;w<c.length;w++){var I=c[w];g(I.value,{componentStack:I.stack})}}finally{rt.T=i,vt.p=p}}(Ps&3)!==0&&Ih(),$r(e),p=e.pendingLanes,(o&261930)!==0&&(p&42)!==0?e===gm?Zu++:(Zu=0,gm=e):Zu=0,Ku(0)}}function ev(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Cu(i)))}function Ih(){return Jy(),$y(),tv(),nv()}function nv(){if(dn!==5)return!1;var e=Sa,i=mm;mm=0;var o=Ct(Ps),c=rt.T,p=vt.p;try{vt.p=32>o?32:o,rt.T=null,o=pm,pm=null;var g=Sa,w=Ps;if(dn=0,Ol=Sa=null,Ps=0,(ge&6)!==0)throw Error(a(331));var I=ge;if(ge|=4,Vy(g.current),Oy(g,g.current,w,o),ge=I,Ku(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Xn,g)}catch{}return!0}finally{vt.p=p,rt.T=c,ev(e,i)}}function iv(e,i,o){i=u(o,i),i=Qd(e.stateNode,i,2),e=ya(e,i,2),e!==null&&(hr(e,2),$r(e))}function be(e,i,o){if(e.tag===3)iv(e,e,o);else for(;i!==null;){if(i.tag===3){iv(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(xa===null||!xa.has(c))){e=u(o,e),o=ry(2),c=ya(i,o,2),c!==null&&(sy(o,c,i,e),hr(c,2),$r(c));break}}i=i.return}}function vm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new ox;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(o)||(hm=!0,p.add(o),e=fx.bind(null,e,i,o),i.then(e,e))}function fx(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ie===e&&(ne&o)===o&&(Ye===4||Ye===3&&(ne&62914560)===ne&&300>Sn()-wh?(ge&2)===0&&Pl(e,0):fm|=o,Ll===ne&&(Ll=0)),$r(e)}function rv(e,i){i===0&&(i=rl()),e=tr(e,i),e!==null&&(hr(e,i),$r(e))}function dx(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),rv(e,o)}function mx(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),rv(e,o)}function px(e,i){return qe(e,i)}var Nh=null,Vl=null,Em=!1,Dh=!1,bm=!1,Ca=0;function $r(e){e!==Vl&&e.next===null&&(Vl===null?Nh=Vl=e:Vl=Vl.next=e),Dh=!0,Em||(Em=!0,_x())}function Ku(e,i){if(!bm&&Dh){bm=!0;do for(var o=!1,c=Nh;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var w=c.suspendedLanes,I=c.pingedLanes;g=(1<<31-ze(42|e)+1)-1,g&=p&~(w&~I),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,lv(c,g))}else g=ne,g=Bi(c,c===Ie?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||_i(c,g)||(o=!0,lv(c,g));c=c.next}while(o);bm=!1}}function gx(){sv()}function sv(){Dh=Em=!1;var e=0;Ca!==0&&Cx()&&(e=Ca);for(var i=Sn(),o=null,c=Nh;c!==null;){var p=c.next,g=av(c,i);g===0?(c.next=null,o===null?Nh=p:o.next=p,p===null&&(Vl=o)):(o=c,(e!==0||(g&3)!==0)&&(Dh=!0)),c=p}dn!==0&&dn!==5||Ku(e),Ca!==0&&(Ca=0)}function av(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var w=31-ze(g),I=1<<w,U=p[w];U===-1?((I&o)===0||(I&c)!==0)&&(p[w]=vu(I,i)):U<=i&&(e.expiredLanes|=I),g&=~I}if(i=Ie,o=ne,o=Bi(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Ui(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||_i(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&Ui(c),Ct(o)){case 2:case 8:o=Ys;break;case 32:o=cr;break;case 268435456:o=io;break;default:o=cr}return c=ov.bind(null,e),o=qe(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&Ui(c),e.callbackPriority=2,e.callbackNode=null,2}function ov(e,i){if(dn!==0&&dn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ih()&&e.callbackNode!==o)return null;var c=ne;return c=Bi(e,e===Ie?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Hy(e,c,i),av(e,Sn()),e.callbackNode!=null&&e.callbackNode===o?ov.bind(null,e):null)}function lv(e,i){if(Ih())return null;Hy(e,i,!0)}function _x(){Ix(function(){(ge&6)!==0?qe(fs,gx):sv()})}function Tm(){if(Ca===0){var e=Tl;e===0&&(e=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Ca=e}return Ca}function uv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ur(""+e)}function cv(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function yx(e,i,o,c,p){if(i==="submit"&&o&&o.stateNode===p){var g=uv((p[Ge]||null).action),w=c.submitter;w&&(i=(i=w[Ge]||null)?uv(i.formAction):w.getAttribute("formAction"),i!==null&&(g=i,w=null));var I=new Xi("action","action",null,c,p);e.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ca!==0){var U=w?cv(p,w):new FormData(p);Hd(o,{pending:!0,data:U,method:p.method,action:g},null,U)}}else typeof g=="function"&&(I.preventDefault(),U=w?cv(p,w):new FormData(p),Hd(o,{pending:!0,data:U,method:p.method,action:g},g,U))},currentTarget:p}]})}}for(var wm=0;wm<Kr.length;wm++){var xm=Kr[wm],vx=xm.toLowerCase(),Ex=xm[0].toUpperCase()+xm.slice(1);ai(vx,"on"+Ex)}ai(xo,"onAnimationEnd"),ai(Yc,"onAnimationIteration"),ai(So,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(dd,"onTransitionRun"),ai(Xc,"onTransitionStart"),ai(md,"onTransitionCancel"),ai(da,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function hv(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],p=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var w=c.length-1;0<=w;w--){var I=c[w],U=I.instance,$=I.currentTarget;if(I=I.listener,U!==g&&p.isPropagationStopped())break t;g=I,p.currentTarget=$;try{g(p)}catch(ut){Ao(ut)}p.currentTarget=null,g=U}else for(w=0;w<c.length;w++){if(I=c[w],U=I.instance,$=I.currentTarget,I=I.listener,U!==g&&p.isPropagationStopped())break t;g=I,p.currentTarget=$;try{g(p)}catch(ut){Ao(ut)}p.currentTarget=null,g=U}}}}function $t(e,i){var o=i[vi];o===void 0&&(o=i[vi]=new Set);var c=e+"__bubble";o.has(c)||(fv(i,e,2,!1),o.add(c))}function Sm(e,i,o){var c=0;i&&(c|=4),fv(o,e,c,i)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function Am(e){if(!e[Mh]){e[Mh]=!0,lo.forEach(function(o){o!=="selectionchange"&&(bx.has(o)||Sm(o,!1,e),Sm(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Mh]||(i[Mh]=!0,Sm("selectionchange",!1,i))}}function fv(e,i,o,c){switch(Bv(i)){case 2:var p=Yx;break;case 8:p=Xx;break;default:p=Bm}o=p.bind(null,i,o,e),p=void 0,!pr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(i,o,{capture:!0,passive:p}):e.addEventListener(i,o,!0):p!==void 0?e.addEventListener(i,o,{passive:p}):e.addEventListener(i,o,!1)}function Cm(e,i,o,c,p){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var I=c.stateNode.containerInfo;if(I===p)break;if(w===4)for(w=c.return;w!==null;){var U=w.tag;if((U===3||U===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;I!==null;){if(w=Ei(I),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){c=g=w;continue t}I=I.parentNode}}c=c.return}mr(function(){var $=g,ut=Ln(o),dt=[];t:{var et=Wc.get(e);if(et!==void 0){var it=Xi,It=e;switch(e){case"keypress":if(Br(o)===0)break t;case"keydown":case"keyup":it=go;break;case"focusin":It="focus",it=vs;break;case"focusout":It="blur",it=vs;break;case"beforeblur":case"afterblur":it=vs;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=b;break;case xo:case Yc:case So:it=ia;break;case da:it=N;break;case"scroll":case"scrollend":it=Qt;break;case"wheel":it=nt;break;case"copy":case"cut":case"paste":it=Zn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=vr;break;case"toggle":case"beforetoggle":it=Ut}var kt=(i&4)!==0,Se=!kt&&(e==="scroll"||e==="scrollend"),Y=kt?et!==null?et+"Capture":null:et;kt=[];for(var q=$,J;q!==null;){var ct=q;if(J=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||J===null||Y===null||(ct=Gn(q,Y),ct!=null&&kt.push(Yu(q,ct,J))),Se)break;q=q.return}0<kt.length&&(et=new it(et,It,null,o,ut),dt.push({event:et,listeners:kt}))}}if((i&7)===0){t:{if(et=e==="mouseover"||e==="pointerover",it=e==="mouseout"||e==="pointerout",et&&o!==na&&(It=o.relatedTarget||o.fromElement)&&(Ei(It)||It[yi]))break t;if((it||et)&&(et=ut.window===ut?ut:(et=ut.ownerDocument)?et.defaultView||et.parentWindow:window,it?(It=o.relatedTarget||o.toElement,it=$,It=It?Ei(It):null,It!==null&&(Se=h(It),kt=It.tag,It!==Se||kt!==5&&kt!==27&&kt!==6)&&(It=null)):(it=null,It=$),it!==It)){if(kt=co,ct="onMouseLeave",Y="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(kt=vr,ct="onPointerLeave",Y="onPointerEnter",q="pointer"),Se=it==null?et:_n(it),J=It==null?et:_n(It),et=new kt(ct,q+"leave",it,o,ut),et.target=Se,et.relatedTarget=J,ct=null,Ei(ut)===$&&(kt=new kt(Y,q+"enter",It,o,ut),kt.target=J,kt.relatedTarget=Se,ct=kt),Se=ct,it&&It)e:{for(kt=Tx,Y=it,q=It,J=0,ct=Y;ct;ct=kt(ct))J++;ct=0;for(var Lt=q;Lt;Lt=kt(Lt))ct++;for(;0<J-ct;)Y=kt(Y),J--;for(;0<ct-J;)q=kt(q),ct--;for(;J--;){if(Y===q||q!==null&&Y===q.alternate){kt=Y;break e}Y=kt(Y),q=kt(q)}kt=null}else kt=null;it!==null&&dv(dt,et,it,kt,!1),It!==null&&Se!==null&&dv(dt,Se,It,kt,!0)}}t:{if(et=$?_n($):window,it=et.nodeName&&et.nodeName.toLowerCase(),it==="select"||it==="input"&&et.type==="file")var me=Eo;else if(Wi(et))if(qc)me=fd;else{me=hd;var Nt=Er}else it=et.nodeName,!it||it.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?$&&zr($.elementType)&&(me=Eo):me=ua;if(me&&(me=me(e,$))){Fc(dt,me,o,ut);break t}Nt&&Nt(e,et,$),e==="focusout"&&$&&et.type==="number"&&$.memoizedProps.value!=null&&bi(et,"number",et.value)}switch(Nt=$?_n($):window,e){case"focusin":(Wi(Nt)||Nt.contentEditable==="true")&&(Gr=Nt,pl=$,wo=null);break;case"focusout":wo=pl=Gr=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,Kc(dt,o,ut);break;case"selectionchange":if(ml)break;case"keydown":case"keyup":Kc(dt,o,ut)}var Kt;if(ue)t:{switch(e){case"compositionstart":var ie="onCompositionStart";break t;case"compositionend":ie="onCompositionEnd";break t;case"compositionupdate":ie="onCompositionUpdate";break t}ie=void 0}else aa?Es(e,o)&&(ie="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ie="onCompositionStart");ie&&(si&&o.locale!=="ko"&&(aa||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&aa&&(Kt=Ti()):(ii=ut,gr="value"in ii?ii.value:ii.textContent,aa=!0)),Nt=Lh($,ie),0<Nt.length&&(ie=new Si(ie,e,null,o,ut),dt.push({event:ie,listeners:Nt}),Kt?ie.data=Kt:(Kt=bs(o),Kt!==null&&(ie.data=Kt)))),(Kt=ri?Ri(e,o):oa(e,o))&&(ie=Lh($,"onBeforeInput"),0<ie.length&&(Nt=new Si("onBeforeInput","beforeinput",null,o,ut),dt.push({event:Nt,listeners:ie}),Nt.data=Kt)),yx(dt,e,$,o,ut)}hv(dt,i)})}function Yu(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Lh(e,i){for(var o=i+"Capture",c=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Gn(e,o),p!=null&&c.unshift(Yu(e,p,g)),p=Gn(e,i),p!=null&&c.push(Yu(e,p,g))),e.tag===3)return c;e=e.return}return[]}function Tx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dv(e,i,o,c,p){for(var g=i._reactName,w=[];o!==null&&o!==c;){var I=o,U=I.alternate,$=I.stateNode;if(I=I.tag,U!==null&&U===c)break;I!==5&&I!==26&&I!==27||$===null||(U=$,p?($=Gn(o,g),$!=null&&w.unshift(Yu(o,$,U))):p||($=Gn(o,g),$!=null&&w.push(Yu(o,$,U)))),o=o.return}w.length!==0&&e.push({event:i,listeners:w})}var wx=/\r\n?/g,xx=/\u0000|\uFFFD/g;function mv(e){return(typeof e=="string"?e:""+e).replace(wx,`
`).replace(xx,"")}function pv(e,i){return i=mv(i),mv(e)===i}function xe(e,i,o,c,p,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||en(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&en(e,""+c);break;case"className":Xt(e,"class",c);break;case"tabIndex":Xt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(e,o,c);break;case"style":gs(e,c,g);break;case"data":if(i!=="object"){Xt(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Ur(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&xe(e,i,"name",p.name,p,null),xe(e,i,"formEncType",p.formEncType,p,null),xe(e,i,"formMethod",p.formMethod,p,null),xe(e,i,"formTarget",p.formTarget,p,null)):(xe(e,i,"encType",p.encType,p,null),xe(e,i,"method",p.method,p,null),xe(e,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Ur(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=Mn);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Ur(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":$t("beforetoggle",e),$t("toggle",e),Yt(e,"popover",c);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Yt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=_s.get(o)||o,Yt(e,o,c))}}function Rm(e,i,o,c,p,g){switch(o){case"style":gs(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?en(e,c):(typeof c=="number"||typeof c=="bigint")&&en(e,""+c);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uo.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),g=e[Ge]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,p);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Yt(e,o,c)}}}function Rn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",e),$t("load",e);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:xe(e,i,g,w,o,null)}}p&&xe(e,i,"srcSet",o.srcSet,o,null),c&&xe(e,i,"src",o.src,o,null);return;case"input":$t("invalid",e);var I=g=w=p=null,U=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var ut=o[c];if(ut!=null)switch(c){case"name":p=ut;break;case"type":w=ut;break;case"checked":U=ut;break;case"defaultChecked":$=ut;break;case"value":g=ut;break;case"defaultValue":I=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(a(137,i));break;default:xe(e,i,c,ut,o,null)}}ps(e,g,I,U,$,w,p,!1);return;case"select":$t("invalid",e),c=w=g=null;for(p in o)if(o.hasOwnProperty(p)&&(I=o[p],I!=null))switch(p){case"value":g=I;break;case"defaultValue":w=I;break;case"multiple":c=I;default:xe(e,i,p,I,o,null)}i=g,o=w,e.multiple=!!c,i!=null?ve(e,!!c,i,!1):o!=null&&ve(e,!!c,o,!0);return;case"textarea":$t("invalid",e),g=p=c=null;for(w in o)if(o.hasOwnProperty(w)&&(I=o[w],I!=null))switch(w){case"value":c=I;break;case"defaultValue":p=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(91));break;default:xe(e,i,w,I,o,null)}ni(e,c,p,g);return;case"option":for(U in o)o.hasOwnProperty(U)&&(c=o[U],c!=null)&&(U==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":xe(e,i,U,c,o,null));return;case"dialog":$t("beforetoggle",e),$t("toggle",e),$t("cancel",e),$t("close",e);break;case"iframe":case"object":$t("load",e);break;case"video":case"audio":for(c=0;c<Qu.length;c++)$t(Qu[c],e);break;case"image":$t("error",e),$t("load",e);break;case"details":$t("toggle",e);break;case"embed":case"source":case"link":$t("error",e),$t("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:xe(e,i,$,c,o,null)}return;default:if(zr(i)){for(ut in o)o.hasOwnProperty(ut)&&(c=o[ut],c!==void 0&&Rm(e,i,ut,c,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(c=o[I],c!=null&&xe(e,i,I,c,o,null))}function Sx(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,w=null,I=null,U=null,$=null,ut=null;for(it in o){var dt=o[it];if(o.hasOwnProperty(it)&&dt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":U=dt;default:c.hasOwnProperty(it)||xe(e,i,it,null,c,dt)}}for(var et in c){var it=c[et];if(dt=o[et],c.hasOwnProperty(et)&&(it!=null||dt!=null))switch(et){case"type":g=it;break;case"name":p=it;break;case"checked":$=it;break;case"defaultChecked":ut=it;break;case"value":w=it;break;case"defaultValue":I=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,i));break;default:it!==dt&&xe(e,i,et,it,c,dt)}}ta(e,w,I,U,$,ut,g,p);return;case"select":it=w=I=et=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":it=U;default:c.hasOwnProperty(g)||xe(e,i,g,null,c,U)}for(p in c)if(g=c[p],U=o[p],c.hasOwnProperty(p)&&(g!=null||U!=null))switch(p){case"value":et=g;break;case"defaultValue":I=g;break;case"multiple":w=g;default:g!==U&&xe(e,i,p,g,c,U)}i=I,o=w,c=it,et!=null?ve(e,!!o,et,!1):!!c!=!!o&&(i!=null?ve(e,!!o,i,!0):ve(e,!!o,o?[]:"",!1));return;case"textarea":it=et=null;for(I in o)if(p=o[I],o.hasOwnProperty(I)&&p!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:xe(e,i,I,null,c,p)}for(w in c)if(p=c[w],g=o[w],c.hasOwnProperty(w)&&(p!=null||g!=null))switch(w){case"value":et=p;break;case"defaultValue":it=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==g&&xe(e,i,w,p,c,g)}Ki(e,et,it);return;case"option":for(var It in o)et=o[It],o.hasOwnProperty(It)&&et!=null&&!c.hasOwnProperty(It)&&(It==="selected"?e.selected=!1:xe(e,i,It,null,c,et));for(U in c)et=c[U],it=o[U],c.hasOwnProperty(U)&&et!==it&&(et!=null||it!=null)&&(U==="selected"?e.selected=et&&typeof et!="function"&&typeof et!="symbol":xe(e,i,U,et,c,it));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in o)et=o[kt],o.hasOwnProperty(kt)&&et!=null&&!c.hasOwnProperty(kt)&&xe(e,i,kt,null,c,et);for($ in c)if(et=c[$],it=o[$],c.hasOwnProperty($)&&et!==it&&(et!=null||it!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,i));break;default:xe(e,i,$,et,c,it)}return;default:if(zr(i)){for(var Se in o)et=o[Se],o.hasOwnProperty(Se)&&et!==void 0&&!c.hasOwnProperty(Se)&&Rm(e,i,Se,void 0,c,et);for(ut in c)et=c[ut],it=o[ut],!c.hasOwnProperty(ut)||et===it||et===void 0&&it===void 0||Rm(e,i,ut,et,c,it);return}}for(var Y in o)et=o[Y],o.hasOwnProperty(Y)&&et!=null&&!c.hasOwnProperty(Y)&&xe(e,i,Y,null,c,et);for(dt in c)et=c[dt],it=o[dt],!c.hasOwnProperty(dt)||et===it||et==null&&it==null||xe(e,i,dt,et,c,it)}function gv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ax(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,w=p.initiatorType,I=p.duration;if(g&&I&&gv(w)){for(w=0,I=p.responseEnd,c+=1;c<o.length;c++){var U=o[c],$=U.startTime;if($>I)break;var ut=U.transferSize,dt=U.initiatorType;ut&&gv(dt)&&(U=U.responseEnd,w+=ut*(U<I?1:(I-$)/(U-$)))}if(--c,i+=8*(g+w)/(p.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Im=null,Nm=null;function Oh(e){return e.nodeType===9?e:e.ownerDocument}function _v(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Dm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mm=null;function Cx(){var e=window.event;return e&&e.type==="popstate"?e===Mm?!1:(Mm=e,!0):(Mm=null,!1)}var vv=typeof setTimeout=="function"?setTimeout:void 0,Rx=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,Ix=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(e){return Ev.resolve(null).then(e).catch(Nx)}:vv;function Nx(e){setTimeout(function(){throw e})}function Ra(e){return e==="head"}function bv(e,i){var o=i,c=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(p),Bl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Xu(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Xu(o);for(var g=o.firstChild;g;){var w=g.nextSibling,I=g.nodeName;g[Fi]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&Xu(e.ownerDocument.body);o=p}while(o);Bl(i)}function Tv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function Lm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Lm(o),Ws(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Dx(e,i,o,c){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Fi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=ir(e.nextSibling),e===null)break}return null}function Mx(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=ir(e.nextSibling),e===null))return null;return e}function wv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ir(e.nextSibling),e===null))return null;return e}function Om(e){return e.data==="$?"||e.data==="$~"}function Pm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Lx(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function ir(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var km=null;function xv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return ir(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function Sv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function Av(e,i,o){switch(i=Oh(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Xu(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ws(e)}var rr=new Map,Cv=new Set;function Ph(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ks=vt.d;vt.d={f:Ox,r:Px,D:kx,C:Vx,L:zx,m:Ux,X:Bx,S:jx,M:Hx};function Ox(){var e=ks.f(),i=Ah();return e||i}function Px(e){var i=$n(e);i!==null&&i.tag===5&&i.type==="form"?q_(i):ks.r(e)}var zl=typeof document>"u"?null:document;function Rv(e,i,o){var c=zl;if(c&&typeof i=="string"&&i){var p=Ce(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Cv.has(p)||(Cv.add(p),e={rel:e,crossOrigin:o,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),Rn(i,"link",e),Ze(i),c.head.appendChild(i)))}}function kx(e){ks.D(e),Rv("dns-prefetch",e,null)}function Vx(e,i){ks.C(e,i),Rv("preconnect",e,i)}function zx(e,i,o){ks.L(e,i,o);var c=zl;if(c&&e&&i){var p='link[rel="preload"][as="'+Ce(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ce(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ce(o.imageSizes)+'"]')):p+='[href="'+Ce(e)+'"]';var g=p;switch(i){case"style":g=Ul(e);break;case"script":g=jl(e)}rr.has(g)||(e=A({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),rr.set(g,e),c.querySelector(p)!==null||i==="style"&&c.querySelector(Wu(g))||i==="script"&&c.querySelector(Ju(g))||(i=c.createElement("link"),Rn(i,"link",e),Ze(i),c.head.appendChild(i)))}}function Ux(e,i){ks.m(e,i);var o=zl;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Ce(c)+'"][href="'+Ce(e)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=jl(e)}if(!rr.has(g)&&(e=A({rel:"modulepreload",href:e},i),rr.set(g,e),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ju(g)))return}c=o.createElement("link"),Rn(c,"link",e),Ze(c),o.head.appendChild(c)}}}function jx(e,i,o){ks.S(e,i,o);var c=zl;if(c&&e){var p=qi(c).hoistableStyles,g=Ul(e);i=i||"default";var w=p.get(g);if(!w){var I={loading:0,preload:null};if(w=c.querySelector(Wu(g)))I.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},o),(o=rr.get(g))&&Vm(e,o);var U=w=c.createElement("link");Ze(U),Rn(U,"link",e),U._p=new Promise(function($,ut){U.onload=$,U.onerror=ut}),U.addEventListener("load",function(){I.loading|=1}),U.addEventListener("error",function(){I.loading|=2}),I.loading|=4,kh(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:I},p.set(g,w)}}}function Bx(e,i){ks.X(e,i);var o=zl;if(o&&e){var c=qi(o).hoistableScripts,p=jl(e),g=c.get(p);g||(g=o.querySelector(Ju(p)),g||(e=A({src:e,async:!0},i),(i=rr.get(p))&&zm(e,i),g=o.createElement("script"),Ze(g),Rn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Hx(e,i){ks.M(e,i);var o=zl;if(o&&e){var c=qi(o).hoistableScripts,p=jl(e),g=c.get(p);g||(g=o.querySelector(Ju(p)),g||(e=A({src:e,async:!0,type:"module"},i),(i=rr.get(p))&&zm(e,i),g=o.createElement("script"),Ze(g),Rn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Iv(e,i,o,c){var p=(p=bt.current)?Ph(p):null;if(!p)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Ul(o.href),o=qi(p).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Ul(o.href);var g=qi(p).hoistableStyles,w=g.get(e);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,w),(g=p.querySelector(Wu(e)))&&!g._p&&(w.instance=g,w.state.loading=5),rr.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},rr.set(e,o),g||Fx(p,e,o,w.state))),i&&c===null)throw Error(a(528,""));return w}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=jl(o),o=qi(p).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ul(e){return'href="'+Ce(e)+'"'}function Wu(e){return'link[rel="stylesheet"]['+e+"]"}function Nv(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Fx(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Rn(i,"link",o),Ze(i),e.head.appendChild(i))}function jl(e){return'[src="'+Ce(e)+'"]'}function Ju(e){return"script[async]"+e}function Dv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Ce(o.href)+'"]');if(c)return i.instance=c,Ze(c),c;var p=A({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ze(c),Rn(c,"style",p),kh(c,o.precedence,e),i.instance=c;case"stylesheet":p=Ul(o.href);var g=e.querySelector(Wu(p));if(g)return i.state.loading|=4,i.instance=g,Ze(g),g;c=Nv(o),(p=rr.get(p))&&Vm(c,p),g=(e.ownerDocument||e).createElement("link"),Ze(g);var w=g;return w._p=new Promise(function(I,U){w.onload=I,w.onerror=U}),Rn(g,"link",c),i.state.loading|=4,kh(g,o.precedence,e),i.instance=g;case"script":return g=jl(o.src),(p=e.querySelector(Ju(g)))?(i.instance=p,Ze(p),p):(c=o,(p=rr.get(g))&&(c=A({},o),zm(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Ze(p),Rn(p,"link",c),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,kh(c,o.precedence,e));return i.instance}function kh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,w=0;w<c.length;w++){var I=c[w];if(I.dataset.precedence===i)g=I;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Vm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function zm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Vh=null;function Mv(e,i,o){if(Vh===null){var c=new Map,p=Vh=new Map;p.set(o,c)}else p=Vh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var g=o[p];if(!(g[Fi]||g[je]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(i)||"";w=e+w;var I=c.get(w);I?I.push(g):c.set(w,[g])}}return c}function Lv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function qx(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ov(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Gx(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Ul(c.href),g=i.querySelector(Wu(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=zh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=g,Ze(g);return}g=i.ownerDocument||i,c=Nv(c),(p=rr.get(p))&&Vm(c,p),g=g.createElement("link"),Ze(g);var w=g;w._p=new Promise(function(I,U){w.onload=I,w.onerror=U}),Rn(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=zh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Um=0;function Zx(e,i){return e.stylesheets&&e.count===0&&jh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&jh(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Um===0&&(Um=62500*Ax());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jh(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Um?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function zh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Uh=null;function jh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Uh=new Map,i.forEach(Kx,e),Uh=null,zh.call(e))}function Kx(e,i){if(!(i.state.loading&4)){var o=Uh.get(e);if(o)var c=o.get(null);else{o=new Map,Uh.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var w=p[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}p=i.instance,w=p.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,p),o.set(w,p),this.count++,c=zh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var $u={$$typeof:st,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function Qx(e,i,o,c,p,g,w,I,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Pv(e,i,o,c,p,g,w,I,U,$,ut,dt){return e=new Qx(e,i,o,w,U,$,ut,dt,I),i=1,g===!0&&(i|=24),g=Vn(3,null,null,i),e.current=g,g.stateNode=e,i=yd(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},Td(g),e}function kv(e){return e?(e=Ts,e):Ts}function Vv(e,i,o,c,p,g){p=kv(p),c.context===null?c.context=p:c.pendingContext=p,c=_a(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ya(e,c,i),o!==null&&(di(o,e,i),Du(o,e,i))}function zv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function jm(e,i){zv(e,i),(e=e.alternate)&&zv(e,i)}function Uv(e){if(e.tag===13||e.tag===31){var i=tr(e,67108864);i!==null&&di(i,e,67108864),jm(e,67108864)}}function jv(e){if(e.tag===13||e.tag===31){var i=Li();i=gn(i);var o=tr(e,i);o!==null&&di(o,e,i),jm(e,i)}}var Bh=!0;function Yx(e,i,o,c){var p=rt.T;rt.T=null;var g=vt.p;try{vt.p=2,Bm(e,i,o,c)}finally{vt.p=g,rt.T=p}}function Xx(e,i,o,c){var p=rt.T;rt.T=null;var g=vt.p;try{vt.p=8,Bm(e,i,o,c)}finally{vt.p=g,rt.T=p}}function Bm(e,i,o,c){if(Bh){var p=Hm(c);if(p===null)Cm(e,i,c,Hh,o),Hv(e,c);else if(Jx(p,e,i,o,c))c.stopPropagation();else if(Hv(e,c),i&4&&-1<Wx.indexOf(e)){for(;p!==null;){var g=$n(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=ji(g.pendingLanes);if(w!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;w;){var U=1<<31-ze(w);I.entanglements[1]|=U,w&=~U}$r(g),(ge&6)===0&&(xh=Sn()+500,Ku(0))}}break;case 31:case 13:I=tr(g,2),I!==null&&di(I,g,2),Ah(),jm(g,2)}if(g=Hm(c),g===null&&Cm(e,i,c,Hh,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else Cm(e,i,c,null,o)}}function Hm(e){return e=Ln(e),Fm(e)}var Hh=null;function Fm(e){if(Hh=null,e=Ei(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=m(i),e!==null)return e;e=null}else if(o===31){if(e=v(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Hh=e,null}function Bv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hs()){case fs:return 2;case Ys:return 8;case cr:case yu:return 32;case io:return 268435456;default:return 32}default:return 32}}var qm=!1,Ia=null,Na=null,Da=null,tc=new Map,ec=new Map,Ma=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hv(e,i){switch(e){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":tc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(i.pointerId)}}function nc(e,i,o,c,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},i!==null&&(i=$n(i),i!==null&&Uv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function Jx(e,i,o,c,p){switch(i){case"focusin":return Ia=nc(Ia,e,i,o,c,p),!0;case"dragenter":return Na=nc(Na,e,i,o,c,p),!0;case"mouseover":return Da=nc(Da,e,i,o,c,p),!0;case"pointerover":var g=p.pointerId;return tc.set(g,nc(tc.get(g)||null,e,i,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,ec.set(g,nc(ec.get(g)||null,e,i,o,c,p)),!0}return!1}function Fv(e){var i=Ei(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=m(o),i!==null){e.blockedOn=i,Wn(e.priority,function(){jv(o)});return}}else if(i===31){if(i=v(o),i!==null){e.blockedOn=i,Wn(e.priority,function(){jv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Hm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);na=c,o.target.dispatchEvent(c),na=null}else return i=$n(o),i!==null&&Uv(i),e.blockedOn=o,!1;i.shift()}return!0}function qv(e,i,o){Fh(e)&&o.delete(i)}function $x(){qm=!1,Ia!==null&&Fh(Ia)&&(Ia=null),Na!==null&&Fh(Na)&&(Na=null),Da!==null&&Fh(Da)&&(Da=null),tc.forEach(qv),ec.forEach(qv)}function qh(e,i){e.blockedOn===i&&(e.blockedOn=null,qm||(qm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$x)))}var Gh=null;function Gv(e){Gh!==e&&(Gh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gh===e&&(Gh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],p=e[i+2];if(typeof c!="function"){if(Fm(c||o)===null)continue;break}var g=$n(o);g!==null&&(e.splice(i,3),i-=3,Hd(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Bl(e){function i(U){return qh(U,e)}Ia!==null&&qh(Ia,e),Na!==null&&qh(Na,e),Da!==null&&qh(Da,e),tc.forEach(i),ec.forEach(i);for(var o=0;o<Ma.length;o++){var c=Ma[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ma.length&&(o=Ma[0],o.blockedOn===null);)Fv(o),o.blockedOn===null&&Ma.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],w=p[Ge]||null;if(typeof g=="function")w||Gv(o);else if(w){var I=null;if(g&&g.hasAttribute("formAction")){if(p=g,w=g[Ge]||null)I=w.formAction;else if(Fm(p)!==null)continue}else I=w.action;typeof I=="function"?o[c+1]=I:(o.splice(c,3),c-=3),Gv(o)}}}function Zv(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Gm(e){this._internalRoot=e}Zh.prototype.render=Gm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=Li();Vv(o,c,e,i,null,null)},Zh.prototype.unmount=Gm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Vv(e.current,2,null,e,null,null),Ah(),i[yi]=null}};function Zh(e){this._internalRoot=e}Zh.prototype.unstable_scheduleHydration=function(e){if(e){var i=oo();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Ma.length&&i!==0&&i<Ma[o].priority;o++);Ma.splice(o,0,e),o===0&&Fv(e)}};var Kv=t.version;if(Kv!=="19.2.3")throw Error(a(527,Kv,"19.2.3"));vt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=E(i),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var t1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{Xn=Kh.inject(t1),We=Kh}catch{}}return rc.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",p=ty,g=ey,w=ny;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=Pv(e,1,!1,null,null,o,c,null,p,g,w,Zv),e[yi]=i.current,Am(e),new Gm(i)},rc.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,p="",g=ty,w=ey,I=ny,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),i=Pv(e,1,!0,i,o??null,c,p,U,g,w,I,Zv),i.context=kv(null),o=i.current,c=Li(),c=gn(c),p=_a(c),p.callback=null,ya(o,p,c),o=c,i.current.lanes=o,hr(i,o),$r(i),e[yi]=i.current,Am(e),new Zh(i)},rc.version="19.2.3",rc}var i0;function u1(){if(i0)return Qm.exports;i0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Qm.exports=l1(),Qm.exports}var c1=u1();var r0="popstate";function h1(r={}){function t(a,l){let{pathname:h,search:m,hash:v}=a.location;return gp("",{pathname:h,search:m,hash:v},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:_c(l)}return d1(t,n,null,r)}function Ve(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function lr(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function f1(){return Math.random().toString(36).substring(2,10)}function s0(r,t){return{usr:r.state,key:r.key,idx:t}}function gp(r,t,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?au(t):t,state:n,key:t&&t.key||a||f1()}}function _c({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function au(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function d1(r,t,n,a={}){let{window:l=document.defaultView,v5Compat:h=!1}=a,m=l.history,v="POP",y=null,E=S();E==null&&(E=0,m.replaceState({...m.state,idx:E},""));function S(){return(m.state||{idx:null}).idx}function A(){v="POP";let H=S(),at=H==null?null:H-E;E=H,y&&y({action:v,location:F.location,delta:at})}function D(H,at){v="PUSH";let lt=gp(F.location,H,at);E=S()+1;let st=s0(lt,E),Rt=F.createHref(lt);try{m.pushState(st,"",Rt)}catch(Dt){if(Dt instanceof DOMException&&Dt.name==="DataCloneError")throw Dt;l.location.assign(Rt)}h&&y&&y({action:v,location:F.location,delta:1})}function B(H,at){v="REPLACE";let lt=gp(F.location,H,at);E=S();let st=s0(lt,E),Rt=F.createHref(lt);m.replaceState(st,"",Rt),h&&y&&y({action:v,location:F.location,delta:0})}function Q(H){return m1(H)}let F={get action(){return v},get location(){return r(l,m)},listen(H){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(r0,A),y=H,()=>{l.removeEventListener(r0,A),y=null}},createHref(H){return t(l,H)},createURL:Q,encodeLocation(H){let at=Q(H);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:D,replace:B,go(H){return m.go(H)}};return F}function m1(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:_c(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function HE(r,t,n="/"){return p1(r,t,n,!1)}function p1(r,t,n,a){let l=typeof t=="string"?au(t):t,h=Bs(l.pathname||"/",n);if(h==null)return null;let m=FE(r);g1(m);let v=null;for(let y=0;v==null&&y<m.length;++y){let E=C1(h);v=S1(m[y],E,a)}return v}function FE(r,t=[],n=[],a="",l=!1){let h=(m,v,y=l,E)=>{let S={relativePath:E===void 0?m.path||"":E,caseSensitive:m.caseSensitive===!0,childrenIndex:v,route:m};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(a)&&y)return;Ve(S.relativePath.startsWith(a),`Absolute route path "${S.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(a.length)}let A=js([a,S.relativePath]),D=n.concat(S);m.children&&m.children.length>0&&(Ve(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),FE(m.children,t,D,A,y)),!(m.path==null&&!m.index)&&t.push({path:A,score:w1(A,m.index),routesMeta:D})};return r.forEach((m,v)=>{if(m.path===""||!m.path?.includes("?"))h(m,v);else for(let y of qE(m.path))h(m,v,!0,y)}),t}function qE(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(a.length===0)return l?[h,""]:[h];let m=qE(a.join("/")),v=[];return v.push(...m.map(y=>y===""?h:[h,y].join("/"))),l&&v.push(...m),v.map(y=>r.startsWith("/")&&y===""?"/":y)}function g1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:x1(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var _1=/^:[\w-]+$/,y1=3,v1=2,E1=1,b1=10,T1=-2,a0=r=>r==="*";function w1(r,t){let n=r.split("/"),a=n.length;return n.some(a0)&&(a+=T1),t&&(a+=v1),n.filter(l=>!a0(l)).reduce((l,h)=>l+(_1.test(h)?y1:h===""?E1:b1),a)}function x1(r,t){return r.length===t.length&&r.slice(0,-1).every((a,l)=>a===t[l])?r[r.length-1]-t[t.length-1]:0}function S1(r,t,n=!1){let{routesMeta:a}=r,l={},h="/",m=[];for(let v=0;v<a.length;++v){let y=a[v],E=v===a.length-1,S=h==="/"?t:t.slice(h.length)||"/",A=pf({path:y.relativePath,caseSensitive:y.caseSensitive,end:E},S),D=y.route;if(!A&&E&&n&&!a[a.length-1].route.index&&(A=pf({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},S)),!A)return null;Object.assign(l,A.params),m.push({params:l,pathname:js([h,A.pathname]),pathnameBase:D1(js([h,A.pathnameBase])),route:D}),A.pathnameBase!=="/"&&(h=js([h,A.pathnameBase]))}return m}function pf(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=A1(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let h=l[0],m=h.replace(/(.)\/+$/,"$1"),v=l.slice(1);return{params:a.reduce((E,{paramName:S,isOptional:A},D)=>{if(S==="*"){let Q=v[D]||"";m=h.slice(0,h.length-Q.length).replace(/(.)\/+$/,"$1")}const B=v[D];return A&&!B?E[S]=void 0:E[S]=(B||"").replace(/%2F/g,"/"),E},{}),pathname:h,pathnameBase:m,pattern:r}}function A1(r,t=!1,n=!0){lr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,v,y)=>(a.push({paramName:v,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function C1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Bs(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}var GE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R1=r=>GE.test(r);function I1(r,t="/"){let{pathname:n,search:a="",hash:l=""}=typeof r=="string"?au(r):r,h;if(n)if(R1(n))h=n;else{if(n.includes("//")){let m=n;n=n.replace(/\/\/+/g,"/"),lr(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${n}`)}n.startsWith("/")?h=o0(n.substring(1),"/"):h=o0(n,t)}else h=t;return{pathname:h,search:M1(a),hash:L1(l)}}function o0(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Jm(r,t,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Zp(r){let t=N1(r);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function Kp(r,t,n,a=!1){let l;typeof r=="string"?l=au(r):(l={...r},Ve(!l.pathname||!l.pathname.includes("?"),Jm("?","pathname","search",l)),Ve(!l.pathname||!l.pathname.includes("#"),Jm("#","pathname","hash",l)),Ve(!l.search||!l.search.includes("#"),Jm("#","search","hash",l)));let h=r===""||l.pathname==="",m=h?"/":l.pathname,v;if(m==null)v=n;else{let A=t.length-1;if(!a&&m.startsWith("..")){let D=m.split("/");for(;D[0]==="..";)D.shift(),A-=1;l.pathname=D.join("/")}v=A>=0?t[A]:"/"}let y=I1(l,v),E=m&&m!=="/"&&m.endsWith("/"),S=(h||m===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(E||S)&&(y.pathname+="/"),y}var js=r=>r.join("/").replace(/\/\/+/g,"/"),D1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),M1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,L1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,O1=class{constructor(r,t,n,a=!1){this.status=r,this.statusText=t||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function P1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function k1(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function KE(r,t){let n=r;if(typeof n!="string"||!GE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,l=!1;if(ZE)try{let h=new URL(window.location.href),m=n.startsWith("//")?new URL(h.protocol+n):new URL(n),v=Bs(m.pathname,t);m.origin===h.origin&&v!=null?n=v+m.search+m.hash:l=!0}catch{lr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QE=["POST","PUT","PATCH","DELETE"];new Set(QE);var V1=["GET",...QE];new Set(V1);var ou=K.createContext(null);ou.displayName="DataRouter";var Vf=K.createContext(null);Vf.displayName="DataRouterState";var z1=K.createContext(!1),YE=K.createContext({isTransitioning:!1});YE.displayName="ViewTransition";var U1=K.createContext(new Map);U1.displayName="Fetchers";var j1=K.createContext(null);j1.displayName="Await";var ki=K.createContext(null);ki.displayName="Navigation";var Rc=K.createContext(null);Rc.displayName="Location";var Nr=K.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var Qp=K.createContext(null);Qp.displayName="RouteError";var XE="REACT_ROUTER_ERROR",B1="REDIRECT",H1="ROUTE_ERROR_RESPONSE";function F1(r){if(r.startsWith(`${XE}:${B1}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function q1(r){if(r.startsWith(`${XE}:${H1}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new O1(t.status,t.statusText,t.data)}catch{}}function G1(r,{relative:t}={}){Ve(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=K.useContext(ki),{hash:l,pathname:h,search:m}=Ic(r,{relative:t}),v=h;return n!=="/"&&(v=h==="/"?n:js([n,h])),a.createHref({pathname:v,search:m,hash:l})}function lu(){return K.useContext(Rc)!=null}function Zs(){return Ve(lu(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Rc).location}var WE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JE(r){K.useContext(ki).static||K.useLayoutEffect(r)}function us(){let{isDataRoute:r}=K.useContext(Nr);return r?rS():Z1()}function Z1(){Ve(lu(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(ou),{basename:t,navigator:n}=K.useContext(ki),{matches:a}=K.useContext(Nr),{pathname:l}=Zs(),h=JSON.stringify(Zp(a)),m=K.useRef(!1);return JE(()=>{m.current=!0}),K.useCallback((y,E={})=>{if(lr(m.current,WE),!m.current)return;if(typeof y=="number"){n.go(y);return}let S=Kp(y,JSON.parse(h),l,E.relative==="path");r==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:js([t,S.pathname])),(E.replace?n.replace:n.push)(S,E.state,E)},[t,n,h,l,r])}K.createContext(null);function $E(){let{matches:r}=K.useContext(Nr),t=r[r.length-1];return t?t.params:{}}function Ic(r,{relative:t}={}){let{matches:n}=K.useContext(Nr),{pathname:a}=Zs(),l=JSON.stringify(Zp(n));return K.useMemo(()=>Kp(r,JSON.parse(l),a,t==="path"),[r,l,a,t])}function K1(r,t){return tb(r,t)}function tb(r,t,n,a,l){Ve(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=K.useContext(ki),{matches:m}=K.useContext(Nr),v=m[m.length-1],y=v?v.params:{},E=v?v.pathname:"/",S=v?v.pathnameBase:"/",A=v&&v.route;{let lt=A&&A.path||"";nb(E,!A||lt.endsWith("*")||lt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${E}" (under <Route path="${lt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${lt}"> to <Route path="${lt==="/"?"*":`${lt}/*`}">.`)}let D=Zs(),B;if(t){let lt=typeof t=="string"?au(t):t;Ve(S==="/"||lt.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${lt.pathname}" was given in the \`location\` prop.`),B=lt}else B=D;let Q=B.pathname||"/",F=Q;if(S!=="/"){let lt=S.replace(/^\//,"").split("/");F="/"+Q.replace(/^\//,"").split("/").slice(lt.length).join("/")}let H=HE(r,{pathname:F});lr(A||H!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),lr(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let at=J1(H&&H.map(lt=>Object.assign({},lt,{params:Object.assign({},y,lt.params),pathname:js([S,h.encodeLocation?h.encodeLocation(lt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:lt.pathname]),pathnameBase:lt.pathnameBase==="/"?S:js([S,h.encodeLocation?h.encodeLocation(lt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:lt.pathnameBase])})),m,n,a,l);return t&&at?K.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...B},navigationType:"POP"}},at):at}function Q1(){let r=iS(),t=P1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:h},"ErrorBoundary")," or"," ",K.createElement("code",{style:h},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:l},n):null,m)}var Y1=K.createElement(Q1,null),eb=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=q1(r.digest);n&&(r=n)}let t=r!==void 0?K.createElement(Nr.Provider,{value:this.props.routeContext},K.createElement(Qp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?K.createElement(X1,{error:r},t):t}};eb.contextType=z1;var $m=new WeakMap;function X1({children:r,error:t}){let{basename:n}=K.useContext(ki);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=F1(t.digest);if(a){let l=$m.get(t);if(l)throw l;let h=KE(a.location,n);if(ZE&&!$m.get(t))if(h.isExternal||a.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const m=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:a.replace}));throw $m.set(t,m),m}return K.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return r}function W1({routeContext:r,match:t,children:n}){let a=K.useContext(ou);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Nr.Provider,{value:r},n)}function J1(r,t=[],n=null,a=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let h=r,m=n?.errors;if(m!=null){let S=h.findIndex(A=>A.route.id&&m?.[A.route.id]!==void 0);Ve(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),h=h.slice(0,Math.min(h.length,S+1))}let v=!1,y=-1;if(n)for(let S=0;S<h.length;S++){let A=h[S];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(y=S),A.route.id){let{loaderData:D,errors:B}=n,Q=A.route.loader&&!D.hasOwnProperty(A.route.id)&&(!B||B[A.route.id]===void 0);if(A.route.lazy||Q){v=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}let E=n&&a?(S,A)=>{a(S,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:k1(n.matches),errorInfo:A})}:void 0;return h.reduceRight((S,A,D)=>{let B,Q=!1,F=null,H=null;n&&(B=m&&A.route.id?m[A.route.id]:void 0,F=A.route.errorElement||Y1,v&&(y<0&&D===0?(nb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,H=null):y===D&&(Q=!0,H=A.route.hydrateFallbackElement||null)));let at=t.concat(h.slice(0,D+1)),lt=()=>{let st;return B?st=F:Q?st=H:A.route.Component?st=K.createElement(A.route.Component,null):A.route.element?st=A.route.element:st=S,K.createElement(W1,{match:A,routeContext:{outlet:S,matches:at,isDataRoute:n!=null},children:st})};return n&&(A.route.ErrorBoundary||A.route.errorElement||D===0)?K.createElement(eb,{location:n.location,revalidation:n.revalidation,component:F,error:B,children:lt(),routeContext:{outlet:null,matches:at,isDataRoute:!0},onError:E}):lt()},null)}function Yp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(r){let t=K.useContext(ou);return Ve(t,Yp(r)),t}function tS(r){let t=K.useContext(Vf);return Ve(t,Yp(r)),t}function eS(r){let t=K.useContext(Nr);return Ve(t,Yp(r)),t}function Xp(r){let t=eS(r),n=t.matches[t.matches.length-1];return Ve(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function nS(){return Xp("useRouteId")}function iS(){let r=K.useContext(Qp),t=tS("useRouteError"),n=Xp("useRouteError");return r!==void 0?r:t.errors?.[n]}function rS(){let{router:r}=$1("useNavigate"),t=Xp("useNavigate"),n=K.useRef(!1);return JE(()=>{n.current=!0}),K.useCallback(async(l,h={})=>{lr(n.current,WE),n.current&&(typeof l=="number"?await r.navigate(l):await r.navigate(l,{fromRouteId:t,...h}))},[r,t])}var l0={};function nb(r,t,n){!t&&!l0[r]&&(l0[r]=!0,lr(!1,n))}K.memo(sS);function sS({routes:r,future:t,state:n,onError:a}){return tb(r,void 0,n,a,t)}function aS({to:r,replace:t,state:n,relative:a}){Ve(lu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=K.useContext(ki);lr(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=K.useContext(Nr),{pathname:m}=Zs(),v=us(),y=Kp(r,Zp(h),m,a==="path"),E=JSON.stringify(y);return K.useEffect(()=>{v(JSON.parse(E),{replace:t,state:n,relative:a})},[v,E,a,t,n]),null}function Pa(r){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oS({basename:r="/",children:t=null,location:n,navigationType:a="POP",navigator:l,static:h=!1,unstable_useTransitions:m}){Ve(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=r.replace(/^\/*/,"/"),y=K.useMemo(()=>({basename:v,navigator:l,static:h,unstable_useTransitions:m,future:{}}),[v,l,h,m]);typeof n=="string"&&(n=au(n));let{pathname:E="/",search:S="",hash:A="",state:D=null,key:B="default"}=n,Q=K.useMemo(()=>{let F=Bs(E,v);return F==null?null:{location:{pathname:F,search:S,hash:A,state:D,key:B},navigationType:a}},[v,E,S,A,D,B,a]);return lr(Q!=null,`<Router basename="${v}"> is not able to match the URL "${E}${S}${A}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:K.createElement(ki.Provider,{value:y},K.createElement(Rc.Provider,{children:t,value:Q}))}function lS({children:r,location:t}){return K1(_p(r),t)}function _p(r,t=[]){let n=[];return K.Children.forEach(r,(a,l)=>{if(!K.isValidElement(a))return;let h=[...t,l];if(a.type===K.Fragment){n.push.apply(n,_p(a.props.children,h));return}Ve(a.type===Pa,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!a.props.index||!a.props.children,"An index route cannot have child routes.");let m={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(m.children=_p(a.props.children,h)),n.push(m)}),n}var ef="get",nf="application/x-www-form-urlencoded";function zf(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function uS(r){return zf(r)&&r.tagName.toLowerCase()==="button"}function cS(r){return zf(r)&&r.tagName.toLowerCase()==="form"}function hS(r){return zf(r)&&r.tagName.toLowerCase()==="input"}function fS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dS(r,t){return r.button===0&&(!t||t==="_self")&&!fS(r)}var Qh=null;function mS(){if(Qh===null)try{new FormData(document.createElement("form"),0),Qh=!1}catch{Qh=!0}return Qh}var pS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tp(r){return r!=null&&!pS.has(r)?(lr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nf}"`),null):r}function gS(r,t){let n,a,l,h,m;if(cS(r)){let v=r.getAttribute("action");a=v?Bs(v,t):null,n=r.getAttribute("method")||ef,l=tp(r.getAttribute("enctype"))||nf,h=new FormData(r)}else if(uS(r)||hS(r)&&(r.type==="submit"||r.type==="image")){let v=r.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||v.getAttribute("action");if(a=y?Bs(y,t):null,n=r.getAttribute("formmethod")||v.getAttribute("method")||ef,l=tp(r.getAttribute("formenctype"))||tp(v.getAttribute("enctype"))||nf,h=new FormData(v,r),!mS()){let{name:E,type:S,value:A}=r;if(S==="image"){let D=E?`${E}.`:"";h.append(`${D}x`,"0"),h.append(`${D}y`,"0")}else E&&h.append(E,A)}}else{if(zf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ef,a=null,l=nf,m=r}return h&&l==="text/plain"&&(m=h,h=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:h,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function _S(r,t,n,a){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${a}`:l.pathname=`${l.pathname}.${a}`:l.pathname==="/"?l.pathname=`_root.${a}`:t&&Bs(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function yS(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ES(r,t,n){let a=await Promise.all(r.map(async l=>{let h=t.routes[l.route.id];if(h){let m=await yS(h,n);return m.links?m.links():[]}return[]}));return xS(a.flat(1).filter(vS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function u0(r,t,n,a,l,h){let m=(y,E)=>n[E]?y.route.id!==n[E].route.id:!0,v=(y,E)=>n[E].pathname!==y.pathname||n[E].route.path?.endsWith("*")&&n[E].params["*"]!==y.params["*"];return h==="assets"?t.filter((y,E)=>m(y,E)||v(y,E)):h==="data"?t.filter((y,E)=>{let S=a.routes[y.route.id];if(!S||!S.hasLoader)return!1;if(m(y,E)||v(y,E))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function bS(r,t,{includeHydrateFallback:n}={}){return TS(r.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function TS(r){return[...new Set(r)]}function wS(r){let t={},n=Object.keys(r).sort();for(let a of n)t[a]=r[a];return t}function xS(r,t){let n=new Set;return new Set(t),r.reduce((a,l)=>{let h=JSON.stringify(wS(l));return n.has(h)||(n.add(h),a.push({key:h,link:l})),a},[])}function ib(){let r=K.useContext(ou);return Wp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function SS(){let r=K.useContext(Vf);return Wp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jp=K.createContext(void 0);Jp.displayName="FrameworkContext";function rb(){let r=K.useContext(Jp);return Wp(r,"You must render this element inside a <HydratedRouter> element"),r}function AS(r,t){let n=K.useContext(Jp),[a,l]=K.useState(!1),[h,m]=K.useState(!1),{onFocus:v,onBlur:y,onMouseEnter:E,onMouseLeave:S,onTouchStart:A}=t,D=K.useRef(null);K.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let F=at=>{at.forEach(lt=>{m(lt.isIntersecting)})},H=new IntersectionObserver(F,{threshold:.5});return D.current&&H.observe(D.current),()=>{H.disconnect()}}},[r]),K.useEffect(()=>{if(a){let F=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(F)}}},[a]);let B=()=>{l(!0)},Q=()=>{l(!1),m(!1)};return n?r!=="intent"?[h,D,{}]:[h,D,{onFocus:sc(v,B),onBlur:sc(y,Q),onMouseEnter:sc(E,B),onMouseLeave:sc(S,Q),onTouchStart:sc(A,B)}]:[!1,D,{}]}function sc(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function CS({page:r,...t}){let{router:n}=ib(),a=K.useMemo(()=>HE(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?K.createElement(IS,{page:r,matches:a,...t}):null}function RS(r){let{manifest:t,routeModules:n}=rb(),[a,l]=K.useState([]);return K.useEffect(()=>{let h=!1;return ES(r,t,n).then(m=>{h||l(m)}),()=>{h=!0}},[r,t,n]),a}function IS({page:r,matches:t,...n}){let a=Zs(),{future:l,manifest:h,routeModules:m}=rb(),{basename:v}=ib(),{loaderData:y,matches:E}=SS(),S=K.useMemo(()=>u0(r,t,E,h,a,"data"),[r,t,E,h,a]),A=K.useMemo(()=>u0(r,t,E,h,a,"assets"),[r,t,E,h,a]),D=K.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let F=new Set,H=!1;if(t.forEach(lt=>{let st=h.routes[lt.route.id];!st||!st.hasLoader||(!S.some(Rt=>Rt.route.id===lt.route.id)&&lt.route.id in y&&m[lt.route.id]?.shouldRevalidate||st.hasClientLoader?H=!0:F.add(lt.route.id))}),F.size===0)return[];let at=_S(r,v,l.unstable_trailingSlashAwareDataRequests,"data");return H&&F.size>0&&at.searchParams.set("_routes",t.filter(lt=>F.has(lt.route.id)).map(lt=>lt.route.id).join(",")),[at.pathname+at.search]},[v,l.unstable_trailingSlashAwareDataRequests,y,a,h,S,t,r,m]),B=K.useMemo(()=>bS(A,h),[A,h]),Q=RS(A);return K.createElement(K.Fragment,null,D.map(F=>K.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),B.map(F=>K.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),Q.map(({key:F,link:H})=>K.createElement("link",{key:F,nonce:n.nonce,...H})))}function NS(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var DS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DS&&(window.__reactRouterVersion="7.12.0")}catch{}function MS({basename:r,children:t,unstable_useTransitions:n,window:a}){let l=K.useRef();l.current==null&&(l.current=h1({window:a,v5Compat:!0}));let h=l.current,[m,v]=K.useState({action:h.action,location:h.location}),y=K.useCallback(E=>{n===!1?v(E):K.startTransition(()=>v(E))},[n]);return K.useLayoutEffect(()=>h.listen(y),[h,y]),K.createElement(oS,{basename:r,children:t,location:m.location,navigationType:m.action,navigator:h,unstable_useTransitions:n})}var sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ab=K.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:l,reloadDocument:h,replace:m,state:v,target:y,to:E,preventScrollReset:S,viewTransition:A,unstable_defaultShouldRevalidate:D,...B},Q){let{basename:F,unstable_useTransitions:H}=K.useContext(ki),at=typeof E=="string"&&sb.test(E),lt=KE(E,F);E=lt.to;let st=G1(E,{relative:l}),[Rt,Dt,Vt]=AS(a,B),V=kS(E,{replace:m,state:v,target:y,preventScrollReset:S,relative:l,viewTransition:A,unstable_defaultShouldRevalidate:D,unstable_useTransitions:H});function M(Z){t&&t(Z),Z.defaultPrevented||V(Z)}let P=K.createElement("a",{...B,...Vt,href:lt.absoluteURL||st,onClick:lt.isExternal||h?t:M,ref:NS(Q,Dt),target:y,"data-discover":!at&&n==="render"?"true":void 0});return Rt&&!at?K.createElement(K.Fragment,null,P,K.createElement(CS,{page:st})):P});ab.displayName="Link";var LS=K.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:l=!1,style:h,to:m,viewTransition:v,children:y,...E},S){let A=Ic(m,{relative:E.relative}),D=Zs(),B=K.useContext(Vf),{navigator:Q,basename:F}=K.useContext(ki),H=B!=null&&BS(A)&&v===!0,at=Q.encodeLocation?Q.encodeLocation(A).pathname:A.pathname,lt=D.pathname,st=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;n||(lt=lt.toLowerCase(),st=st?st.toLowerCase():null,at=at.toLowerCase()),st&&F&&(st=Bs(st,F)||st);const Rt=at!=="/"&&at.endsWith("/")?at.length-1:at.length;let Dt=lt===at||!l&&lt.startsWith(at)&&lt.charAt(Rt)==="/",Vt=st!=null&&(st===at||!l&&st.startsWith(at)&&st.charAt(at.length)==="/"),V={isActive:Dt,isPending:Vt,isTransitioning:H},M=Dt?t:void 0,P;typeof a=="function"?P=a(V):P=[a,Dt?"active":null,Vt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let Z=typeof h=="function"?h(V):h;return K.createElement(ab,{...E,"aria-current":M,className:P,ref:S,style:Z,to:m,viewTransition:v},typeof y=="function"?y(V):y)});LS.displayName="NavLink";var OS=K.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:l,state:h,method:m=ef,action:v,onSubmit:y,relative:E,preventScrollReset:S,viewTransition:A,unstable_defaultShouldRevalidate:D,...B},Q)=>{let{unstable_useTransitions:F}=K.useContext(ki),H=US(),at=jS(v,{relative:E}),lt=m.toLowerCase()==="get"?"get":"post",st=typeof v=="string"&&sb.test(v),Rt=Dt=>{if(y&&y(Dt),Dt.defaultPrevented)return;Dt.preventDefault();let Vt=Dt.nativeEvent.submitter,V=Vt?.getAttribute("formmethod")||m,M=()=>H(Vt||Dt.currentTarget,{fetcherKey:t,method:V,navigate:n,replace:l,state:h,relative:E,preventScrollReset:S,viewTransition:A,unstable_defaultShouldRevalidate:D});F&&n!==!1?K.startTransition(()=>M()):M()};return K.createElement("form",{ref:Q,method:lt,action:at,onSubmit:a?y:Rt,...B,"data-discover":!st&&r==="render"?"true":void 0})});OS.displayName="Form";function PS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ob(r){let t=K.useContext(ou);return Ve(t,PS(r)),t}function kS(r,{target:t,replace:n,state:a,preventScrollReset:l,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:y}={}){let E=us(),S=Zs(),A=Ic(r,{relative:h});return K.useCallback(D=>{if(dS(D,t)){D.preventDefault();let B=n!==void 0?n:_c(S)===_c(A),Q=()=>E(r,{replace:B,state:a,preventScrollReset:l,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:v});y?K.startTransition(()=>Q()):Q()}},[S,E,A,n,a,t,r,l,h,m,v,y])}var VS=0,zS=()=>`__${String(++VS)}__`;function US(){let{router:r}=ob("useSubmit"),{basename:t}=K.useContext(ki),n=nS(),a=r.fetch,l=r.navigate;return K.useCallback(async(h,m={})=>{let{action:v,method:y,encType:E,formData:S,body:A}=gS(h,t);if(m.navigate===!1){let D=m.fetcherKey||zS();await a(D,n,m.action||v,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:S,body:A,formMethod:m.method||y,formEncType:m.encType||E,flushSync:m.flushSync})}else await l(m.action||v,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:S,body:A,formMethod:m.method||y,formEncType:m.encType||E,replace:m.replace,state:m.state,fromRouteId:n,flushSync:m.flushSync,viewTransition:m.viewTransition})},[a,l,t,n])}function jS(r,{relative:t}={}){let{basename:n}=K.useContext(ki),a=K.useContext(Nr);Ve(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),h={...Ic(r||".",{relative:t})},m=Zs();if(r==null){h.search=m.search;let v=new URLSearchParams(h.search),y=v.getAll("index");if(y.some(S=>S==="")){v.delete("index"),y.filter(A=>A).forEach(A=>v.append("index",A));let S=v.toString();h.search=S?`?${S}`:""}}return(!r||r===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:js([n,h.pathname])),_c(h)}function BS(r,{relative:t}={}){let n=K.useContext(YE);Ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ob("useViewTransitionState"),l=Ic(r,{relative:t});if(!n.isTransitioning)return!1;let h=Bs(n.currentLocation.pathname,a)||n.currentLocation.pathname,m=Bs(n.nextLocation.pathname,a)||n.nextLocation.pathname;return pf(l.pathname,m)!=null||pf(l.pathname,h)!=null}var HS=BE();const FS=()=>{};var c0={};const lb=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},qS=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[n++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[n++],m=r[n++],v=r[n++],y=((l&7)<<18|(h&63)<<12|(m&63)<<6|v&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const h=r[n++],m=r[n++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return t.join("")},ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],m=l+1<r.length,v=m?r[l+1]:0,y=l+2<r.length,E=y?r[l+2]:0,S=h>>2,A=(h&3)<<4|v>>4;let D=(v&15)<<2|E>>6,B=E&63;y||(B=64,m||(D=64)),a.push(n[S],n[A],n[D],n[B])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(lb(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):qS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=n[r.charAt(l++)],v=l<r.length?n[r.charAt(l)]:0;++l;const E=l<r.length?n[r.charAt(l)]:64;++l;const A=l<r.length?n[r.charAt(l)]:64;if(++l,h==null||v==null||E==null||A==null)throw new GS;const D=h<<2|v>>4;if(a.push(D),E!==64){const B=v<<4&240|E>>2;if(a.push(B),A!==64){const Q=E<<6&192|A;a.push(Q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZS=function(r){const t=lb(r);return ub.encodeByteArray(t,!0)},gf=function(r){return ZS(r).replace(/\./g,"")},cb=function(r){try{return ub.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function KS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const QS=()=>KS().__FIREBASE_DEFAULTS__,YS=()=>{if(typeof process>"u"||typeof c0>"u")return;const r=c0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},XS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&cb(r[1]);return t&&JSON.parse(t)},Uf=()=>{try{return FS()||QS()||YS()||XS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},hb=r=>Uf()?.emulatorHosts?.[r],WS=r=>{const t=hb(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},fb=()=>Uf()?.config,db=r=>Uf()?.[`_${r}`];class JS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}function uu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mb(r){return(await fetch(r,{credentials:"include"})).ok}function $S(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gf(JSON.stringify(n)),gf(JSON.stringify(m)),""].join(".")}const hc={};function tA(){const r={prod:[],emulator:[]};for(const t of Object.keys(hc))hc[t]?r.emulator.push(t):r.prod.push(t);return r}function eA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let h0=!1;function pb(r,t){if(typeof window>"u"||typeof document>"u"||!uu(window.location.host)||hc[r]===t||hc[r]||h0)return;hc[r]=t;function n(D){return`__firebase__banner__${D}`}const a="__firebase__banner",h=tA().prod.length>0;function m(){const D=document.getElementById(a);D&&D.remove()}function v(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,B){D.setAttribute("width","24"),D.setAttribute("id",B),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function E(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{h0=!0,m()},D}function S(D,B){D.setAttribute("id",B),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=eA(a),B=n("text"),Q=document.getElementById(B)||document.createElement("span"),F=n("learnmore"),H=document.getElementById(F)||document.createElement("a"),at=n("preprendIcon"),lt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const st=D.element;v(st),S(H,F);const Rt=E();y(lt,at),st.append(lt,Q,H,Rt),document.body.appendChild(st)}h?(Q.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function iA(){const r=Uf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oA(){const r=Hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lA(){return!iA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uA(){try{return typeof indexedDB=="object"}catch{return!1}}function cA(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const hA="FirebaseError";class Ks extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=hA,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],m=h?fA(h,a):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new Ks(l,v,a)}}function fA(r,t){return r.replace(dA,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const dA=/\{\$([^}]+)}/g;function mA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ko(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const h=r[l],m=t[l];if(f0(h)&&f0(m)){if(!Ko(h,m))return!1}else if(h!==m)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function f0(r){return r!==null&&typeof r=="object"}function Dc(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function pA(r,t){const n=new gA(r,t);return n.subscribe.bind(n)}class gA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");_A(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=ep),l.error===void 0&&(l.error=ep),l.complete===void 0&&(l.complete=ep);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _A(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function ep(){}function pn(r){return r&&r._delegate?r._delegate:r}class Qo{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Bo="[DEFAULT]";class yA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new JS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(EA(t))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Bo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bo){return this.instances.has(t)}getOptions(t=Bo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[h,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);a===v&&m.resolve(l)}return l}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vA(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Bo){return this.component?this.component.multipleInstances?t:Bo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vA(r){return r===Bo?void 0:r}function EA(r){return r.instantiationMode==="EAGER"}class bA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new yA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var re;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(re||(re={}));const TA={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},wA=re.INFO,xA={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},SA=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=xA[t];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $p{constructor(t){this.name=t,this._logLevel=wA,this._logHandler=SA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const AA=(r,t)=>t.some(n=>r instanceof n);let d0,m0;function CA(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RA(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gb=new WeakMap,yp=new WeakMap,_b=new WeakMap,np=new WeakMap,tg=new WeakMap;function IA(r){const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",m)},h=()=>{n(ja(r.result)),l()},m=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",m)});return t.then(n=>{n instanceof IDBCursor&&gb.set(n,r)}).catch(()=>{}),tg.set(t,r),t}function NA(r){if(yp.has(r))return;const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",m),r.removeEventListener("abort",m)},h=()=>{n(),l()},m=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",m),r.addEventListener("abort",m)});yp.set(r,t)}let vp={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return yp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||_b.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ja(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function DA(r){vp=r(vp)}function MA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(ip(this),t,...n);return _b.set(a,t.sort?t.sort():[t]),ja(a)}:RA().includes(r)?function(...t){return r.apply(ip(this),t),ja(gb.get(this))}:function(...t){return ja(r.apply(ip(this),t))}}function LA(r){return typeof r=="function"?MA(r):(r instanceof IDBTransaction&&NA(r),AA(r,CA())?new Proxy(r,vp):r)}function ja(r){if(r instanceof IDBRequest)return IA(r);if(np.has(r))return np.get(r);const t=LA(r);return t!==r&&(np.set(r,t),tg.set(t,r)),t}const ip=r=>tg.get(r);function OA(r,t,{blocked:n,upgrade:a,blocking:l,terminated:h}={}){const m=indexedDB.open(r,t),v=ja(m);return a&&m.addEventListener("upgradeneeded",y=>{a(ja(m.result),y.oldVersion,y.newVersion,ja(m.transaction),y)}),n&&m.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),v.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),v}const PA=["get","getKey","getAll","getAllKeys","count"],kA=["put","add","delete","clear"],rp=new Map;function p0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(rp.get(t))return rp.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=kA.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||PA.includes(n)))return;const h=async function(m,...v){const y=this.transaction(m,l?"readwrite":"readonly");let E=y.store;return a&&(E=E.index(v.shift())),(await Promise.all([E[n](...v),l&&y.done]))[0]};return rp.set(t,h),h}DA(r=>({...r,get:(t,n,a)=>p0(t,n)||r.get(t,n,a),has:(t,n)=>!!p0(t,n)||r.has(t,n)}));class VA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zA(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function zA(r){return r.getComponent()?.type==="VERSION"}const Ep="@firebase/app",g0="0.14.6";const Hs=new $p("@firebase/app"),UA="@firebase/app-compat",jA="@firebase/analytics-compat",BA="@firebase/analytics",HA="@firebase/app-check-compat",FA="@firebase/app-check",qA="@firebase/auth",GA="@firebase/auth-compat",ZA="@firebase/database",KA="@firebase/data-connect",QA="@firebase/database-compat",YA="@firebase/functions",XA="@firebase/functions-compat",WA="@firebase/installations",JA="@firebase/installations-compat",$A="@firebase/messaging",tC="@firebase/messaging-compat",eC="@firebase/performance",nC="@firebase/performance-compat",iC="@firebase/remote-config",rC="@firebase/remote-config-compat",sC="@firebase/storage",aC="@firebase/storage-compat",oC="@firebase/firestore",lC="@firebase/ai",uC="@firebase/firestore-compat",cC="firebase",hC="12.6.0";const bp="[DEFAULT]",fC={[Ep]:"fire-core",[UA]:"fire-core-compat",[BA]:"fire-analytics",[jA]:"fire-analytics-compat",[FA]:"fire-app-check",[HA]:"fire-app-check-compat",[qA]:"fire-auth",[GA]:"fire-auth-compat",[ZA]:"fire-rtdb",[KA]:"fire-data-connect",[QA]:"fire-rtdb-compat",[YA]:"fire-fn",[XA]:"fire-fn-compat",[WA]:"fire-iid",[JA]:"fire-iid-compat",[$A]:"fire-fcm",[tC]:"fire-fcm-compat",[eC]:"fire-perf",[nC]:"fire-perf-compat",[iC]:"fire-rc",[rC]:"fire-rc-compat",[sC]:"fire-gcs",[aC]:"fire-gcs-compat",[oC]:"fire-fst",[uC]:"fire-fst-compat",[lC]:"fire-vertex","fire-js":"fire-js",[cC]:"fire-js-all"};const _f=new Map,dC=new Map,Tp=new Map;function _0(r,t){try{r.container.addComponent(t)}catch(n){Hs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Wl(r){const t=r.name;if(Tp.has(t))return Hs.debug(`There were multiple attempts to register component ${t}.`),!1;Tp.set(t,r);for(const n of _f.values())_0(n,r);for(const n of dC.values())_0(n,r);return!0}function eg(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Ar(r){return r==null?!1:r.settings!==void 0}const mC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ba=new Nc("app","Firebase",mC);class pC{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ba.create("app-deleted",{appName:this._name})}}const cu=hC;function yb(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a={name:bp,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Ba.create("bad-app-name",{appName:String(l)});if(n||(n=fb()),!n)throw Ba.create("no-options");const h=_f.get(l);if(h){if(Ko(n,h.options)&&Ko(a,h.config))return h;throw Ba.create("duplicate-app",{appName:l})}const m=new bA(l);for(const y of Tp.values())m.addComponent(y);const v=new pC(n,a,m);return _f.set(l,v),v}function vb(r=bp){const t=_f.get(r);if(!t&&r===bp&&fb())return yb();if(!t)throw Ba.create("no-app",{appName:r});return t}function Ha(r,t,n){let a=fC[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const m=[`Unable to register library "${a}" with version "${t}":`];l&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hs.warn(m.join(" "));return}Wl(new Qo(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const gC="firebase-heartbeat-database",_C=1,yc="firebase-heartbeat-store";let sp=null;function Eb(){return sp||(sp=OA(gC,_C,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(yc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ba.create("idb-open",{originalErrorMessage:r.message})})),sp}async function yC(r){try{const n=(await Eb()).transaction(yc),a=await n.objectStore(yc).get(bb(r));return await n.done,a}catch(t){if(t instanceof Ks)Hs.warn(t.message);else{const n=Ba.create("idb-get",{originalErrorMessage:t?.message});Hs.warn(n.message)}}}async function y0(r,t){try{const a=(await Eb()).transaction(yc,"readwrite");await a.objectStore(yc).put(t,bb(r)),await a.done}catch(n){if(n instanceof Ks)Hs.warn(n.message);else{const a=Ba.create("idb-set",{originalErrorMessage:n?.message});Hs.warn(a.message)}}}function bb(r){return`${r.name}!${r.options.appId}`}const vC=1024,EC=30;class bC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=v0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>EC){const l=xC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=v0(),{heartbeatsToSend:n,unsentEntries:a}=TC(this._heartbeatsCache.heartbeats),l=gf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Hs.warn(t),""}}}function v0(){return new Date().toISOString().substring(0,10)}function TC(r,t=vC){const n=[];let a=r.slice();for(const l of r){const h=n.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),E0(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),E0(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class wC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uA()?cA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return y0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return y0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function E0(r){return gf(JSON.stringify({version:2,heartbeats:r})).length}function xC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}function SC(r){Wl(new Qo("platform-logger",t=>new VA(t),"PRIVATE")),Wl(new Qo("heartbeat",t=>new bC(t),"PRIVATE")),Ha(Ep,g0,r),Ha(Ep,g0,"esm2020"),Ha("fire-js","")}SC("");function Tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AC=Tb,wb=new Nc("auth","Firebase",Tb());const yf=new $p("@firebase/auth");function CC(r,...t){yf.logLevel<=re.WARN&&yf.warn(`Auth (${cu}): ${r}`,...t)}function rf(r,...t){yf.logLevel<=re.ERROR&&yf.error(`Auth (${cu}): ${r}`,...t)}function os(r,...t){throw ig(r,...t)}function Rr(r,...t){return ig(r,...t)}function ng(r,t,n){const a={...AC(),[t]:n};return new Nc("auth","Firebase",a).create(t,{appName:r.name})}function qo(r){return ng(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RC(r,t,n){const a=n;if(!(t instanceof a))throw a.name!==t.constructor.name&&os(r,"argument-error"),ng(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ig(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return wb.create(r,...t)}function jt(r,t,...n){if(!r)throw ig(t,...n)}function zs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw rf(t),new Error(t)}function Fs(r,t){r||zs(t)}function wp(){return typeof self<"u"&&self.location?.href||""}function IC(){return b0()==="http:"||b0()==="https:"}function b0(){return typeof self<"u"&&self.location?.protocol||null}function NC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IC()||sA()||"connection"in navigator)?navigator.onLine:!0}function DC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Mc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fs(n>t,"Short delay should be less than long delay!"),this.isMobile=nA()||aA()}get(){return NC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rg(r,t){Fs(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class xb{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OC=new Mc(3e4,6e4);function sg(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function hu(r,t,n,a,l={}){return Sb(r,l,async()=>{let h={},m={};a&&(t==="GET"?m=a:h={body:JSON.stringify(a)});const v=Dc({key:r.config.apiKey,...m}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const E={method:t,headers:y,...h};return rA()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&uu(r.emulatorConfig.host)&&(E.credentials="include"),xb.fetch()(await Ab(r,r.config.apiHost,n,v),E)})}async function Sb(r,t,n){r._canInitEmulator=!1;const a={...MC,...t};try{const l=new kC(r),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw Yh(r,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const v=h.ok?m.errorMessage:m.error.message,[y,E]=v.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(r,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw Yh(r,"email-already-in-use",m);if(y==="USER_DISABLED")throw Yh(r,"user-disabled",m);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw ng(r,S,E);os(r,S)}}catch(l){if(l instanceof Ks)throw l;os(r,"network-request-failed",{message:String(l)})}}async function PC(r,t,n,a,l={}){const h=await hu(r,t,n,a,l);return"mfaPendingCredential"in h&&os(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function Ab(r,t,n,a){const l=`${t}${n}?${a}`,h=r,m=h.config.emulator?rg(r.config,l):`${r.config.apiScheme}://${l}`;return LC.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}class kC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Rr(this.auth,"network-request-failed")),OC.get())})}}function Yh(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Rr(r,t,a);return l.customData._tokenResponse=n,l}async function VC(r,t){return hu(r,"POST","/v1/accounts:delete",t)}async function vf(r,t){return hu(r,"POST","/v1/accounts:lookup",t)}function fc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zC(r,t=!1){const n=pn(r),a=await n.getIdToken(t),l=ag(a);jt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h?.sign_in_provider;return{claims:l,token:a,authTime:fc(ap(l.auth_time)),issuedAtTime:fc(ap(l.iat)),expirationTime:fc(ap(l.exp)),signInProvider:m||null,signInSecondFactor:h?.sign_in_second_factor||null}}function ap(r){return Number(r)*1e3}function ag(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const l=cb(n);return l?JSON.parse(l):(rf("Failed to decode base64 JWT payload"),null)}catch(l){return rf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function T0(r){const t=ag(r);return jt(t,"internal-error"),jt(typeof t.exp<"u","internal-error"),jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function vc(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof Ks&&UC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function UC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class jC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ef(r){const t=r.auth,n=await r.getIdToken(),a=await vc(r,vf(t,{idToken:n}));jt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?Cb(l.providerUserInfo):[],m=HC(r.providerData,h),v=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!m?.length,E=v?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new xp(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function BC(r){const t=pn(r);await Ef(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Cb(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function FC(r,t){const n=await Sb(r,{},async()=>{const a=Dc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,m=await Ab(r,l,"/v1/token",`key=${h}`),v=await r._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:v,body:a};return r.emulatorConfig&&uu(r.emulatorConfig.host)&&(y.credentials="include"),xb.fetch()(m,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qC(r,t){return hu(r,"POST","/v2/accounts:revokeToken",sg(r,t))}class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jt(t.idToken,"internal-error"),jt(typeof t.idToken<"u","internal-error"),jt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):T0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){jt(t.length!==0,"internal-error");const n=T0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:h}=await FC(t,n);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:h}=n,m=new Kl;return a&&(jt(typeof a=="string","internal-error",{appName:t}),m.refreshToken=a),l&&(jt(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),h&&(jt(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return zs("not implemented")}}function Oa(r,t){jt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Cr{constructor({uid:t,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new jC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new xp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await vc(this,this.stsTokenManager.getToken(this.auth,t));return jt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return zC(this,t)}reload(){return BC(this)}_assign(t){this!==t&&(jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Cr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await Ef(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ar(this.auth.app))return Promise.reject(qo(this.auth));const t=await this.getIdToken();return await vc(this,VC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,m=n.photoURL??void 0,v=n.tenantId??void 0,y=n._redirectEventId??void 0,E=n.createdAt??void 0,S=n.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:B,providerData:Q,stsTokenManager:F}=n;jt(A&&F,t,"internal-error");const H=Kl.fromJSON(this.name,F);jt(typeof A=="string",t,"internal-error"),Oa(a,t.name),Oa(l,t.name),jt(typeof D=="boolean",t,"internal-error"),jt(typeof B=="boolean",t,"internal-error"),Oa(h,t.name),Oa(m,t.name),Oa(v,t.name),Oa(y,t.name),Oa(E,t.name),Oa(S,t.name);const at=new Cr({uid:A,auth:t,email:l,emailVerified:D,displayName:a,isAnonymous:B,photoURL:m,phoneNumber:h,tenantId:v,stsTokenManager:H,createdAt:E,lastLoginAt:S});return Q&&Array.isArray(Q)&&(at.providerData=Q.map(lt=>({...lt}))),y&&(at._redirectEventId=y),at}static async _fromIdTokenResponse(t,n,a=!1){const l=new Kl;l.updateFromServerResponse(n);const h=new Cr({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Ef(h),h}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];jt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?Cb(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!h?.length,v=new Kl;v.updateFromIdToken(a);const y=new Cr({uid:l.localId,auth:t,stsTokenManager:v,isAnonymous:m}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new xp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,E),y}}const w0=new Map;function Us(r){Fs(r instanceof Function,"Expected a class definition");let t=w0.get(r);return t?(Fs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,w0.set(r,t),t)}class Rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Rb.type="NONE";const x0=Rb;function sf(r,t,n){return`firebase:${r}:${t}:${n}`}class Ql{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=sf(this.userKey,l.apiKey,h),this.fullPersistenceKey=sf("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await vf(this.auth,{idToken:t}).catch(()=>{});return n?Cr._fromGetAccountInfoResponse(this.auth,n,t):null}return Cr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new Ql(Us(x0),t,a);const l=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let h=l[0]||Us(x0);const m=sf(a,t.config.apiKey,t.name);let v=null;for(const E of n)try{const S=await E._get(m);if(S){let A;if(typeof S=="string"){const D=await vf(t,{idToken:S}).catch(()=>{});if(!D)break;A=await Cr._fromGetAccountInfoResponse(t,D,S)}else A=Cr._fromJSON(t,S);E!==h&&(v=A),h=E;break}}catch{}const y=l.filter(E=>E._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Ql(h,t,a):(h=y[0],v&&await h._set(m,v.toJSON()),await Promise.all(n.map(async E=>{if(E!==h)try{await E._remove(m)}catch{}})),new Ql(h,t,a))}}function S0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ib(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ob(t))return"Blackberry";if(Pb(t))return"Webos";if(Nb(t))return"Safari";if((t.includes("chrome/")||Db(t))&&!t.includes("edge/"))return"Chrome";if(Lb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function Ib(r=Hn()){return/firefox\//i.test(r)}function Nb(r=Hn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Db(r=Hn()){return/crios\//i.test(r)}function Mb(r=Hn()){return/iemobile/i.test(r)}function Lb(r=Hn()){return/android/i.test(r)}function Ob(r=Hn()){return/blackberry/i.test(r)}function Pb(r=Hn()){return/webos/i.test(r)}function og(r=Hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GC(r=Hn()){return og(r)&&!!window.navigator?.standalone}function ZC(){return oA()&&document.documentMode===10}function kb(r=Hn()){return og(r)||Lb(r)||Pb(r)||Ob(r)||/windows phone/i.test(r)||Mb(r)}function Vb(r,t=[]){let n;switch(r){case"Browser":n=S0(Hn());break;case"Worker":n=`${S0(Hn())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${cu}/${a}`}class KC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=h=>new Promise((m,v)=>{try{const y=t(h);m(y)}catch(y){v(y)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function QC(r,t={}){return hu(r,"GET","/v2/passwordPolicy",sg(r,t))}const YC=6;class XC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class WC{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A0(this),this.idTokenSubscription=new A0(this),this.beforeStateQueue=new KC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Us(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ql.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await vf(this,{idToken:t}),a=await Cr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ar(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,m=a?._redirectEventId,v=await this.tryRedirectSignIn(t);(!h||h===m)&&v?.user&&(a=v.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ef(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=DC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ar(this.app))return Promise.reject(qo(this));const n=t?pn(t):null;return n&&jt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ar(this.app)?Promise.reject(qo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ar(this.app)?Promise.reject(qo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Us(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QC(this),n=new XC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nc("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await qC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Us(t)||this._popupRedirectResolver;jt(n,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[Us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let m=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(v,this,"internal-error"),v.then(()=>{m||h(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,a,l);return()=>{m=!0,y()}}else{const y=t.addObserver(n);return()=>{m=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&CC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jf(r){return pn(r)}class A0{constructor(t){this.auth=t,this.observer=null,this.addObserver=pA(n=>this.observer=n)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JC(r){lg=r}function $C(r){return lg.loadJS(r)}function tR(){return lg.gapiScript}function eR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function nR(r,t){const n=eg(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(Ko(h,t??{}))return l;os(l,"already-initialized")}return n.initialize({options:t})}function iR(r,t){const n=t?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Us);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function rR(r,t,n){const a=jf(r);jt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=zb(t),{host:m,port:v}=sR(t),y=v===null?"":`:${v}`,E={url:`${h}//${m}${y}/`},S=Object.freeze({host:m,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){jt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),jt(Ko(E,a.config.emulator)&&Ko(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,uu(m)?(mb(`${h}//${m}${y}`),pb("Auth",!0)):aR()}function zb(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function sR(r){const t=zb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:C0(a.substr(h.length+1))}}else{const[h,m]=a.split(":");return{host:h,port:C0(m)}}}function C0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function aR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Ub{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zs("not implemented")}_getIdTokenResponse(t){return zs("not implemented")}_linkToIdToken(t,n){return zs("not implemented")}_getReauthenticationResolver(t){return zs("not implemented")}}async function Yl(r,t){return PC(r,"POST","/v1/accounts:signInWithIdp",sg(r,t))}const oR="http://localhost";class Yo extends Ub{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Yo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):os("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=n;if(!a||!l)return null;const m=new Yo(a,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const n=this.buildRequest();return Yl(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,Yl(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Yl(t,n)}buildRequest(){const t={requestUri:oR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Dc(n)}return t}}class ug{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Lc extends ug{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ka extends Lc{constructor(){super("facebook.com")}static credential(t){return Yo._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ka.credentialFromTaggedObject(t)}static credentialFromError(t){return ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ka.credential(t.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";class Vs extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Yo._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Vs.credentialFromTaggedObject(t)}static credentialFromError(t){return Vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Vs.credential(n,a)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";class Va extends Lc{constructor(){super("github.com")}static credential(t){return Yo._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Va.credentialFromTaggedObject(t)}static credentialFromError(t){return Va.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Va.credential(t.oauthAccessToken)}catch{return null}}}Va.GITHUB_SIGN_IN_METHOD="github.com";Va.PROVIDER_ID="github.com";class za extends Lc{constructor(){super("twitter.com")}static credential(t,n){return Yo._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return za.credentialFromTaggedObject(t)}static credentialFromError(t){return za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return za.credential(n,a)}catch{return null}}}za.TWITTER_SIGN_IN_METHOD="twitter.com";za.PROVIDER_ID="twitter.com";class Jl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const h=await Cr._fromIdTokenResponse(t,a,l),m=R0(a);return new Jl({user:h,providerId:m,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=R0(a);return new Jl({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function R0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class bf extends Ks{constructor(t,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,bf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new bf(t,n,a,l)}}function jb(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?bf._fromErrorAndOperation(r,h,t,a):h})}async function lR(r,t,n=!1){const a=await vc(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Jl._forOperation(r,"link",a)}async function uR(r,t,n=!1){const{auth:a}=r;if(Ar(a.app))return Promise.reject(qo(a));const l="reauthenticate";try{const h=await vc(r,jb(a,l,t,r),n);jt(h.idToken,a,"internal-error");const m=ag(h.idToken);jt(m,a,"internal-error");const{sub:v}=m;return jt(r.uid===v,a,"user-mismatch"),Jl._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&os(a,"user-mismatch"),h}}async function cR(r,t,n=!1){if(Ar(r.app))return Promise.reject(qo(r));const a="signIn",l=await jb(r,a,t),h=await Jl._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(h.user),h}function hR(r,t,n,a){return pn(r).onIdTokenChanged(t,n,a)}function fR(r,t,n){return pn(r).beforeAuthStateChanged(t,n)}function dR(r,t,n,a){return pn(r).onAuthStateChanged(t,n,a)}function mR(r){return pn(r).signOut()}const Tf="__sak";class Bb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const pR=1e3,gR=10;class Hb extends Bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((m,v,y)=>{this.notifyListeners(m,y)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(a);!n&&this.localCache[a]===m||this.notifyListeners(a,m)},h=this.storage.getItem(a);ZC()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,gR):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},pR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Hb.type="LOCAL";const _R=Hb;class Fb extends Bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Fb.type="SESSION";const qb=Fb;function yR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Bf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new Bf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:h}=n.data,m=this.handlersMap[l];if(!m?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const v=Array.from(m).map(async E=>E(n.origin,h)),y=await yR(v);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];function cg(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}class vR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((v,y)=>{const E=cg("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);m={messageChannel:l,onMessage(A){const D=A;if(D.data.eventId===E)switch(D.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(D.data.response);break;default:clearTimeout(S),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:E,data:n},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}function es(){return window}function ER(r){es().location.href=r}function Gb(){return typeof es().WorkerGlobalScope<"u"&&typeof es().importScripts=="function"}async function bR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TR(){return navigator?.serviceWorker?.controller||null}function wR(){return Gb()?self:null}const Zb="firebaseLocalStorageDb",xR=1,wf="firebaseLocalStorage",Kb="fbase_key";class Oc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hf(r,t){return r.transaction([wf],t?"readwrite":"readonly").objectStore(wf)}function SR(){const r=indexedDB.deleteDatabase(Zb);return new Oc(r).toPromise()}function Sp(){const r=indexedDB.open(Zb,xR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(wf,{keyPath:Kb})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(wf)?t(a):(a.close(),await SR(),t(await Sp()))})})}async function I0(r,t,n){const a=Hf(r,!0).put({[Kb]:t,value:n});return new Oc(a).toPromise()}async function AR(r,t){const n=Hf(r,!1).get(t),a=await new Oc(n).toPromise();return a===void 0?null:a.value}function N0(r,t){const n=Hf(r,!0).delete(t);return new Oc(n).toPromise()}const CR=800,RR=3;class Qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>RR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(wR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bR(),!this.activeServiceWorker)return;this.sender=new vR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||TR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sp();return await I0(t,Tf,"1"),await N0(t,Tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>I0(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>AR(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>N0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Hf(l,!1).getAll();return new Oc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qb.type="LOCAL";const IR=Qb;new Mc(3e4,6e4);function Yb(r,t){return t?Us(t):(jt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class hg extends Ub{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Yl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Yl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function NR(r){return cR(r.auth,new hg(r),r.bypassAuthState)}function DR(r){const{auth:t,user:n}=r;return jt(n,t,"internal-error"),uR(n,new hg(r),r.bypassAuthState)}async function MR(r){const{auth:t,user:n}=r;return jt(n,t,"internal-error"),lR(n,new hg(r),r.bypassAuthState)}class Xb{constructor(t,n,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:h,error:m,type:v}=t;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(y))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return NR;case"linkViaPopup":case"linkViaRedirect":return MR;case"reauthViaPopup":case"reauthViaRedirect":return DR;default:os(this.auth,"internal-error")}}resolve(t){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LR=new Mc(2e3,1e4);async function OR(r,t,n){if(Ar(r.app))return Promise.reject(Rr(r,"operation-not-supported-in-this-environment"));const a=jf(r);RC(r,t,ug);const l=Yb(a,n);return new Ho(a,"signInViaPopup",t,l).executeNotNull()}class Ho extends Xb{constructor(t,n,a,l,h){super(t,n,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return jt(t,this.auth,"internal-error"),t}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const t=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,LR.get())};t()}}Ho.currentPopupAction=null;const PR="pendingRedirect",af=new Map;class kR extends Xb{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=af.get(this.auth._key());if(!t){try{const a=await VR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}af.set(this.auth._key(),t)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VR(r,t){const n=jR(t),a=UR(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function zR(r,t){af.set(r._key(),t)}function UR(r){return Us(r._redirectPersistence)}function jR(r){return sf(PR,r.config.apiKey,r.name)}async function BR(r,t,n=!1){if(Ar(r.app))return Promise.reject(qo(r));const a=jf(r),l=Yb(a,t),m=await new kR(a,l,n).execute();return m&&!n&&(delete m.user._redirectEventId,await a._persistUserIfCurrent(m.user),await a._setRedirectUser(null,t)),m}const HR=600*1e3;class FR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Wb(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Rr(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=HR&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(t))}saveEventToCache(t){this.cachedEventUids.add(D0(t)),this.lastProcessedEventTime=Date.now()}}function D0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Wb({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function qR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wb(r);default:return!1}}async function GR(r,t={}){return hu(r,"GET","/v1/projects",t)}const ZR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KR=/^https?/;async function QR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await GR(r);for(const n of t)try{if(YR(n))return}catch{}os(r,"unauthorized-domain")}function YR(r){const t=wp(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const m=new URL(r);return m.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&m.hostname===a}if(!KR.test(n))return!1;if(ZR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const XR=new Mc(3e4,6e4);function M0(){const r=es().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function WR(r){return new Promise((t,n)=>{function a(){M0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{M0(),n(Rr(r,"network-request-failed"))},timeout:XR.get()})}if(es().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(es().gapi?.load)a();else{const l=eR("iframefcb");return es()[l]=()=>{gapi.load?a():n(Rr(r,"network-request-failed"))},$C(`${tR()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw of=null,t})}let of=null;function JR(r){return of=of||WR(r),of}const $R=new Mc(5e3,15e3),t2="__/auth/iframe",e2="emulator/auth/iframe",n2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r2(r){const t=r.config;jt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?rg(t,e2):`https://${r.config.authDomain}/${t2}`,a={apiKey:t.apiKey,appName:r.name,v:cu},l=i2.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${n}?${Dc(a).slice(1)}`}async function s2(r){const t=await JR(r),n=es().gapi;return jt(n,r,"internal-error"),t.open({where:document.body,url:r2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n2,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const m=Rr(r,"network-request-failed"),v=es().setTimeout(()=>{h(m)},$R.get());function y(){es().clearTimeout(v),l(a)}a.ping(y).then(y,()=>{h(m)})}))}const a2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o2=500,l2=600,u2="_blank",c2="http://localhost";class L0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h2(r,t,n,a=o2,l=l2){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-a)/2,0).toString();let v="";const y={...a2,width:a.toString(),height:l.toString(),top:h,left:m},E=Hn().toLowerCase();n&&(v=Db(E)?u2:n),Ib(E)&&(t=t||c2,y.scrollbars="yes");const S=Object.entries(y).reduce((D,[B,Q])=>`${D}${B}=${Q},`,"");if(GC(E)&&v!=="_self")return f2(t||"",v),new L0(null);const A=window.open(t||"",v,S);jt(A,r,"popup-blocked");try{A.focus()}catch{}return new L0(A)}function f2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const d2="__/auth/handler",m2="emulator/auth/handler",p2=encodeURIComponent("fac");async function O0(r,t,n,a,l,h){jt(r.config.authDomain,r,"auth-domain-config-required"),jt(r.config.apiKey,r,"invalid-api-key");const m={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:cu,eventId:l};if(t instanceof ug){t.setDefaultLanguage(r.languageCode),m.providerId=t.providerId||"",mA(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,A]of Object.entries({}))m[S]=A}if(t instanceof Lc){const S=t.getScopes().filter(A=>A!=="");S.length>0&&(m.scopes=S.join(","))}r.tenantId&&(m.tid=r.tenantId);const v=m;for(const S of Object.keys(v))v[S]===void 0&&delete v[S];const y=await r._getAppCheckToken(),E=y?`#${p2}=${encodeURIComponent(y)}`:"";return`${g2(r)}?${Dc(v).slice(1)}${E}`}function g2({config:r}){return r.emulator?rg(r,m2):`https://${r.authDomain}/${d2}`}const op="webStorageSupport";class _2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qb,this._completeRedirectFn=BR,this._overrideRedirectResult=zR}async _openPopup(t,n,a,l){Fs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await O0(t,n,a,wp(),l);return h2(t,h,cg())}async _openRedirect(t,n,a,l){await this._originValidation(t);const h=await O0(t,n,a,wp(),l);return ER(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Fs(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await s2(t),a=new FR(t);return n.register("authEvent",l=>(jt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(op,{type:op},l=>{const h=l?.[0]?.[op];h!==void 0&&n(!!h),os(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return kb()||Nb()||og()}}const y2=_2;var P0="@firebase/auth",k0="1.12.0";class v2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function E2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b2(r){Wl(new Qo("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:v}=a.options;jt(m&&!m.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:m,authDomain:v,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vb(r)},E=new WC(a,l,h,y);return iR(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Wl(new Qo("auth-internal",t=>{const n=jf(t.getProvider("auth").getImmediate());return(a=>new v2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ha(P0,k0,E2(r)),Ha(P0,k0,"esm2020")}const T2=300,w2=db("authIdTokenMaxAge")||T2;let V0=null;const x2=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>w2)return;const l=n?.token;V0!==l&&(V0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function S2(r=vb()){const t=eg(r,"auth");if(t.isInitialized())return t.getImmediate();const n=nR(r,{popupRedirectResolver:y2,persistence:[IR,_R,qb]}),a=db("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const m=x2(h.toString());fR(n,m,()=>m(n.currentUser)),hR(n,v=>m(v))}}const l=hb("auth");return l&&rR(n,`http://${l}`),n}function A2(){return document.getElementsByTagName("head")?.[0]??document}JC({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=Rr("internal-error");h.customData=l,n(h)},a.type="text/javascript",a.charset="UTF-8",A2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b2("Browser");var C2="firebase",R2="12.7.0";Ha(C2,R2,"app");var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fa,Jb;(function(){var r;function t(V,M){function P(){}P.prototype=M.prototype,V.F=M.prototype,V.prototype=new P,V.prototype.constructor=V,V.D=function(Z,O,G){for(var z=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)z[oe-2]=arguments[oe];return M.prototype[O].apply(Z,z)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,M,P){P||(P=0);const Z=Array(16);if(typeof M=="string")for(var O=0;O<16;++O)Z[O]=M.charCodeAt(P++)|M.charCodeAt(P++)<<8|M.charCodeAt(P++)<<16|M.charCodeAt(P++)<<24;else for(O=0;O<16;++O)Z[O]=M[P++]|M[P++]<<8|M[P++]<<16|M[P++]<<24;M=V.g[0],P=V.g[1],O=V.g[2];let G=V.g[3],z;z=M+(G^P&(O^G))+Z[0]+3614090360&4294967295,M=P+(z<<7&4294967295|z>>>25),z=G+(O^M&(P^O))+Z[1]+3905402710&4294967295,G=M+(z<<12&4294967295|z>>>20),z=O+(P^G&(M^P))+Z[2]+606105819&4294967295,O=G+(z<<17&4294967295|z>>>15),z=P+(M^O&(G^M))+Z[3]+3250441966&4294967295,P=O+(z<<22&4294967295|z>>>10),z=M+(G^P&(O^G))+Z[4]+4118548399&4294967295,M=P+(z<<7&4294967295|z>>>25),z=G+(O^M&(P^O))+Z[5]+1200080426&4294967295,G=M+(z<<12&4294967295|z>>>20),z=O+(P^G&(M^P))+Z[6]+2821735955&4294967295,O=G+(z<<17&4294967295|z>>>15),z=P+(M^O&(G^M))+Z[7]+4249261313&4294967295,P=O+(z<<22&4294967295|z>>>10),z=M+(G^P&(O^G))+Z[8]+1770035416&4294967295,M=P+(z<<7&4294967295|z>>>25),z=G+(O^M&(P^O))+Z[9]+2336552879&4294967295,G=M+(z<<12&4294967295|z>>>20),z=O+(P^G&(M^P))+Z[10]+4294925233&4294967295,O=G+(z<<17&4294967295|z>>>15),z=P+(M^O&(G^M))+Z[11]+2304563134&4294967295,P=O+(z<<22&4294967295|z>>>10),z=M+(G^P&(O^G))+Z[12]+1804603682&4294967295,M=P+(z<<7&4294967295|z>>>25),z=G+(O^M&(P^O))+Z[13]+4254626195&4294967295,G=M+(z<<12&4294967295|z>>>20),z=O+(P^G&(M^P))+Z[14]+2792965006&4294967295,O=G+(z<<17&4294967295|z>>>15),z=P+(M^O&(G^M))+Z[15]+1236535329&4294967295,P=O+(z<<22&4294967295|z>>>10),z=M+(O^G&(P^O))+Z[1]+4129170786&4294967295,M=P+(z<<5&4294967295|z>>>27),z=G+(P^O&(M^P))+Z[6]+3225465664&4294967295,G=M+(z<<9&4294967295|z>>>23),z=O+(M^P&(G^M))+Z[11]+643717713&4294967295,O=G+(z<<14&4294967295|z>>>18),z=P+(G^M&(O^G))+Z[0]+3921069994&4294967295,P=O+(z<<20&4294967295|z>>>12),z=M+(O^G&(P^O))+Z[5]+3593408605&4294967295,M=P+(z<<5&4294967295|z>>>27),z=G+(P^O&(M^P))+Z[10]+38016083&4294967295,G=M+(z<<9&4294967295|z>>>23),z=O+(M^P&(G^M))+Z[15]+3634488961&4294967295,O=G+(z<<14&4294967295|z>>>18),z=P+(G^M&(O^G))+Z[4]+3889429448&4294967295,P=O+(z<<20&4294967295|z>>>12),z=M+(O^G&(P^O))+Z[9]+568446438&4294967295,M=P+(z<<5&4294967295|z>>>27),z=G+(P^O&(M^P))+Z[14]+3275163606&4294967295,G=M+(z<<9&4294967295|z>>>23),z=O+(M^P&(G^M))+Z[3]+4107603335&4294967295,O=G+(z<<14&4294967295|z>>>18),z=P+(G^M&(O^G))+Z[8]+1163531501&4294967295,P=O+(z<<20&4294967295|z>>>12),z=M+(O^G&(P^O))+Z[13]+2850285829&4294967295,M=P+(z<<5&4294967295|z>>>27),z=G+(P^O&(M^P))+Z[2]+4243563512&4294967295,G=M+(z<<9&4294967295|z>>>23),z=O+(M^P&(G^M))+Z[7]+1735328473&4294967295,O=G+(z<<14&4294967295|z>>>18),z=P+(G^M&(O^G))+Z[12]+2368359562&4294967295,P=O+(z<<20&4294967295|z>>>12),z=M+(P^O^G)+Z[5]+4294588738&4294967295,M=P+(z<<4&4294967295|z>>>28),z=G+(M^P^O)+Z[8]+2272392833&4294967295,G=M+(z<<11&4294967295|z>>>21),z=O+(G^M^P)+Z[11]+1839030562&4294967295,O=G+(z<<16&4294967295|z>>>16),z=P+(O^G^M)+Z[14]+4259657740&4294967295,P=O+(z<<23&4294967295|z>>>9),z=M+(P^O^G)+Z[1]+2763975236&4294967295,M=P+(z<<4&4294967295|z>>>28),z=G+(M^P^O)+Z[4]+1272893353&4294967295,G=M+(z<<11&4294967295|z>>>21),z=O+(G^M^P)+Z[7]+4139469664&4294967295,O=G+(z<<16&4294967295|z>>>16),z=P+(O^G^M)+Z[10]+3200236656&4294967295,P=O+(z<<23&4294967295|z>>>9),z=M+(P^O^G)+Z[13]+681279174&4294967295,M=P+(z<<4&4294967295|z>>>28),z=G+(M^P^O)+Z[0]+3936430074&4294967295,G=M+(z<<11&4294967295|z>>>21),z=O+(G^M^P)+Z[3]+3572445317&4294967295,O=G+(z<<16&4294967295|z>>>16),z=P+(O^G^M)+Z[6]+76029189&4294967295,P=O+(z<<23&4294967295|z>>>9),z=M+(P^O^G)+Z[9]+3654602809&4294967295,M=P+(z<<4&4294967295|z>>>28),z=G+(M^P^O)+Z[12]+3873151461&4294967295,G=M+(z<<11&4294967295|z>>>21),z=O+(G^M^P)+Z[15]+530742520&4294967295,O=G+(z<<16&4294967295|z>>>16),z=P+(O^G^M)+Z[2]+3299628645&4294967295,P=O+(z<<23&4294967295|z>>>9),z=M+(O^(P|~G))+Z[0]+4096336452&4294967295,M=P+(z<<6&4294967295|z>>>26),z=G+(P^(M|~O))+Z[7]+1126891415&4294967295,G=M+(z<<10&4294967295|z>>>22),z=O+(M^(G|~P))+Z[14]+2878612391&4294967295,O=G+(z<<15&4294967295|z>>>17),z=P+(G^(O|~M))+Z[5]+4237533241&4294967295,P=O+(z<<21&4294967295|z>>>11),z=M+(O^(P|~G))+Z[12]+1700485571&4294967295,M=P+(z<<6&4294967295|z>>>26),z=G+(P^(M|~O))+Z[3]+2399980690&4294967295,G=M+(z<<10&4294967295|z>>>22),z=O+(M^(G|~P))+Z[10]+4293915773&4294967295,O=G+(z<<15&4294967295|z>>>17),z=P+(G^(O|~M))+Z[1]+2240044497&4294967295,P=O+(z<<21&4294967295|z>>>11),z=M+(O^(P|~G))+Z[8]+1873313359&4294967295,M=P+(z<<6&4294967295|z>>>26),z=G+(P^(M|~O))+Z[15]+4264355552&4294967295,G=M+(z<<10&4294967295|z>>>22),z=O+(M^(G|~P))+Z[6]+2734768916&4294967295,O=G+(z<<15&4294967295|z>>>17),z=P+(G^(O|~M))+Z[13]+1309151649&4294967295,P=O+(z<<21&4294967295|z>>>11),z=M+(O^(P|~G))+Z[4]+4149444226&4294967295,M=P+(z<<6&4294967295|z>>>26),z=G+(P^(M|~O))+Z[11]+3174756917&4294967295,G=M+(z<<10&4294967295|z>>>22),z=O+(M^(G|~P))+Z[2]+718787259&4294967295,O=G+(z<<15&4294967295|z>>>17),z=P+(G^(O|~M))+Z[9]+3951481745&4294967295,V.g[0]=V.g[0]+M&4294967295,V.g[1]=V.g[1]+(O+(z<<21&4294967295|z>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+G&4294967295}a.prototype.v=function(V,M){M===void 0&&(M=V.length);const P=M-this.blockSize,Z=this.C;let O=this.h,G=0;for(;G<M;){if(O==0)for(;G<=P;)l(this,V,G),G+=this.blockSize;if(typeof V=="string"){for(;G<M;)if(Z[O++]=V.charCodeAt(G++),O==this.blockSize){l(this,Z),O=0;break}}else for(;G<M;)if(Z[O++]=V[G++],O==this.blockSize){l(this,Z),O=0;break}}this.h=O,this.o+=M},a.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var M=1;M<V.length-8;++M)V[M]=0;M=this.o*8;for(var P=V.length-8;P<V.length;++P)V[P]=M&255,M/=256;for(this.v(V),V=Array(16),M=0,P=0;P<4;++P)for(let Z=0;Z<32;Z+=8)V[M++]=this.g[P]>>>Z&255;return V};function h(V,M){var P=v;return Object.prototype.hasOwnProperty.call(P,V)?P[V]:P[V]=M(V)}function m(V,M){this.h=M;const P=[];let Z=!0;for(let O=V.length-1;O>=0;O--){const G=V[O]|0;Z&&G==M||(P[O]=G,Z=!1)}this.g=P}var v={};function y(V){return-128<=V&&V<128?h(V,function(M){return new m([M|0],M<0?-1:0)}):new m([V|0],V<0?-1:0)}function E(V){if(isNaN(V)||!isFinite(V))return A;if(V<0)return H(E(-V));const M=[];let P=1;for(let Z=0;V>=P;Z++)M[Z]=V/P|0,P*=4294967296;return new m(M,0)}function S(V,M){if(V.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(V.charAt(0)=="-")return H(S(V.substring(1),M));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=E(Math.pow(M,8));let Z=A;for(let G=0;G<V.length;G+=8){var O=Math.min(8,V.length-G);const z=parseInt(V.substring(G,G+O),M);O<8?(O=E(Math.pow(M,O)),Z=Z.j(O).add(E(z))):(Z=Z.j(P),Z=Z.add(E(z)))}return Z}var A=y(0),D=y(1),B=y(16777216);r=m.prototype,r.m=function(){if(F(this))return-H(this).m();let V=0,M=1;for(let P=0;P<this.g.length;P++){const Z=this.i(P);V+=(Z>=0?Z:4294967296+Z)*M,M*=4294967296}return V},r.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(Q(this))return"0";if(F(this))return"-"+H(this).toString(V);const M=E(Math.pow(V,6));var P=this;let Z="";for(;;){const O=Rt(P,M).g;P=at(P,O.j(M));let G=((P.g.length>0?P.g[0]:P.h)>>>0).toString(V);if(P=O,Q(P))return G+Z;for(;G.length<6;)G="0"+G;Z=G+Z}},r.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function Q(V){if(V.h!=0)return!1;for(let M=0;M<V.g.length;M++)if(V.g[M]!=0)return!1;return!0}function F(V){return V.h==-1}r.l=function(V){return V=at(this,V),F(V)?-1:Q(V)?0:1};function H(V){const M=V.g.length,P=[];for(let Z=0;Z<M;Z++)P[Z]=~V.g[Z];return new m(P,~V.h).add(D)}r.abs=function(){return F(this)?H(this):this},r.add=function(V){const M=Math.max(this.g.length,V.g.length),P=[];let Z=0;for(let O=0;O<=M;O++){let G=Z+(this.i(O)&65535)+(V.i(O)&65535),z=(G>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);Z=z>>>16,G&=65535,z&=65535,P[O]=z<<16|G}return new m(P,P[P.length-1]&-2147483648?-1:0)};function at(V,M){return V.add(H(M))}r.j=function(V){if(Q(this)||Q(V))return A;if(F(this))return F(V)?H(this).j(H(V)):H(H(this).j(V));if(F(V))return H(this.j(H(V)));if(this.l(B)<0&&V.l(B)<0)return E(this.m()*V.m());const M=this.g.length+V.g.length,P=[];for(var Z=0;Z<2*M;Z++)P[Z]=0;for(Z=0;Z<this.g.length;Z++)for(let O=0;O<V.g.length;O++){const G=this.i(Z)>>>16,z=this.i(Z)&65535,oe=V.i(O)>>>16,Xe=V.i(O)&65535;P[2*Z+2*O]+=z*Xe,lt(P,2*Z+2*O),P[2*Z+2*O+1]+=G*Xe,lt(P,2*Z+2*O+1),P[2*Z+2*O+1]+=z*oe,lt(P,2*Z+2*O+1),P[2*Z+2*O+2]+=G*oe,lt(P,2*Z+2*O+2)}for(V=0;V<M;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=M;V<2*M;V++)P[V]=0;return new m(P,0)};function lt(V,M){for(;(V[M]&65535)!=V[M];)V[M+1]+=V[M]>>>16,V[M]&=65535,M++}function st(V,M){this.g=V,this.h=M}function Rt(V,M){if(Q(M))throw Error("division by zero");if(Q(V))return new st(A,A);if(F(V))return M=Rt(H(V),M),new st(H(M.g),H(M.h));if(F(M))return M=Rt(V,H(M)),new st(H(M.g),M.h);if(V.g.length>30){if(F(V)||F(M))throw Error("slowDivide_ only works with positive integers.");for(var P=D,Z=M;Z.l(V)<=0;)P=Dt(P),Z=Dt(Z);var O=Vt(P,1),G=Vt(Z,1);for(Z=Vt(Z,2),P=Vt(P,2);!Q(Z);){var z=G.add(Z);z.l(V)<=0&&(O=O.add(P),G=z),Z=Vt(Z,1),P=Vt(P,1)}return M=at(V,O.j(M)),new st(O,M)}for(O=A;V.l(M)>=0;){for(P=Math.max(1,Math.floor(V.m()/M.m())),Z=Math.ceil(Math.log(P)/Math.LN2),Z=Z<=48?1:Math.pow(2,Z-48),G=E(P),z=G.j(M);F(z)||z.l(V)>0;)P-=Z,G=E(P),z=G.j(M);Q(G)&&(G=D),O=O.add(G),V=at(V,z)}return new st(O,V)}r.B=function(V){return Rt(this,V).h},r.and=function(V){const M=Math.max(this.g.length,V.g.length),P=[];for(let Z=0;Z<M;Z++)P[Z]=this.i(Z)&V.i(Z);return new m(P,this.h&V.h)},r.or=function(V){const M=Math.max(this.g.length,V.g.length),P=[];for(let Z=0;Z<M;Z++)P[Z]=this.i(Z)|V.i(Z);return new m(P,this.h|V.h)},r.xor=function(V){const M=Math.max(this.g.length,V.g.length),P=[];for(let Z=0;Z<M;Z++)P[Z]=this.i(Z)^V.i(Z);return new m(P,this.h^V.h)};function Dt(V){const M=V.g.length+1,P=[];for(let Z=0;Z<M;Z++)P[Z]=V.i(Z)<<1|V.i(Z-1)>>>31;return new m(P,V.h)}function Vt(V,M){const P=M>>5;M%=32;const Z=V.g.length-P,O=[];for(let G=0;G<Z;G++)O[G]=M>0?V.i(G+P)>>>M|V.i(G+P+1)<<32-M:V.i(G+P);return new m(O,V.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Jb=a,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=E,m.fromString=S,Fa=m}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $b,ac,tT,lf,Ap,eT,nT,iT;(function(){var r,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var b=0;b<f.length;++b){var x=f[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var a=n(this);function l(f,b){if(b)t:{var x=a;f=f.split(".");for(var N=0;N<f.length-1;N++){var W=f[N];if(!(W in x))break t;x=x[W]}f=f[f.length-1],N=x[f],b=b(N),b!=N&&b!=null&&t(x,f,{configurable:!0,writable:!0,value:b})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(b){var x=[],N;for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&x.push([N,b[N]]);return x}});var h=h||{},m=this||self;function v(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function y(f,b,x){return f.call.apply(f.bind,arguments)}function E(f,b,x){return E=y,E.apply(null,arguments)}function S(f,b){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function A(f,b){function x(){}x.prototype=b.prototype,f.Z=b.prototype,f.prototype=new x,f.prototype.constructor=f,f.Ob=function(N,W,nt){for(var yt=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)yt[Ut-2]=arguments[Ut];return b.prototype[W].apply(N,yt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function B(f){const b=f.length;if(b>0){const x=Array(b);for(let N=0;N<b;N++)x[N]=f[N];return x}return[]}function Q(f,b){for(let N=1;N<arguments.length;N++){const W=arguments[N];var x=typeof W;if(x=x!="object"?x:W?Array.isArray(W)?"array":x:"null",x=="array"||x=="object"&&typeof W.length=="number"){x=f.length||0;const nt=W.length||0;f.length=x+nt;for(let yt=0;yt<nt;yt++)f[x+yt]=W[yt]}else f.push(W)}}class F{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function H(f){m.setTimeout(()=>{throw f},0)}function at(){var f=V;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class lt{constructor(){this.h=this.g=null}add(b,x){const N=st.get();N.set(b,x),this.h?this.h.next=N:this.g=N,this.h=N}}var st=new F(()=>new Rt,f=>f.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Dt,Vt=!1,V=new lt,M=()=>{const f=Promise.resolve(void 0);Dt=()=>{f.then(P)}};function P(){for(var f;f=at();){try{f.h.call(f.g)}catch(x){H(x)}var b=st;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}Vt=!1}function Z(){this.u=this.u,this.C=this.C}Z.prototype.u=!1,Z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Z.prototype[Symbol.dispose]=function(){this.dispose()},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const x=()=>{};m.addEventListener("test",x,b),m.removeEventListener("test",x,b)}catch{}return f})();function z(f){return/^[\s\xa0]*$/.test(f)}function oe(f,b){O.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}A(oe,O),oe.prototype.init=function(f,b){const x=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(x=="mouseover"?b=f.fromElement:x=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),rt=0;function vt(f,b,x,N,W){this.listener=f,this.proxy=null,this.src=b,this.type=x,this.capture=!!N,this.ha=W,this.key=++rt,this.da=this.fa=!1}function pt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function te(f,b,x){for(const N in f)b.call(x,f[N],N,f)}function wt(f,b){for(const x in f)b.call(void 0,f[x],x,f)}function j(f){const b={};for(const x in f)b[x]=f[x];return b}const ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(f,b){let x,N;for(let W=1;W<arguments.length;W++){N=arguments[W];for(x in N)f[x]=N[x];for(let nt=0;nt<ot.length;nt++)x=ot[nt],Object.prototype.hasOwnProperty.call(N,x)&&(f[x]=N[x])}}function _t(f){this.src=f,this.g={},this.h=0}_t.prototype.add=function(f,b,x,N,W){const nt=f.toString();f=this.g[nt],f||(f=this.g[nt]=[],this.h++);const yt=bt(f,b,N,W);return yt>-1?(b=f[yt],x||(b.fa=!1)):(b=new vt(b,this.src,nt,!!N,W),b.fa=x,f.push(b)),b};function Tt(f,b){const x=b.type;if(x in f.g){var N=f.g[x],W=Array.prototype.indexOf.call(N,b,void 0),nt;(nt=W>=0)&&Array.prototype.splice.call(N,W,1),nt&&(pt(b),f.g[x].length==0&&(delete f.g[x],f.h--))}}function bt(f,b,x,N){for(let W=0;W<f.length;++W){const nt=f[W];if(!nt.da&&nt.listener==b&&nt.capture==!!x&&nt.ha==N)return W}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),Te={};function Ae(f,b,x,N,W){if(Array.isArray(b)){for(let nt=0;nt<b.length;nt++)Ae(f,b[nt],x,N,W);return null}return x=Or(x),f&&f[Xe]?f.J(b,x,v(N)?!!N.capture:!1,W):ur(f,b,x,!1,N,W)}function ur(f,b,x,N,W,nt){if(!b)throw Error("Invalid event type");const yt=v(W)?!!W.capture:!!W;let Ut=Lr(f);if(Ut||(f[Ht]=Ut=new _t(f)),x=Ut.add(b,x,N,yt,nt),x.proxy)return x;if(N=Dr(),x.proxy=N,N.src=f,N.listener=x,f.addEventListener)G||(W=yt),W===void 0&&(W=!1),f.addEventListener(b.toString(),N,W);else if(f.attachEvent)f.attachEvent(zi(b.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Dr(){function f(x){return b.call(f.src,f.listener,x)}const b=Qs;return f}function Vi(f,b,x,N,W){if(Array.isArray(b))for(var nt=0;nt<b.length;nt++)Vi(f,b[nt],x,N,W);else N=v(N)?!!N.capture:!!N,x=Or(x),f&&f[Xe]?(f=f.i,nt=String(b).toString(),nt in f.g&&(b=f.g[nt],x=bt(b,x,N,W),x>-1&&(pt(b[x]),Array.prototype.splice.call(b,x,1),b.length==0&&(delete f.g[nt],f.h--)))):f&&(f=Lr(f))&&(b=f.g[b.toString()],f=-1,b&&(f=bt(b,x,N,W)),(x=f>-1?b[f]:null)&&Mr(x))}function Mr(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Xe])Tt(b.i,f);else{var x=f.type,N=f.proxy;b.removeEventListener?b.removeEventListener(x,N,f.capture):b.detachEvent?b.detachEvent(zi(x),N):b.addListener&&b.removeListener&&b.removeListener(N),(x=Lr(b))?(Tt(x,f),x.h==0&&(x.src=null,b[Ht]=null)):pt(f)}}}function zi(f){return f in Te?Te[f]:Te[f]="on"+f}function Qs(f,b){if(f.da)f=!0;else{b=new oe(b,this);const x=f.listener,N=f.ha||f.src;f.fa&&Mr(f),f=x.call(N,b)}return f}function Lr(f){return f=f[Ht],f instanceof _t?f:null}var cs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(f){return typeof f=="function"?f:(f[cs]||(f[cs]=function(b){return f.handleEvent(b)}),f[cs])}function Fe(){Z.call(this),this.i=new _t(this),this.M=this,this.G=null}A(Fe,Z),Fe.prototype[Xe]=!0,Fe.prototype.removeEventListener=function(f,b,x,N){Vi(this,f,b,x,N)};function qe(f,b){var x,N=f.G;if(N)for(x=[];N;N=N.G)x.push(N);if(f=f.M,N=b.type||b,typeof b=="string")b=new O(b,f);else if(b instanceof O)b.target=b.target||f;else{var W=b;b=new O(N,f),gt(b,W)}W=!0;let nt,yt;if(x)for(yt=x.length-1;yt>=0;yt--)nt=b.g=x[yt],W=Ui(nt,N,!0,b)&&W;if(nt=b.g=f,W=Ui(nt,N,!0,b)&&W,W=Ui(nt,N,!1,b)&&W,x)for(yt=0;yt<x.length;yt++)nt=b.g=x[yt],W=Ui(nt,N,!1,b)&&W}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const x=f.g[b];for(let N=0;N<x.length;N++)pt(x[N]);delete f.g[b],f.h--}}this.G=null},Fe.prototype.J=function(f,b,x,N){return this.i.add(String(f),b,!1,x,N)},Fe.prototype.K=function(f,b,x,N){return this.i.add(String(f),b,!0,x,N)};function Ui(f,b,x,N){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let W=!0;for(let nt=0;nt<b.length;++nt){const yt=b[nt];if(yt&&!yt.da&&yt.capture==x){const Ut=yt.listener,le=yt.ha||yt.src;yt.fa&&Tt(f.i,yt),W=Ut.call(le,N)!==!1&&W}}return W&&!N.defaultPrevented}function el(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:m.setTimeout(f,b||0)}function no(f){f.g=el(()=>{f.g=null,f.i&&(f.i=!1,no(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Sn extends Z{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:no(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(f){Z.call(this),this.h=f,this.g={}}A(hs,Z);var fs=[];function Ys(f){te(f.g,function(b,x){this.g.hasOwnProperty(x)&&Mr(b)},f),f.g={}}hs.prototype.N=function(){hs.Z.N.call(this),Ys(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=m.JSON.stringify,yu=m.JSON.parse,io=class{stringify(f){return m.JSON.stringify(f,void 0)}parse(f){return m.JSON.parse(f,void 0)}};function ro(){}function nl(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function We(){O.call(this,"d")}A(We,O);function Fn(){O.call(this,"c")}A(Fn,O);var ze={},Pr=null;function Xs(){return Pr=Pr||new Fe}ze.Ia="serverreachability";function il(f){O.call(this,ze.Ia,f)}A(il,O);function gi(f){const b=Xs();qe(b,new il(b))}ze.STAT_EVENT="statevent";function kr(f,b){O.call(this,ze.STAT_EVENT,f),this.stat=b}A(kr,O);function Ue(f){const b=Xs();qe(b,new kr(b,f))}ze.Ja="timingevent";function ji(f,b){O.call(this,ze.Ja,f),this.size=b}A(ji,O);function Bi(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){f()},b)}function _i(){this.g=!0}_i.prototype.ua=function(){this.g=!1};function vu(f,b,x,N,W,nt){f.info(function(){if(f.g)if(nt){var yt="",Ut=nt.split("&");for(let ue=0;ue<Ut.length;ue++){var le=Ut[ue].split("=");if(le.length>1){const Re=le[0];le=le[1];const ri=Re.split("_");yt=ri.length>=2&&ri[1]=="type"?yt+(Re+"="+le+"&"):yt+(Re+"=redacted&")}}}else yt=null;else yt=nt;return"XMLHTTP REQ ("+N+") [attempt "+W+"]: "+b+`
`+x+`
`+yt})}function rl(f,b,x,N,W,nt,yt){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+W+"]: "+b+`
`+x+`
`+nt+" "+yt})}function Hi(f,b,x,N){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Eu(f,x)+(N?" "+N:"")})}function hr(f,b){f.info(function(){return"TIMEOUT: "+b})}_i.prototype.info=function(){};function Eu(f,b){if(!f.g)return b;if(!b)return null;try{const nt=JSON.parse(b);if(nt){for(f=0;f<nt.length;f++)if(Array.isArray(nt[f])){var x=nt[f];if(!(x.length<2)){var N=x[1];if(Array.isArray(N)&&!(N.length<1)){var W=N[0];if(W!="noop"&&W!="stop"&&W!="close")for(let yt=1;yt<N.length;yt++)N[yt]=""}}}}return cr(nt)}catch{return b}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},so={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ao;function gn(){}A(gn,ro),gn.prototype.g=function(){return new XMLHttpRequest},ao=new gn;function Ct(f){return encodeURIComponent(String(f))}function oo(f){var b=1;f=f.split(":");const x=[];for(;b>0&&f.length;)x.push(f.shift()),b--;return f.length&&x.push(f.join(":")),x}function Wn(f,b,x,N){this.j=f,this.i=b,this.l=x,this.S=N||1,this.V=new hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var je={},Ge={};function yi(f,b,x){f.M=1,f.A=ye(Me(b)),f.u=x,f.R=!0,vi(f,null)}function vi(f,b){f.F=Date.now(),Fi(f),f.B=Me(f.A);var x=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),zr(x.i,"t",N),f.C=0,x=f.j.L,f.h=new Jn,f.g=po(f.j,x?b:null,!f.u),f.P>0&&(f.O=new Sn(E(f.Y,f,f.g),f.P)),b=f.V,x=f.g,N=f.ba;var W="readystatechange";Array.isArray(W)||(W&&(fs[0]=W.toString()),W=fs);for(let nt=0;nt<W.length;nt++){const yt=Ae(x,W[nt],N||b.handleEvent,!1,b.h||b);if(!yt)break;b.g[yt.key]=yt}b=f.J?j(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),gi(),vu(f.i,f.v,f.B,f.l,f.S,f.u)}Wn.prototype.ba=function(f){f=f.target;const b=this.O;b&&wi(f)==3?b.j():this.Y(f)},Wn.prototype.Y=function(f){try{if(f==this.g)t:{const Ut=wi(this.g),le=this.g.ya(),ue=this.g.ca();if(!(Ut<3)&&(Ut!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Ut!=4||le==7||(le==8||ue<=0?gi(3):gi(2)),Ei(this);var b=this.g.ca();this.X=b;var x=sl(this);if(this.o=b==200,rl(this.i,this.v,this.B,this.l,this.S,Ut,b),this.o){if(this.U&&!this.L){e:{if(this.g){var N,W=this.g;if((N=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(N)){var nt=N;break e}}nt=null}if(f=nt)Hi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qi(this,f);else{this.o=!1,this.m=3,Ue(12),_n(this),$n(this);break t}}if(this.R){f=!0;let Re;for(;!this.K&&this.C<x.length;)if(Re=ol(this,x),Re==Ge){Ut==4&&(this.m=4,Ue(14),f=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Re==je){this.m=4,Ue(15),Hi(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Hi(this.i,this.l,Re,null),qi(this,Re);if(al(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||x.length!=0||this.h.h||(this.m=1,Ue(16),f=!1),this.o=this.o&&f,!f)Hi(this.i,this.l,x,"[Invalid Chunked Response]"),_n(this),$n(this);else if(x.length>0&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.aa&&!yt.P&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),fo(yt),yt.P=!0,Ue(11))}}else Hi(this.i,this.l,x,null),qi(this,x);Ut==4&&_n(this),this.o&&!this.K&&(Ut==4?Zn(this.j,this):(this.o=!1,Fi(this)))}else xi(this.g),b==400&&x.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),_n(this),$n(this)}}}catch{}};function sl(f){if(!al(f))return f.g.la();const b=nn(f.g);if(b==="")return"";let x="";const N=b.length,W=wi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return _n(f),$n(f),"";f.h.i=new m.TextDecoder}for(let nt=0;nt<N;nt++)f.h.h=!0,x+=f.h.i.decode(b[nt],{stream:!(W&&nt==N-1)});return b.length=0,f.h.g+=x,f.C=0,f.h.g}function al(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ol(f,b){var x=f.C,N=b.indexOf(`
`,x);return N==-1?Ge:(x=Number(b.substring(x,N)),isNaN(x)?je:(N+=1,N+x>b.length?Ge:(b=b.slice(N,N+x),f.C=N+x,b)))}Wn.prototype.cancel=function(){this.K=!0,_n(this)};function Fi(f){f.T=Date.now()+f.H,Ws(f,f.H)}function Ws(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Bi(E(f.aa,f),b)}function Ei(f){f.D&&(m.clearTimeout(f.D),f.D=null)}Wn.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(hr(this.i,this.B),this.M!=2&&(gi(),Ue(17)),_n(this),this.m=2,$n(this)):Ws(this,this.T-f)};function $n(f){f.j.I==0||f.K||Zn(f.j,f)}function _n(f){Ei(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Ys(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function qi(f,b){try{var x=f.j;if(x.I!=0&&(x.g==f||ti(x.h,f))){if(!f.L&&ti(x.h,f)&&x.I==3){try{var N=x.Ba.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var W=N;if(W[0]==0){t:if(!x.v){if(x.g)if(x.g.F+3e3<f.F)ra(x),Hr(x);else break t;vs(x),Ue(18)}}else x.xa=W[1],0<x.xa-x.K&&W[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Bi(E(x.Va,x),6e3));Gi(x.h)<=1&&x.ta&&(x.ta=void 0)}else Si(x,11)}else if((f.L||x.g==f)&&ra(x),!z(b))for(W=x.Ba.g.parse(b),b=0;b<W.length;b++){let ue=W[b];const Re=ue[0];if(!(Re<=x.K))if(x.K=Re,ue=ue[1],x.I==2)if(ue[0]=="c"){x.M=ue[1],x.ba=ue[2];const ri=ue[3];ri!=null&&(x.ka=ri,x.j.info("VER="+x.ka));const si=ue[4];si!=null&&(x.za=si,x.j.info("SVER="+x.za));const Kn=ue[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(N=1.5*Kn,x.O=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const Ci=f.g;if(Ci){const Es=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var nt=N.h;nt.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(fr(nt,nt.h),nt.h=null))}if(N.G){const bs=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;bs&&(N.wa=bs,St(N.J,N.G,bs))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-f.F,x.j.info("Handshake RTT: "+x.T+"ms")),N=x;var yt=f;if(N.na=mo(N,N.L?N.ba:null,N.W),yt.L){Js(N.h,yt);var Ut=yt,le=N.O;le&&(Ut.H=le),Ut.D&&(Ei(Ut),Fi(Ut)),N.g=yt}else ho(N);x.i.length>0&&Pn(x)}else ue[0]!="stop"&&ue[0]!="close"||Si(x,7);else x.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Si(x,7):Qt(x):ue[0]!="noop"&&x.l&&x.l.qa(ue),x.A=0)}}gi(4)}catch{}}var Ze=class{constructor(f,b){this.g=f,this.map=b}};function lo(f){this.l=f||10,m.PerformanceNavigationTiming?(f=m.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function uo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Gi(f){return f.h?1:f.g?f.g.size:0}function ti(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function fr(f,b){f.g?f.g.add(b):f.h=b}function Js(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}lo.prototype.cancel=function(){if(this.i=$s(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function $s(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const x of f.g.values())b=b.concat(x.G);return b}return B(f.i)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yt(f,b){if(f){f=f.split("&");for(let x=0;x<f.length;x++){const N=f[x].indexOf("=");let W,nt=null;N>=0?(W=f[x].substring(0,N),nt=f[x].substring(N+1)):W=f[x],b(W,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function Xt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof Xt?(this.l=f.l,Le(this,f.j),this.o=f.o,this.g=f.g,qn(this,f.u),this.h=f.h,ms(this,_s(f.i)),this.m=f.m):f&&(b=String(f).match(Vr))?(this.l=!1,Le(this,b[1]||"",!0),this.o=ei(b[2]||""),this.g=ei(b[3]||"",!0),qn(this,b[4]),this.h=ei(b[5]||"",!0),ms(this,b[6]||"",!0),this.m=ei(b[7]||"")):(this.l=!1,this.i=new ni(null,this.l))}Xt.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(Zi(b,ta,!0),":");var x=this.g;return(x||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Zi(b,ta,!0),"@"),f.push(Ct(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&f.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&f.push("/"),f.push(Zi(x,x.charAt(0)=="/"?bi:ps,!0))),(x=this.i.toString())&&f.push("?",x),(x=this.m)&&f.push("#",Zi(x,Ki)),f.join("")},Xt.prototype.resolve=function(f){const b=Me(this);let x=!!f.j;x?Le(b,f.j):x=!!f.o,x?b.o=f.o:x=!!f.g,x?b.g=f.g:x=f.u!=null;var N=f.h;if(x)qn(b,f.u);else if(x=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var W=b.h.lastIndexOf("/");W!=-1&&(N=b.h.slice(0,W+1)+N)}if(W=N,W==".."||W==".")N="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){N=W.lastIndexOf("/",0)==0,W=W.split("/");const nt=[];for(let yt=0;yt<W.length;){const Ut=W[yt++];Ut=="."?N&&yt==W.length&&nt.push(""):Ut==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),N&&yt==W.length&&nt.push("")):(nt.push(Ut),N=!0)}N=nt.join("/")}else N=W}return x?b.h=N:x=f.i.toString()!=="",x?ms(b,_s(f.i)):x=!!f.m,x&&(b.m=f.m),b};function Me(f){return new Xt(f)}function Le(f,b,x){f.j=x?ei(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function qn(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function ms(f,b,x){b instanceof ni?(f.i=b,Ur(f.i,f.l)):(x||(b=Zi(b,ve)),f.i=new ni(b,f.l))}function St(f,b,x){f.i.set(b,x)}function ye(f){return St(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ei(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Zi(f,b,x){return typeof f=="string"?(f=encodeURI(f).replace(b,Ce),x&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ce(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ta=/[#\/\?@]/g,ps=/[#\?:]/g,bi=/[#\?]/g,ve=/[#\?@]/g,Ki=/#/g;function ni(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function en(f){f.g||(f.g=new Map,f.h=0,f.i&&Yt(f.i,function(b,x){f.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}r=ni.prototype,r.add=function(f,b){en(this),this.i=null,f=Qi(this,f);let x=this.g.get(f);return x||this.g.set(f,x=[]),x.push(b),this.h+=1,this};function ea(f,b){en(f),b=Qi(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function dr(f,b){return en(f),b=Qi(f,b),f.g.has(b)}r.forEach=function(f,b){en(this),this.g.forEach(function(x,N){x.forEach(function(W){f.call(b,W,N,this)},this)},this)};function gs(f,b){en(f);let x=[];if(typeof b=="string")dr(f,b)&&(x=x.concat(f.g.get(Qi(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)x=x.concat(f[b]);return x}r.set=function(f,b){return en(this),this.i=null,f=Qi(this,f),dr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},r.get=function(f,b){return f?(f=gs(this,f),f.length>0?String(f[0]):b):b};function zr(f,b,x){ea(f,b),x.length>0&&(f.i=null,f.g.set(Qi(f,b),B(x)),f.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let N=0;N<b.length;N++){var x=b[N];const W=Ct(x);x=gs(this,x);for(let nt=0;nt<x.length;nt++){let yt=W;x[nt]!==""&&(yt+="="+Ct(x[nt])),f.push(yt)}}return this.i=f.join("&")};function _s(f){const b=new ni;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Qi(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Ur(f,b){b&&!f.j&&(en(f),f.i=null,f.g.forEach(function(x,N){const W=N.toLowerCase();N!=W&&(ea(this,N),zr(this,W,x))},f)),f.j=b}function Mn(f,b){const x=new _i;if(m.Image){const N=new Image;N.onload=S(Ln,x,"TestLoadImage: loaded",!0,b,N),N.onerror=S(Ln,x,"TestLoadImage: error",!1,b,N),N.onabort=S(Ln,x,"TestLoadImage: abort",!1,b,N),N.ontimeout=S(Ln,x,"TestLoadImage: timeout",!1,b,N),m.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else b(!1)}function na(f,b){const x=new _i,N=new AbortController,W=setTimeout(()=>{N.abort(),Ln(x,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:N.signal}).then(nt=>{clearTimeout(W),nt.ok?Ln(x,"TestPingServer: ok",!0,b):Ln(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(W),Ln(x,"TestPingServer: error",!1,b)})}function Ln(f,b,x,N,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),N(x)}catch{}}function jr(){this.g=new io}function Pt(f){this.i=f.Sb||null,this.h=f.ab||!1}A(Pt,ro),Pt.prototype.g=function(){return new yn(this.i,this.h)};function yn(f,b){Fe.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(yn,Fe),r=yn.prototype,r.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Gn(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||m).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;he(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function he(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}r.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?mr(this):Gn(this),this.readyState==3&&he(this)}},r.Oa=function(f){this.g&&(this.response=this.responseText=f,mr(this))},r.Na=function(f){this.g&&(this.response=f,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Gn(f)}r.setRequestHeader=function(f,b){this.A.append(f,b)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,f.push(x[0]+": "+x[1]),x=b.next();return f.join(`\r
`)};function Gn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function On(f){let b="";return te(f,function(x,N){b+=N,b+=":",b+=x,b+=`\r
`}),b}function pr(f,b,x){t:{for(N in x){var N=!1;break t}N=!0}N||(x=On(x),typeof f=="string"?x!=null&&Ct(x):St(f,b,x))}function ee(f){Fe.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ee,Fe);var ii=/^https?$/i,gr=["POST","PUT"];r=ee.prototype,r.Fa=function(f){this.H=f},r.ea=function(f,b,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ao.g(),this.g.onreadystatechange=D(E(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(nt){Oe(this,nt);return}if(f=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var W in N)x.set(W,N[W]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const nt of N.keys())x.set(nt,N.get(nt));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(nt=>nt.toLowerCase()=="content-type"),W=m.FormData&&f instanceof m.FormData,!(Array.prototype.indexOf.call(gr,b,void 0)>=0)||N||W||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,yt]of x)this.g.setRequestHeader(nt,yt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(nt){Oe(this,nt)}};function Oe(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Ti(f),Yi(f)}function Ti(f){f.A||(f.A=!0,qe(f,"complete"),qe(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qe(this,"complete"),qe(this,"abort"),Yi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},r.Xa=function(){Br(this)};function Br(f){if(f.h&&typeof h<"u"){if(f.v&&wi(f)==4)setTimeout(f.Ca.bind(f),0);else if(qe(f,"readystatechange"),wi(f)==4){f.h=!1;try{const nt=f.ca();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var x;if(!(x=b)){var N;if(N=nt===0){let yt=String(f.D).match(Vr)[1]||null;!yt&&m.self&&m.self.location&&(yt=m.self.location.protocol.slice(0,-1)),N=!ii.test(yt?yt.toLowerCase():"")}x=N}if(x)qe(f,"complete"),qe(f,"success");else{f.o=6;try{var W=wi(f)>2?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.ca()+"]",Ti(f)}}finally{Yi(f)}}}}function Yi(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const x=f.g;f.g=null,b||qe(f,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function wi(f){return f.g?f.g.readyState:0}r.ca=function(){try{return wi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),yu(b)}};function nn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(f){const b={};f=(f.g&&wi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(z(f[N]))continue;var x=oo(f[N]);const W=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const nt=b[W]||[];b[W]=nt,nt.push(x)}wt(b,function(N){return N.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(f,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[f]||b}function _r(f){this.za=0,this.i=[],this.j=new _i,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,f),this.Za=Xi("retryDelaySeedMs",1e4,f),this.Ta=Xi("forwardChannelMaxRetries",2,f),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new lo(f&&f.concurrentRequestLimit),this.Ba=new jr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_r.prototype,r.ka=8,r.I=1,r.connect=function(f,b,x,N){Ue(0),this.W=f,this.H=b||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.J=mo(this,null,this.W),Pn(this)};function Qt(f){if(vn(f),f.I==3){var b=f.V++,x=Me(f.J);if(St(x,"SID",f.M),St(x,"RID",b),St(x,"TYPE","terminate"),yr(f,x),b=new Wn(f,f.j,b),b.M=2,b.A=ye(Me(x)),x=!1,m.navigator&&m.navigator.sendBeacon)try{x=m.navigator.sendBeacon(b.A.toString(),"")}catch{}!x&&m.Image&&(new Image().src=b.A,x=!0),x||(b.g=po(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Fi(b)}Ai(f)}function Hr(f){f.g&&(fo(f),f.g.cancel(),f.g=null)}function vn(f){Hr(f),f.v&&(m.clearTimeout(f.v),f.v=null),ra(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&m.clearTimeout(f.m),f.m=null)}function Pn(f){if(!uo(f.h)&&!f.m){f.m=!0;var b=f.Ea;Dt||M(),Vt||(Dt(),Vt=!0),V.add(b,f),f.D=0}}function ys(f,b){return Gi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Bi(E(f.Ea,f,b),ul(f,f.D)),f.D++,!0)}r.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const W=new Wn(this,this.j,f);let nt=this.o;if(this.U&&(nt?(nt=j(nt),gt(nt,this.U)):nt=this.U),this.u!==null||this.R||(W.J=nt,nt=null),this.S)t:{for(var b=0,x=0;x<this.i.length;x++){e:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(b+=N,b>4096){b=x;break t}if(b===4096||x===this.i.length-1){b=x+1;break t}}b=1e3}else b=1e3;b=ll(this,W,b),x=Me(this.J),St(x,"RID",f),St(x,"CVER",22),this.G&&St(x,"X-HTTP-Session-Id",this.G),yr(this,x),nt&&(this.R?b="headers="+Ct(On(nt))+"&"+b:this.u&&pr(x,this.u,nt)),fr(this.h,W),this.Ra&&St(x,"TYPE","init"),this.S?(St(x,"$req",b),St(x,"SID","null"),W.U=!0,yi(W,x,null)):yi(W,x,b),this.I=2}}else this.I==3&&(f?co(this,f):this.i.length==0||uo(this.h)||co(this))};function co(f,b){var x;b?x=b.l:x=f.V++;const N=Me(f.J);St(N,"SID",f.M),St(N,"RID",x),St(N,"AID",f.K),yr(f,N),f.u&&f.o&&pr(N,f.u,f.o),x=new Wn(f,f.j,x,f.D+1),f.u===null&&(x.J=f.o),b&&(f.i=b.G.concat(f.i)),b=ll(f,x,1e3),x.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),fr(f.h,x),yi(x,N,b)}function yr(f,b){f.H&&te(f.H,function(x,N){St(b,N,x)}),f.l&&te({},function(x,N){St(b,N,x)})}function ll(f,b,x){x=Math.min(f.i.length,x);const N=f.l?E(f.l.Ka,f.l,f):null;t:{var W=f.i;let Ut=-1;for(;;){const le=["count="+x];Ut==-1?x>0?(Ut=W[0].g,le.push("ofs="+Ut)):Ut=0:le.push("ofs="+Ut);let ue=!0;for(let Re=0;Re<x;Re++){var nt=W[Re].g;const ri=W[Re].map;if(nt-=Ut,nt<0)Ut=Math.max(0,W[Re].g-100),ue=!1;else try{nt="req"+nt+"_"||"";try{var yt=ri instanceof Map?ri:Object.entries(ri);for(const[si,Kn]of yt){let Ci=Kn;v(Kn)&&(Ci=cr(Kn)),le.push(nt+si+"="+encodeURIComponent(Ci))}}catch(si){throw le.push(nt+"type="+encodeURIComponent("_badmap")),si}}catch{N&&N(ri)}}if(ue){yt=le.join("&");break t}}yt=void 0}return f=f.i.splice(0,x),b.G=f,yt}function ho(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;Dt||M(),Vt||(Dt(),Vt=!0),V.add(b,f),f.A=0}}function vs(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Bi(E(f.Da,f),ul(f,f.A)),f.A++,!0)}r.Da=function(){if(this.v=null,ia(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Bi(E(this.Wa,this),f)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),Hr(this),ia(this))};function fo(f){f.B!=null&&(m.clearTimeout(f.B),f.B=null)}function ia(f){f.g=new Wn(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Me(f.na);St(b,"RID","rpc"),St(b,"SID",f.M),St(b,"AID",f.K),St(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&St(b,"TO",f.ia),St(b,"TYPE","xmlhttp"),yr(f,b),f.u&&f.o&&pr(b,f.u,f.o),f.O&&(f.g.H=f.O);var x=f.g;f=f.ba,x.M=1,x.A=ye(Me(b)),x.u=null,x.R=!0,vi(x,f)}r.Va=function(){this.C!=null&&(this.C=null,Hr(this),vs(this),Ue(19))};function ra(f){f.C!=null&&(m.clearTimeout(f.C),f.C=null)}function Zn(f,b){var x=null;if(f.g==b){ra(f),fo(f),f.g=null;var N=2}else if(ti(f.h,b))x=b.G,Js(f.h,b),N=1;else return;if(f.I!=0){if(b.o)if(N==1){x=b.u?b.u.length:0,b=Date.now()-b.F;var W=f.D;N=Xs(),qe(N,new ji(N,x)),Pn(f)}else ho(f);else if(W=b.m,W==3||W==0&&b.X>0||!(N==1&&ys(f,b)||N==2&&vs(f)))switch(x&&x.length>0&&(b=f.h,b.i=b.i.concat(x)),W){case 1:Si(f,5);break;case 4:Si(f,10);break;case 3:Si(f,6);break;default:Si(f,2)}}}function ul(f,b){let x=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(x*=2),x*b}function Si(f,b){if(f.j.info("Error code "+b),b==2){var x=E(f.bb,f),N=f.Ua;const W=!N;N=new Xt(N||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Le(N,"https"),ye(N),W?Mn(N.toString(),x):na(N.toString(),x)}else Ue(2);f.I=0,f.l&&f.l.pa(b),Ai(f),vn(f)}r.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function Ai(f){if(f.I=0,f.ja=[],f.l){const b=$s(f.h);(b.length!=0||f.i.length!=0)&&(Q(f.ja,b),Q(f.ja,f.i),f.h.i.length=0,B(f.i),f.i.length=0),f.l.oa()}}function mo(f,b,x){var N=x instanceof Xt?Me(x):new Xt(x);if(N.g!="")b&&(N.g=b+"."+N.g),qn(N,N.u);else{var W=m.location;N=W.protocol,b=b?b+"."+W.hostname:W.hostname,W=+W.port;const nt=new Xt(null);N&&Le(nt,N),b&&(nt.g=b),W&&qn(nt,W),x&&(nt.h=x),N=nt}return x=f.G,b=f.wa,x&&b&&St(N,x,b),St(N,"VER",f.ka),yr(f,N),N}function po(f,b,x){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ee(new Pt({ab:x})):new ee(f.ma),b.Fa(f.L),b}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function sa(){}r=sa.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Fr(){}Fr.prototype.g=function(f,b){return new En(f,b)};function En(f,b){Fe.call(this),this.g=new _r(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!z(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!z(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new vr(this)}A(En,Fe),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Qt(this.g)},En.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var x={};x.__data__=f,f=x}else this.v&&(x={},x.__data__=cr(f),f=x);b.i.push(new Ze(b.Ya++,f)),b.I==3&&Pn(b)},En.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,En.Z.N.call(this)};function go(f){We.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){t:{for(const x in b){f=x;break t}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}A(go,We);function cl(){Fn.call(this),this.status=1}A(cl,Fn);function vr(f){this.g=f}A(vr,sa),vr.prototype.ra=function(){qe(this.g,"a")},vr.prototype.qa=function(f){qe(this.g,new go(f))},vr.prototype.pa=function(f){qe(this.g,new cl)},vr.prototype.oa=function(){qe(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,iT=function(){return new Fr},nT=function(){return Xs()},eT=ze,Ap={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,lf=ds,so.COMPLETE="complete",tT=so,nl.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,ac=nl,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,$b=ee}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const U0="@firebase/firestore",j0="4.9.3";class jn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");let fu="12.7.0";const Xo=new $p("@firebase/firestore");function Fl(){return Xo.logLevel}function At(r,...t){if(Xo.logLevel<=re.DEBUG){const n=t.map(fg);Xo.debug(`Firestore (${fu}): ${r}`,...n)}}function qs(r,...t){if(Xo.logLevel<=re.ERROR){const n=t.map(fg);Xo.error(`Firestore (${fu}): ${r}`,...n)}}function $l(r,...t){if(Xo.logLevel<=re.WARN){const n=t.map(fg);Xo.warn(`Firestore (${fu}): ${r}`,...n)}}function fg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function zt(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,rT(r,a,n)}function rT(r,t,n){let a=`FIRESTORE (${fu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw qs(a),new Error(a)}function _e(r,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||rT(t,l,a)}function qt(r,t){return r}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends Ks{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qa{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class sT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class I2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(jn.UNAUTHENTICATED)))}shutdown(){}}class N2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class D2{constructor(t){this.t=t,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_e(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let h=new qa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new qa,t.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const y=h;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},v=y=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((y=>v(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?v(y):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new qa)}}),0),m()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(_e(typeof a.accessToken=="string",31837,{l:a}),new sT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new jn(t)}}class M2{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class L2{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new M2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class B0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ar(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){_e(this.o===void 0,3512);const a=h=>{h.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,At("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new B0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new B0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function P2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class dg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=P2(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<n&&(a+=t.charAt(l[h]%62))}return a}}function se(r,t){return r<t?-1:r>t?1:0}function Cp(r,t){const n=Math.min(r.length,t.length);for(let a=0;a<n;a++){const l=r.charAt(a),h=t.charAt(a);if(l!==h)return lp(l)===lp(h)?se(l,h):lp(l)?1:-1}return se(r.length,t.length)}const k2=55296,V2=57343;function lp(r){const t=r.charCodeAt(0);return t>=k2&&t<=V2}function tu(r,t,n){return r.length===t.length&&r.every(((a,l)=>n(a,t[l])))}const H0="__name__";class ts{constructor(t,n,a){n===void 0?n=0:n>t.length&&zt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&zt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return ts.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ts?t.forEach((a=>{n.push(a)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const h=ts.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return se(t.length,n.length)}static compareSegments(t,n){const a=ts.isNumericId(t),l=ts.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?ts.extractNumericId(t).compare(ts.extractNumericId(n)):Cp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fa.fromString(t.substring(4,t.length-2))}}class De extends ts{construct(t,n,a){return new De(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new xt(ht.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new De(n)}static emptyPath(){return new De([])}}const z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends ts{construct(t,n,a){return new Nn(t,n,a)}static isValidIdentifier(t){return z2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H0}static keyField(){return new Nn([H0])}static fromServerFormat(t){const n=[];let a="",l=0;const h=()=>{if(a.length===0)throw new xt(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let m=!1;for(;l<t.length;){const v=t[l];if(v==="\\"){if(l+1===t.length)throw new xt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new xt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else v==="`"?(m=!m,l++):v!=="."||m?(a+=v,l++):(h(),l++)}if(h(),m)throw new xt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Nn(n)}static emptyPath(){return new Nn([])}}class Ot{constructor(t){this.path=t}static fromPath(t){return new Ot(De.fromString(t))}static fromName(t){return new Ot(De.fromString(t).popFirst(5))}static empty(){return new Ot(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&De.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return De.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ot(new De(t.slice()))}}function aT(r,t,n){if(!n)throw new xt(ht.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function U2(r,t,n,a){if(t===!0&&a===!0)throw new xt(ht.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function F0(r){if(!Ot.isDocumentKey(r))throw new xt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function q0(r){if(Ot.isDocumentKey(r))throw new xt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ff(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":zt(12329,{type:typeof r})}function ns(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new xt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(r);throw new xt(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function cn(r,t){const n={typeString:r};return t&&(n.value=t),n}function Pc(r,t){if(!oT(r))throw new xt(ht.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const m=r[a];if(l&&typeof m!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&m!==h.value){n=`Expected '${a}' field to equal '${h.value}'`;break}}if(n)throw new xt(ht.INVALID_ARGUMENT,n);return!0}const G0=-62135596800,Z0=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(t){return Ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*Z0);return new Ne(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new xt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<G0)throw new xt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z0}_compareTo(t){return this.seconds===t.seconds?se(this.nanoseconds,t.nanoseconds):se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pc(t,Ne._jsonSchema))return new Ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-G0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:cn("string",Ne._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};class Bt{static fromTimestamp(t){return new Bt(t)}static min(){return new Bt(new Ne(0,0))}static max(){return new Bt(new Ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ec=-1;function j2(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Bt.fromTimestamp(a===1e9?new Ne(n+1,0):new Ne(n,a));return new Za(l,Ot.empty(),t)}function B2(r){return new Za(r.readTime,r.key,Ec)}class Za{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Za(Bt.min(),Ot.empty(),Ec)}static max(){return new Za(Bt.max(),Ot.empty(),Ec)}}function H2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Ot.comparator(r.documentKey,t.documentKey),n!==0?n:se(r.largestBatchId,t.largestBatchId))}const F2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function du(r){if(r.code!==ht.FAILED_PRECONDITION||r.message!==F2)throw r;At("LocalStore","Unexpectedly lost primary lease")}class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new mt(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(a,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof mt?n:mt.resolve(n)}catch(n){return mt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.reject(n)}static resolve(t){return new mt(((n,a)=>{n(t)}))}static reject(t){return new mt(((n,a)=>{a(t)}))}static waitFor(t){return new mt(((n,a)=>{let l=0,h=0,m=!1;t.forEach((v=>{++l,v.next((()=>{++h,m&&h===l&&n()}),(y=>a(y)))})),m=!0,h===l&&n()}))}static or(t){let n=mt.resolve(!1);for(const a of t)n=n.next((l=>l?mt.resolve(l):a()));return n}static forEach(t,n){const a=[];return t.forEach(((l,h)=>{a.push(n.call(this,l,h))})),this.waitFor(a)}static mapArray(t,n){return new mt(((a,l)=>{const h=t.length,m=new Array(h);let v=0;for(let y=0;y<h;y++){const E=y;n(t[E]).next((S=>{m[E]=S,++v,v===h&&a(m)}),(S=>l(S)))}}))}static doWhile(t,n){return new mt(((a,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):a()};h()}))}}function G2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mu(r){return r.name==="IndexedDbTransactionError"}class qf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}qf.ce=-1;const mg=-1;function Gf(r){return r==null}function xf(r){return r===0&&1/r==-1/0}function Z2(r){return typeof r=="number"&&Number.isInteger(r)&&!xf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const lT="";function K2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=K0(t)),t=Q2(r.get(n),t);return K0(t)}function Q2(r,t){let n=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":n+="";break;case lT:n+="";break;default:n+=h}}return n}function K0(r){return r+lT+""}function Q0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function $a(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function uT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class He{constructor(t,n){this.comparator=t,this.root=n||In.EMPTY}insert(t,n){return new He(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(t){return new He(this.comparator,this.root.remove(t,this.comparator).copy(null,null,In.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,a)=>(t(n,a),!1)))}toString(){const t=[];return this.inorderTraversal(((n,a)=>(t.push(`${n}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wh(this.root,t,this.comparator,!0)}}class Wh{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?a(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class In{constructor(t,n,a,l,h){this.key=t,this.value=n,this.color=a??In.RED,this.left=l??In.EMPTY,this.right=h??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,h){return new In(t??this.key,n??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,a),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return In.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw zt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw zt(27949);return t+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw zt(57766)}get value(){throw zt(16141)}get color(){throw zt(16727)}get left(){throw zt(29726)}get right(){throw zt(36894)}copy(t,n,a,l,h){return this}insert(t,n,a){return new In(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mn{constructor(t){this.comparator=t,this.data=new He(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,a)=>(t(n),!1)))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(t){return new Y0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((a=>{n=n.add(a)})),n}isEqual(t){if(!(t instanceof mn)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new mn(this.comparator);return n.data=t,n}}class Y0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Oi{constructor(t){this.fields=t,t.sort(Nn.comparator)}static empty(){return new Oi([])}unionWith(t){let n=new mn(Nn.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new Oi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return tu(this.fields,t.fields,((n,a)=>n.isEqual(a)))}}class cT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new cT("Invalid base64 string: "+h):h}})(t);return new Dn(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h})(t);return new Dn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const Y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(r){if(_e(!!r,39018),typeof r=="string"){let t=0;const n=Y2.exec(r);if(_e(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:tn(r.seconds),nanos:tn(r.nanos)}}function tn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qa(r){return typeof r=="string"?Dn.fromBase64String(r):Dn.fromUint8Array(r)}const hT="server_timestamp",fT="__type__",dT="__previous_value__",mT="__local_write_time__";function pg(r){return(r?.mapValue?.fields||{})[fT]?.stringValue===hT}function Zf(r){const t=r.mapValue.fields[dT];return pg(t)?Zf(t):t}function bc(r){const t=Ka(r.mapValue.fields[mT].timestampValue);return new Ne(t.seconds,t.nanos)}class X2{constructor(t,n,a,l,h,m,v,y,E,S){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.longPollingOptions=y,this.useFetchStreams=E,this.isUsingEmulator=S}}const Sf="(default)";class Tc{constructor(t,n){this.projectId=t,this.database=n||Sf}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===Sf}isEqual(t){return t instanceof Tc&&t.projectId===this.projectId&&t.database===this.database}}const pT="__type__",W2="__max__",Jh={mapValue:{}},gT="__vector__",Af="value";function Ya(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pg(r)?4:$2(r)?9007199254740991:J2(r)?10:11:zt(28295,{value:r})}function ls(r,t){if(r===t)return!0;const n=Ya(r);if(n!==Ya(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return bc(r).isEqual(bc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=Ka(l.timestampValue),v=Ka(h.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return Qa(l.bytesValue).isEqual(Qa(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return tn(l.geoPointValue.latitude)===tn(h.geoPointValue.latitude)&&tn(l.geoPointValue.longitude)===tn(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return tn(l.integerValue)===tn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=tn(l.doubleValue),v=tn(h.doubleValue);return m===v?xf(m)===xf(v):isNaN(m)&&isNaN(v)}return!1})(r,t);case 9:return tu(r.arrayValue.values||[],t.arrayValue.values||[],ls);case 10:case 11:return(function(l,h){const m=l.mapValue.fields||{},v=h.mapValue.fields||{};if(Q0(m)!==Q0(v))return!1;for(const y in m)if(m.hasOwnProperty(y)&&(v[y]===void 0||!ls(m[y],v[y])))return!1;return!0})(r,t);default:return zt(52216,{left:r})}}function wc(r,t){return(r.values||[]).find((n=>ls(n,t)))!==void 0}function eu(r,t){if(r===t)return 0;const n=Ya(r),a=Ya(t);if(n!==a)return se(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(r.booleanValue,t.booleanValue);case 2:return(function(h,m){const v=tn(h.integerValue||h.doubleValue),y=tn(m.integerValue||m.doubleValue);return v<y?-1:v>y?1:v===y?0:isNaN(v)?isNaN(y)?0:-1:1})(r,t);case 3:return X0(r.timestampValue,t.timestampValue);case 4:return X0(bc(r),bc(t));case 5:return Cp(r.stringValue,t.stringValue);case 6:return(function(h,m){const v=Qa(h),y=Qa(m);return v.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(h,m){const v=h.split("/"),y=m.split("/");for(let E=0;E<v.length&&E<y.length;E++){const S=se(v[E],y[E]);if(S!==0)return S}return se(v.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,m){const v=se(tn(h.latitude),tn(m.latitude));return v!==0?v:se(tn(h.longitude),tn(m.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return W0(r.arrayValue,t.arrayValue);case 10:return(function(h,m){const v=h.fields||{},y=m.fields||{},E=v[Af]?.arrayValue,S=y[Af]?.arrayValue,A=se(E?.values?.length||0,S?.values?.length||0);return A!==0?A:W0(E,S)})(r.mapValue,t.mapValue);case 11:return(function(h,m){if(h===Jh.mapValue&&m===Jh.mapValue)return 0;if(h===Jh.mapValue)return 1;if(m===Jh.mapValue)return-1;const v=h.fields||{},y=Object.keys(v),E=m.fields||{},S=Object.keys(E);y.sort(),S.sort();for(let A=0;A<y.length&&A<S.length;++A){const D=Cp(y[A],S[A]);if(D!==0)return D;const B=eu(v[y[A]],E[S[A]]);if(B!==0)return B}return se(y.length,S.length)})(r.mapValue,t.mapValue);default:throw zt(23264,{he:n})}}function X0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return se(r,t);const n=Ka(r),a=Ka(t),l=se(n.seconds,a.seconds);return l!==0?l:se(n.nanos,a.nanos)}function W0(r,t){const n=r.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const h=eu(n[l],a[l]);if(h)return h}return se(n.length,a.length)}function nu(r){return Rp(r)}function Rp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=Ka(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Qa(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ot.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",l=!0;for(const h of n.values||[])l?l=!1:a+=",",a+=Rp(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const m of a)h?h=!1:l+=",",l+=`${m}:${Rp(n.fields[m])}`;return l+"}"})(r.mapValue):zt(61005,{value:r})}function uf(r){switch(Ya(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zf(r);return t?16+uf(t):16;case 5:return 2*r.stringValue.length;case 6:return Qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+uf(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return $a(a.fields,((h,m)=>{l+=h.length+uf(m)})),l})(r.mapValue);default:throw zt(13486,{value:r})}}function J0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Ip(r){return!!r&&"integerValue"in r}function gg(r){return!!r&&"arrayValue"in r}function $0(r){return!!r&&"nullValue"in r}function tE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cf(r){return!!r&&"mapValue"in r}function J2(r){return(r?.mapValue?.fields||{})[pT]?.stringValue===gT}function dc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return $a(r.mapValue.fields,((n,a)=>t.mapValue.fields[n]=dc(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=dc(r.arrayValue.values[n]);return t}return{...r}}function $2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===W2}class pi{constructor(t){this.value=t}static empty(){return new pi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!cf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=dc(n)}setAll(t){let n=Nn.emptyPath(),a={},l=[];t.forEach(((m,v)=>{if(!n.isImmediateParentOf(v)){const y=this.getFieldsMap(n);this.applyChanges(y,a,l),a={},l=[],n=v.popLast()}m?a[v.lastSegment()]=dc(m):l.push(v.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,a,l)}delete(t){const n=this.field(t.popLast());cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ls(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];cf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){$a(n,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new pi(dc(this.value))}}function _T(r){const t=[];return $a(r.fields,((n,a)=>{const l=new Nn([n]);if(cf(a)){const h=_T(a.mapValue).fields;if(h.length===0)t.push(l);else for(const m of h)t.push(l.child(m))}else t.push(l)})),new Oi(t)}class Bn{constructor(t,n,a,l,h,m,v){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=h,this.data=m,this.documentState=v}static newInvalidDocument(t){return new Bn(t,0,Bt.min(),Bt.min(),Bt.min(),pi.empty(),0)}static newFoundDocument(t,n,a,l){return new Bn(t,1,n,Bt.min(),a,l,0)}static newNoDocument(t,n){return new Bn(t,2,n,Bt.min(),Bt.min(),pi.empty(),0)}static newUnknownDocument(t,n){return new Bn(t,3,n,Bt.min(),Bt.min(),pi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Bn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cf{constructor(t,n){this.position=t,this.inclusive=n}}function eE(r,t,n){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],m=r.position[l];if(h.field.isKeyField()?a=Ot.comparator(Ot.fromName(m.referenceValue),n.key):a=eu(m,n.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function nE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ls(r.position[n],t.position[n]))return!1;return!0}class xc{constructor(t,n="asc"){this.field=t,this.dir=n}}function tI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class yT{}class un extends yT{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new nI(t,n,a):n==="array-contains"?new sI(t,a):n==="in"?new aI(t,a):n==="not-in"?new oI(t,a):n==="array-contains-any"?new lI(t,a):new un(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new iI(t,a):new rI(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eu(n,this.value)):n!==null&&Ya(this.value)===Ya(n)&&this.matchesComparison(eu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends yT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ir(t,n)}matches(t){return vT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vT(r){return r.op==="and"}function ET(r){return eI(r)&&vT(r)}function eI(r){for(const t of r.filters)if(t instanceof Ir)return!1;return!0}function Np(r){if(r instanceof un)return r.field.canonicalString()+r.op.toString()+nu(r.value);if(ET(r))return r.filters.map((t=>Np(t))).join(",");{const t=r.filters.map((n=>Np(n))).join(",");return`${r.op}(${t})`}}function bT(r,t){return r instanceof un?(function(a,l){return l instanceof un&&a.op===l.op&&a.field.isEqual(l.field)&&ls(a.value,l.value)})(r,t):r instanceof Ir?(function(a,l){return l instanceof Ir&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,m,v)=>h&&bT(m,l.filters[v])),!0):!1})(r,t):void zt(19439)}function TT(r){return r instanceof un?(function(n){return`${n.field.canonicalString()} ${n.op} ${nu(n.value)}`})(r):r instanceof Ir?(function(n){return n.op.toString()+" {"+n.getFilters().map(TT).join(" ,")+"}"})(r):"Filter"}class nI extends un{constructor(t,n,a){super(t,n,a),this.key=Ot.fromName(a.referenceValue)}matches(t){const n=Ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class iI extends un{constructor(t,n){super(t,"in",n),this.keys=wT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class rI extends un{constructor(t,n){super(t,"not-in",n),this.keys=wT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function wT(r,t){return(t.arrayValue?.values||[]).map((n=>Ot.fromName(n.referenceValue)))}class sI extends un{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gg(n)&&wc(n.arrayValue,this.value)}}class aI extends un{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}}class oI extends un{constructor(t,n){super(t,"not-in",n)}matches(t){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wc(this.value.arrayValue,n)}}class lI extends un{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>wc(this.value.arrayValue,a)))}}class uI{constructor(t,n=null,a=[],l=[],h=null,m=null,v=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=m,this.endAt=v,this.Te=null}}function iE(r,t=null,n=[],a=[],l=null,h=null,m=null){return new uI(r,t,n,a,l,h,m)}function _g(r){const t=qt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((a=>Np(a))).join(","),n+="|ob:",n+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Gf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>nu(a))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>nu(a))).join(",")),t.Te=n}return t.Te}function yg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!tI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!bT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!nE(r.startAt,t.startAt)&&nE(r.endAt,t.endAt)}function Dp(r){return Ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class pu{constructor(t,n=null,a=[],l=[],h=null,m="F",v=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=m,this.startAt=v,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cI(r,t,n,a,l,h,m,v){return new pu(r,t,n,a,l,h,m,v)}function vg(r){return new pu(r)}function rE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xT(r){return r.collectionGroup!==null}function mc(r){const t=qt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let v=new mn(Nn.comparator);return m.filters.forEach((y=>{y.getFlattenedFilters().forEach((E=>{E.isInequality()&&(v=v.add(E.field))}))})),v})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new xc(h,a))})),n.has(Nn.keyField().canonicalString())||t.Ie.push(new xc(Nn.keyField(),a))}return t.Ie}function is(r){const t=qt(r);return t.Ee||(t.Ee=hI(t,mc(r))),t.Ee}function hI(r,t){if(r.limitType==="F")return iE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new xc(l.field,h)}));const n=r.endAt?new Cf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Cf(r.startAt.position,r.startAt.inclusive):null;return iE(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function Mp(r,t){const n=r.filters.concat([t]);return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Lp(r,t,n){return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Kf(r,t){return yg(is(r),is(t))&&r.limitType===t.limitType}function ST(r){return`${_g(is(r))}|lt:${r.limitType}`}function ql(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>TT(l))).join(", ")}]`),Gf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>nu(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>nu(l))).join(",")),`Target(${a})`})(is(r))}; limitType=${r.limitType})`}function Qf(r,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,l){for(const h of mc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(m,v,y){const E=eE(m,v,y);return m.inclusive?E<=0:E<0})(a.startAt,mc(a),l)||a.endAt&&!(function(m,v,y){const E=eE(m,v,y);return m.inclusive?E>=0:E>0})(a.endAt,mc(a),l))})(r,t)}function fI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function AT(r){return(t,n)=>{let a=!1;for(const l of mc(r)){const h=dI(l,t,n);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function dI(r,t,n){const a=r.field.isKeyField()?Ot.comparator(t.key,n.key):(function(h,m,v){const y=m.data.field(h),E=v.data.field(h);return y!==null&&E!==null?eu(y,E):zt(42886)})(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return zt(19790,{direction:r.dir})}}class $o{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){$a(this.inner,((n,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return uT(this.inner)}size(){return this.innerSize}}const mI=new He(Ot.comparator);function Gs(){return mI}const CT=new He(Ot.comparator);function oc(...r){let t=CT;for(const n of r)t=t.insert(n.key,n);return t}function RT(r){let t=CT;return r.forEach(((n,a)=>t=t.insert(n,a.overlayedDocument))),t}function Fo(){return pc()}function IT(){return pc()}function pc(){return new $o((r=>r.toString()),((r,t)=>r.isEqual(t)))}const pI=new He(Ot.comparator),gI=new mn(Ot.comparator);function ae(...r){let t=gI;for(const n of r)t=t.add(n);return t}const _I=new mn(se);function yI(){return _I}function Eg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function NT(r){return{integerValue:""+r}}function vI(r,t){return Z2(t)?NT(t):Eg(r,t)}class Yf{constructor(){this._=void 0}}function EI(r,t,n){return r instanceof Sc?(function(l,h){const m={fields:{[fT]:{stringValue:hT},[mT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&pg(h)&&(h=Zf(h)),h&&(m.fields[dT]=h),{mapValue:m}})(n,t):r instanceof Ac?MT(r,t):r instanceof Cc?LT(r,t):(function(l,h){const m=DT(l,h),v=sE(m)+sE(l.Ae);return Ip(m)&&Ip(l.Ae)?NT(v):Eg(l.serializer,v)})(r,t)}function bI(r,t,n){return r instanceof Ac?MT(r,t):r instanceof Cc?LT(r,t):n}function DT(r,t){return r instanceof Rf?(function(a){return Ip(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class Sc extends Yf{}class Ac extends Yf{constructor(t){super(),this.elements=t}}function MT(r,t){const n=OT(t);for(const a of r.elements)n.some((l=>ls(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Cc extends Yf{constructor(t){super(),this.elements=t}}function LT(r,t){let n=OT(t);for(const a of r.elements)n=n.filter((l=>!ls(l,a)));return{arrayValue:{values:n}}}class Rf extends Yf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function sE(r){return tn(r.integerValue||r.doubleValue)}function OT(r){return gg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class TI{constructor(t,n){this.field=t,this.transform=n}}function wI(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Ac&&l instanceof Ac||a instanceof Cc&&l instanceof Cc?tu(a.elements,l.elements,ls):a instanceof Rf&&l instanceof Rf?ls(a.Ae,l.Ae):a instanceof Sc&&l instanceof Sc})(r.transform,t.transform)}class xI{constructor(t,n){this.version=t,this.transformResults=n}}class Pi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Pi}static exists(t){return new Pi(void 0,t)}static updateTime(t){return new Pi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hf(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Xf{}function PT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new bg(r.key,Pi.none()):new kc(r.key,r.data,Pi.none());{const n=r.data,a=pi.empty();let l=new mn(Nn.comparator);for(let h of t.fields)if(!l.has(h)){let m=n.field(h);m===null&&h.length>1&&(h=h.popLast(),m=n.field(h)),m===null?a.delete(h):a.set(h,m),l=l.add(h)}return new to(r.key,a,new Oi(l.toArray()),Pi.none())}}function SI(r,t,n){r instanceof kc?(function(l,h,m){const v=l.value.clone(),y=oE(l.fieldTransforms,h,m.transformResults);v.setAll(y),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(r,t,n):r instanceof to?(function(l,h,m){if(!hf(l.precondition,h))return void h.convertToUnknownDocument(m.version);const v=oE(l.fieldTransforms,h,m.transformResults),y=h.data;y.setAll(kT(l)),y.setAll(v),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(r,t,n):(function(l,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,n)}function gc(r,t,n,a){return r instanceof kc?(function(h,m,v,y){if(!hf(h.precondition,m))return v;const E=h.value.clone(),S=lE(h.fieldTransforms,y,m);return E.setAll(S),m.convertToFoundDocument(m.version,E).setHasLocalMutations(),null})(r,t,n,a):r instanceof to?(function(h,m,v,y){if(!hf(h.precondition,m))return v;const E=lE(h.fieldTransforms,y,m),S=m.data;return S.setAll(kT(h)),S.setAll(E),m.convertToFoundDocument(m.version,S).setHasLocalMutations(),v===null?null:v.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(r,t,n,a):(function(h,m,v){return hf(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v})(r,t,n)}function AI(r,t){let n=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=DT(a.transform,l||null);h!=null&&(n===null&&(n=pi.empty()),n.set(a.field,h))}return n||null}function aE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&tu(a,l,((h,m)=>wI(h,m)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class kc extends Xf{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class to extends Xf{constructor(t,n,a,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function kT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}})),t}function oE(r,t,n){const a=new Map;_e(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const h=r[l],m=h.transform,v=t.data.field(h.field);a.set(h.field,bI(m,v,n[l]))}return a}function lE(r,t,n){const a=new Map;for(const l of r){const h=l.transform,m=n.data.field(l.field);a.set(l.field,EI(h,m,t))}return a}class bg extends Xf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CI extends Xf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RI{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&SI(h,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=gc(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=gc(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=IT();return this.mutations.forEach((l=>{const h=t.get(l.key),m=h.overlayedDocument;let v=this.applyToLocalView(m,h.mutatedFields);v=n.has(l.key)?null:v;const y=PT(m,v);y!==null&&a.set(l.key,y),m.isValidDocument()||m.convertToNoDocument(Bt.min())})),a}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),ae())}isEqual(t){return this.batchId===t.batchId&&tu(this.mutations,t.mutations,((n,a)=>aE(n,a)))&&tu(this.baseMutations,t.baseMutations,((n,a)=>aE(n,a)))}}class Tg{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){_e(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return pI})();const h=t.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,a[m].version);return new Tg(t,n,a,l)}}class II{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NI{constructor(t,n){this.count=t,this.unchangedNames=n}}var ln,ce;function DI(r){switch(r){case ht.OK:return zt(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return zt(15467,{code:r})}}function VT(r){if(r===void 0)return qs("GRPC error has no .code"),ht.UNKNOWN;switch(r){case ln.OK:return ht.OK;case ln.CANCELLED:return ht.CANCELLED;case ln.UNKNOWN:return ht.UNKNOWN;case ln.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case ln.INTERNAL:return ht.INTERNAL;case ln.UNAVAILABLE:return ht.UNAVAILABLE;case ln.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case ln.NOT_FOUND:return ht.NOT_FOUND;case ln.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case ln.ABORTED:return ht.ABORTED;case ln.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case ln.DATA_LOSS:return ht.DATA_LOSS;default:return zt(39323,{code:r})}}(ce=ln||(ln={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";function MI(){return new TextEncoder}const LI=new Fa([4294967295,4294967295],0);function uE(r){const t=MI().encode(r),n=new Jb;return n.update(t),new Uint8Array(n.digest())}function cE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Fa([n,a],0),new Fa([l,h],0)]}class wg{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new lc(`Invalid padding: ${n}`);if(a<0)throw new lc(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new lc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Fa.fromNumber(this.ge)}ye(t,n,a){let l=t.add(n.multiply(Fa.fromNumber(a)));return l.compare(LI)===1&&(l=new Fa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=uE(t),[a,l]=cE(n);for(let h=0;h<this.hashCount;h++){const m=this.ye(a,l,h);if(!this.we(m))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),m=new wg(h,l,n);return a.forEach((v=>m.insert(v))),m}insert(t){if(this.ge===0)return;const n=uE(t),[a,l]=cE(n);for(let h=0;h<this.hashCount;h++){const m=this.ye(a,l,h);this.Se(m)}}Se(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wf{constructor(t,n,a,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,Vc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Wf(Bt.min(),l,new He(se),Gs(),ae())}}class Vc{constructor(t,n,a,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Vc(a,n,ae(),ae(),ae())}}class ff{constructor(t,n,a,l){this.be=t,this.removedTargetIds=n,this.key=a,this.De=l}}class zT{constructor(t,n){this.targetId=t,this.Ce=n}}class UT{constructor(t,n,a=Dn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class hE{constructor(){this.ve=0,this.Fe=fE(),this.Me=Dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ae(),n=ae(),a=ae();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:zt(38017,{changeType:h})}})),new Vc(this.Me,this.xe,t,n,a)}qe(){this.Oe=!1,this.Fe=fE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Gs(),this.Je=$h(),this.He=$h(),this.Ye=new He(se)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:zt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,a=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(Dp(h))if(a===0){const m=new Ot(h.path);this.et(n,m,Bn.newNoDocument(m,Bt.min()))}else _e(a===1,20013,{expectedCount:a});else{const m=this._t(n);if(m!==a){const v=this.ut(t),y=v?this.ct(v,t,m):1;if(y!==0){this.it(n);const E=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,E)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=n;let m,v;try{m=Qa(a).toUint8Array()}catch(y){if(y instanceof cT)return $l("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{v=new wg(m,l,h)}catch(y){return $l(y instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return v.ge===0?null:v}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((h=>{const m=this.Ge.ht(),v=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.mightContain(v)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,m)=>{const v=this.ot(m);if(v){if(h.current&&Dp(v.target)){const y=new Ot(v.target.path);this.It(y).has(m)||this.Et(m,y)||this.et(m,y,Bn.newNoDocument(y,t))}h.Be&&(n.set(m,h.ke()),h.qe())}}));let a=ae();this.He.forEach(((h,m)=>{let v=!0;m.forEachWhile((y=>{const E=this.ot(y);return!E||E.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(a=a.add(h))})),this.je.forEach(((h,m)=>m.setReadTime(t)));const l=new Wf(t,n,this.Ye,this.je,a);return this.je=Gs(),this.Je=$h(),this.He=$h(),this.Ye=new He(se),l}Xe(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new hE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new mn(se),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new mn(se),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||At("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new hE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function $h(){return new He(Ot.comparator)}function fE(){return new He(Ot.comparator)}const PI={asc:"ASCENDING",desc:"DESCENDING"},kI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VI={and:"AND",or:"OR"};class zI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Op(r,t){return r.useProto3Json||Gf(t)?t:{value:t}}function If(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function UI(r,t){return If(r,t.toTimestamp())}function rs(r){return _e(!!r,49232),Bt.fromTimestamp((function(n){const a=Ka(n);return new Ne(a.seconds,a.nanos)})(r))}function xg(r,t){return Pp(r,t).canonicalString()}function Pp(r,t){const n=(function(l){return new De(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function BT(r){const t=De.fromString(r);return _e(ZT(t),10190,{key:t.toString()}),t}function kp(r,t){return xg(r.databaseId,t.path)}function up(r,t){const n=BT(t);if(n.get(1)!==r.databaseId.projectId)throw new xt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new xt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ot(FT(n))}function HT(r,t){return xg(r.databaseId,t)}function jI(r){const t=BT(r);return t.length===4?De.emptyPath():FT(t)}function Vp(r){return new De(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FT(r){return _e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function dE(r,t,n){return{name:kp(r,t),fields:n.value.mapValue.fields}}function BI(r,t){let n;if("targetChange"in t){t.targetChange;const a=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:zt(39313,{state:E})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(E,S){return E.useProto3Json?(_e(S===void 0||typeof S=="string",58123),Dn.fromBase64String(S||"")):(_e(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Dn.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),m=t.targetChange.cause,v=m&&(function(E){const S=E.code===void 0?ht.UNKNOWN:VT(E.code);return new xt(S,E.message||"")})(m);n=new UT(a,l,h,v||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=up(r,a.document.name),h=rs(a.document.updateTime),m=a.document.createTime?rs(a.document.createTime):Bt.min(),v=new pi({mapValue:{fields:a.document.fields}}),y=Bn.newFoundDocument(l,h,m,v),E=a.targetIds||[],S=a.removedTargetIds||[];n=new ff(E,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=up(r,a.document),h=a.readTime?rs(a.readTime):Bt.min(),m=Bn.newNoDocument(l,h),v=a.removedTargetIds||[];n=new ff([],v,m.key,m)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=up(r,a.document),h=a.removedTargetIds||[];n=new ff([],h,l,null)}else{if(!("filter"in t))return zt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,m=new NI(l,h),v=a.targetId;n=new zT(v,m)}}return n}function HI(r,t){let n;if(t instanceof kc)n={update:dE(r,t.key,t.value)};else if(t instanceof bg)n={delete:kp(r,t.key)};else if(t instanceof to)n={update:dE(r,t.key,t.data),updateMask:WI(t.fieldMask)};else{if(!(t instanceof CI))return zt(16599,{Vt:t.type});n={verify:kp(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((a=>(function(h,m){const v=m.transform;if(v instanceof Sc)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Ac)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Cc)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Rf)return{fieldPath:m.field.canonicalString(),increment:v.Ae};throw zt(20930,{transform:m.transform})})(0,a)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:UI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:zt(27497)})(r,t.precondition)),n}function FI(r,t){return r&&r.length>0?(_e(t!==void 0,14353),r.map((n=>(function(l,h){let m=l.updateTime?rs(l.updateTime):rs(h);return m.isEqual(Bt.min())&&(m=rs(h)),new xI(m,l.transformResults||[])})(n,t)))):[]}function qI(r,t){return{documents:[HT(r,t.path)]}}function GI(r,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=HT(r,l);const h=(function(E){if(E.length!==0)return GT(Ir.create(E,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const m=(function(E){if(E.length!==0)return E.map((S=>(function(D){return{field:Gl(D.field),direction:QI(D.dir)}})(S)))})(t.orderBy);m&&(n.structuredQuery.orderBy=m);const v=Op(r,t.limit);return v!==null&&(n.structuredQuery.limit=v),t.startAt&&(n.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(t.endAt)),{ft:n,parent:l}}function ZI(r){let t=jI(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){_e(a===1,65062);const S=n.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let h=[];n.where&&(h=(function(A){const D=qT(A);return D instanceof Ir&&ET(D)?D.getFilters():[D]})(n.where));let m=[];n.orderBy&&(m=(function(A){return A.map((D=>(function(Q){return new xc(Zl(Q.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(D)))})(n.orderBy));let v=null;n.limit&&(v=(function(A){let D;return D=typeof A=="object"?A.value:A,Gf(D)?null:D})(n.limit));let y=null;n.startAt&&(y=(function(A){const D=!!A.before,B=A.values||[];return new Cf(B,D)})(n.startAt));let E=null;return n.endAt&&(E=(function(A){const D=!A.before,B=A.values||[];return new Cf(B,D)})(n.endAt)),cI(t,l,m,h,v,"F",y,E)}function KI(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function qT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Zl(n.unaryFilter.field);return un.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Zl(n.unaryFilter.field);return un.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Zl(n.unaryFilter.field);return un.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Zl(n.unaryFilter.field);return un.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return zt(61313);default:return zt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return un.create(Zl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return zt(58110);default:return zt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ir.create(n.compositeFilter.filters.map((a=>qT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return zt(1026)}})(n.compositeFilter.op))})(r):zt(30097,{filter:r})}function QI(r){return PI[r]}function YI(r){return kI[r]}function XI(r){return VI[r]}function Gl(r){return{fieldPath:r.canonicalString()}}function Zl(r){return Nn.fromServerFormat(r.fieldPath)}function GT(r){return r instanceof un?(function(n){if(n.op==="=="){if(tE(n.value))return{unaryFilter:{field:Gl(n.field),op:"IS_NAN"}};if($0(n.value))return{unaryFilter:{field:Gl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tE(n.value))return{unaryFilter:{field:Gl(n.field),op:"IS_NOT_NAN"}};if($0(n.value))return{unaryFilter:{field:Gl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gl(n.field),op:YI(n.op),value:n.value}}})(r):r instanceof Ir?(function(n){const a=n.getFilters().map((l=>GT(l)));return a.length===1?a[0]:{compositeFilter:{op:XI(n.op),filters:a}}})(r):zt(54877,{filter:r})}function WI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function ZT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ua{constructor(t,n,a,l,h=Bt.min(),m=Bt.min(),v=Dn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v,this.expectedCount=y}withSequenceNumber(t){return new Ua(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class JI{constructor(t){this.yt=t}}function $I(r){const t=ZI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Lp(t,t.limit,"L"):t}class tN{constructor(){this.Cn=new eN}addToCollectionParentIndex(t,n){return this.Cn.add(n),mt.resolve()}getCollectionParents(t,n){return mt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return mt.resolve()}deleteFieldIndex(t,n){return mt.resolve()}deleteAllFieldIndexes(t){return mt.resolve()}createTargetIndexes(t,n){return mt.resolve()}getDocumentsMatchingTarget(t,n){return mt.resolve(null)}getIndexType(t,n){return mt.resolve(0)}getFieldIndexes(t,n){return mt.resolve([])}getNextCollectionGroupToUpdate(t){return mt.resolve(null)}getMinOffset(t,n){return mt.resolve(Za.min())}getMinOffsetFromCollectionGroup(t,n){return mt.resolve(Za.min())}updateCollectionGroup(t,n,a){return mt.resolve()}updateIndexEntries(t,n){return mt.resolve()}}class eN{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new mn(De.comparator),h=!l.has(a);return this.index[n]=l.add(a),h}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new mn(De.comparator)).toArray()}}const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KT=41943040;class mi{static withCacheSize(t){return new mi(t,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(KT,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);class iu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new iu(0)}static cr(){return new iu(-1)}}const pE="LruGarbageCollector",nN=1048576;function gE([r,t],[n,a]){const l=se(r,n);return l===0?se(t,a):l}class iN{constructor(t){this.Ir=t,this.buffer=new mn(gE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();gE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rN{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){At(pE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mu(n)?At(pE,"Ignoring IndexedDB error during garbage collection: ",n):await du(n)}await this.Vr(3e5)}))}}class sN{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(t,n){if(n===0)return mt.resolve(qf.ce);const a=new iN(n);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,n,a){return this.mr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(mE)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let a,l,h,m,v,y,E;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,m=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,v=Date.now(),this.removeTargets(t,a,n)))).next((A=>(h=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(E=Date.now(),Fl()<=re.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-S}ms
	Determined least recently used ${l} in `+(v-m)+`ms
	Removed ${h} targets in `+(y-v)+`ms
	Removed ${A} documents in `+(E-y)+`ms
Total Duration: ${E-S}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:A}))))}}function aN(r,t){return new sN(r,t)}class oN{constructor(){this.changes=new $o((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Bn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?mt.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class uN{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(a!==null&&gc(a.mutation,l,Oi.empty(),Ne.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.getLocalViewOfDocuments(t,a,ae()).next((()=>a))))}getLocalViewOfDocuments(t,n,a=ae()){const l=Fo();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,a).next((h=>{let m=oc();return h.forEach(((v,y)=>{m=m.insert(v,y.overlayedDocument)})),m}))))}getOverlayedDocuments(t,n){const a=Fo();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,ae())))}populateOverlays(t,n,a){const l=[];return a.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((m,v)=>{n.set(m,v)}))}))}computeViews(t,n,a,l){let h=Gs();const m=pc(),v=(function(){return pc()})();return n.forEach(((y,E)=>{const S=a.get(E.key);l.has(E.key)&&(S===void 0||S.mutation instanceof to)?h=h.insert(E.key,E):S!==void 0?(m.set(E.key,S.mutation.getFieldMask()),gc(S.mutation,E,S.mutation.getFieldMask(),Ne.now())):m.set(E.key,Oi.empty())})),this.recalculateAndSaveOverlays(t,h).next((y=>(y.forEach(((E,S)=>m.set(E,S))),n.forEach(((E,S)=>v.set(E,new lN(S,m.get(E)??null)))),v)))}recalculateAndSaveOverlays(t,n){const a=pc();let l=new He(((m,v)=>m-v)),h=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((m=>{for(const v of m)v.keys().forEach((y=>{const E=n.get(y);if(E===null)return;let S=a.get(y)||Oi.empty();S=v.applyToLocalView(E,S),a.set(y,S);const A=(l.get(v.batchId)||ae()).add(y);l=l.insert(v.batchId,A)}))})).next((()=>{const m=[],v=l.getReverseIterator();for(;v.hasNext();){const y=v.getNext(),E=y.key,S=y.value,A=IT();S.forEach((D=>{if(!h.has(D)){const B=PT(n.get(D),a.get(D));B!==null&&A.set(D,B),h=h.add(D)}})),m.push(this.documentOverlayCache.saveOverlays(t,E,A))}return mt.waitFor(m)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,n,a,l){return(function(m){return Ot.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):xT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next((h=>{const m=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-h.size):mt.resolve(Fo());let v=Ec,y=h;return m.next((E=>mt.forEach(E,((S,A)=>(v<A.largestBatchId&&(v=A.largestBatchId),h.get(S)?mt.resolve():this.remoteDocumentCache.getEntry(t,S).next((D=>{y=y.insert(S,D)}))))).next((()=>this.populateOverlays(t,E,h))).next((()=>this.computeViews(t,y,E,ae()))).next((S=>({batchId:v,changes:RT(S)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ot(n)).next((a=>{let l=oc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const h=n.collectionGroup;let m=oc();return this.indexManager.getCollectionParents(t,h).next((v=>mt.forEach(v,(y=>{const E=(function(A,D){return new pu(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,E,a,l).next((S=>{S.forEach(((A,D)=>{m=m.insert(A,D)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,n,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next((m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,h,l)))).next((m=>{h.forEach(((y,E)=>{const S=E.getKey();m.get(S)===null&&(m=m.insert(S,Bn.newInvalidDocument(S)))}));let v=oc();return m.forEach(((y,E)=>{const S=h.get(y);S!==void 0&&gc(S.mutation,E,Oi.empty(),Ne.now()),Qf(n,E)&&(v=v.insert(y,E))})),v}))}}class cN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return mt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:rs(l.createTime)}})(n)),mt.resolve()}getNamedQuery(t,n){return mt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:$I(l.bundledQuery),readTime:rs(l.readTime)}})(n)),mt.resolve()}}class hN{constructor(){this.overlays=new He(Ot.comparator),this.qr=new Map}getOverlay(t,n){return mt.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Fo();return mt.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,n,a){return a.forEach(((l,h)=>{this.St(t,n,h)})),mt.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),mt.resolve()}getOverlaysForCollection(t,n,a){const l=Fo(),h=n.length+1,m=new Ot(n.child("")),v=this.overlays.getIteratorFrom(m);for(;v.hasNext();){const y=v.getNext().value,E=y.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===h&&y.largestBatchId>a&&l.set(y.getKey(),y)}return mt.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let h=new He(((E,S)=>E-S));const m=this.overlays.getIterator();for(;m.hasNext();){const E=m.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>a){let S=h.get(E.largestBatchId);S===null&&(S=Fo(),h=h.insert(E.largestBatchId,S)),S.set(E.getKey(),E)}}const v=Fo(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((E,S)=>v.set(E,S))),!(v.size()>=l)););return mt.resolve(v)}St(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const m=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new II(n,a));let h=this.qr.get(n);h===void 0&&(h=ae(),this.qr.set(n,h)),this.qr.set(n,h.add(a.key))}}class fN{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(t){return mt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,mt.resolve()}}class Sg{constructor(){this.Qr=new mn(xn.$r),this.Ur=new mn(xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const a=new xn(t,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,n){t.forEach((a=>this.addReference(a,n)))}removeReference(t,n){this.Gr(new xn(t,n))}zr(t,n){t.forEach((a=>this.removeReference(a,n)))}jr(t){const n=new Ot(new De([])),a=new xn(n,t),l=new xn(n,t+1),h=[];return this.Ur.forEachInRange([a,l],(m=>{this.Gr(m),h.push(m.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Ot(new De([])),a=new xn(n,t),l=new xn(n,t+1);let h=ae();return this.Ur.forEachInRange([a,l],(m=>{h=h.add(m.key)})),h}containsKey(t){const n=new xn(t,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class xn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Ot.comparator(t.key,n.key)||se(t.Yr,n.Yr)}static Kr(t,n){return se(t.Yr,n.Yr)||Ot.comparator(t.key,n.key)}}class dN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new mn(xn.$r)}checkEmpty(t){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new RI(h,n,a,l);this.mutationQueue.push(m);for(const v of l)this.Zr=this.Zr.add(new xn(v.key,h)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return mt.resolve(m)}lookupMutationBatch(t,n){return mt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.ei(a),h=l<0?0:l;return mt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?mg:this.tr-1)}getAllMutationBatches(t){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new xn(n,0),l=new xn(n,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],(m=>{const v=this.Xr(m.Yr);h.push(v)})),mt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new mn(se);return n.forEach((l=>{const h=new xn(l,0),m=new xn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],(v=>{a=a.add(v.Yr)}))})),mt.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let h=a;Ot.isDocumentKey(h)||(h=h.child(""));const m=new xn(new Ot(h),0);let v=new mn(se);return this.Zr.forEachWhile((y=>{const E=y.key.path;return!!a.isPrefixOf(E)&&(E.length===l&&(v=v.add(y.Yr)),!0)}),m),mt.resolve(this.ti(v))}ti(t){const n=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return mt.forEach(n.mutations,(l=>{const h=new xn(l.key,n.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,n){const a=new xn(n,0),l=this.Zr.firstAfterOrEqual(a);return mt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,mt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mN{constructor(t){this.ri=t,this.docs=(function(){return new He(Ot.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),h=l?l.size:0,m=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return mt.resolve(a?a.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(t,n){let a=Gs();return n.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Bn.newInvalidDocument(l))})),mt.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let h=Gs();const m=n.path,v=new Ot(m.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(v);for(;y.hasNext();){const{key:E,value:{document:S}}=y.getNext();if(!m.isPrefixOf(E.path))break;E.path.length>m.length+1||H2(B2(S),a)<=0||(l.has(S.key)||Qf(n,S))&&(h=h.insert(S.key,S.mutableCopy()))}return mt.resolve(h)}getAllFromCollectionGroup(t,n,a,l){zt(9500)}ii(t,n){return mt.forEach(this.docs,(a=>n(a)))}newChangeBuffer(t){return new pN(this)}getSize(t){return mt.resolve(this.size)}}class pN extends oN{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),mt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class gN{constructor(t){this.persistence=t,this.si=new $o((n=>_g(n)),yg),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Sg,this.targetCount=0,this.ai=iu.ur()}forEachTarget(t,n){return this.si.forEach(((a,l)=>n(l))),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),mt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new iu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,mt.resolve()}updateTargetData(t,n){return this.Pr(n),mt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,n,a){let l=0;const h=[];return this.si.forEach(((m,v)=>{v.sequenceNumber<=n&&a.get(v.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)})),mt.waitFor(h).next((()=>l))}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,n){const a=this.si.get(n)||null;return mt.resolve(a)}addMatchingKeys(t,n,a){return this._i.Wr(n,a),mt.resolve()}removeMatchingKeys(t,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((m=>{h.push(l.markPotentiallyOrphaned(t,m))})),mt.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),mt.resolve()}getMatchingKeysForTargetId(t,n){const a=this._i.Hr(n);return mt.resolve(a)}containsKey(t,n){return mt.resolve(this._i.containsKey(n))}}class QT{constructor(t,n){this.ui={},this.overlays={},this.ci=new qf(0),this.li=!1,this.li=!0,this.hi=new fN,this.referenceDelegate=t(this),this.Pi=new gN(this),this.indexManager=new tN,this.remoteDocumentCache=(function(l){return new mN(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new JI(n),this.Ii=new cN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new hN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ui[t.toKey()];return a||(a=new dN(n,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,a){At("MemoryPersistence","Starting transaction:",t);const l=new _N(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,n){return mt.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,n))))}}class _N extends q2{constructor(t){super(),this.currentSequenceNumber=t}}class Ag{constructor(t){this.persistence=t,this.Ri=new Sg,this.Vi=null}static mi(t){return new Ag(t)}get fi(){if(this.Vi)return this.Vi;throw zt(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),mt.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),mt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),mt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.fi,(a=>{const l=Ot.fromPath(a);return this.gi(t,l).next((h=>{h||n.removeEntry(l,Bt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return mt.or([()=>mt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Nf{constructor(t,n){this.persistence=t,this.pi=new $o((a=>K2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=aN(this,n)}static mi(t,n){return new Nf(t,n)}Ei(){}di(t){return mt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>n.next((l=>a+l))))}wr(t){let n=0;return this.pr(t,(a=>{n++})).next((()=>n))}pr(t,n){return mt.forEach(this.pi,((a,l)=>this.br(t,a,l).next((h=>h?mt.resolve():n(l)))))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(m=>this.br(t,m,n).next((v=>{v||(a++,h.removeEntry(m,Bt.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),mt.resolve()}removeReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),mt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=uf(t.data.value)),n}br(t,n,a){return mt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return mt.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Cg{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Es=a,this.ds=l}static As(t,n){let a=ae(),l=ae();for(const h of n.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Cg(t,n.fromCache,a,l)}}class yN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class vN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lA()?8:G2(Hn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,l){const h={result:null};return this.ys(t,n).next((m=>{h.result=m})).next((()=>{if(!h.result)return this.ws(t,n,l,a).next((m=>{h.result=m}))})).next((()=>{if(h.result)return;const m=new yN;return this.Ss(t,n,m).next((v=>{if(h.result=v,this.Vs)return this.bs(t,n,m,v.size)}))})).next((()=>h.result))}bs(t,n,a,l){return a.documentReadCount<this.fs?(Fl()<=re.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",ql(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),mt.resolve()):(Fl()<=re.DEBUG&&At("QueryEngine","Query:",ql(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Fl()<=re.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",ql(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,is(n))):mt.resolve())}ys(t,n){if(rE(n))return mt.resolve(null);let a=is(n);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Lp(n,null,"F"),a=is(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const m=ae(...h);return this.ps.getDocuments(t,m).next((v=>this.indexManager.getMinOffset(t,a).next((y=>{const E=this.Ds(n,v);return this.Cs(n,E,m,y.readTime)?this.ys(t,Lp(n,null,"F")):this.vs(t,E,n,y)}))))})))))}ws(t,n,a,l){return rE(n)||l.isEqual(Bt.min())?mt.resolve(null):this.ps.getDocuments(t,a).next((h=>{const m=this.Ds(n,h);return this.Cs(n,m,a,l)?mt.resolve(null):(Fl()<=re.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ql(n)),this.vs(t,m,n,j2(l,Ec)).next((v=>v)))}))}Ds(t,n){let a=new mn(AT(t));return n.forEach(((l,h)=>{Qf(t,h)&&(a=a.add(h))})),a}Cs(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,n,a){return Fl()<=re.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",ql(n)),this.ps.getDocumentsMatchingQuery(t,n,Za.min(),a)}vs(t,n,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((h=>(n.forEach((m=>{h=h.insert(m.key,m)})),h)))}}const Rg="LocalStore",EN=3e8;class bN{constructor(t,n,a,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new He(se),this.xs=new $o((h=>_g(h)),yg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function TN(r,t,n,a){return new bN(r,t,n,a)}async function YT(r,t){const n=qt(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,n.Bs(t),n.mutationQueue.getAllMutationBatches(a)))).next((h=>{const m=[],v=[];let y=ae();for(const E of l){m.push(E.batchId);for(const S of E.mutations)y=y.add(S.key)}for(const E of h){v.push(E.batchId);for(const S of E.mutations)y=y.add(S.key)}return n.localDocuments.getDocuments(a,y).next((E=>({Ls:E,removedBatchIds:m,addedBatchIds:v})))}))}))}function wN(r,t){const n=qt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(v,y,E,S){const A=E.batch,D=A.keys();let B=mt.resolve();return D.forEach((Q=>{B=B.next((()=>S.getEntry(y,Q))).next((F=>{const H=E.docVersions.get(Q);_e(H!==null,48541),F.version.compareTo(H)<0&&(A.applyToRemoteDocument(F,E),F.isValidDocument()&&(F.setReadTime(E.commitVersion),S.addEntry(F)))}))})),B.next((()=>v.mutationQueue.removeMutationBatch(y,A)))})(n,a,t,h).next((()=>h.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(v){let y=ae();for(let E=0;E<v.mutationResults.length;++E)v.mutationResults[E].transformResults.length>0&&(y=y.add(v.batch.mutations[E].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function XT(r){const t=qt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function xN(r,t){const n=qt(r),a=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const m=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const v=[];t.targetChanges.forEach(((S,A)=>{const D=l.get(A);if(!D)return;v.push(n.Pi.removeMatchingKeys(h,S.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(h,S.addedDocuments,A))));let B=D.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(A)!==null?B=B.withResumeToken(Dn.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):S.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(S.resumeToken,a)),l=l.insert(A,B),(function(F,H,at){return F.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=EN?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(D,B,S)&&v.push(n.Pi.updateTargetData(h,B))}));let y=Gs(),E=ae();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&v.push(n.persistence.referenceDelegate.updateLimboDocument(h,S))})),v.push(SN(h,m,t.documentUpdates).next((S=>{y=S.ks,E=S.qs}))),!a.isEqual(Bt.min())){const S=n.Pi.getLastRemoteSnapshotVersion(h).next((A=>n.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));v.push(S)}return mt.waitFor(v).next((()=>m.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,y,E))).next((()=>y))})).then((h=>(n.Ms=l,h)))}function SN(r,t,n){let a=ae(),l=ae();return n.forEach((h=>a=a.add(h))),t.getEntries(r,a).next((h=>{let m=Gs();return n.forEach(((v,y)=>{const E=h.get(v);y.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(v)),y.isNoDocument()&&y.version.isEqual(Bt.min())?(t.removeEntry(v,y.readTime),m=m.insert(v,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||y.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(y),m=m.insert(v,y)):At(Rg,"Ignoring outdated watch update for ",v,". Current version:",E.version," Watch version:",y.version)})),{ks:m,qs:l}}))}function AN(r,t){const n=qt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=mg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function CN(r,t){const n=qt(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,t).next((h=>h?(l=h,mt.resolve(l)):n.Pi.allocateTargetId(a).next((m=>(l=new Ua(t,m,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(t,a.targetId)),a}))}async function zp(r,t,n){const a=qt(r),l=a.Ms.get(t),h=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",h,(m=>a.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!mu(m))throw m;At(Rg,`Failed to update sequence numbers for target ${t}: ${m}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function _E(r,t,n){const a=qt(r);let l=Bt.min(),h=ae();return a.persistence.runTransaction("Execute query","readwrite",(m=>(function(y,E,S){const A=qt(y),D=A.xs.get(S);return D!==void 0?mt.resolve(A.Ms.get(D)):A.Pi.getTargetData(E,S)})(a,m,is(t)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(m,v.targetId).next((y=>{h=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(m,t,n?l:Bt.min(),n?h:ae()))).next((v=>(RN(a,fI(t),v),{documents:v,Qs:h})))))}function RN(r,t,n){let a=r.Os.get(t)||Bt.min();n.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(t,a)}class yE{constructor(){this.activeTargetIds=yI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class IN{constructor(){this.Mo=new yE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,a){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new yE,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class NN{Oo(t){}shutdown(){}}const vE="ConnectivityMonitor";class EE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){At(vE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){At(vE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tf=null;function Up(){return tf===null?tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():tf++,"0x"+tf.toString(16)}const cp="RestConnection",DN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Sf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,n,a,l,h){const m=Up(),v=this.zo(t,n.toUriEncodedString());At(cp,`Sending RPC '${t}' ${m}:`,v,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,h);const{host:E}=new URL(v),S=uu(E);return this.Jo(t,v,y,a,S).then((A=>(At(cp,`Received RPC '${t}' ${m}: `,A),A)),(A=>{throw $l(cp,`RPC '${t}' ${m} failed with error: `,A,"url: ",v,"request:",a),A}))}Ho(t,n,a,l,h,m){return this.Go(t,n,a,l,h)}jo(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}zo(t,n){const a=DN[t];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class LN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Un="WebChannelConnection";class ON extends MN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,a,l,h){const m=Up();return new Promise(((v,y)=>{const E=new $b;E.setWithCredentials(!0),E.listenOnce(tT.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case lf.NO_ERROR:const A=E.getResponseJson();At(Un,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(A)),v(A);break;case lf.TIMEOUT:At(Un,`RPC '${t}' ${m} timed out`),y(new xt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const D=E.getStatus();if(At(Un,`RPC '${t}' ${m} failed with status:`,D,"response text:",E.getResponseText()),D>0){let B=E.getResponseJson();Array.isArray(B)&&(B=B[0]);const Q=B?.error;if(Q&&Q.status&&Q.message){const F=(function(at){const lt=at.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(lt)>=0?lt:ht.UNKNOWN})(Q.status);y(new xt(F,Q.message))}else y(new xt(ht.UNKNOWN,"Server responded with status "+E.getStatus()))}else y(new xt(ht.UNAVAILABLE,"Connection failed."));break;default:zt(9055,{l_:t,streamId:m,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{At(Un,`RPC '${t}' ${m} completed.`)}}));const S=JSON.stringify(l);At(Un,`RPC '${t}' ${m} sending request:`,l),E.send(n,"POST",S,a,15)}))}T_(t,n,a){const l=Up(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=iT(),v=nT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const S=h.join("");At(Un,`Creating RPC '${t}' stream ${l}: ${S}`,y);const A=m.createWebChannel(S,y);this.I_(A);let D=!1,B=!1;const Q=new LN({Yo:H=>{B?At(Un,`Not sending because RPC '${t}' stream ${l} is closed:`,H):(D||(At(Un,`Opening RPC '${t}' stream ${l} transport.`),A.open(),D=!0),At(Un,`RPC '${t}' stream ${l} sending:`,H),A.send(H))},Zo:()=>A.close()}),F=(H,at,lt)=>{H.listen(at,(st=>{try{lt(st)}catch(Rt){setTimeout((()=>{throw Rt}),0)}}))};return F(A,ac.EventType.OPEN,(()=>{B||(At(Un,`RPC '${t}' stream ${l} transport opened.`),Q.o_())})),F(A,ac.EventType.CLOSE,(()=>{B||(B=!0,At(Un,`RPC '${t}' stream ${l} transport closed`),Q.a_(),this.E_(A))})),F(A,ac.EventType.ERROR,(H=>{B||(B=!0,$l(Un,`RPC '${t}' stream ${l} transport errored. Name:`,H.name,"Message:",H.message),Q.a_(new xt(ht.UNAVAILABLE,"The operation could not be completed")))})),F(A,ac.EventType.MESSAGE,(H=>{if(!B){const at=H.data[0];_e(!!at,16349);const lt=at,st=lt?.error||lt[0]?.error;if(st){At(Un,`RPC '${t}' stream ${l} received error:`,st);const Rt=st.status;let Dt=(function(M){const P=ln[M];if(P!==void 0)return VT(P)})(Rt),Vt=st.message;Dt===void 0&&(Dt=ht.INTERNAL,Vt="Unknown error status: "+Rt+" with message "+st.message),B=!0,Q.a_(new xt(Dt,Vt)),A.close()}else At(Un,`RPC '${t}' stream ${l} received:`,at),Q.u_(at)}})),F(v,eT.STAT_EVENT,(H=>{H.stat===Ap.PROXY?At(Un,`RPC '${t}' stream ${l} detected buffering proxy`):H.stat===Ap.NOPROXY&&At(Un,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function hp(){return typeof document<"u"?document:null}function Jf(r){return new zI(r,!0)}class WT{constructor(t,n,a=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&At("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const bE="PersistentStream";class JT{constructor(t,n,a,l,h,m,v,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=v,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{t((()=>{const l=new xt(ht.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,n){const a=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return At(bE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(At(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PN extends JT{constructor(t,n,a,l,h,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,m),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=BI(this.serializer,t),a=(function(h){if(!("targetChange"in h))return Bt.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Bt.min():m.readTime?rs(m.readTime):Bt.min()})(t);return this.listener.H_(n,a)}Y_(t){const n={};n.database=Vp(this.serializer),n.addTarget=(function(h,m){let v;const y=m.target;if(v=Dp(y)?{documents:qI(h,y)}:{query:GI(h,y).ft},v.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){v.resumeToken=jT(h,m.resumeToken);const E=Op(h,m.expectedCount);E!==null&&(v.expectedCount=E)}else if(m.snapshotVersion.compareTo(Bt.min())>0){v.readTime=If(h,m.snapshotVersion.toTimestamp());const E=Op(h,m.expectedCount);E!==null&&(v.expectedCount=E)}return v})(this.serializer,t);const a=KI(this.serializer,t);a&&(n.labels=a),this.q_(n)}Z_(t){const n={};n.database=Vp(this.serializer),n.removeTarget=t,this.q_(n)}}class kN extends JT{constructor(t,n,a,l,h,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=FI(t.writeResults,t.commitTime),a=rs(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=Vp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((a=>HI(this.serializer,a)))};this.q_(n)}}class VN{}class zN extends VN{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new xt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Go(t,Pp(n,a),l,h,m))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new xt(ht.UNKNOWN,h.toString())}))}Ho(t,n,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,v])=>this.connection.Ho(t,Pp(n,a),l,m,v,h))).catch((m=>{throw m.name==="FirebaseError"?(m.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new xt(ht.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qs(n),this.aa=!1):At("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wo="RemoteStore";class jN{constructor(t,n,a,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((m=>{a.enqueueAndForget((async()=>{tl(this)&&(At(Wo,"Restarting streams for network reachability change."),await(async function(y){const E=qt(y);E.Ea.add(4),await zc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await $f(E)})(this))}))})),this.Ra=new UN(a,l)}}async function $f(r){if(tl(r))for(const t of r.da)await t(!0)}async function zc(r){for(const t of r.da)await t(!1)}function $T(r,t){const n=qt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Mg(n)?Dg(n):gu(n).O_()&&Ng(n,t))}function Ig(r,t){const n=qt(r),a=gu(n);n.Ia.delete(t),a.O_()&&tw(n,t),n.Ia.size===0&&(a.O_()?a.L_():tl(n)&&n.Ra.set("Unknown"))}function Ng(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gu(r).Y_(t)}function tw(r,t){r.Va.Ue(t),gu(r).Z_(t)}function Dg(r){r.Va=new OI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),gu(r).start(),r.Ra.ua()}function Mg(r){return tl(r)&&!gu(r).x_()&&r.Ia.size>0}function tl(r){return qt(r).Ea.size===0}function ew(r){r.Va=void 0}async function BN(r){r.Ra.set("Online")}async function HN(r){r.Ia.forEach(((t,n)=>{Ng(r,t)}))}async function FN(r,t){ew(r),Mg(r)?(r.Ra.ha(t),Dg(r)):r.Ra.set("Unknown")}async function qN(r,t,n){if(r.Ra.set("Online"),t instanceof UT&&t.state===2&&t.cause)try{await(async function(l,h){const m=h.cause;for(const v of h.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,m),l.Ia.delete(v),l.Va.removeTarget(v))})(r,t)}catch(a){At(Wo,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Df(r,a)}else if(t instanceof ff?r.Va.Ze(t):t instanceof zT?r.Va.st(t):r.Va.tt(t),!n.isEqual(Bt.min()))try{const a=await XT(r.localStore);n.compareTo(a)>=0&&await(function(h,m){const v=h.Va.Tt(m);return v.targetChanges.forEach(((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const S=h.Ia.get(E);S&&h.Ia.set(E,S.withResumeToken(y.resumeToken,m))}})),v.targetMismatches.forEach(((y,E)=>{const S=h.Ia.get(y);if(!S)return;h.Ia.set(y,S.withResumeToken(Dn.EMPTY_BYTE_STRING,S.snapshotVersion)),tw(h,y);const A=new Ua(S.target,y,E,S.sequenceNumber);Ng(h,A)})),h.remoteSyncer.applyRemoteEvent(v)})(r,n)}catch(a){At(Wo,"Failed to raise snapshot:",a),await Df(r,a)}}async function Df(r,t,n){if(!mu(t))throw t;r.Ea.add(1),await zc(r),r.Ra.set("Offline"),n||(n=()=>XT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{At(Wo,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await $f(r)}))}function nw(r,t){return t().catch((n=>Df(r,n,t)))}async function td(r){const t=qt(r),n=Xa(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:mg;for(;GN(t);)try{const l=await AN(t.localStore,a);if(l===null){t.Ta.length===0&&n.L_();break}a=l.batchId,ZN(t,l)}catch(l){await Df(t,l)}iw(t)&&rw(t)}function GN(r){return tl(r)&&r.Ta.length<10}function ZN(r,t){r.Ta.push(t);const n=Xa(r);n.O_()&&n.X_&&n.ea(t.mutations)}function iw(r){return tl(r)&&!Xa(r).x_()&&r.Ta.length>0}function rw(r){Xa(r).start()}async function KN(r){Xa(r).ra()}async function QN(r){const t=Xa(r);for(const n of r.Ta)t.ea(n.mutations)}async function YN(r,t,n){const a=r.Ta.shift(),l=Tg.from(a,t,n);await nw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await td(r)}async function XN(r,t){t&&Xa(r).X_&&await(async function(a,l){if((function(m){return DI(m)&&m!==ht.ABORTED})(l.code)){const h=a.Ta.shift();Xa(a).B_(),await nw(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await td(a)}})(r,t),iw(r)&&rw(r)}async function TE(r,t){const n=qt(r);n.asyncQueue.verifyOperationInProgress(),At(Wo,"RemoteStore received new credentials");const a=tl(n);n.Ea.add(3),await zc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await $f(n)}async function WN(r,t){const n=qt(r);t?(n.Ea.delete(2),await $f(n)):t||(n.Ea.add(2),await zc(n),n.Ra.set("Unknown"))}function gu(r){return r.ma||(r.ma=(function(n,a,l){const h=qt(n);return h.sa(),new PN(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:BN.bind(null,r),t_:HN.bind(null,r),r_:FN.bind(null,r),H_:qN.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Mg(r)?Dg(r):r.Ra.set("Unknown")):(await r.ma.stop(),ew(r))}))),r.ma}function Xa(r){return r.fa||(r.fa=(function(n,a,l){const h=qt(n);return h.sa(),new kN(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KN.bind(null,r),r_:XN.bind(null,r),ta:QN.bind(null,r),na:YN.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await td(r)):(await r.fa.stop(),r.Ta.length>0&&(At(Wo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Lg{constructor(t,n,a,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,h){const m=Date.now()+a,v=new Lg(t,n,m,l,h);return v.start(a),v}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(r,t){if(qs("AsyncQueue",`${t}: ${r}`),mu(r))return new xt(ht.UNAVAILABLE,`${t}: ${r}`);throw r}class Xl{static emptySet(t){return new Xl(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Ot.comparator(n.key,a.key):(n,a)=>Ot.comparator(n.key,a.key),this.keyedMap=oc(),this.sortedSet=new He(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,a)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Xl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new Xl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}class wE{constructor(){this.ga=new He(Ot.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):zt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,a)=>{t.push(a)})),t}}class ru{constructor(t,n,a,l,h,m,v,y,E){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(t,n,a,l,h){const m=[];return n.forEach((v=>{m.push({type:0,doc:v})})),new ru(t,n,Xl.emptySet(n),m,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class JN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class $N{constructor(){this.queries=xE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=qt(n),h=l.queries;l.queries=xE(),h.forEach(((m,v)=>{for(const y of v.Sa)y.onError(a)}))})(this,new xt(ht.ABORTED,"Firestore shutting down"))}}function xE(){return new $o((r=>ST(r)),Kf)}async function sw(r,t){const n=qt(r);let a=3;const l=t.query;let h=n.queries.get(l);h?!h.ba()&&t.Da()&&(a=2):(h=new JN,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(m){const v=Og(m,`Initialization of query '${ql(t.query)}' failed`);return void t.onError(v)}n.queries.set(l,h),h.Sa.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&Pg(n)}async function aw(r,t){const n=qt(r),a=t.query;let l=3;const h=n.queries.get(a);if(h){const m=h.Sa.indexOf(t);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function tD(r,t){const n=qt(r);let a=!1;for(const l of t){const h=l.query,m=n.queries.get(h);if(m){for(const v of m.Sa)v.Fa(l)&&(a=!0);m.wa=l}}a&&Pg(n)}function eD(r,t,n){const a=qt(r),l=a.queries.get(t);if(l)for(const h of l.Sa)h.onError(n);a.queries.delete(t)}function Pg(r){r.Ca.forEach((t=>{t.next()}))}var jp,SE;(SE=jp||(jp={})).Ma="default",SE.Cache="cache";class ow{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ru(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ru.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==jp.Cache}}class lw{constructor(t){this.key=t}}class uw{constructor(t){this.key=t}}class nD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=AT(t),this.tu=new Xl(this.eu)}get nu(){return this.Ya}ru(t,n){const a=n?n.iu:new wE,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,m=l,v=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,A)=>{const D=l.get(S),B=Qf(this.query,A)?A:null,Q=!!D&&this.mutatedKeys.has(D.key),F=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let H=!1;D&&B?D.data.isEqual(B.data)?Q!==F&&(a.track({type:3,doc:B}),H=!0):this.su(D,B)||(a.track({type:2,doc:B}),H=!0,(y&&this.eu(B,y)>0||E&&this.eu(B,E)<0)&&(v=!0)):!D&&B?(a.track({type:0,doc:B}),H=!0):D&&!B&&(a.track({type:1,doc:D}),H=!0,(y||E)&&(v=!0)),H&&(B?(m=m.add(B),h=F?h.add(S):h.delete(S)):(m=m.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const S=this.query.limitType==="F"?m.last():m.first();m=m.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{tu:m,iu:a,Cs:v,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const m=t.iu.ya();m.sort(((S,A)=>(function(B,Q){const F=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt(20277,{Rt:H})}};return F(B)-F(Q)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const v=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,E=y!==this.Za;return this.Za=y,m.length!==0||E?{snapshot:new ru(this.query,t.tu,h,m,t.mutatedKeys,y===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ae(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return t.forEach((a=>{this.Xa.has(a)||n.push(new uw(a))})),this.Xa.forEach((a=>{t.has(a)||n.push(new lw(a))})),n}cu(t){this.Ya=t.Qs,this.Xa=ae();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ru.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kg="SyncEngine";class iD{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class rD{constructor(t){this.key=t,this.hu=!1}}class sD{constructor(t,n,a,l,h,m){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new $o((v=>ST(v)),Kf),this.Iu=new Map,this.Eu=new Set,this.du=new He(Ot.comparator),this.Au=new Map,this.Ru=new Sg,this.Vu={},this.mu=new Map,this.fu=iu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aD(r,t,n=!0){const a=pw(r);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await cw(a,t,n,!0),l}async function oD(r,t){const n=pw(r);await cw(n,t,!0,!1)}async function cw(r,t,n,a){const l=await CN(r.localStore,is(t)),h=l.targetId,m=r.sharedClientState.addLocalQueryTarget(h,n);let v;return a&&(v=await lD(r,t,h,m==="current",l.resumeToken)),r.isPrimaryClient&&n&&$T(r.remoteStore,l),v}async function lD(r,t,n,a,l){r.pu=(A,D,B)=>(async function(F,H,at,lt){let st=H.view.ru(at);st.Cs&&(st=await _E(F.localStore,H.query,!1).then((({documents:V})=>H.view.ru(V,st))));const Rt=lt&&lt.targetChanges.get(H.targetId),Dt=lt&&lt.targetMismatches.get(H.targetId)!=null,Vt=H.view.applyChanges(st,F.isPrimaryClient,Rt,Dt);return CE(F,H.targetId,Vt.au),Vt.snapshot})(r,A,D,B);const h=await _E(r.localStore,t,!0),m=new nD(t,h.Qs),v=m.ru(h.documents),y=Vc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),E=m.applyChanges(v,r.isPrimaryClient,y);CE(r,n,E.au);const S=new iD(t,n,m);return r.Tu.set(t,S),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),E.snapshot}async function uD(r,t,n){const a=qt(r),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((m=>!Kf(m,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await zp(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Ig(a.remoteStore,l.targetId),Bp(a,l.targetId)})).catch(du)):(Bp(a,l.targetId),await zp(a.localStore,l.targetId,!0))}async function cD(r,t){const n=qt(r),a=n.Tu.get(t),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Ig(n.remoteStore,a.targetId))}async function hD(r,t,n){const a=yD(r);try{const l=await(function(m,v){const y=qt(m),E=Ne.now(),S=v.reduce(((B,Q)=>B.add(Q.key)),ae());let A,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Q=Gs(),F=ae();return y.Ns.getEntries(B,S).next((H=>{Q=H,Q.forEach(((at,lt)=>{lt.isValidDocument()||(F=F.add(at))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,Q))).next((H=>{A=H;const at=[];for(const lt of v){const st=AI(lt,A.get(lt.key).overlayedDocument);st!=null&&at.push(new to(lt.key,st,_T(st.value.mapValue),Pi.exists(!0)))}return y.mutationQueue.addMutationBatch(B,E,at,v)})).next((H=>{D=H;const at=H.applyToLocalDocumentSet(A,F);return y.documentOverlayCache.saveOverlays(B,H.batchId,at)}))})).then((()=>({batchId:D.batchId,changes:RT(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(m,v,y){let E=m.Vu[m.currentUser.toKey()];E||(E=new He(se)),E=E.insert(v,y),m.Vu[m.currentUser.toKey()]=E})(a,l.batchId,n),await Uc(a,l.changes),await td(a.remoteStore)}catch(l){const h=Og(l,"Failed to persist write");n.reject(h)}}async function hw(r,t){const n=qt(r);try{const a=await xN(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const m=n.Au.get(h);m&&(_e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.hu=!0:l.modifiedDocuments.size>0?_e(m.hu,14607):l.removedDocuments.size>0&&(_e(m.hu,42227),m.hu=!1))})),await Uc(n,a,t)}catch(a){await du(a)}}function AE(r,t,n){const a=qt(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((h,m)=>{const v=m.view.va(t);v.snapshot&&l.push(v.snapshot)})),(function(m,v){const y=qt(m);y.onlineState=v;let E=!1;y.queries.forEach(((S,A)=>{for(const D of A.Sa)D.va(v)&&(E=!0)})),E&&Pg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function fD(r,t,n){const a=qt(r);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Au.get(t),h=l&&l.key;if(h){let m=new He(Ot.comparator);m=m.insert(h,Bn.newNoDocument(h,Bt.min()));const v=ae().add(h),y=new Wf(Bt.min(),new Map,new He(se),m,v);await hw(a,y),a.du=a.du.remove(h),a.Au.delete(t),Vg(a)}else await zp(a.localStore,t,!1).then((()=>Bp(a,t,n))).catch(du)}async function dD(r,t){const n=qt(r),a=t.batch.batchId;try{const l=await wN(n.localStore,t);dw(n,a,null),fw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Uc(n,l)}catch(l){await du(l)}}async function mD(r,t,n){const a=qt(r);try{const l=await(function(m,v){const y=qt(m);return y.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let S;return y.mutationQueue.lookupMutationBatch(E,v).next((A=>(_e(A!==null,37113),S=A.keys(),y.mutationQueue.removeMutationBatch(E,A)))).next((()=>y.mutationQueue.performConsistencyCheck(E))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(E,S,v))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,S))).next((()=>y.localDocuments.getDocuments(E,S)))}))})(a.localStore,t);dw(a,t,n),fw(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Uc(a,l)}catch(l){await du(l)}}function fw(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function dw(r,t,n){const a=qt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Bp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||mw(r,a)}))}function mw(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Ig(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Vg(r))}function CE(r,t,n){for(const a of n)a instanceof lw?(r.Ru.addReference(a.key,t),pD(r,a)):a instanceof uw?(At(kg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||mw(r,a.key)):zt(19791,{wu:a})}function pD(r,t){const n=t.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(At(kg,"New document in limbo: "+n),r.Eu.add(a),Vg(r))}function Vg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new Ot(De.fromString(t)),a=r.fu.next();r.Au.set(a,new rD(n)),r.du=r.du.insert(n,a),$T(r.remoteStore,new Ua(is(vg(n.path)),a,"TargetPurposeLimboResolution",qf.ce))}}async function Uc(r,t,n){const a=qt(r),l=[],h=[],m=[];a.Tu.isEmpty()||(a.Tu.forEach(((v,y)=>{m.push(a.pu(y,t,n).then((E=>{if((E||n)&&a.isPrimaryClient){const S=E?!E.fromCache:n?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(E){l.push(E);const S=Cg.As(y.targetId,E);h.push(S)}})))})),await Promise.all(m),a.Pu.H_(l),await(async function(y,E){const S=qt(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>mt.forEach(E,(D=>mt.forEach(D.Es,(B=>S.persistence.referenceDelegate.addReference(A,D.targetId,B))).next((()=>mt.forEach(D.ds,(B=>S.persistence.referenceDelegate.removeReference(A,D.targetId,B)))))))))}catch(A){if(!mu(A))throw A;At(Rg,"Failed to update sequence numbers: "+A)}for(const A of E){const D=A.targetId;if(!A.fromCache){const B=S.Ms.get(D),Q=B.snapshotVersion,F=B.withLastLimboFreeSnapshotVersion(Q);S.Ms=S.Ms.insert(D,F)}}})(a.localStore,h))}async function gD(r,t){const n=qt(r);if(!n.currentUser.isEqual(t)){At(kg,"User change. New user:",t.toKey());const a=await YT(n.localStore,t);n.currentUser=t,(function(h,m){h.mu.forEach((v=>{v.forEach((y=>{y.reject(new xt(ht.CANCELLED,m))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Uc(n,a.Ls)}}function _D(r,t){const n=qt(r),a=n.Au.get(t);if(a&&a.hu)return ae().add(a.key);{let l=ae();const h=n.Iu.get(t);if(!h)return l;for(const m of h){const v=n.Tu.get(m);l=l.unionWith(v.view.nu)}return l}}function pw(r){const t=qt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=hw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_D.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fD.bind(null,t),t.Pu.H_=tD.bind(null,t.eventManager),t.Pu.yu=eD.bind(null,t.eventManager),t}function yD(r){const t=qt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mD.bind(null,t),t}class Mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Jf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return TN(this.persistence,new vN,t.initialUser,this.serializer)}Cu(t){return new QT(Ag.mi,this.serializer)}Du(t){return new IN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mf.provider={build:()=>new Mf};class vD extends Mf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){_e(this.persistence.referenceDelegate instanceof Nf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new rN(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new QT((a=>Nf.mi(a,n)),this.serializer)}}class Hp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>AE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=gD.bind(null,this.syncEngine),await WN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new $N})()}createDatastore(t){const n=Jf(t.databaseInfo.databaseId),a=(function(h){return new ON(h)})(t.databaseInfo);return(function(h,m,v,y){return new zN(h,m,v,y)})(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return(function(a,l,h,m,v){return new jN(a,l,h,m,v)})(this.localStore,this.datastore,t.asyncQueue,(n=>AE(this.syncEngine,n,0)),(function(){return EE.v()?new EE:new NN})())}createSyncEngine(t,n){return(function(l,h,m,v,y,E,S){const A=new sD(l,h,m,v,y,E);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=qt(n);At(Wo,"RemoteStore shutting down."),a.Ea.add(5),await zc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hp.provider={build:()=>new Hp};class gw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):qs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Wa="FirestoreClient";class ED{constructor(t,n,a,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=jn.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async m=>{At(Wa,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(a,(m=>(At(Wa,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=Og(n,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function fp(r,t){r.asyncQueue.verifyOperationInProgress(),At(Wa,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await YT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function RE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await bD(r);At(Wa,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((a=>TE(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>TE(t.remoteStore,l))),r._onlineComponents=t}async function bD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){At(Wa,"Using user provided OfflineComponentProvider");try{await fp(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ht.FAILED_PRECONDITION||l.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;$l("Error using user provided cache. Falling back to memory cache: "+n),await fp(r,new Mf)}}else At(Wa,"Using default OfflineComponentProvider"),await fp(r,new vD(void 0));return r._offlineComponents}async function _w(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(At(Wa,"Using user provided OnlineComponentProvider"),await RE(r,r._uninitializedComponentsProvider._online)):(At(Wa,"Using default OnlineComponentProvider"),await RE(r,new Hp))),r._onlineComponents}function TD(r){return _w(r).then((t=>t.syncEngine))}async function Fp(r){const t=await _w(r),n=t.eventManager;return n.onListen=aD.bind(null,t.syncEngine),n.onUnlisten=uD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=oD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=cD.bind(null,t.syncEngine),n}function wD(r,t,n={}){const a=new qa;return r.asyncQueue.enqueueAndForget((async()=>(function(h,m,v,y,E){const S=new gw({next:D=>{S.Nu(),m.enqueueAndForget((()=>aw(h,A))),D.fromCache&&y.source==="server"?E.reject(new xt(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(D)},error:D=>E.reject(D)}),A=new ow(v,S,{includeMetadataChanges:!0,qa:!0});return sw(h,A)})(await Fp(r),r.asyncQueue,t,n,a))),a.promise}function yw(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const IE=new Map;const vw="firestore.googleapis.com",NE=!0;class DE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new xt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vw,this.ssl=NE}else this.host=t.host,this.ssl=t.ssl??NE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=KT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nN)throw new xt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}U2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yw(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ed{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new xt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new I2;switch(a.type){case"firstParty":return new L2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new xt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=IE.get(n);a&&(At("ComponentProvider","Removing Datastore"),IE.delete(n),a.terminate())})(this),Promise.resolve()}}function xD(r,t,n,a={}){r=ns(r,ed);const l=uu(t),h=r._getSettings(),m={...h,emulatorOptions:r._getEmulatorOptions()},v=`${t}:${n}`;l&&(mb(`https://${v}`),pb("Firestore",!0)),h.host!==vw&&h.host!==v&&$l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:v,ssl:l,emulatorOptions:a};if(!Ko(y,m)&&(r._setSettings(y),a.mockUserToken)){let E,S;if(typeof a.mockUserToken=="string")E=a.mockUserToken,S=jn.MOCK_USER;else{E=$S(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new xt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new jn(A)}r._authCredentials=new N2(new sT(E,S))}}class eo{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new eo(this.firestore,t,this._query)}}class hn{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Pc(n,hn._jsonSchema))return new hn(t,a||null,new Ot(De.fromString(n.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:cn("string",hn._jsonSchemaVersion),referencePath:cn("string")};class Ga extends eo{constructor(t,n,a){super(t,n,vg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new Ot(t))}withConverter(t){return new Ga(this.firestore,t,this._path)}}function Ja(r,t,...n){if(r=pn(r),aT("collection","path",t),r instanceof ed){const a=De.fromString(t,...n);return q0(a),new Ga(r,null,a)}{if(!(r instanceof hn||r instanceof Ga))throw new xt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(De.fromString(t,...n));return q0(a),new Ga(r.firestore,null,a)}}function Lf(r,t,...n){if(r=pn(r),arguments.length===1&&(t=dg.newId()),aT("doc","path",t),r instanceof ed){const a=De.fromString(t,...n);return F0(a),new hn(r,null,new Ot(a))}{if(!(r instanceof hn||r instanceof Ga))throw new xt(ht.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(De.fromString(t,...n));return F0(a),new hn(r.firestore,r instanceof Ga?r.converter:null,new Ot(a))}}const ME="AsyncQueue";class LE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WT(this,"async_queue_retry"),this._c=()=>{const a=hp();a&&At(ME,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=hp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mu(t))throw t;At(ME,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,qs("INTERNAL UNHANDLED ERROR: ",OE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Lg.createAndSchedule(this,t,n,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&zt(47125,{Pc:OE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function OE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function PE(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1})(r,["next","error","complete"])}class Jo extends ed{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new LE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new LE(t),this._firestoreClient=void 0,await t}}}function SD(r,t){const n=typeof r=="object"?r:vb(),a=typeof r=="string"?r:Sf,l=eg(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=WS("firestore");h&&xD(l,...h)}return l}function nd(r){if(r._terminated)throw new xt(ht.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AD(r),r._firestoreClient}function AD(r){const t=r._freezeSettings(),n=(function(l,h,m,v){return new X2(l,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,yw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new ED(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}class ar{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ar(Dn.fromBase64String(t))}catch(n){throw new xt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ar(Dn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pc(t,ar._jsonSchema))return ar.fromBase64String(t.bytes)}}ar._jsonSchemaVersion="firestore/bytes/1.0",ar._jsonSchema={type:cn("string",ar._jsonSchemaVersion),bytes:cn("string")};class id{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new xt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rd{constructor(t){this._methodName=t}}class ss{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new xt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return se(this._lat,t._lat)||se(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(t){if(Pc(t,ss._jsonSchema))return new ss(t.latitude,t.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:cn("string",ss._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};class as{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:as._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pc(t,as._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new as(t.vectorValues);throw new xt(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}as._jsonSchemaVersion="firestore/vectorValue/1.0",as._jsonSchema={type:cn("string",as._jsonSchemaVersion),vectorValues:cn("object")};const CD=/^__.*__$/;class RD{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new to(t,this.data,this.fieldMask,n,this.fieldTransforms):new kc(t,this.data,n,this.fieldTransforms)}}class Ew{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new to(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function bw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt(40011,{Ac:r})}}class zg{constructor(t,n,a,l,h,m){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new zg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.gc(t),a}yc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Of(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(bw(this.Ac)&&CD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ID{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Jf(t)}Cc(t,n,a,l=!1){return new zg({Ac:t,methodName:n,Dc:a,path:Nn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sd(r){const t=r._freezeSettings(),n=Jf(r._databaseId);return new ID(r._databaseId,!!t.ignoreUndefinedProperties,n)}function Ug(r,t,n,a,l,h={}){const m=r.Cc(h.merge||h.mergeFields?2:0,t,n,l);Bg("Data must be an object, but it was:",m,a);const v=Tw(a,m);let y,E;if(h.merge)y=new Oi(m.fieldMask),E=m.fieldTransforms;else if(h.mergeFields){const S=[];for(const A of h.mergeFields){const D=qp(t,A,n);if(!m.contains(D))throw new xt(ht.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);xw(S,D)||S.push(D)}y=new Oi(S),E=m.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,E=m.fieldTransforms;return new RD(new pi(v),y,E)}class ad extends rd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ad}}class jg extends rd{_toFieldTransform(t){return new TI(t.path,new Sc)}isEqual(t){return t instanceof jg}}function ND(r,t,n,a){const l=r.Cc(1,t,n);Bg("Data must be an object, but it was:",l,a);const h=[],m=pi.empty();$a(a,((y,E)=>{const S=Hg(t,y,n);E=pn(E);const A=l.yc(S);if(E instanceof ad)h.push(S);else{const D=jc(E,A);D!=null&&(h.push(S),m.set(S,D))}}));const v=new Oi(h);return new Ew(m,v,l.fieldTransforms)}function DD(r,t,n,a,l,h){const m=r.Cc(1,t,n),v=[qp(t,a,n)],y=[l];if(h.length%2!=0)throw new xt(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)v.push(qp(t,h[D])),y.push(h[D+1]);const E=[],S=pi.empty();for(let D=v.length-1;D>=0;--D)if(!xw(E,v[D])){const B=v[D];let Q=y[D];Q=pn(Q);const F=m.yc(B);if(Q instanceof ad)E.push(B);else{const H=jc(Q,F);H!=null&&(E.push(B),S.set(B,H))}}const A=new Oi(E);return new Ew(S,A,m.fieldTransforms)}function MD(r,t,n,a=!1){return jc(n,r.Cc(a?4:3,t))}function jc(r,t){if(ww(r=pn(r)))return Bg("Unsupported field value:",t,r),Tw(r,t);if(r instanceof rd)return(function(a,l){if(!bw(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const h=[];let m=0;for(const v of a){let y=jc(v,l.wc(m));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),m++}return{arrayValue:{values:h}}})(r,t)}return(function(a,l){if((a=pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return vI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Ne.fromDate(a);return{timestampValue:If(l.serializer,h)}}if(a instanceof Ne){const h=new Ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:If(l.serializer,h)}}if(a instanceof ss)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ar)return{bytesValue:jT(l.serializer,a._byteString)};if(a instanceof hn){const h=l.databaseId,m=a.firestore._databaseId;if(!m.isEqual(h))throw l.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:xg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof as)return(function(m,v){return{mapValue:{fields:{[pT]:{stringValue:gT},[Af]:{arrayValue:{values:m.toArray().map((E=>{if(typeof E!="number")throw v.Sc("VectorValues must only contain numeric values.");return Eg(v.serializer,E)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Ff(a)}`)})(r,t)}function Tw(r,t){const n={};return uT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$a(r,((a,l)=>{const h=jc(l,t.mc(a));h!=null&&(n[a]=h)})),{mapValue:{fields:n}}}function ww(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ne||r instanceof ss||r instanceof ar||r instanceof hn||r instanceof rd||r instanceof as)}function Bg(r,t,n){if(!ww(n)||!oT(n)){const a=Ff(n);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function qp(r,t,n){if((t=pn(t))instanceof id)return t._internalPath;if(typeof t=="string")return Hg(r,t);throw Of("Field path arguments must be of type string or ",r,!1,void 0,n)}const LD=new RegExp("[~\\*/\\[\\]]");function Hg(r,t,n){if(t.search(LD)>=0)throw Of(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new id(...t.split("."))._internalPath}catch{throw Of(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Of(r,t,n,a,l){const h=a&&!a.isEmpty(),m=l!==void 0;let v=`Function ${t}() called with invalid data`;n&&(v+=" (via `toFirestore()`)"),v+=". ";let y="";return(h||m)&&(y+=" (found",h&&(y+=` in field ${a}`),m&&(y+=` in document ${l}`),y+=")"),new xt(ht.INVALID_ARGUMENT,v+r+y)}function xw(r,t){return r.some((n=>n.isEqual(t)))}class Sw{constructor(t,n,a,l,h){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new OD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(od("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OD extends Sw{data(){return super.data()}}function od(r,t){return typeof t=="string"?Hg(r,t):t instanceof id?t._internalPath:t._delegate._internalPath}function Aw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new xt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fg{}class Cw extends Fg{}function Pf(r,t,...n){let a=[];t instanceof Fg&&a.push(t),a=a.concat(n),(function(h){const m=h.filter((y=>y instanceof qg)).length,v=h.filter((y=>y instanceof ld)).length;if(m>1||m>0&&v>0)throw new xt(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class ld extends Cw{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new ld(t,n,a)}_apply(t){const n=this._parse(t);return Rw(t._query,n),new eo(t.firestore,t.converter,Mp(t._query,n))}_parse(t){const n=sd(t.firestore);return(function(h,m,v,y,E,S,A){let D;if(E.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new xt(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){VE(A,S);const Q=[];for(const F of A)Q.push(kE(y,h,F));D={arrayValue:{values:Q}}}else D=kE(y,h,A)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||VE(A,S),D=MD(v,m,A,S==="in"||S==="not-in");return un.create(E,S,D)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function kf(r,t,n){const a=t,l=od("where",r);return ld._create(l,a,n)}class qg extends Fg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new qg(t,n)}_parse(t){const n=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let m=l;const v=h.getFlattenedFilters();for(const y of v)Rw(m,y),m=Mp(m,y)})(t._query,n),new eo(t.firestore,t.converter,Mp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gg extends Cw{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Gg(t,n)}_apply(t){const n=(function(l,h,m){if(l.startAt!==null)throw new xt(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new xt(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xc(h,m)})(t._query,this._field,this._direction);return new eo(t.firestore,t.converter,(function(l,h){const m=l.explicitOrderBy.concat([h]);return new pu(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function PD(r,t="asc"){const n=t,a=od("orderBy",r);return Gg._create(a,n)}function kE(r,t,n){if(typeof(n=pn(n))=="string"){if(n==="")throw new xt(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xT(t)&&n.indexOf("/")!==-1)throw new xt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(De.fromString(n));if(!Ot.isDocumentKey(a))throw new xt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return J0(r,new Ot(a))}if(n instanceof hn)return J0(r,n._key);throw new xt(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(n)}.`)}function VE(r,t){if(!Array.isArray(r)||r.length===0)throw new xt(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Rw(r,t){const n=(function(l,h){for(const m of l)for(const v of m.getFlattenedFilters())if(h.indexOf(v.op)>=0)return v.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new xt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new xt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class kD{convertValue(t,n="none"){switch(Ya(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw zt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return $a(t,((l,h)=>{a[l]=this.convertValue(h,n)})),a}convertVectorValue(t){const n=t.fields?.[Af].arrayValue?.values?.map((a=>tn(a.doubleValue)));return new as(n)}convertGeoPoint(t){return new ss(tn(t.latitude),tn(t.longitude))}convertArray(t,n){return(t.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Zf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(bc(t));default:return null}}convertTimestamp(t){const n=Ka(t);return new Ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=De.fromString(t);_e(ZT(a),9688,{name:t});const l=new Tc(a.get(1),a.get(3)),h=new Ot(a.popFirst(5));return l.isEqual(n)||qs(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}function Zg(r,t,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,a}class uc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Go extends Sw{constructor(t,n,a,l,h,m){super(t,n,a,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(od("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Go._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Go._jsonSchemaVersion="firestore/documentSnapshot/1.0",Go._jsonSchema={type:cn("string",Go._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class df extends Go{data(t={}){return super.data(t)}}class Zo{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new uc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((a=>{t.call(n,new df(this._firestore,this._userDataWriter,a.key,a,new uc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((v=>{const y=new df(l._firestore,l._userDataWriter,v.doc.key,v.doc,new uc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>h||v.type!==3)).map((v=>{const y=new df(l._firestore,l._userDataWriter,v.doc.key,v.doc,new uc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,S=-1;return v.type!==0&&(E=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),v.type!==1&&(m=m.add(v.doc),S=m.indexOf(v.doc.key)),{type:VD(v.type),doc:y,oldIndex:E,newIndex:S}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Zo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt(61501,{type:r})}}Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:cn("string",Zo._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class Kg extends kD{constructor(t){super(),this.firestore=t}convertBytes(t){return new ar(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function su(r){r=ns(r,eo);const t=ns(r.firestore,Jo),n=nd(t),a=new Kg(t);return Aw(r._query),wD(n,r._query).then((l=>new Zo(t,a,r,l)))}function Iw(r,t,n){r=ns(r,hn);const a=ns(r.firestore,Jo),l=Zg(r.converter,t,n);return Qg(a,[Ug(sd(a),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Pi.none())])}function zD(r,t){const n=ns(r.firestore,Jo),a=Lf(r),l=Zg(r.converter,t);return Qg(n,[Ug(sd(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Pi.exists(!1))]).then((()=>a))}function UD(r,...t){r=pn(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||PE(t[a])||(n=t[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PE(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let h,m,v;if(r instanceof hn)m=ns(r.firestore,Jo),v=vg(r._key.path),h={next:y=>{t[a]&&t[a](jD(m,r,y))},error:t[a+1],complete:t[a+2]};else{const y=ns(r,eo);m=ns(y.firestore,Jo),v=y._query;const E=new Kg(m);h={next:S=>{t[a]&&t[a](new Zo(m,E,y,S))},error:t[a+1],complete:t[a+2]},Aw(r._query)}return(function(E,S,A,D){const B=new gw(D),Q=new ow(S,B,A);return E.asyncQueue.enqueueAndForget((async()=>sw(await Fp(E),Q))),()=>{B.Nu(),E.asyncQueue.enqueueAndForget((async()=>aw(await Fp(E),Q)))}})(nd(m),v,l,h)}function Qg(r,t){return(function(a,l){const h=new qa;return a.asyncQueue.enqueueAndForget((async()=>hD(await TD(a),l,h))),h.promise})(nd(r),t)}function jD(r,t,n){const a=n.docs.get(t._key),l=new Kg(r);return new Go(r,l,t._key,a,new uc(n.hasPendingWrites,n.fromCache),t.converter)}class BD{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=sd(t)}set(t,n,a){this._verifyNotCommitted();const l=dp(t,this._firestore),h=Zg(l.converter,n,a),m=Ug(this._dataReader,"WriteBatch.set",l._key,h,l.converter!==null,a);return this._mutations.push(m.toMutation(l._key,Pi.none())),this}update(t,n,a,...l){this._verifyNotCommitted();const h=dp(t,this._firestore);let m;return m=typeof(n=pn(n))=="string"||n instanceof id?DD(this._dataReader,"WriteBatch.update",h._key,n,a,l):ND(this._dataReader,"WriteBatch.update",h._key,n),this._mutations.push(m.toMutation(h._key,Pi.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=dp(t,this._firestore);return this._mutations=this._mutations.concat(new bg(n._key,Pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xt(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dp(r,t){if((r=pn(r)).firestore!==t)throw new xt(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function HD(){return new jg("serverTimestamp")}function FD(r){return nd(r=ns(r,Jo)),new BD(r,(t=>Qg(r,t)))}(function(t,n=!0){(function(l){fu=l})(cu),Wl(new Qo("firestore",((a,{instanceIdentifier:l,options:h})=>{const m=a.getProvider("app").getImmediate(),v=new Jo(new D2(a.getProvider("auth-internal")),new O2(m,a.getProvider("app-check-internal")),(function(E,S){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new xt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(E.options.projectId,S)})(m,l),m);return h={useFetchStreams:n,...h},v._setSettings(h),v}),"PUBLIC").setMultipleInstances(!0)),Ha(U0,j0,t),Ha(U0,j0,"esm2020")})();const qD={apiKey:"AIzaSyDyPzPk6CZBJ0armWcK145KnQg4X2EJ1Gc",authDomain:"la-nba.firebaseapp.com",projectId:"la-nba",storageBucket:"la-nba.firebasestorage.app",messagingSenderId:"222296057914",appId:"1:222296057914:web:3f3702623b48f6506aed03"},Nw=yb(qD),mp=S2(Nw),GD=new Vs,or=SD(Nw),Dw=K.createContext();function _u(){return K.useContext(Dw)}function ZD({children:r}){const[t,n]=K.useState(null),[a,l]=K.useState(!0);function h(){return OR(mp,GD)}function m(){return mR(mp)}K.useEffect(()=>dR(mp,E=>{n(E),l(!1)}),[]);const v={currentUser:t,login:h,logout:m};return C.jsx(Dw.Provider,{value:v,children:!a&&r})}const KD=JSON.parse(`[{"id":1,"date":"2026-02-18","weekday":"Wednesday","title":"","location":"San Gabriel","weather":"Sunny 72F","events":[{"time":"16:50","title":"Arrive ONT Airport","description":"","location":"Ontario International Airport","mapLink":"https://www.google.com/maps/@34.0559976,-117.6006671,17z?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"flight_land"},{"time":"18:00","title":"Pick up Rental Car","description":" Rental Car Center ","location":"Rental Car Center","mapLink":"","icon":"directions_car"},{"time":"19:00","title":"Check-in Airbnb","description":"8753 East Arcadia Avenue, San Gabriel, CA 91775","location":"8753 East Arcadia Avenue, San Gabriel","mapLink":"https://www.google.com/maps/place/8753+E+Arcadia+Ave,+San+Gabriel,+CA+91775%E7%BE%8E%E5%9C%8B/@34.1254364,-118.0776999,17z/data=!3m1!4b1!4m5!3m4!1s0x80c2db121b2a8ea5:0xe1b50a082194721d!8m2!3d34.1254364!4d-118.0776999?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"home"},{"time":"20:00","title":"Dinner: Golden Deli / 101 Noodle Express","description":"(Golden Deli)  (101 Noodle Express)","location":"San Gabriel","mapLink":"","icon":"restaurant"}]},{"id":2,"date":"2026-02-19","weekday":"Thursday","title":"Pasadena  & ","location":"Pasadena","weather":"Sunny 75F","events":[{"time":"10:00","title":"Breakfast: Russell's","description":"Pasadena  Russell's","location":"Pasadena","mapLink":"https://www.google.com/maps/place/Russell's/@34.1465303,-118.1503345,17z/data=!4m6!3m5!1s0x80c2c37175240819:0xa7723f1c9d7a79f3!8m2!3d34.1465303!4d-118.1503345!16s%2Fg%2F1tfwdr_b?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"coffee"},{"time":"11:00","title":"The Huntington Library","description":" & ","location":"The Huntington","mapLink":"https://www.google.com/maps/place/%E6%BC%A2%E5%BA%AD%E9%A0%93%E5%9C%96%E6%9B%B8%E9%A4%A8/@34.1290452,-118.1145242,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2db4d02615c73:0xb328d70c295f1904!8m2!3d34.1290452!4d-118.1145242!16zL20vMDFtcjBr?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"local_library"},{"time":"14:00","title":"Old Pasadena Shopping","description":" Colorado Blvd ","location":"Colorado Blvd","mapLink":"","icon":"shopping_bag"},{"time":"16:00","title":"Trader Joe's","description":"(South Pasadena) /","location":"South Pasadena","mapLink":"https://www.google.com/maps/search/Trader+Joe's+South+Pasadena/@34.1141032,-118.157228,16z/data=!3m1!4b1?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"shopping_cart"},{"time":"17:30","title":"Super King Market","description":"(Altadena) ","location":"Altadena","mapLink":"https://www.google.com/maps/place/Super+King+Market/@34.1846991,-118.1595127,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c25899a57b05:0xa20b9c5d1873f201!8m2!3d34.1846991!4d-118.1595127!16s%2Fg%2F1tp8_9j0?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"store"},{"time":"19:00","title":"Dinner: Sam Woo BBQ / Boiling Point","description":" San Gabriel ","location":"San Gabriel","mapLink":"","icon":"restaurant"}]},{"id":3,"date":"2026-02-20","weekday":"Friday","title":" GAME DAY - DTLA & Hollywood","location":"DTLA / Hollywood","weather":"Sunny 74F","events":[{"time":"09:30","title":"Breakfast: Eggslut","description":"Grand Central Market  (Eggslut)","location":"Grand Central Market","mapLink":"https://www.google.com/maps/place/Grand+Central+Market/@34.050872,-118.2490552,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c64b8e4372e7:0x489d4efdeb06d3d8!8m2!3d34.050872!4d-118.2490552!16zL20vMDdmN3M5?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"egg_alt"},{"time":"11:30","title":"Beverly Hills & Rodeo Drive","description":" Rodeo Drive ","location":"Beverly Hills","mapLink":"","icon":"diamond"},{"time":"13:30","title":"Lunch: The Grove / Farmers Market","description":" The Grove ","location":"The Grove","mapLink":"","icon":"lunch_dining"},{"time":"15:00","title":"Hollywood Walk of Fame","description":"","location":"Hollywood Blvd","mapLink":"","icon":"star"},{"time":"16:30","title":"Head to Arena (Parking)","description":" Crypto.com Arena","location":"Crypto.com Arena","mapLink":"https://www.google.com/maps/place/%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3%E7%B6%B2%E9%AB%94%E8%82%B2%E9%A4%A8/@34.0430175,-118.2672541,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c7b85dea2a93:0x1ff47c3ceb7bb2d5!8m2!3d34.0430175!4d-118.2672541!16zL20vMDJrazVz?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"directions_car"},{"time":"19:00","title":"Lakers vs Clippers","description":" (GAME START)","location":"Crypto.com Arena","mapLink":"","icon":"sports_basketball"},{"time":"22:00","title":"Return to San Gabriel","description":" San Gabriel ","location":"San Gabriel","mapLink":"https://www.google.com/maps/place/8753+E+Arcadia+Ave,+San+Gabriel,+CA+91775%E7%BE%8E%E5%9C%8B/@34.1254364,-118.0776999,17z/data=!3m1!4b1!4m5!3m4!1s0x80c2db121b2a8ea5:0xe1b50a082194721d!8m2!3d34.1254364!4d-118.0776999?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"home"}]},{"id":4,"date":"2026-02-21","weekday":"Saturday","title":"","location":"Universal City","weather":"Sunny 70F","events":[{"time":"09:00","title":"Universal Studios","description":"","location":"Universal City","mapLink":"https://www.google.com/maps/place/%E5%A5%BD%E8%90%8A%E5%A1%A2%E7%92%B0%E7%90%83%E5%BD%B1%E5%9F%8E/@34.1370756,-118.358177,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2be4f253238cf:0xd3dd5027799c9a71!8m2!3d34.1370713!4d-118.3533061!16zL20vMDVxc3k4?entry=tts&g_ep=EgoyMDI2MDExMy4wIPu8ASoASAFQAw%3D%3D&skid=1b3f85f7-56a0-4a7c-b9a0-d5ed0e3c5d20","icon":"movie"}]},{"id":5,"date":"2026-02-22","weekday":"Sunday","title":" Las Vegas","location":"Las Vegas","weather":"Sunny 65F","events":[{"time":"10:00","title":"Checkout Airbnb","description":"","location":"San Gabriel","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Brunch: Yi Mei Deli","description":" San Gabriel  (: )","location":"San Gabriel","mapLink":"","icon":"breakfast_dining"},{"time":"12:30","title":"Drive to Las Vegas","description":" Las Vegas 4 ","location":"I-15 North","mapLink":"","icon":"directions_car"},{"time":"14:30","title":"Stop: Barstow Outlets","description":" Outlets at Barstow /","location":"Barstow","mapLink":"https://www.google.com/maps/search/?api=1&query=Outlets+at+Barstow","icon":"shopping_bag"},{"time":"17:30","title":"Check-in: Treasure Island / Luxor","description":" Las Vegas","location":"Las Vegas Strip","mapLink":"","icon":"hotel"},{"time":"19:00","title":"The Strip Walk & Dinner","description":" Bellagio Venetian Sphere ","location":"Las Vegas Blvd","mapLink":"","icon":"nightlife"}]},{"id":6,"date":"2026-02-23","weekday":"Monday","title":"  (KKday Tour)","location":"Grand Canyon / Las Vegas","weather":"Sunny 50F","events":[{"time":"06:00","title":"Tour Pickup","description":" KKday Grand Canyon South Rim ","location":"Hotel Lobby","mapLink":"","icon":"directions_bus"},{"time":"13:00","title":"Grand Canyon South Rim","description":" (Mather Point, Yavapai Point)","location":"Grand Canyon National Park","mapLink":"","icon":"landscape"},{"time":"20:30","title":"Return to Las Vegas","description":" Las Vegas ","location":"Las Vegas","mapLink":"","icon":"home"},{"time":"21:00","title":"Dinner: In-N-Out / Buffet","description":" In-N-Out  Buffet","location":"Las Vegas","mapLink":"","icon":"fastfood"}]},{"id":7,"date":"2026-02-24","weekday":"Tuesday","title":" & ","location":"Ontario","weather":"Sunny 72F","events":[{"time":"10:30","title":"Checkout Hotel","description":"","location":"Las Vegas","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Seven Magic Mountains","description":" (Seven Magic Mountains) ","location":"S Las Vegas Blvd","mapLink":"https://www.google.com/maps/place/Seven+Magic+Mountains/@35.8392389,-115.270961,17z/data=!3m1!4b1!4m6!3m5!1s0x80cf35779dba7553:0x91f1fabf13d53cdd!8m2!3d35.8392389!4d-115.270961!16s%2Fg%2F11cn5s05x0?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"photo_camera"},{"time":"13:00","title":"Drive to Ontario","description":" Ontario 3.5 - 4 ","location":"I-15 South","mapLink":"","icon":"directions_car"},{"time":"16:00","title":"Ontario Mills Outlets","description":" Outlet ","location":"Ontario","mapLink":"https://www.google.com/maps/place/Ontario+Mills/@34.0729887,-117.5545679,17z/data=!3m1!4b1!4m6!3m5!1s0x80c33582234a6999:0x2c606dc846c3f534!8m2!3d34.0729843!4d-117.551993!16zL20vMDJoeXgw?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"shopping_bag"},{"time":"19:00","title":"Check-in: Hotel d'Lins","description":" Hotel d'Lins Ontario Airport","location":"3400 Shelby St, Ontario, CA 91764","mapLink":"","icon":"hotel"}]},{"id":8,"date":"2026-02-25","weekday":"Wednesday","title":"","location":"ONT Airport","weather":"Sunny 72F","events":[{"time":"10:00","title":"Checkout","description":" Hotel d'Lins ","location":"Hotel d'Lins","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Rancho Santa Ana Botanic Garden","description":" Claremont ","location":"Claremont","mapLink":"https://www.google.com/maps/place/California+Botanic+Garden/@34.1107605,-117.713958,17z/data=!3m1!4b1!4m6!3m5!1s0x80c331ca6d3842ff:0x8a008e9e0e1050cc!8m2!3d34.1107605!4d-117.713958!16zL20vMDV0Ym43?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"park"},{"time":"15:00","title":"Early Dinner / Last Shopping","description":"","location":"Ontario","mapLink":"","icon":"restaurant"},{"time":"19:30","title":"Return Rental Car","description":" ONT Rental Car Center ","location":"ONT Rental Car Center","mapLink":"","icon":"no_crash"},{"time":"20:30","title":"Airport Check-in","description":"","location":"ONT Airport","mapLink":"","icon":"flight_takeoff"},{"time":"22:50","title":"Flight CI23 Departure","description":" CI23 ","location":"ONT Airport","mapLink":"","icon":"airplanemode_active"}]}]`),Mw=K.createContext();function ud(){return K.useContext(Mw)}function QD({children:r}){const{currentUser:t}=_u(),[n,a]=K.useState([]),[l,h]=K.useState(!0);K.useEffect(()=>{const B=localStorage.getItem("cached_schedule");B?(a(JSON.parse(B)),h(!1)):(a(KD),h(!1))},[]),K.useEffect(()=>{if(!t)return;async function B(){try{const Q=await su(Ja(or,"itinerary"));if(!Q.empty){const F=Q.docs.map(H=>({id:parseInt(H.id),...H.data()}));F.sort((H,at)=>H.id-at.id),a(F),localStorage.setItem("cached_schedule",JSON.stringify(F))}}catch(Q){console.error("Error fetching schedule:",Q)}}B()},[t]);const m=B=>n.find(Q=>Q.id===parseInt(B)),v=async B=>{const Q=n.map(F=>F.id===B.id?B:F);if(a(Q),localStorage.setItem("cached_schedule",JSON.stringify(Q)),t)try{await Iw(Lf(or,"itinerary",B.id.toString()),B)}catch(F){console.error("Error updating day in Firestore:",F)}},D={schedule:n,getDay:m,addEvent:(B,Q)=>{const F=m(B);if(!F)return;const H=[...F.events,Q];H.sort((lt,st)=>lt.time.localeCompare(st.time));const at={...F,events:H};v(at)},updateEvent:(B,Q,F)=>{const H=m(B);if(!H)return;const at=[...H.events];at[Q]=F,at.sort((st,Rt)=>st.time.localeCompare(Rt.time));const lt={...H,events:at};v(lt)},deleteEvent:(B,Q)=>{const F=m(B);if(!F)return;const H=F.events.filter((lt,st)=>st!==Q),at={...F,events:H};v(at)},syncToFirestore:async()=>{if(!t){alert("You must be logged in to sync.");return}try{const B=FD(or);n.forEach(Q=>{const F=Lf(or,"itinerary",Q.id.toString());B.set(F,Q)}),await B.commit(),alert("Successfully synced schedule to cloud!")}catch(B){console.error("Error syncing to Firestore:",B),alert("Failed to sync. Check console.")}},loading:l};return C.jsx(Mw.Provider,{value:D,children:r})}function Hl({children:r}){const{currentUser:t}=_u();return t?r:C.jsx(aS,{to:"/"})}function YD(){const{login:r,currentUser:t}=_u(),n=us();K.useEffect(()=>{t&&n("/overview")},[t,n]);const a=async()=>{try{const h=(await r()).user;await Iw(Lf(or,"users",h.uid),{uid:h.uid,displayName:h.displayName,email:h.email,photoURL:h.photoURL,lastLogin:new Date},{merge:!0}),n("/overview")}catch(l){console.error("Failed to log in",l)}};return C.jsxs("div",{className:"relative h-[100dvh] w-full flex flex-col bg-background-dark max-w-[430px] mx-auto overflow-hidden text-white antialiased",children:[C.jsx("div",{className:"absolute inset-0 z-0",children:C.jsx("div",{className:"w-full h-full bg-center bg-cover opacity-60",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuCyFS12cE_tdsJCcYWBRFI5_dm4dNftwFwFHYBIONKZS--oHxvHki6fjPcsSzItxp2gr4YdIXhoDMEaUcsmgn373vc9cOULt-X_WDUabdSxzEvu-hC_koF5HudSf_pDLhLH-gWulGmvAVBYrUkDsrJF6_P1OOrhkvFjQRfWVm3rTqC3DatZIQZjAwbA6o7p4DTEs8F4UPEbruOBnGn6dYXWvgvN7reYe2J4AgIoDAaLmr91Eq9tdNk5BZ-D8MT_7Ite6qHXL3RUYOQ")'},children:C.jsx("div",{className:"absolute inset-0 bg-overlay"})})}),C.jsxs("div",{className:"relative z-10 flex flex-col h-full px-6 pt-16 pb-8",children:[" ",C.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center",children:[C.jsx("div",{className:"mb-8 inline-flex p-4 rounded-3xl bg-lakers-gold/10 border border-lakers-gold/30 backdrop-blur-md",children:C.jsx("span",{className:"material-symbols-outlined text-lakers-gold text-5xl",children:"sports_basketball"})}),C.jsxs("h1",{className:"font-display font-bold text-6xl tracking-tight mb-4 text-glow",children:["",C.jsx("br",{}),"LA",C.jsx("span",{className:"text-lakers-gold italic",children:" BRON JAMES"})]})]}),C.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-10",children:[C.jsx("div",{className:"glass-panel rounded-2xl p-6 shadow-2xl",children:C.jsx("div",{className:"space-y-6",children:C.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-4 bg-lakers-gold text-lakers-purple font-bold h-14 rounded-xl active:scale-[0.98] transition-all shadow-[0_0_20px_rgba(253,185,39,0.3)]",children:[C.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[C.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"currentColor",fillOpacity:"0.8"}),C.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"currentColor",fillOpacity:"0.8"}),C.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"currentColor",fillOpacity:"0.8"}),C.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 12-4.53z",fill:"currentColor",fillOpacity:"0.8"})]}),C.jsx("span",{className:"text-base",children:"Continue with Google"})]})})}),C.jsx("div",{className:"pt-4 flex justify-center opacity-20",children:C.jsx("div",{className:"h-1.5 w-32 bg-lakers-gold rounded-full"})})]})]})]})}function Bc(){const r=us(),t=Zs(),n=l=>t.pathname.startsWith(l),a=[{id:"dashboard",label:"Dashboard",icon:"space_dashboard",path:"/overview"},{id:"add-expense",label:"Add Expense",icon:"payments",path:"/add-expense"}];return C.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-[#121212] border-t border-white/10 px-10 pb-8 pt-3 flex justify-around items-center z-50 max-w-[430px] mx-auto",children:a.map(l=>C.jsxs("button",{onClick:()=>r(l.path),className:`flex flex-col items-center justify-center w-20 transition-all duration-200 active:scale-90 ${n(l.path)?"text-[#FDB927]":"text-white/30 hover:text-white/60"}`,children:[C.jsx("div",{className:`mb-1 ${n(l.path)?"drop-shadow-[0_0_8px_rgba(253,185,39,0.4)]":""}`,children:C.jsx("span",{className:"material-symbols-outlined text-2xl fill-icon",children:l.icon})}),C.jsx("span",{className:"text-[10px] font-black uppercase italic tracking-widest text-center leading-none",children:l.label}),n(l.path)&&C.jsx("div",{className:"absolute -bottom-1 w-1 h-1 bg-[#FDB927] rounded-full shadow-[0_0_5px_#FDB927]"})]},l.id))})}function Lw(r){return r==null?0:Math.round((r-32)*5/9)}function XD(){const r=us(),{currentUser:t,logout:n}=_u(),{schedule:a}=ud(),[l,h]=K.useState(0),[m,v]=K.useState(null),[y,E]=K.useState("Loading..."),S=async()=>{if(window.confirm("Are you sure you want to log out?"))try{await n(),r("/")}catch(A){console.error("Failed to log out",A)}};return K.useEffect(()=>{async function A(){if(t)try{const D=Pf(Ja(or,"expenses"),kf("paidBy","==",t.uid)),B=await su(D),Q=Pf(Ja(or,"expenses"),kf("splitWith","array-contains",t.uid)),F=await su(Q);let H=0;const at=st=>{const Rt=st.data(),Dt=parseFloat(Rt.amount)||0,Vt=Rt.currency||"USD",M=(Rt.splitWith||[]).length+1,P=Dt/M;Vt==="TWD"?H+=P/32:H+=P},lt=new Set;B.forEach(st=>{lt.has(st.id)||(at(st),lt.add(st.id))}),F.forEach(st=>{lt.has(st.id)||(at(st),lt.add(st.id))}),h(H)}catch(D){console.error("Error fetching expenses:",D)}}A(),A()},[t]),K.useEffect(()=>{async function A(){try{const B=await(await fetch("https://api.open-meteo.com/v1/forecast?latitude=34.0522&longitude=-118.2437&current_weather=true&temperature_unit=fahrenheit&daily=sunset&timezone=America%2FLos_Angeles")).json();if(v(B.current_weather),B.daily&&B.daily.sunset&&B.daily.sunset.length>0){const Q=new Date(B.daily.sunset[0]),at=new Date(Q.getTime()-3600*1e3)-new Date,lt=Math.floor(at/6e4);if(lt>0){const st=Math.floor(lt/60),Rt=lt%60;E(`Starts in ${st}h ${Rt}m`)}else lt>-60?E("Happening Now!"):E("Ended for today")}}catch(D){console.error("Failed to fetch weather",D),E("Unavailable")}}A()},[]),C.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-28 font-display shadow-2xl",children:[C.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-lakers-purple ios-blur p-4 border-b border-primary/20",children:[C.jsx("div",{className:"flex size-10 items-center justify-center cursor-pointer active:opacity-50 transition-opacity",children:C.jsx("span",{className:"material-symbols-outlined text-primary",children:"chevron_left"})}),C.jsx("h1",{className:"text-primary text-base font-extrabold flex-1 text-center tracking-tight uppercase",children:"LA Trip Overview"}),C.jsx("div",{onClick:S,className:"flex size-10 items-center justify-center cursor-pointer hover:opacity-80 transition-opacity",title:"Click to Logout",children:t?.photoURL?C.jsx("img",{src:t.photoURL,alt:"User",className:"size-8 rounded-full border-2 border-primary shadow-lg"}):C.jsx("button",{className:"size-8 rounded-full bg-primary text-lakers-purple flex items-center justify-center border-2 border-primary shadow-lg",children:C.jsx("span",{className:"material-symbols-outlined text-[20px] fill-icon",children:"person"})})})]}),C.jsxs("main",{className:"flex-1 px-5 pt-6 space-y-6",children:[C.jsx("section",{children:C.jsxs("div",{className:"relative rounded-2xl bg-card-dark border-4 border-primary overflow-hidden shadow-2xl",children:[C.jsx("div",{className:"absolute top-0 right-0 p-4 z-20",children:C.jsxs("div",{className:"flex items-center gap-1 bg-lakers-purple/90 px-2 py-1 rounded-full border border-primary/30",children:[C.jsx("span",{className:"material-symbols-outlined text-primary text-[14px]",children:"sync_alt"}),C.jsx("span",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:"USD / TWD"})]})}),C.jsx("div",{className:"relative w-full h-32 bg-center bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBbIfNtpxEJBkZ8nYoWabGRJZepciIRWK4jMVZPfjItvYa9li7pRYX8TrXIArgl87Yh5Djf_pEfmr2eoPqW639TGnFeWm1r_ysOIOaQQqGTVrJJjwadrfrB5b95zhiANEEoHRW2FyWshCDf1NoPpUapy6OL41TA8a18js9_Fr-xuM8NOXE1PF8U-6O7Jmwvl0b8Qnj9tgGZxzjVmHu1Bc4Iu4KbnV02UfiX1yKMc3IxFtk8NDEOTFYIUZ86hblVP0Twpk_vhw7yA00")'},children:C.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card-dark via-card-dark/20 to-transparent"})}),C.jsxs("div",{className:"px-5 pb-5 -mt-6 relative z-10 flex flex-col",children:[C.jsx("span",{className:"text-lakers-purple text-[11px] font-black tracking-[0.15em] uppercase mb-1 bg-primary/90 self-start px-2 py-0.5 rounded",children:"Total My Expenses"}),C.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[C.jsxs("div",{className:"flex items-baseline gap-2",children:[C.jsxs("p",{className:"text-lakers-purple text-4xl font-black tracking-tighter",children:["$",l.toFixed(2)]}),C.jsx("span",{className:"text-lakers-purple/60 text-sm font-bold",children:"USD"})]}),C.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[C.jsx("span",{className:"material-symbols-outlined text-[16px] text-lakers-purple/50",children:"payments"}),C.jsxs("p",{className:"text-lakers-purple/80 text-xl font-bold leading-none",children:[" NT$ ",(l*32).toLocaleString()]}),C.jsx("span",{className:"text-lakers-purple/40 text-[10px] font-bold uppercase tracking-tighter",children:"TWD"})]})]}),C.jsx("button",{onClick:()=>r("/expenses"),className:"mt-5 w-full bg-primary text-lakers-purple py-4 rounded-xl font-black text-xs uppercase tracking-widest active:scale-[0.98] transition-transform shadow-lg border-b-4 border-yellow-600",children:"View Expense Details"})]})]})}),C.jsx("section",{className:"grid grid-cols-1 gap-4",children:C.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-br from-lakers-purple to-[#3b1a5a] p-5 rounded-2xl border border-primary/20 shadow-xl",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("div",{className:"size-14 bg-primary rounded-2xl flex items-center justify-center shadow-inner",children:C.jsx("span",{className:"material-symbols-outlined text-lakers-purple text-4xl fill-icon",children:"partly_cloudy_day"})}),C.jsxs("div",{children:[C.jsxs("p",{className:"text-white text-xl font-black",children:[m?C.jsxs(C.Fragment,{children:[Math.round(m.temperature),"F ",C.jsxs("span",{className:"text-base font-normal opacity-60",children:["/ ",Lw(m.temperature),"C"]})]}):"--",C.jsx("span",{className:"text-primary font-medium ml-1",children:m?"Current":"Loading..."})]}),C.jsxs("p",{className:"text-primary/70 text-[11px] font-bold flex items-center gap-1 uppercase tracking-wider",children:[C.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"location_on"})," Los Angeles, CA"]})]})]}),C.jsxs("div",{className:"text-right",children:[C.jsx("p",{className:"text-primary text-[10px] font-black uppercase tracking-wider mb-1",children:"Golden Hour"}),C.jsx("p",{className:"text-white/90 text-xs font-bold",children:y})]})]})}),C.jsxs("div",{className:"flex items-center justify-between border-b-2 border-lakers-purple/30 pb-3",children:[C.jsx("h2",{className:"text-white text-xl font-black tracking-tight uppercase",children:"8-Day Itinerary"}),C.jsxs("div",{className:"flex items-center gap-1 bg-lakers-purple px-3 py-1.5 rounded-full border border-primary/30",children:[C.jsx("span",{className:"material-symbols-outlined text-[16px] text-primary fill-icon",children:"calendar_month"}),C.jsx("span",{className:"text-primary text-[10px] font-black uppercase tracking-wider",children:"2/18 - 2/25"})]})]}),C.jsxs("section",{className:"space-y-4 pb-8",children:[a.map((A,D)=>C.jsxs("div",{onClick:()=>r(`/day/${A.id}`),className:`flex items-center gap-4 border p-4 rounded-2xl active:bg-white/5 transition-colors cursor-pointer shadow-md ${A.id===1?"bg-lakers-purple/10 border-l-4 border-primary":"bg-card-dark border-white/5"}`,children:[C.jsxs("div",{className:`flex flex-col items-center justify-center size-14 rounded-xl shadow-md ${A.id===1?"bg-primary text-lakers-purple":"bg-white/5 text-gray-400"}`,children:[C.jsx("span",{className:"text-[10px] font-black uppercase leading-none mb-0.5",children:"2"}),C.jsx("span",{className:`font-black leading-none ${A.id===1?"text-2xl":"text-xl"}`,children:parseInt(A.date.split("-")[2])})]}),C.jsxs("div",{className:"flex-1",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[C.jsxs("span",{className:`${A.id===1?"text-primary":"text-gray-500"} text-[10px] font-black uppercase tracking-widest`,children:["Day 0",A.id]}),A.id===1&&C.jsx("span",{className:"size-1.5 bg-primary rounded-full"}),A.id===1&&C.jsx("span",{className:"text-primary text-[10px] font-bold uppercase",children:A.location})]}),C.jsx("p",{className:"text-white text-base font-extrabold leading-snug",children:A.title})]}),C.jsx("span",{className:`material-symbols-outlined ${A.id===1?"text-primary font-bold":"text-gray-700"}`,children:"arrow_forward_ios"})]},A.id)),C.jsxs("button",{className:"w-full py-6 text-primary text-[11px] font-black uppercase tracking-[0.3em] flex items-center justify-center gap-2 bg-lakers-purple/5 rounded-2xl border border-primary/10 mt-2",children:["Expand All 8 Days",C.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"keyboard_double_arrow_down"})]})]})]}),C.jsx(Bc,{})]})}function WD(){const r=us(),{schedule:t}=ud();return C.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-24 font-display",children:[C.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-lakers-purple ios-blur p-4 border-b border-primary/20",children:[C.jsx("div",{onClick:()=>r(-1),className:"flex size-10 items-center justify-center cursor-pointer active:opacity-50 transition-opacity",children:C.jsx("span",{className:"material-symbols-outlined text-primary",children:"arrow_back"})}),C.jsx("h1",{className:"text-primary text-base font-black flex-1 text-center tracking-tight uppercase",children:"Full Itinerary"}),C.jsx("div",{className:"size-10"})]}),C.jsx("main",{className:"flex-1 px-5 pt-6 space-y-6",children:t.map(n=>C.jsxs("div",{onClick:()=>r(`/day/${n.id}`),className:"group flex items-start gap-4 p-4 rounded-2xl border border-primary/20 bg-card-dark active:bg-white/5 cursor-pointer shadow-sm",children:[C.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[3rem]",children:[C.jsx("span",{className:"text-primary/60 text-[10px] font-bold uppercase",children:n.weekday.substring(0,3)}),C.jsx("span",{className:"text-2xl font-black text-white",children:parseInt(n.date.split("-")[2])})]}),C.jsxs("div",{className:"flex-1",children:[C.jsxs("p",{className:"text-primary text-xs font-black uppercase tracking-wider mb-1",children:["Day ",n.id,"  ",n.location]}),C.jsx("h3",{className:"text-white text-lg font-bold leading-tight mb-2",children:n.title}),C.jsx("div",{className:"flex flex-wrap gap-2",children:n.events.slice(0,3).map((a,l)=>C.jsx("span",{className:"text-white/60 text-xs bg-lakers-purple/20 px-2 py-1 rounded-md border border-primary/10",children:a.title},l))})]}),C.jsx("span",{className:"material-symbols-outlined text-primary/40 group-active:text-primary self-center",children:"chevron_right"})]},n.id))}),C.jsx(Bc,{})]})}var JD={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:nM,fromCents:!1},Ow=function(t){return Math.round(t)},Yg=function(t){return Math.pow(10,t)},$D=function(t,n){return Ow(t/n)*n},tM=/(\d)(?=(\d{3})+\b)/g,eM=/(\d)(?=(\d\d)+\d\b)/g;function sr(r,t){var n=this;if(!(n instanceof sr))return new sr(r,t);var a=Object.assign({},JD,t),l=Yg(a.precision),h=mf(r,a);n.intValue=h,n.value=h/l,a.increment=a.increment||1/l,a.useVedic?a.groups=eM:a.groups=tM,this.s=a,this.p=l}function mf(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=0,l=t.decimal,h=t.errorOnInvalid,m=t.precision,v=t.fromCents,y=Yg(m),E=typeof r=="number",S=r instanceof sr;if(S&&v)return r.intValue;if(E||S)a=S?r.value:r;else if(typeof r=="string"){var A=new RegExp("[^-\\d"+l+"]","g"),D=new RegExp("\\"+l,"g");a=r.replace(/\((.*)\)/,"-$1").replace(A,"").replace(D,"."),a=a||0}else{if(h)throw Error("Invalid Input");a=0}return v||(a*=y,a=a.toFixed(4)),n?Ow(a):a}function nM(r,t){var n=t.pattern,a=t.negativePattern,l=t.symbol,h=t.separator,m=t.decimal,v=t.groups,y=(""+r).replace(/^-/,"").split("."),E=y[0],S=y[1];return(r.value>=0?n:a).replace("!",l).replace("#",E.replace(v,"$1"+h)+(S?m+S:""))}sr.prototype={add:function(t){var n=this.intValue,a=this.s,l=this.p;return sr((n+=mf(t,a))/(a.fromCents?1:l),a)},subtract:function(t){var n=this.intValue,a=this.s,l=this.p;return sr((n-=mf(t,a))/(a.fromCents?1:l),a)},multiply:function(t){var n=this.intValue,a=this.s;return sr((n*=t)/(a.fromCents?1:Yg(a.precision)),a)},divide:function(t){var n=this.intValue,a=this.s;return sr(n/=mf(t,a,!1),a)},distribute:function(t){for(var n=this.intValue,a=this.p,l=this.s,h=[],m=Math[n>=0?"floor":"ceil"](n/t),v=Math.abs(n-m*t),y=l.fromCents?1:a;t!==0;t--){var E=sr(m/y,l);v-- >0&&(E=E[n>=0?"add":"subtract"](1/y)),h.push(E)}return h},dollars:function(){return~~this.value},cents:function(){var t=this.intValue,n=this.p;return~~(t%n)},format:function(t){var n=this.s;return typeof t=="function"?t(this,n):n.format(this,Object.assign({},n,t))},toString:function(){var t=this.intValue,n=this.p,a=this.s;return $D(t/n,a.increment).toFixed(a.precision)},toJSON:function(){return this.value}};function Pw(r,t){const n=K.useRef(t);K.useEffect(function(){t!==n.current&&r.attributionControl!=null&&(n.current!=null&&r.attributionControl.removeAttribution(n.current),t!=null&&r.attributionControl.addAttribution(t)),n.current=t},[r,t])}const iM=1;function rM(r){return Object.freeze({__version:iM,map:r})}function sM(r,t){return Object.freeze({...r,...t})}const Xg=K.createContext(null);function kw(){const r=K.use(Xg);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function aM(r){function t(n,a){const{instance:l,context:h}=r(n).current;K.useImperativeHandle(a,()=>l);const{children:m}=n;return m==null?null:pp.createElement(Xg,{value:h},m)}return K.forwardRef(t)}function oM(r){function t(n,a){const[l,h]=K.useState(!1),{instance:m}=r(n,h).current;K.useImperativeHandle(a,()=>m),K.useEffect(function(){l&&m.update()},[m,l,n.children]);const v=m._contentNode;return v?HS.createPortal(n.children,v):null}return K.forwardRef(t)}function lM(r){function t(n,a){const{instance:l}=r(n).current;return K.useImperativeHandle(a,()=>l),null}return K.forwardRef(t)}function Vw(r,t){const n=K.useRef(void 0);K.useEffect(function(){return t!=null&&r.instance.on(t),n.current=t,function(){n.current!=null&&r.instance.off(n.current),n.current=null}},[r,t])}function Wg(r,t){const n=r.pane??t.pane;return n?{...r,pane:n}:r}function uM(r,t){return function(a,l){const h=kw(),m=r(Wg(a,h),h);return Pw(h.map,a.attribution),Vw(m.current,a.eventHandlers),t(m.current,h,a,l),m}}var cc={exports:{}};var cM=cc.exports,zE;function hM(){return zE||(zE=1,(function(r,t){(function(n,a){a(t)})(cM,(function(n){var a="1.9.4";function l(s){var u,d,_,T;for(d=1,_=arguments.length;d<_;d++){T=arguments[d];for(u in T)s[u]=T[u]}return s}var h=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function m(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var _=d.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var v=0;function y(s){return"_leaflet_id"in s||(s._leaflet_id=++v),s._leaflet_id}function E(s,u,d){var _,T,R,k;return k=function(){_=!1,T&&(R.apply(d,T),T=!1)},R=function(){_?T=arguments:(s.apply(d,arguments),setTimeout(k,u),_=!0)},R}function S(s,u,d){var _=u[1],T=u[0],R=_-T;return s===_&&d?s:((s-T)%R+R)%R+T}function A(){return!1}function D(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function B(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function Q(s){return B(s).split(/\s+/)}function F(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function H(s,u,d){var _=[];for(var T in s)_.push(encodeURIComponent(d?T.toUpperCase():T)+"="+encodeURIComponent(s[T]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var at=/\{ *([\w_ -]+) *\}/g;function lt(s,u){return s.replace(at,function(d,_){var T=u[_];if(T===void 0)throw new Error("No value provided for variable "+d);return typeof T=="function"&&(T=T(u)),T})}var st=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Rt(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var Dt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Vt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var V=0;function M(s){var u=+new Date,d=Math.max(0,16-(u-V));return V=u+d,window.setTimeout(s,d)}var P=window.requestAnimationFrame||Vt("RequestAnimationFrame")||M,Z=window.cancelAnimationFrame||Vt("CancelAnimationFrame")||Vt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function O(s,u,d){if(d&&P===M)s.call(u);else return P.call(window,m(s,u))}function G(s){s&&Z.call(window,s)}var z={__proto__:null,extend:l,create:h,bind:m,get lastId(){return v},stamp:y,throttle:E,wrapNum:S,falseFn:A,formatNum:D,trim:B,splitWords:Q,setOptions:F,getParamString:H,template:lt,isArray:st,indexOf:Rt,emptyImageUrl:Dt,requestFn:P,cancelFn:Z,requestAnimFrame:O,cancelAnimFrame:G};function oe(){}oe.extend=function(s){var u=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(u[T]=this[T]);return s.statics&&l(u,s.statics),s.includes&&(Xe(s.includes),l.apply(null,[_].concat(s.includes))),l(_,s),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,k=_._initHooks.length;R<k;R++)_._initHooks[R].call(this)}},u},oe.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},oe.mergeOptions=function(s){return l(this.prototype.options,s),this},oe.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Xe(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=st(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rt={on:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=Q(s);for(var T=0,R=s.length;T<R;T++)this._on(s[T],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=Q(s);for(var T=arguments.length===1,R=0,k=s.length;R<k;R++)T?this._off(s[R]):this._off(s[R],u,d)}return this},_on:function(s,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var T={fn:u,ctx:d};_&&(T.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(T)}},_off:function(s,u,d){var _,T,R;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(T=0,R=_.length;T<R;T++)_[T].fn=A;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var k=this._listens(s,u,d);if(k!==!1){var X=_[k];this._firingCount&&(X.fn=A,this._events[s]=_=_.slice()),_.splice(k,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var _=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var T=this._events[s];if(T){this._firingCount=this._firingCount+1||1;for(var R=0,k=T.length;R<k;R++){var X=T[R],tt=X.fn;X.once&&this.off(s,tt,X.ctx),tt.call(X.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(s,u,d,_){typeof s!="string"&&console.warn('"string" type argument expected');var T=u;typeof u!="function"&&(_=!!u,T=void 0,d=void 0);var R=this._events&&this._events[s];if(R&&R.length&&this._listens(s,T,d)!==!1)return!0;if(_){for(var k in this._eventParents)if(this._eventParents[k].listens(s,u,d,_))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var T=0,R=_.length;T<R;T++)if(_[T].fn===u&&_[T].ctx===d)return T;return!1},once:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=Q(s);for(var T=0,R=s.length;T<R;T++)this._on(s[T],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[y(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[y(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};rt.addEventListener=rt.on,rt.removeEventListener=rt.clearAllEventListeners=rt.off,rt.addOneTimeEventListener=rt.once,rt.fireEvent=rt.fire,rt.hasEventListeners=rt.listens;var vt=oe.extend(rt);function pt(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var te=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(s){return this.clone()._add(wt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(wt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new pt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new pt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(s){s=wt(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=wt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=wt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};function wt(s,u,d){return s instanceof pt?s:st(s)?new pt(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new pt(s.x,s.y):new pt(s,u,d)}function j(s,u){if(s)for(var d=u?[s,u]:s,_=0,T=d.length;_<T;_++)this.extend(d[_])}j.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof pt||typeof s[0]=="number"||"x"in s)u=d=wt(s);else if(s=ot(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return wt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return wt(this.min.x,this.max.y)},getTopRight:function(){return wt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof pt?s=wt(s):s=ot(s),s instanceof j?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=ot(s);var u=this.min,d=this.max,_=s.min,T=s.max,R=T.x>=u.x&&_.x<=d.x,k=T.y>=u.y&&_.y<=d.y;return R&&k},overlaps:function(s){s=ot(s);var u=this.min,d=this.max,_=s.min,T=s.max,R=T.x>u.x&&_.x<d.x,k=T.y>u.y&&_.y<d.y;return R&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*s,T=Math.abs(u.y-d.y)*s;return ot(wt(u.x-_,u.y-T),wt(d.x+_,d.y+T))},equals:function(s){return s?(s=ot(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ot(s,u){return!s||s instanceof j?s:new j(s,u)}function gt(s,u){if(s)for(var d=u?[s,u]:s,_=0,T=d.length;_<T;_++)this.extend(d[_])}gt.prototype={extend:function(s){var u=this._southWest,d=this._northEast,_,T;if(s instanceof Tt)_=s,T=s;else if(s instanceof gt){if(_=s._southWest,T=s._northEast,!_||!T)return this}else return s?this.extend(bt(s)||_t(s)):this;return!u&&!d?(this._southWest=new Tt(_.lat,_.lng),this._northEast=new Tt(T.lat,T.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(T.lat,d.lat),d.lng=Math.max(T.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*s,T=Math.abs(u.lng-d.lng)*s;return new gt(new Tt(u.lat-_,u.lng-T),new Tt(d.lat+_,d.lng+T))},getCenter:function(){return new Tt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Tt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Tt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Tt||"lat"in s?s=bt(s):s=_t(s);var u=this._southWest,d=this._northEast,_,T;return s instanceof gt?(_=s.getSouthWest(),T=s.getNorthEast()):_=T=s,_.lat>=u.lat&&T.lat<=d.lat&&_.lng>=u.lng&&T.lng<=d.lng},intersects:function(s){s=_t(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),T=s.getNorthEast(),R=T.lat>=u.lat&&_.lat<=d.lat,k=T.lng>=u.lng&&_.lng<=d.lng;return R&&k},overlaps:function(s){s=_t(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),T=s.getNorthEast(),R=T.lat>u.lat&&_.lat<d.lat,k=T.lng>u.lng&&_.lng<d.lng;return R&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=_t(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _t(s,u){return s instanceof gt?s:new gt(s,u)}function Tt(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}Tt.prototype={equals:function(s,u){if(!s)return!1;s=bt(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+D(this.lat,s)+", "+D(this.lng,s)+")"},distanceTo:function(s){return Te.distance(this,bt(s))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return _t([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new Tt(this.lat,this.lng,this.alt)}};function bt(s,u,d){return s instanceof Tt?s:st(s)&&typeof s[0]!="object"?s.length===3?new Tt(s[0],s[1],s[2]):s.length===2?new Tt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Tt(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new Tt(s,u,d)}var Ht={latLngToPoint:function(s,u){var d=this.projection.project(s),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(s,u){var d=this.scale(u),_=this.transformation.untransform(s,d);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),_=this.transformation.transform(u.min,d),T=this.transformation.transform(u.max,d);return new j(_,T)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?S(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?S(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new Tt(d,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,T=u.lng-d.lng;if(_===0&&T===0)return s;var R=s.getSouthWest(),k=s.getNorthEast(),X=new Tt(R.lat-_,R.lng-T),tt=new Tt(k.lat-_,k.lng-T);return new gt(X,tt)}},Te=l({},Ht,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,_=s.lat*d,T=u.lat*d,R=Math.sin((u.lat-s.lat)*d/2),k=Math.sin((u.lng-s.lng)*d/2),X=R*R+Math.cos(_)*Math.cos(T)*k*k,tt=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*tt}}),Ae=6378137,ur={R:Ae,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,s.lat),-d),T=Math.sin(_*u);return new pt(this.R*s.lng*u,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(s){var u=180/Math.PI;return new Tt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=Ae*Math.PI;return new j([-s,-s],[s,s])})()};function Dr(s,u,d,_){if(st(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=_}Dr.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new pt((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Vi(s,u,d,_){return new Dr(s,u,d,_)}var Mr=l({},Te,{code:"EPSG:3857",projection:ur,transformation:(function(){var s=.5/(Math.PI*ur.R);return Vi(s,.5,-s,.5)})()}),zi=l({},Mr,{code:"EPSG:900913"});function Qs(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Lr(s,u){var d="",_,T,R,k,X,tt;for(_=0,R=s.length;_<R;_++){for(X=s[_],T=0,k=X.length;T<k;T++)tt=X[T],d+=(T?"L":"M")+tt.x+" "+tt.y;d+=u?Ct.svg?"z":"x":""}return d||"M0 0"}var cs=document.documentElement.style,Or="ActiveXObject"in window,Fe=Or&&!document.addEventListener,qe="msLaunchUri"in navigator&&!("documentMode"in document),Ui=gn("webkit"),el=gn("android"),no=gn("android 2")||gn("android 3"),Sn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),hs=el&&gn("Google")&&Sn<537&&!("AudioNode"in window),fs=!!window.opera,Ys=!qe&&gn("chrome"),cr=gn("gecko")&&!Ui&&!fs&&!Or,yu=!Ys&&gn("safari"),io=gn("phantom"),ro="OTransition"in cs,nl=navigator.platform.indexOf("Win")===0,Xn=Or&&"transition"in cs,We="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!no,Fn="MozPerspective"in cs,ze=!window.L_DISABLE_3D&&(Xn||We||Fn)&&!ro&&!io,Pr=typeof orientation<"u"||gn("mobile"),Xs=Pr&&Ui,il=Pr&&We,gi=!window.PointerEvent&&window.MSPointerEvent,kr=!!(window.PointerEvent||gi),Ue="ontouchstart"in window||!!window.TouchEvent,ji=!window.L_NO_TOUCH&&(Ue||kr),Bi=Pr&&fs,_i=Pr&&cr,vu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,rl=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",A,u),window.removeEventListener("testPassiveEventSupport",A,u)}catch{}return s})(),Hi=(function(){return!!document.createElement("canvas").getContext})(),hr=!!(document.createElementNS&&Qs("svg").createSVGRect),Eu=!!hr&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ds=!hr&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),so=navigator.platform.indexOf("Mac")===0,ao=navigator.platform.indexOf("Linux")===0;function gn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ct={ie:Or,ielt9:Fe,edge:qe,webkit:Ui,android:el,android23:no,androidStock:hs,opera:fs,chrome:Ys,gecko:cr,safari:yu,phantom:io,opera12:ro,win:nl,ie3d:Xn,webkit3d:We,gecko3d:Fn,any3d:ze,mobile:Pr,mobileWebkit:Xs,mobileWebkit3d:il,msPointer:gi,pointer:kr,touch:ji,touchNative:Ue,mobileOpera:Bi,mobileGecko:_i,retina:vu,passiveEvents:rl,canvas:Hi,svg:hr,vml:ds,inlineSvg:Eu,mac:so,linux:ao},oo=Ct.msPointer?"MSPointerDown":"pointerdown",Wn=Ct.msPointer?"MSPointerMove":"pointermove",Jn=Ct.msPointer?"MSPointerUp":"pointerup",je=Ct.msPointer?"MSPointerCancel":"pointercancel",Ge={touchstart:oo,touchmove:Wn,touchend:Jn,touchcancel:je},yi={touchstart:qi,touchmove:_n,touchend:_n,touchcancel:_n},vi={},sl=!1;function al(s,u,d){return u==="touchstart"&&$n(),yi[u]?(d=yi[u].bind(this,d),s.addEventListener(Ge[u],d,!1),d):(console.warn("wrong event specified:",u),A)}function ol(s,u,d){if(!Ge[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(Ge[u],d,!1)}function Fi(s){vi[s.pointerId]=s}function Ws(s){vi[s.pointerId]&&(vi[s.pointerId]=s)}function Ei(s){delete vi[s.pointerId]}function $n(){sl||(document.addEventListener(oo,Fi,!0),document.addEventListener(Wn,Ws,!0),document.addEventListener(Jn,Ei,!0),document.addEventListener(je,Ei,!0),sl=!0)}function _n(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in vi)u.touches.push(vi[d]);u.changedTouches=[u],s(u)}}function qi(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Oe(u),_n(s,u)}function Ze(s){var u={},d,_;for(_ in s)d=s[_],u[_]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var lo=200;function uo(s,u){s.addEventListener("dblclick",u);var d=0,_;function T(R){if(R.detail!==1){_=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var k=Br(R);if(!(k.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!k.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var X=Date.now();X-d<=lo?(_++,_===2&&u(Ze(R))):_=1,d=X}}}return s.addEventListener("click",T),{dblclick:u,simDblclick:T}}function Gi(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var ti=ps(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fr=ps(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Js=fr==="webkitTransition"||fr==="OTransition"?fr+"End":"transitionend";function $s(s){return typeof s=="string"?document.getElementById(s):s}function Vr(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);d=_?_[u]:null}return d==="auto"?null:d}function Yt(s,u,d){var _=document.createElement(s);return _.className=u||"",d&&d.appendChild(_),_}function Xt(s){var u=s.parentNode;u&&u.removeChild(s)}function Me(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Le(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function qn(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function ms(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=Zi(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function St(s,u){if(s.classList!==void 0)for(var d=Q(u),_=0,T=d.length;_<T;_++)s.classList.add(d[_]);else if(!ms(s,u)){var R=Zi(s);ei(s,(R?R+" ":"")+u)}}function ye(s,u){s.classList!==void 0?s.classList.remove(u):ei(s,B((" "+Zi(s)+" ").replace(" "+u+" "," ")))}function ei(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Zi(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ce(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&ta(s,u)}function ta(s,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function ps(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function bi(s,u,d){var _=u||new pt(0,0);s.style[ti]=(Ct.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function ve(s,u){s._leaflet_pos=u,Ct.any3d?bi(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function Ki(s){return s._leaflet_pos||new pt(0,0)}var ni,en,ea;if("onselectstart"in document)ni=function(){Pt(window,"selectstart",Oe)},en=function(){he(window,"selectstart",Oe)};else{var dr=ps(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ni=function(){if(dr){var s=document.documentElement.style;ea=s[dr],s[dr]="none"}},en=function(){dr&&(document.documentElement.style[dr]=ea,ea=void 0)}}function gs(){Pt(window,"dragstart",Oe)}function zr(){he(window,"dragstart",Oe)}var _s,Qi;function Ur(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Mn(),_s=s,Qi=s.style.outlineStyle,s.style.outlineStyle="none",Pt(window,"keydown",Mn))}function Mn(){_s&&(_s.style.outlineStyle=Qi,_s=void 0,Qi=void 0,he(window,"keydown",Mn))}function na(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ln(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var jr={__proto__:null,TRANSFORM:ti,TRANSITION:fr,TRANSITION_END:Js,get:$s,getStyle:Vr,create:Yt,remove:Xt,empty:Me,toFront:Le,toBack:qn,hasClass:ms,addClass:St,removeClass:ye,setClass:ei,getClass:Zi,setOpacity:Ce,testProp:ps,setTransform:bi,setPosition:ve,getPosition:Ki,get disableTextSelection(){return ni},get enableTextSelection(){return en},disableImageDrag:gs,enableImageDrag:zr,preventOutline:Ur,restoreOutline:Mn,getSizedParentNode:na,getScale:Ln};function Pt(s,u,d,_){if(u&&typeof u=="object")for(var T in u)On(s,T,u[T],d);else{u=Q(u);for(var R=0,k=u.length;R<k;R++)On(s,u[R],d,_)}return this}var yn="_leaflet_events";function he(s,u,d,_){if(arguments.length===1)mr(s),delete s[yn];else if(u&&typeof u=="object")for(var T in u)pr(s,T,u[T],d);else if(u=Q(u),arguments.length===2)mr(s,function(X){return Rt(u,X)!==-1});else for(var R=0,k=u.length;R<k;R++)pr(s,u[R],d,_);return this}function mr(s,u){for(var d in s[yn]){var _=d.split(/\d/)[0];(!u||u(_))&&pr(s,_,null,null,d)}}var Gn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function On(s,u,d,_){var T=u+y(d)+(_?"_"+y(_):"");if(s[yn]&&s[yn][T])return this;var R=function(X){return d.call(_||s,X||window.event)},k=R;!Ct.touchNative&&Ct.pointer&&u.indexOf("touch")===0?R=al(s,u,R):Ct.touch&&u==="dblclick"?R=uo(s,R):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Gn[u]||u,R,Ct.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(R=function(X){X=X||window.event,xi(s,X)&&k(X)},s.addEventListener(Gn[u],R,!1)):s.addEventListener(u,k,!1):s.attachEvent("on"+u,R),s[yn]=s[yn]||{},s[yn][T]=R}function pr(s,u,d,_,T){T=T||u+y(d)+(_?"_"+y(_):"");var R=s[yn]&&s[yn][T];if(!R)return this;!Ct.touchNative&&Ct.pointer&&u.indexOf("touch")===0?ol(s,u,R):Ct.touch&&u==="dblclick"?Gi(s,R):"removeEventListener"in s?s.removeEventListener(Gn[u]||u,R,!1):s.detachEvent("on"+u,R),s[yn][T]=null}function ee(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ii(s){return On(s,"wheel",ee),this}function gr(s){return Pt(s,"mousedown touchstart dblclick contextmenu",ee),s._leaflet_disable_click=!0,this}function Oe(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Ti(s){return Oe(s),ee(s),this}function Br(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function Yi(s,u){if(!u)return new pt(s.clientX,s.clientY);var d=Ln(u),_=d.boundingClientRect;return new pt((s.clientX-_.left)/d.x-u.clientLeft,(s.clientY-_.top)/d.y-u.clientTop)}var wi=Ct.linux&&Ct.chrome?window.devicePixelRatio:Ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nn(s){return Ct.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/wi:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function xi(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var Xi={__proto__:null,on:Pt,off:he,stopPropagation:ee,disableScrollPropagation:ii,disableClickPropagation:gr,preventDefault:Oe,stop:Ti,getPropagationPath:Br,getMousePosition:Yi,getWheelDelta:nn,isExternalTarget:xi,addListener:Pt,removeListener:he},_r=vt.extend({run:function(s,u,d,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Ki(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),ve(this._el,d),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Qt=vt.extend({options:{crs:Mr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=F(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(bt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fr&&Ct.any3d&&!Ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pt(this._proxy,Js,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(bt(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var _=this.getZoomScale(u),T=this.getSize().divideBy(2),R=s instanceof pt?s:this.latLngToContainerPoint(s),k=R.subtract(T).multiplyBy(1-1/_),X=this.containerPointToLatLng(T.add(k));return this.setView(X,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():_t(s);var d=wt(u.paddingTopLeft||u.padding||[0,0]),_=wt(u.paddingBottomRight||u.padding||[0,0]),T=this.getBoundsZoom(s,!1,d.add(_));if(T=typeof u.maxZoom=="number"?Math.min(u.maxZoom,T):T,T===1/0)return{center:s.getCenter(),zoom:T};var R=_.subtract(d).divideBy(2),k=this.project(s.getSouthWest(),T),X=this.project(s.getNorthEast(),T),tt=this.unproject(k.add(X).divideBy(2).add(R),T);return{center:tt,zoom:T}},fitBounds:function(s,u){if(s=_t(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=wt(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _r,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!Ct.any3d)return this.setView(s,u,d);this._stop();var _=this.project(this.getCenter()),T=this.project(s),R=this.getSize(),k=this._zoom;s=bt(s),u=u===void 0?k:u;var X=Math.max(R.x,R.y),tt=X*this.getZoomScale(k,u),ft=T.distanceTo(_)||1,Et=1.42,Mt=Et*Et;function Zt(Be){var Tr=Be?-1:1,xs=Be?tt:X,Au=tt*tt-X*X+Tr*Mt*Mt*ft*ft,No=2*xs*Mt*ft,Do=Au/No,Wr=Math.sqrt(Do*Do+1)-Do,wr=Wr<1e-9?-18:Math.log(Wr);return wr}function fn(Be){return(Math.exp(Be)-Math.exp(-Be))/2}function Ke(Be){return(Math.exp(Be)+Math.exp(-Be))/2}function Qn(Be){return fn(Be)/Ke(Be)}var fe=Zt(0);function de(Be){return X*(Ke(fe)/Ke(fe+Et*Be))}function Wt(Be){return X*(Ke(fe)*Qn(fe+Et*Be)-fn(fe))/Mt}function Yr(Be){return 1-Math.pow(1-Be,1.5)}var li=Date.now(),El=(Zt(1)-fe)/Et,Xr=d.duration?1e3*d.duration:1e3*El*.8;function Su(){var Be=(Date.now()-li)/Xr,Tr=Yr(Be)*El;Be<=1?(this._flyToFrame=O(Su,this),this._move(this.unproject(_.add(T.subtract(_).multiplyBy(Wt(Tr)/ft)),k),this.getScaleZoom(X/de(Tr),k),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Su.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=_t(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,_t(s));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=wt(u.paddingTopLeft||u.padding||[0,0]),_=wt(u.paddingBottomRight||u.padding||[0,0]),T=this.project(this.getCenter()),R=this.project(s),k=this.getPixelBounds(),X=ot([k.min.add(d),k.max.subtract(_)]),tt=X.getSize();if(!X.contains(R)){this._enforcingBounds=!0;var ft=R.subtract(X.getCenter()),Et=X.extend(R).getSize().subtract(tt);T.x+=ft.x<0?-Et.x:Et.x,T.y+=ft.y<0?-Et.y:Et.y,this.panTo(this.unproject(T),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),T=d.divideBy(2).round(),R=_.subtract(T);return!R.x&&!R.y?this:(s.animate&&s.pan?this.panBy(R):(s.pan&&this._rawPanBy(R),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,_=new Tt(u,d),T=_.toBounds(s.coords.accuracy*2),R=this._locateOptions;if(R.setView){var k=this.getBoundsZoom(T);this.setView(_,R.maxZoom?Math.min(k,R.maxZoom):k)}var X={latlng:_,bounds:T,timestamp:s.timestamp};for(var tt in s.coords)typeof s.coords[tt]=="number"&&(X[tt]=s.coords[tt]);this.fire("locationfound",X)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Xt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Yt("div",d,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new gt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=_t(s),d=wt(d||[0,0]);var _=this.getZoom()||0,T=this.getMinZoom(),R=this.getMaxZoom(),k=s.getNorthWest(),X=s.getSouthEast(),tt=this.getSize().subtract(d),ft=ot(this.project(X,_),this.project(k,_)).getSize(),Et=Ct.any3d?this.options.zoomSnap:1,Mt=tt.x/ft.x,Zt=tt.y/ft.y,fn=u?Math.max(Mt,Zt):Math.min(Mt,Zt);return _=this.getScaleZoom(fn,_),Et&&(_=Math.round(_/(Et/100))*(Et/100),_=u?Math.ceil(_/Et)*Et:Math.floor(_/Et)*Et),Math.max(T,Math.min(R,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new j(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(s*d.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(bt(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(wt(s),u)},layerPointToLatLng:function(s){var u=wt(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(bt(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(bt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(_t(s))},distance:function(s,u){return this.options.crs.distance(bt(s),bt(u))},containerPointToLayerPoint:function(s){return wt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return wt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(wt(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(bt(s)))},mouseEventToContainerPoint:function(s){return Yi(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=$s(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ct.any3d,St(s,"leaflet-container"+(Ct.touch?" leaflet-touch":"")+(Ct.retina?" leaflet-retina":"")+(Ct.ielt9?" leaflet-oldie":"")+(Ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Vr(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(s.markerPane,"leaflet-zoom-hide"),St(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){ve(this._mapPane,new pt(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var T=this._zoom!==u;this._moveStart(T,d)._move(s,u)._moveEnd(T),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,_){u===void 0&&(u=this._zoom);var T=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?d&&d.pinch&&this.fire("zoom",d):((T||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ve(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[y(this._container)]=this;var u=s?he:Pt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ct.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=O(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],_,T=u==="mouseout"||u==="mouseover",R=s.target||s.srcElement,k=!1;R;){if(_=this._targets[y(R)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){k=!0;break}if(_&&_.listens(u,!0)&&(T&&!xi(R,s)||(d.push(_),T))||R===this._container)break;R=R.parentNode}return!d.length&&!k&&!T&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&Ur(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var _=l({},s);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var T=this._findEventTargets(s,u);if(d){for(var R=[],k=0;k<d.length;k++)d[k].listens(u,!0)&&R.push(d[k]);T=R.concat(T)}if(T.length){u==="contextmenu"&&Oe(s);var X=T[0],tt={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ft=X.getLatLng&&(!X._radius||X._radius<=10);tt.containerPoint=ft?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(s),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=ft?X.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(k=0;k<T.length;k++)if(T[k].fire(u,tt,!0),tt.originalEvent._stopped||T[k].options.bubblingMouseEvents===!1&&Rt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return Ki(this._mapPane)||new pt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return ot([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var _=this.project(s,u),T=this.getSize().divideBy(2),R=new j(_.subtract(T),_.add(T)),k=this._getBoundsOffset(R,d,u);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?s:this.unproject(_.add(k),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),_=new j(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,d){var _=ot(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),T=_.min.subtract(s.min),R=_.max.subtract(s.max),k=this._rebound(T.x,-R.x),X=this._rebound(T.y,-R.y);return new pt(k,X)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),_=Ct.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=Yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=ti,_=this._proxy.style[d];bi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();bi(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),T=this._getCenterOffset(s)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(T)?!1:(O(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Hr(s,u){return new Qt(s,u)}var vn=oe.extend({options:{position:"topright"},initialize:function(s){F(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),_=s._controlCorners[d];return St(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Pn=function(s){return new vn(s)};Qt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=Yt("div",u+"control-container",this._container);function _(T,R){var k=u+T+" "+u+R;s[T+R]=Yt("div",k,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Xt(this._controlCorners[s]);Xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ys=vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(s,u,d){F(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return vn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Yt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),gr(u),ii(u);var _=this._section=Yt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Pt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=Yt("a",s+"-toggle",u);T.href="#",T.title="Layers",T.setAttribute("role","button"),Pt(T,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Oe(R),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Yt("div",s+"-base",_),this._separator=Yt("div",s+"-separator",_),this._overlaysList=Yt("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(_,T){return this.options.sortFunction(_.layer,T.layer,_.name,T.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Me(this._baseLayersList),Me(this._overlaysList),this._layerControlInputs=[];var s,u,d,_,T=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,T+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&T>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(y(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(_),_.layerId=y(s.layer),Pt(_,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+s.name;var R=document.createElement("span");u.appendChild(R),R.appendChild(_),R.appendChild(T);var k=s.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,_=[],T=[];this._handlingClick=!0;for(var R=s.length-1;R>=0;R--)u=s[R],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||T.push(d);for(R=0;R<T.length;R++)this._map.hasLayer(T[R])&&this._map.removeLayer(T[R]);for(R=0;R<_.length;R++)this._map.hasLayer(_[R])||this._map.addLayer(_[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,_=this._map.getZoom(),T=s.length-1;T>=0;T--)u=s[T],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Pt(s,"click",Oe),this.expand();var u=this;setTimeout(function(){he(s,"click",Oe),u._preventClick=!1})}}),co=function(s,u,d){return new ys(s,u,d)},yr=vn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=Yt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,_,T){var R=Yt("a",d,_);return R.innerHTML=s,R.href="#",R.title=u,R.setAttribute("role","button"),R.setAttribute("aria-label",u),gr(R),Pt(R,"click",Ti),Pt(R,"click",T,this),Pt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";ye(this._zoomInButton,u),ye(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(St(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(St(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qt.mergeOptions({zoomControl:!0}),Qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yr,this.addControl(this.zoomControl))});var ll=function(s){return new yr(s)},ho=vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=Yt("div",u),_=this.options;return this._addScales(_,u+"-line",d),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=Yt("div",u,d)),s.imperial&&(this._iScale=Yt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,_,T;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(T=this._getRoundNum(u),this._updateScale(this._iScale,T+" ft",T/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),vs=function(s){return new ho(s)},fo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ia=vn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ct.inlineSvg?fo+" ":"")+"Leaflet</a>"},initialize:function(s){F(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Yt("div","leaflet-control-attribution"),gr(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Qt.mergeOptions({attributionControl:!0}),Qt.addInitHook(function(){this.options.attributionControl&&new ia().addTo(this)});var ra=function(s){return new ia(s)};vn.Layers=ys,vn.Zoom=yr,vn.Scale=ho,vn.Attribution=ia,Pn.layers=co,Pn.zoom=ll,Pn.scale=vs,Pn.attribution=ra;var Zn=oe.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zn.addTo=function(s,u){return s.addHandler(u,this),this};var ul={Events:rt},Si=Ct.touch?"touchstart mousedown":"mousedown",Ai=vt.extend({options:{clickTolerance:3},initialize:function(s,u,d,_){F(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(Pt(this._dragStartTarget,Si,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ai._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,Si,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!ms(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ai._dragging===this&&this.finishDrag();return}if(!(Ai._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ai._dragging=this,this._preventOutline&&Ur(this._element),gs(),ni(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=na(this._element);this._startPoint=new pt(u.clientX,u.clientY),this._startPos=Ki(this._element),this._parentScale=Ln(d);var _=s.type==="mousedown";Pt(document,_?"mousemove":"touchmove",this._onMove,this),Pt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new pt(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Oe(s),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ve(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),zr(),en();var u=this._moved&&this._moving;this._moving=!1,Ai._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function mo(s,u,d){var _,T=[1,4,2,8],R,k,X,tt,ft,Et,Mt,Zt;for(R=0,Et=s.length;R<Et;R++)s[R]._code=nt(s[R],u);for(X=0;X<4;X++){for(Mt=T[X],_=[],R=0,Et=s.length,k=Et-1;R<Et;k=R++)tt=s[R],ft=s[k],tt._code&Mt?ft._code&Mt||(Zt=W(ft,tt,Mt,u,d),Zt._code=nt(Zt,u),_.push(Zt)):(ft._code&Mt&&(Zt=W(ft,tt,Mt,u,d),Zt._code=nt(Zt,u),_.push(Zt)),_.push(tt));s=_}return s}function po(s,u){var d,_,T,R,k,X,tt,ft,Et;if(!s||s.length===0)throw new Error("latlngs not passed");le(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Mt=bt([0,0]),Zt=_t(s),fn=Zt.getNorthWest().distanceTo(Zt.getSouthWest())*Zt.getNorthEast().distanceTo(Zt.getNorthWest());fn<1700&&(Mt=sa(s));var Ke=s.length,Qn=[];for(d=0;d<Ke;d++){var fe=bt(s[d]);Qn.push(u.project(bt([fe.lat-Mt.lat,fe.lng-Mt.lng])))}for(X=tt=ft=0,d=0,_=Ke-1;d<Ke;_=d++)T=Qn[d],R=Qn[_],k=T.y*R.x-R.y*T.x,tt+=(T.x+R.x)*k,ft+=(T.y+R.y)*k,X+=k*3;X===0?Et=Qn[0]:Et=[tt/X,ft/X];var de=u.unproject(wt(Et));return bt([de.lat+Mt.lat,de.lng+Mt.lng])}function sa(s){for(var u=0,d=0,_=0,T=0;T<s.length;T++){var R=bt(s[T]);u+=R.lat,d+=R.lng,_++}return bt([u/_,d/_])}var Fr={__proto__:null,clipPolygon:mo,polygonCenter:po,centroid:sa};function En(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=b(s,d),s=vr(s,d),s}function go(s,u,d){return Math.sqrt(Ut(s,u,d,!0))}function cl(s,u,d){return Ut(s,u,d)}function vr(s,u){var d=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,T=new _(d);T[0]=T[d-1]=1,f(s,T,u,0,d-1);var R,k=[];for(R=0;R<d;R++)T[R]&&k.push(s[R]);return k}function f(s,u,d,_,T){var R=0,k,X,tt;for(X=_+1;X<=T-1;X++)tt=Ut(s[X],s[_],s[T],!0),tt>R&&(k=X,R=tt);R>d&&(u[k]=1,f(s,u,d,_,k),f(s,u,d,k,T))}function b(s,u){for(var d=[s[0]],_=1,T=0,R=s.length;_<R;_++)yt(s[_],s[T])>u&&(d.push(s[_]),T=_);return T<R-1&&d.push(s[R-1]),d}var x;function N(s,u,d,_,T){var R=_?x:nt(s,d),k=nt(u,d),X,tt,ft;for(x=k;;){if(!(R|k))return[s,u];if(R&k)return!1;X=R||k,tt=W(s,u,X,d,T),ft=nt(tt,d),X===R?(s=tt,R=ft):(u=tt,k=ft)}}function W(s,u,d,_,T){var R=u.x-s.x,k=u.y-s.y,X=_.min,tt=_.max,ft,Et;return d&8?(ft=s.x+R*(tt.y-s.y)/k,Et=tt.y):d&4?(ft=s.x+R*(X.y-s.y)/k,Et=X.y):d&2?(ft=tt.x,Et=s.y+k*(tt.x-s.x)/R):d&1&&(ft=X.x,Et=s.y+k*(X.x-s.x)/R),new pt(ft,Et,T)}function nt(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function yt(s,u){var d=u.x-s.x,_=u.y-s.y;return d*d+_*_}function Ut(s,u,d,_){var T=u.x,R=u.y,k=d.x-T,X=d.y-R,tt=k*k+X*X,ft;return tt>0&&(ft=((s.x-T)*k+(s.y-R)*X)/tt,ft>1?(T=d.x,R=d.y):ft>0&&(T+=k*ft,R+=X*ft)),k=s.x-T,X=s.y-R,_?k*k+X*X:new pt(T,R)}function le(s){return!st(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ue(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),le(s)}function Re(s,u){var d,_,T,R,k,X,tt,ft;if(!s||s.length===0)throw new Error("latlngs not passed");le(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Et=bt([0,0]),Mt=_t(s),Zt=Mt.getNorthWest().distanceTo(Mt.getSouthWest())*Mt.getNorthEast().distanceTo(Mt.getNorthWest());Zt<1700&&(Et=sa(s));var fn=s.length,Ke=[];for(d=0;d<fn;d++){var Qn=bt(s[d]);Ke.push(u.project(bt([Qn.lat-Et.lat,Qn.lng-Et.lng])))}for(d=0,_=0;d<fn-1;d++)_+=Ke[d].distanceTo(Ke[d+1])/2;if(_===0)ft=Ke[0];else for(d=0,R=0;d<fn-1;d++)if(k=Ke[d],X=Ke[d+1],T=k.distanceTo(X),R+=T,R>_){tt=(R-_)/T,ft=[X.x-tt*(X.x-k.x),X.y-tt*(X.y-k.y)];break}var fe=u.unproject(wt(ft));return bt([fe.lat+Et.lat,fe.lng+Et.lng])}var ri={__proto__:null,simplify:En,pointToSegmentDistance:go,closestPointOnSegment:cl,clipSegment:N,_getEdgeIntersection:W,_getBitCode:nt,_sqClosestPointOnSegment:Ut,isFlat:le,_flat:ue,polylineCenter:Re},si={project:function(s){return new pt(s.lng,s.lat)},unproject:function(s){return new Tt(s.y,s.x)},bounds:new j([-180,-90],[180,90])},Kn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new j([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,_=s.lat*u,T=this.R_MINOR/d,R=Math.sqrt(1-T*T),k=R*Math.sin(_),X=Math.tan(Math.PI/4-_/2)/Math.pow((1-k)/(1+k),R/2);return _=-d*Math.log(Math.max(X,1e-10)),new pt(s.lng*u*d,_)},unproject:function(s){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,T=Math.sqrt(1-_*_),R=Math.exp(-s.y/d),k=Math.PI/2-2*Math.atan(R),X=0,tt=.1,ft;X<15&&Math.abs(tt)>1e-7;X++)ft=T*Math.sin(k),ft=Math.pow((1-ft)/(1+ft),T/2),tt=Math.PI/2-2*Math.atan(R*ft)-k,k+=tt;return new Tt(k*u,s.x*u/d)}},Ci={__proto__:null,LonLat:si,Mercator:Kn,SphericalMercator:ur},Es=l({},Te,{code:"EPSG:3395",projection:Kn,transformation:(function(){var s=.5/(Math.PI*Kn.R);return Vi(s,.5,-s,.5)})()}),bs=l({},Te,{code:"EPSG:4326",projection:si,transformation:Vi(1/180,1,-1/180,.5)}),aa=l({},Ht,{projection:si,transformation:Vi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(d*d+_*_)},infinite:!0});Ht.Earth=Te,Ht.EPSG3395=Es,Ht.EPSG3857=Mr,Ht.EPSG900913=zi,Ht.EPSG4326=bs,Ht.Simple=aa;var Ri=vt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[y(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[y(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Qt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=y(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return y(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?st(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[y(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=y(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var T=this._zoomBoundLayers[_].options;s=T.minZoom===void 0?s:Math.min(s,T.minZoom),u=T.maxZoom===void 0?u:Math.max(u,T.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var oa=Ri.extend({initialize:function(s,u){F(this,u),this._layers={};var d,_;if(s)for(d=0,_=s.length;d<_;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return y(s)}}),cd=function(s,u){return new oa(s,u)},Wi=oa.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),oa.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),oa.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new gt;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),Fc=function(s,u){return new Wi(s,u)},Ji=oe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){F(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var T=wt(_),R=wt(u==="shadow"&&d.shadowAnchor||d.iconAnchor||T&&T.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),R&&(s.style.marginLeft=-R.x+"px",s.style.marginTop=-R.y+"px"),T&&(s.style.width=T.x+"px",s.style.height=T.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Ct.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function _o(s){return new Ji(s)}var yo=Ji.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof yo.imagePath!="string"&&(yo.imagePath=this._detectIconPath()),(this.options.imagePath||yo.imagePath)+Ji.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,_,T){var R=_.exec(d);return R&&R[T]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Yt("div","leaflet-default-icon-path",document.body),u=Vr(s,"background-image")||Vr(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),vo=Zn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ai(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,R=Ki(u._icon),k=d.getPixelBounds(),X=d.getPixelOrigin(),tt=ot(k.min._subtract(X).add(T),k.max._subtract(X).subtract(T));if(!tt.contains(R)){var ft=wt((Math.max(tt.max.x,R.x)-tt.max.x)/(k.max.x-tt.max.x)-(Math.min(tt.min.x,R.x)-tt.min.x)/(k.min.x-tt.min.x),(Math.max(tt.max.y,R.y)-tt.max.y)/(k.max.y-tt.max.y)-(Math.min(tt.min.y,R.y)-tt.min.y)/(k.min.y-tt.min.y)).multiplyBy(_);d.panBy(ft,{animate:!1}),this._draggable._newPos._add(ft),this._draggable._startPos._add(ft),ve(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=O(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,_=Ki(u._icon),T=u._map.layerPointToLatLng(_);d&&ve(d,_),u._latlng=T,s.latlng=T,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Eo=Ri.extend({options:{icon:new yo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){F(this,u),this._latlng=bt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=bt(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),St(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(d,"focus",this._panOnFocus,this);var T=s.icon.createShadow(this._shadow),R=!1;T!==this._shadow&&(this._removeShadow(),R=!0),T&&(St(T,u),T.alt=""),this._shadow=T,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&R&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),Xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ve(this._icon,s),this._shadow&&ve(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vo)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vo(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ce(this._icon,s),this._shadow&&Ce(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?wt(u.iconSize):wt(0,0),_=u.iconAnchor?wt(u.iconAnchor):wt(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qc(s,u){return new Eo(s,u)}var $i=Ri.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return F(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),la=$i.extend({options:{fill:!0,radius:10},initialize:function(s,u){F(this,u),this._latlng=bt(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=bt(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return $i.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),_=[s+d,u+d];this._pxBounds=new j(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gc(s,u){return new la(s,u)}var hl=la.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),F(this,u),this._latlng=bt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new gt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:$i.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===Te.distance){var T=Math.PI/180,R=this._mRadius/Te.R/T,k=d.project([u+R,s]),X=d.project([u-R,s]),tt=k.add(X).divideBy(2),ft=d.unproject(tt).lat,Et=Math.acos((Math.cos(R*T)-Math.sin(u*T)*Math.sin(ft*T))/(Math.cos(u*T)*Math.cos(ft*T)))/T;(isNaN(Et)||Et===0)&&(Et=R/Math.cos(Math.PI/180*u)),this._point=tt.subtract(d.getPixelOrigin()),this._radius=isNaN(Et)?0:tt.x-d.project([ft,s-Et]).x,this._radiusY=tt.y-k.y}else{var Mt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Mt).x}this._updateBounds()}});function Zc(s,u,d){return new hl(s,u,d)}var Er=$i.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){F(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,_=Ut,T,R,k=0,X=this._parts.length;k<X;k++)for(var tt=this._parts[k],ft=1,Et=tt.length;ft<Et;ft++){T=tt[ft-1],R=tt[ft];var Mt=_(s,T,R,!0);Mt<u&&(u=Mt,d=_(s,T,R))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Re(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=bt(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new gt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return le(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=le(s),_=0,T=s.length;_<T;_++)d?(u[_]=bt(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new pt(s,s);this._rawPxBounds&&(this._pxBounds=new j([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var _=s[0]instanceof Tt,T=s.length,R,k;if(_){for(k=[],R=0;R<T;R++)k[R]=this._map.latLngToLayerPoint(s[R]),d.extend(k[R]);u.push(k)}else for(R=0;R<T;R++)this._projectLatlngs(s[R],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,T,R,k,X,tt;for(d=0,T=0,R=this._rings.length;d<R;d++)for(tt=this._rings[d],_=0,k=tt.length;_<k-1;_++)X=N(tt[_],tt[_+1],s,_,!0),X&&(u[T]=u[T]||[],u[T].push(X[0]),(X[1]!==tt[_+1]||_===k-2)&&(u[T].push(X[1]),T++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,_=s.length;d<_;d++)s[d]=En(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,_,T,R,k,X,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,R=this._parts.length;d<R;d++)for(X=this._parts[d],_=0,k=X.length,T=k-1;_<k;T=_++)if(!(!u&&_===0)&&go(s,X[T],X[_])<=tt)return!0;return!1}});function hd(s,u){return new Er(s,u)}Er._flat=ue;var ua=Er.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return po(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=Er.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof Tt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){Er.prototype._setLatLngs.call(this,s),le(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return le(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new pt(u,u);if(s=new j(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,T=this._rings.length,R;_<T;_++)R=mo(this._rings[_],s,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,_,T,R,k,X,tt,ft;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(R=0,tt=this._parts.length;R<tt;R++)for(d=this._parts[R],k=0,ft=d.length,X=ft-1;k<ft;X=k++)_=d[k],T=d[X],_.y>s.y!=T.y>s.y&&s.x<(T.x-_.x)*(s.y-_.y)/(T.y-_.y)+_.x&&(u=!u);return u||Er.prototype._containsPoint.call(this,s,!0)}});function fd(s,u){return new ua(s,u)}var br=Wi.extend({initialize:function(s,u){F(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=st(s)?s:s.features,d,_,T;if(u){for(d=0,_=u.length;d<_;d++)T=u[d],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var R=this.options;if(R.filter&&!R.filter(s))return this;var k=bn(s,R);return k?(k.feature=ml(s),k.defaultOptions=k.options,this.resetStyle(k),R.onEachFeature&&R.onEachFeature(s,k),this.addLayer(k)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function bn(s,u){var d=s.type==="Feature"?s.geometry:s,_=d?d.coordinates:null,T=[],R=u&&u.pointToLayer,k=u&&u.coordsToLatLng||fl,X,tt,ft,Et;if(!_&&!d)return null;switch(d.type){case"Point":return X=k(_),ca(R,s,X,u);case"MultiPoint":for(ft=0,Et=_.length;ft<Et;ft++)X=k(_[ft]),T.push(ca(R,s,X,u));return new Wi(T);case"LineString":case"MultiLineString":return tt=bo(_,d.type==="LineString"?0:1,k),new Er(tt,u);case"Polygon":case"MultiPolygon":return tt=bo(_,d.type==="Polygon"?1:2,k),new ua(tt,u);case"GeometryCollection":for(ft=0,Et=d.geometries.length;ft<Et;ft++){var Mt=bn({geometry:d.geometries[ft],type:"Feature",properties:s.properties},u);Mt&&T.push(Mt)}return new Wi(T);case"FeatureCollection":for(ft=0,Et=d.features.length;ft<Et;ft++){var Zt=bn(d.features[ft],u);Zt&&T.push(Zt)}return new Wi(T);default:throw new Error("Invalid GeoJSON object.")}}function ca(s,u,d,_){return s?s(u,d):new Eo(d,_&&_.markersInheritOptions&&_)}function fl(s){return new Tt(s[1],s[0],s[2])}function bo(s,u,d){for(var _=[],T=0,R=s.length,k;T<R;T++)k=u?bo(s[T],u-1,d):(d||fl)(s[T]),_.push(k);return _}function dl(s,u){return s=bt(s),s.alt!==void 0?[D(s.lng,u),D(s.lat,u),D(s.alt,u)]:[D(s.lng,u),D(s.lat,u)]}function To(s,u,d,_){for(var T=[],R=0,k=s.length;R<k;R++)T.push(u?To(s[R],le(s[R])?0:u-1,d,_):dl(s[R],_));return!u&&d&&T.length>0&&T.push(T[0].slice()),T}function qr(s,u){return s.feature?l({},s.feature,{geometry:u}):ml(u)}function ml(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Gr={toGeoJSON:function(s){return qr(this,{type:"Point",coordinates:dl(this.getLatLng(),s)})}};Eo.include(Gr),hl.include(Gr),la.include(Gr),Er.include({toGeoJSON:function(s){var u=!le(this._latlngs),d=To(this._latlngs,u?1:0,!1,s);return qr(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),ua.include({toGeoJSON:function(s){var u=!le(this._latlngs),d=u&&!le(this._latlngs[0]),_=To(this._latlngs,d?2:u?1:0,!0,s);return u||(_=[_]),qr(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),oa.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),qr(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(T){if(T.toGeoJSON){var R=T.toGeoJSON(s);if(d)_.push(R.geometry);else{var k=ml(R);k.type==="FeatureCollection"?_.push.apply(_,k.features):_.push(k)}}}),d?qr(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function pl(s,u){return new br(s,u)}var wo=pl,ha=Ri.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=_t(u),F(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Le(this._image),this},bringToBack:function(){return this._map&&qn(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=_t(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Yt("img");if(St(u,"leaflet-image-layer"),this._zoomAnimated&&St(u,"leaflet-zoom-animated"),this.options.className&&St(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onload=m(this.fire,this,"load"),u.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;bi(this._image,d,u)},_reset:function(){var s=this._image,u=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();ve(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){Ce(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Kc=function(s,u,d){return new ha(s,u,d)},Zr=ha.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Yt("video");if(St(u,"leaflet-image-layer"),this._zoomAnimated&&St(u,"leaflet-zoom-animated"),this.options.className&&St(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onloadeddata=m(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),_=[],T=0;T<d.length;T++)_.push(d[T].src);this._url=d.length>0?_:[u.src];return}st(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var k=Yt("source");k.src=this._url[R],u.appendChild(k)}}});function fa(s,u,d){return new Zr(s,u,d)}var gl=ha.extend({_initImage:function(){var s=this._image=this._url;St(s,"leaflet-image-layer"),this._zoomAnimated&&St(s,"leaflet-zoom-animated"),this.options.className&&St(s,this.options.className),s.onselectstart=A,s.onmousemove=A}});function Qc(s,u,d){return new gl(s,u,d)}var Tn=Ri.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof Tt||st(s))?(this._latlng=bt(s),F(this,u)):(F(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ce(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ce(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ce(this._container,0),this._removeTimeout=setTimeout(m(Xt,void 0,this._container),200)):Xt(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=bt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Le(this._container),this},bringToBack:function(){return this._map&&qn(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Wi){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=wt(this.options.offset),d=this._getAnchor();this._zoomAnimated?ve(this._container,s.add(d)):u=u.add(s).add(d);var _=this._containerBottom=-u.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});Qt.include({_initOverlay:function(s,u,d,_){var T=u;return T instanceof s||(T=new s(_).setContent(u)),d&&T.setLatLng(d),T}}),Ri.include({_initOverlay:function(s,u,d,_){var T=d;return T instanceof s?(F(T,_),T._source=this):(T=u&&!_?u:new s(_,this),T.setContent(d)),T}});var xo=Tn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Tn.prototype.openOn.call(this,s)},onAdd:function(s){Tn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $i||this._source.on("preclick",ee))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $i||this._source.off("preclick",ee))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Yt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Yt("div",s+"-content-wrapper",u);if(this._contentNode=Yt("div",s+"-content",d),gr(u),ii(this._contentNode),Pt(u,"contextmenu",ee),this._tipContainer=Yt("div",s+"-tip-container",u),this._tip=Yt("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Yt("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Pt(_,"click",function(T){Oe(T),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,T=this.options.maxHeight,R="leaflet-popup-scrolled";T&&_>T?(u.height=T+"px",St(s,R)):ye(s,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();ve(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Vr(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,T=new pt(this._containerLeft,-d-this._containerBottom);T._add(Ki(this._container));var R=s.layerPointToContainerPoint(T),k=wt(this.options.autoPanPadding),X=wt(this.options.autoPanPaddingTopLeft||k),tt=wt(this.options.autoPanPaddingBottomRight||k),ft=s.getSize(),Et=0,Mt=0;R.x+_+tt.x>ft.x&&(Et=R.x+_-ft.x+tt.x),R.x-Et-X.x<0&&(Et=R.x-X.x),R.y+d+tt.y>ft.y&&(Mt=R.y+d-ft.y+tt.y),R.y-Mt-X.y<0&&(Mt=R.y-X.y),(Et||Mt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Et,Mt]))}},_getAnchor:function(){return wt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yc=function(s,u){return new xo(s,u)};Qt.mergeOptions({closePopupOnClick:!0}),Qt.include({openPopup:function(s,u,d){return this._initOverlay(xo,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Ri.include({bindPopup:function(s,u){return this._popup=this._initOverlay(xo,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Wi||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Ti(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof $i)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var So=Tn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Tn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Tn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Tn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Yt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,_=this._map,T=this._container,R=_.latLngToContainerPoint(_.getCenter()),k=_.layerPointToContainerPoint(s),X=this.options.direction,tt=T.offsetWidth,ft=T.offsetHeight,Et=wt(this.options.offset),Mt=this._getAnchor();X==="top"?(u=tt/2,d=ft):X==="bottom"?(u=tt/2,d=0):X==="center"?(u=tt/2,d=ft/2):X==="right"?(u=0,d=ft/2):X==="left"?(u=tt,d=ft/2):k.x<R.x?(X="right",u=0,d=ft/2):(X="left",u=tt+(Et.x+Mt.x)*2,d=ft/2),s=s.subtract(wt(u,d,!0)).add(Et).add(Mt),ye(T,"leaflet-tooltip-right"),ye(T,"leaflet-tooltip-left"),ye(T,"leaflet-tooltip-top"),ye(T,"leaflet-tooltip-bottom"),St(T,"leaflet-tooltip-"+X),ve(T,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ce(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return wt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),dd=function(s,u){return new So(s,u)};Qt.include({openTooltip:function(s,u,d){return this._initOverlay(So,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Ri.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(So,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Wi||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Pt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Pt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,_;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Xc=Ji.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Me(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=wt(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function md(s){return new Xc(s)}Ji.Default=yo;var da=Ri.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){F(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Xt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(qn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof pt?s:new pt(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),_=0,T=u.length,R;_<T;_++)R=u[_].style.zIndex,u[_]!==this._container&&R&&(d=s(d,+R));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ct.ielt9){Ce(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var _ in this._tiles){var T=this._tiles[_];if(!(!T.current||!T.loaded)){var R=Math.min(1,(s-T.loaded)/200);Ce(T.el,R),R<1?u=!0:(T.active?d=!0:this._onOpaqueTile(T),T.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(G(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=Yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(Xt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[s],T=this._map;return _||(_=this._levels[s]={},_.el=Yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=T.project(T.unproject(T.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,T.getCenter(),T.getZoom()),A(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Xt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,_){var T=Math.floor(s/2),R=Math.floor(u/2),k=d-1,X=new pt(+T,+R);X.z=+k;var tt=this._tileCoordsToKey(X),ft=this._tiles[tt];return ft&&ft.active?(ft.retain=!0,!0):(ft&&ft.loaded&&(ft.retain=!0),k>_?this._retainParent(T,R,k,_):!1)},_retainChildren:function(s,u,d,_){for(var T=2*s;T<2*s+2;T++)for(var R=2*u;R<2*u+2;R++){var k=new pt(T,R);k.z=d+1;var X=this._tileCoordsToKey(k),tt=this._tiles[X];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);d+1<_&&this._retainChildren(T,R,d+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,_){var T=Math.round(u);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var R=this.options.updateWhenZooming&&T!==this._tileZoom;(!_||R)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var _=this._map.getZoomScale(d,s.zoom),T=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();Ct.any3d?bi(s.el,T,_):ve(s.el,T)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),T=u.project(s,this._tileZoom).floor(),R=u.getSize().divideBy(_*2);return new j(T.subtract(R),T.add(R))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),T=this._pxBoundsToTileRange(_),R=T.getCenter(),k=[],X=this.options.keepBuffer,tt=new j(T.getBottomLeft().subtract([X,-X]),T.getTopRight().add([X,-X]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ft in this._tiles){var Et=this._tiles[ft].coords;(Et.z!==this._tileZoom||!tt.contains(new pt(Et.x,Et.y)))&&(this._tiles[ft].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var Mt=T.min.y;Mt<=T.max.y;Mt++)for(var Zt=T.min.x;Zt<=T.max.x;Zt++){var fn=new pt(Zt,Mt);if(fn.z=this._tileZoom,!!this._isValidTile(fn)){var Ke=this._tiles[this._tileCoordsToKey(fn)];Ke?Ke.current=!0:k.push(fn)}}if(k.sort(function(fe,de){return fe.distanceTo(R)-de.distanceTo(R)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qn=document.createDocumentFragment();for(Zt=0;Zt<k.length;Zt++)this._addTile(k[Zt],Qn);this._level.el.appendChild(Qn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return _t(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),_=s.scaleBy(d),T=_.add(d),R=u.unproject(_,s.z),k=u.unproject(T,s.z);return[R,k]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new gt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new pt(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(Xt(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){St(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=A,s.onmousemove=A,Ct.ielt9&&this.options.opacity<1&&Ce(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),_=this._tileCoordsToKey(s),T=this.createTile(this._wrapCoords(s),m(this._tileReady,this,s));this._initTile(T),this.createTile.length<2&&O(m(this._tileReady,this,s,null,T)),ve(T,d),this._tiles[_]={el:T,coords:s,current:!0},u.appendChild(T),this.fire("tileloadstart",{tile:T,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var _=this._tileCoordsToKey(s);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ce(d.el,0),G(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(St(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ct.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new pt(this._wrapX?S(s.x,this._wrapX):s.x,this._wrapY?S(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new j(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Wc(s){return new da(s)}var Kr=da.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=F(this,u),u.detectRetina&&Ct.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return Pt(d,"load",m(this._tileOnLoad,this,u,d)),Pt(d,"error",m(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:Ct.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return lt(this._url,l(u,this.options))},_tileOnLoad:function(s,u){Ct.ielt9?setTimeout(m(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=A,u.onerror=A,!u.complete)){u.src=Dt;var d=this._tiles[s].coords;Xt(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",Dt),da.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===Dt))return da.prototype._tileReady.call(this,s,u,d)}});function ai(s,u){return new Kr(s,u)}var Ao=Kr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=F(this,u);var T=u.detectRetina&&Ct.retina?2:1,R=this.getTileSize();d.width=R.x*T,d.height=R.y*T,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Kr.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,_=ot(d.project(u[0]),d.project(u[1])),T=_.min,R=_.max,k=(this._wmsVersion>=1.3&&this._crs===bs?[T.y,T.x,R.y,R.x]:[T.x,T.y,R.x,R.y]).join(","),X=Kr.prototype.getTileUrl.call(this,s);return X+H(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function oi(s,u){return new Ao(s,u)}Kr.WMS=Ao,ai.wms=oi;var kn=Ri.extend({options:{padding:.1},initialize:function(s){F(this,s),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,u),R=_.multiplyBy(-d).add(T).subtract(this._map._getNewPixelOrigin(s,u));Ct.any3d?bi(this._container,R,d):ve(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new j(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),_l=kn.extend({options:{tolerance:0},getEvents:function(){var s=kn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){kn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Pt(s,"mousemove",this._onMouseMove,this),Pt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Xt(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kn.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),_=Ct.retina?2:1;ve(u,s.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){kn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[y(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete s._order,delete this._layers[y(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],_,T;for(T=0;T<u.length;T++){if(_=Number(u[T]),isNaN(_))return;d.push(_)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,_,T,R,k=s._parts,X=k.length,tt=this._ctx;if(X){for(tt.beginPath(),d=0;d<X;d++){for(_=0,T=k[d].length;_<T;_++)R=k[d][_],tt[_?"lineTo":"moveTo"](R.x,R.y);u&&tt.closePath()}this._fillStroke(tt,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,_=Math.max(Math.round(s._radius),1),T=(Math.max(Math.round(s._radiusY),1)||_)/_;T!==1&&(d.save(),d.scale(1,T)),d.beginPath(),d.arc(u.x,u.y/T,_,0,Math.PI*2,!1),T!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,_,T=this._drawFirst;T;T=T.next)d=T.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(ye(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,_,T=this._drawFirst;T;T=T.next)d=T.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(St(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Co(s){return Ct.canvas?new _l(s):null}var Qr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),bu={_initContainer:function(){this._container=Yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(kn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Qr("shape");St(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Qr("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;Xt(u),s.removeInteractiveTarget(u),delete this._layers[y(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,_=s.options,T=s._container;T.stroked=!!_.stroke,T.filled=!!_.fill,_.stroke?(u||(u=s._stroke=Qr("stroke")),T.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=st(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(T.removeChild(u),s._stroke=null),_.fill?(d||(d=s._fill=Qr("fill")),T.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(T.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),_=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Le(s._container)},_bringToBack:function(s){qn(s._container)}},tr=Ct.vml?Qr:Qs,ma=kn.extend({_initContainer:function(){this._container=tr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=tr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xt(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kn.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),ve(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=tr("path");s.options.className&&St(u,s.options.className),s.options.interactive&&St(u,"leaflet-interactive"),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Xt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[y(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Lr(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||d,T="a"+d+","+_+" 0 1,0 ",R=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+T+d*2+",0 "+T+-d*2+",0 ";this._setPath(s,R)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Le(s._path)},_bringToBack:function(s){qn(s._path)}});Ct.vml&&ma.include(bu);function Ro(s){return Ct.svg||Ct.vml?new ma(s):null}Qt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Co(s)||Ro(s)}});var Ts=ua.extend({initialize:function(s,u){ua.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=_t(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function pd(s,u){return new Ts(s,u)}ma.create=tr,ma.pointsToPath=Lr,br.geometryToLayer=bn,br.coordsToLatLng=fl,br.coordsToLatLngs=bo,br.latLngToCoords=dl,br.latLngsToCoords=To,br.getFeature=qr,br.asFeature=ml,Qt.mergeOptions({boxZoom:!0});var Vn=Zn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ni(),gs(),this._startPoint=this._map.mouseEventToContainerPoint(s),Pt(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Yt("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new j(this._point,this._startPoint),d=u.getSize();ve(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Xt(this._box),ye(this._container,"leaflet-crosshair")),en(),zr(),he(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var u=new gt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qt.addInitHook("addHandler","boxZoom",Vn),Qt.mergeOptions({doubleClickZoom:!0});var yl=Zn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,T=s.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(T):u.setZoomAround(s.containerPoint,T)}});Qt.addInitHook("addHandler","doubleClickZoom",yl),Qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var er=Zn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ai(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=_t(this._map.options.maxBounds);this._offsetLimit=ot(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,T=(_-u+d)%s+u-d,R=(_+u+d)%s-u-d,k=Math.abs(T+d)<Math.abs(R+d)?T:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(s){var u=this._map,d=u.options,_=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,k=d.easeLinearity,X=T.multiplyBy(k/R),tt=X.distanceTo([0,0]),ft=Math.min(d.inertiaMaxSpeed,tt),Et=X.multiplyBy(ft/tt),Mt=ft/(d.inertiaDeceleration*k),Zt=Et.multiplyBy(-Mt/2).round();!Zt.x&&!Zt.y?u.fire("moveend"):(Zt=u._limitOffset(Zt,u.options.maxBounds),O(function(){u.panBy(Zt,{duration:Mt,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});Qt.addInitHook("addHandler","dragging",er),Qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Tu=Zn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Pt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,_,T;for(_=0,T=d.left.length;_<T;_++)u[d.left[_]]=[-1*s,0];for(_=0,T=d.right.length;_<T;_++)u[d.right[_]]=[s,0];for(_=0,T=d.down.length;_<T;_++)u[d.down[_]]=[0,s];for(_=0,T=d.up.length;_<T;_++)u[d.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,_,T;for(_=0,T=d.zoomIn.length;_<T;_++)u[d.zoomIn[_]]=s;for(_=0,T=d.zoomOut.length;_<T;_++)u[d.zoomOut[_]]=-s},_addHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=wt(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(wt(_),d.options.maxBounds)),d.options.worldCopyJump){var T=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(T)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Ti(s)}}});Qt.addInitHook("addHandler","keyboard",Tu),Qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Io=Zn.extend({addHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=nn(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),_),Ti(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,R=d?Math.ceil(T/d)*d:T,k=s._limitZoom(u+(this._delta>0?R:-R))-u;this._delta=0,this._startTime=null,k&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+k):s.setZoomAround(this._lastMousePos,u+k))}});Qt.addInitHook("addHandler","scrollWheelZoom",Io);var ws=600;Qt.mergeOptions({tapHold:Ct.touchNative&&Ct.safari&&Ct.mobile,tapTolerance:15});var vl=Zn.extend({addHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new pt(u.clientX,u.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Pt(document,"touchend",Oe),Pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),ws),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){he(document,"touchend",Oe),he(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new pt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Qt.addInitHook("addHandler","tapHold",vl),Qt.mergeOptions({touchZoom:Ct.touch,bounceAtZoomLimits:!0});var wu=Zn.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),Oe(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),T=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(T,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&T<1||this._zoom>u.getMaxZoom()&&T>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var R=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(T===1&&R.x===0&&R.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var k=m(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(k,this,!0),Oe(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qt.addInitHook("addHandler","touchZoom",wu),Qt.BoxZoom=Vn,Qt.DoubleClickZoom=yl,Qt.Drag=er,Qt.Keyboard=Tu,Qt.ScrollWheelZoom=Io,Qt.TapHold=vl,Qt.TouchZoom=wu,n.Bounds=j,n.Browser=Ct,n.CRS=Ht,n.Canvas=_l,n.Circle=hl,n.CircleMarker=la,n.Class=oe,n.Control=vn,n.DivIcon=Xc,n.DivOverlay=Tn,n.DomEvent=Xi,n.DomUtil=jr,n.Draggable=Ai,n.Evented=vt,n.FeatureGroup=Wi,n.GeoJSON=br,n.GridLayer=da,n.Handler=Zn,n.Icon=Ji,n.ImageOverlay=ha,n.LatLng=Tt,n.LatLngBounds=gt,n.Layer=Ri,n.LayerGroup=oa,n.LineUtil=ri,n.Map=Qt,n.Marker=Eo,n.Mixin=ul,n.Path=$i,n.Point=pt,n.PolyUtil=Fr,n.Polygon=ua,n.Polyline=Er,n.Popup=xo,n.PosAnimation=_r,n.Projection=Ci,n.Rectangle=Ts,n.Renderer=kn,n.SVG=ma,n.SVGOverlay=gl,n.TileLayer=Kr,n.Tooltip=So,n.Transformation=Dr,n.Util=z,n.VideoOverlay=Zr,n.bind=m,n.bounds=ot,n.canvas=Co,n.circle=Zc,n.circleMarker=Gc,n.control=Pn,n.divIcon=md,n.extend=l,n.featureGroup=Fc,n.geoJSON=pl,n.geoJson=wo,n.gridLayer=Wc,n.icon=_o,n.imageOverlay=Kc,n.latLng=bt,n.latLngBounds=_t,n.layerGroup=cd,n.map=Hr,n.marker=qc,n.point=wt,n.polygon=fd,n.polyline=hd,n.popup=Yc,n.rectangle=pd,n.setOptions=F,n.stamp=y,n.svg=Ro,n.svgOverlay=Qc,n.tileLayer=ai,n.tooltip=dd,n.transformation=Vi,n.version=a,n.videoOverlay=fa;var xu=window.L;n.noConflict=function(){return window.L=xu,this},window.L=n}))})(cc,cc.exports)),cc.exports}var Hc=hM();const zw=jE(Hc);function Jg(r,t,n){return Object.freeze({instance:r,context:t,container:n})}function $g(r,t){return t==null?function(a,l){const h=K.useRef(void 0);return h.current||(h.current=r(a,l)),h}:function(a,l){const h=K.useRef(void 0);h.current||(h.current=r(a,l));const m=K.useRef(a),{instance:v}=h.current;return K.useEffect(function(){m.current!==a&&(t(v,a,m.current),m.current=a)},[v,a,t]),h}}function fM(r,t){K.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){t.layerContainer?.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function Uw(r){return function(n){const a=kw(),l=r(Wg(n,a),a);return Pw(a.map,n.attribution),Vw(l.current,n.eventHandlers),fM(l.current,a),l}}function dM(r,t){const n=$g(r,t),a=Uw(n);return aM(a)}function mM(r,t){const n=$g(r),a=uM(n,t);return oM(a)}function pM(r,t){const n=$g(r,t),a=Uw(n);return lM(a)}function gM(r,t,n){const{opacity:a,zIndex:l}=t;a!=null&&a!==n.opacity&&r.setOpacity(a),l!=null&&l!==n.zIndex&&r.setZIndex(l)}function _M({bounds:r,boundsOptions:t,center:n,children:a,className:l,id:h,placeholder:m,style:v,whenReady:y,zoom:E,...S},A){const[D]=K.useState({className:l,id:h,style:v}),[B,Q]=K.useState(null),F=K.useRef(void 0);K.useImperativeHandle(A,()=>B?.map??null,[B]);const H=K.useCallback(lt=>{if(lt!==null&&!F.current){const st=new Hc.Map(lt,S);F.current=st,n!=null&&E!=null?st.setView(n,E):r!=null&&st.fitBounds(r,t),y!=null&&st.whenReady(y),Q(rM(st))}},[]);K.useEffect(()=>()=>{B?.map.remove()},[B]);const at=B?pp.createElement(Xg,{value:B},a):m??null;return pp.createElement("div",{...D,ref:H},at)}const yM=K.forwardRef(_M),vM=dM(function({position:t,...n},a){const l=new Hc.Marker(t,n);return Jg(l,sM(a,{overlayContainer:l}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),EM=mM(function(t,n){const a=new Hc.Popup(t,n.overlayContainer);return Jg(a,n)},function(t,n,{position:a},l){K.useEffect(function(){const{instance:m}=t;function v(E){E.popup===m&&(m.update(),l(!0))}function y(E){E.popup===m&&l(!1)}return n.map.on({popupopen:v,popupclose:y}),n.overlayContainer==null?(a!=null&&m.setLatLng(a),m.openOn(n.map)):n.overlayContainer.bindPopup(m),function(){n.map.off({popupopen:v,popupclose:y}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(m)}},[t,n,l,a])}),bM=pM(function({url:t,...n},a){const l=new Hc.TileLayer(t,Wg(n,a));return Jg(l,a)},function(t,n,a){gM(t,n,a);const{url:l}=n;l!=null&&l!==a.url&&t.setUrl(l)}),TM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",wM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let xM=zw.icon({iconUrl:TM,shadowUrl:wM,iconSize:[25,41],iconAnchor:[12,41]});zw.Marker.prototype.options.icon=xM;function SM({mapLink:r}){const[t,n]=K.useState(null);return K.useEffect(()=>{if(r)try{const a=r.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(a){n([parseFloat(a[1]),parseFloat(a[2])]);return}const l=r.match(/q=(-?\d+\.\d+),(-?\d+\.\d+)/);if(l){n([parseFloat(l[1]),parseFloat(l[2])]);return}}catch(a){console.error("Failed to parse map coords",a)}},[r]),t?C.jsx("div",{className:"h-48 w-full relative z-0",children:C.jsxs(yM,{center:t,zoom:15,scrollWheelZoom:!1,className:"h-full w-full",attributionControl:!1,children:[C.jsx(bM,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),C.jsx(vM,{position:t,children:C.jsx(EM,{children:C.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:"Open in Google Maps"})})})]})}):C.jsx("div",{className:"h-32 bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400 text-xs",children:"Map not available"})}const UE={"San Gabriel":{lat:34.0961,lng:-118.1058},Pasadena:{lat:34.1478,lng:-118.1445},"DTLA / Hollywood":{lat:34.0522,lng:-118.2437},"Universal City":{lat:34.1381,lng:-118.3534},"Las Vegas":{lat:36.1699,lng:-115.1398},"Grand Canyon / Las Vegas":{lat:36.0544,lng:-112.1401},Ontario:{lat:34.0633,lng:-117.6509},"ONT Airport":{lat:34.056,lng:-117.6012}};function AM(){const{id:r}=$E(),t=us(),{getDay:n}=ud(),a=n(r),[l,h]=K.useState(null),[m,v]=K.useState(0);return K.useEffect(()=>{if(!a)return;const y=UE[a.location]||UE["San Gabriel"];async function E(){try{const A=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${y.lat}&longitude=${y.lng}&current_weather=true&temperature_unit=fahrenheit`)).json();h(A.current_weather)}catch(S){console.error("Failed to fetch weather",S)}}E()},[a]),K.useEffect(()=>{if(!a)return;const y=new Date(a.date+"T00:00:00"),E=new Date(a.date+"T23:59:59"),S=Pf(Ja(or,"expenses"),kf("createdAt",">=",Ne.fromDate(y)),kf("createdAt","<=",Ne.fromDate(E))),A=UD(S,D=>{let B=sr(0);D.docs.forEach(Q=>{const F=Q.data();F.amount&&(B=B.add(F.amount))}),v(B.value)},D=>{console.error("Error fetching available expenses: ",D)});return()=>A()},[a]),a?C.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-light dark:bg-background-dark min-h-screen pb-24 font-display text-slate-900 dark:text-white",children:[C.jsx("nav",{className:"sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md px-4 py-4",children:C.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[C.jsx("button",{onClick:()=>t(-1),className:"w-10 h-10 flex items-center justify-center rounded-full bg-slate-200 dark:bg-card-dark text-slate-900 dark:text-white shadow-sm active:scale-95 transition-transform",children:C.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_back_ios_new"})}),C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest",children:a.date}),C.jsxs("p",{className:"text-lg font-extrabold text-primary",children:["Day ",a.id,": ",a.location]})]}),C.jsxs("button",{onClick:()=>t(`/manage/${a.id}`),className:"w-auto px-4 h-10 flex items-center justify-center rounded-full bg-accent text-primary shadow-sm font-bold text-xs uppercase gap-1 hover:bg-accent/80 transition-colors",children:[C.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"edit"}),"Edit"]})]})}),C.jsxs("main",{className:"max-w-md mx-auto px-4 space-y-6",children:[C.jsx("div",{className:"grid grid-cols-2 gap-4",children:C.jsxs("div",{className:"col-span-2 lakers-gradient p-5 rounded-xl shadow-lg text-white",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[C.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/20 backdrop-blur-sm flex items-center justify-center",children:C.jsx("span",{className:"material-symbols-outlined text-white text-[20px]",children:"cloudy_snowing"})}),C.jsx("span",{className:"text-xs font-bold opacity-80 uppercase tracking-wider",children:"Local Forecast"})]}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"text-4xl font-black",children:l?C.jsxs(C.Fragment,{children:[Math.round(l.temperature),"F ",C.jsxs("span",{className:"text-xl font-normal opacity-60",children:["/ ",Lw(l.temperature),"C"]})]}):"Loading..."}),C.jsx("span",{className:"text-xs text-white/80 font-bold uppercase tracking-widest mt-1",children:l?"Current Temp":a.weather})]})]})}),C.jsxs("div",{className:"relative space-y-8",children:[C.jsx("div",{className:"absolute left-[19px] top-6 bottom-0 w-0.5 bg-slate-200 dark:bg-white/10"}),a.events.map((y,E)=>C.jsxs("div",{className:"relative pl-12",children:[C.jsx("div",{className:`absolute left-0 top-1 w-10 h-10 flex items-center justify-center rounded-full z-10 shadow-lg ${E===0?"bg-primary text-white shadow-primary/20":"bg-white dark:bg-card-dark border-2 border-primary text-primary"}`,children:C.jsx("span",{className:"material-symbols-outlined text-sm",children:y.icon})}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex items-baseline justify-between",children:[C.jsx("h3",{className:"text-lg font-bold leading-tight",children:y.title}),C.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded whitespace-nowrap ${E===0?"text-primary bg-primary/10":"opacity-40 bg-slate-200 dark:bg-white/5"}`,children:y.time})]}),y.description&&C.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm leading-relaxed",children:y.description}),y.mapLink&&C.jsxs("div",{className:"rounded-xl overflow-hidden bg-white dark:bg-card-dark border border-slate-100 dark:border-white/5 shadow-sm",children:[C.jsx(SM,{mapLink:y.mapLink}),C.jsxs("div",{className:"p-3 flex items-center justify-between",children:[C.jsx("span",{className:"text-xs font-medium opacity-60 truncate max-w-[180px]",children:y.location}),C.jsxs("a",{href:y.mapLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary text-xs font-bold uppercase tracking-tight hover:underline",children:[C.jsx("span",{className:"material-symbols-outlined text-sm",children:"directions"}),"Open Maps"]})]})]})]})]},E))]}),C.jsxs("div",{className:"bg-primary p-6 rounded-2xl text-white shadow-xl shadow-primary/20 mt-8 mb-24",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsx("h4",{className:"font-bold text-lg",children:"Daily Summary"}),C.jsxs("span",{className:"text-xs font-bold bg-white/20 px-3 py-1 rounded-full uppercase",children:["Day ",a.id]})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex justify-between text-sm",children:[C.jsx("span",{className:"opacity-80",children:"Accommodation"}),C.jsx("span",{className:"font-semibold",children:"$0.00 (Prepaid)"})]}),C.jsxs("div",{className:"flex justify-between text-sm",children:[C.jsx("span",{className:"opacity-80",children:"Activities & Dining"}),C.jsxs("span",{className:"font-semibold",children:["$",m.toFixed(2)]})]}),C.jsxs("div",{className:"pt-3 border-t border-white/20 flex justify-between items-end",children:[C.jsx("span",{className:"text-sm opacity-80 font-medium uppercase tracking-wider",children:"Total Spent"}),C.jsxs("span",{className:"text-2xl font-black",children:["$",m.toFixed(2)]})]})]})]})]}),C.jsx("button",{onClick:()=>t(`/manage/${a.id}`),className:"fixed bottom-24 right-6 bg-accent text-primary p-4 rounded-full shadow-[0_10px_30px_rgba(253,185,39,0.3)] border-4 border-background-dark active:scale-90 transition-transform z-40 hover:brightness-110",children:C.jsx("span",{className:"material-symbols-outlined text-3xl font-bold",children:"add"})}),C.jsx(Bc,{})]}):C.jsx("div",{className:"text-white text-center pt-20",children:"Day not found"})}function CM(){const r=us(),{currentUser:t}=_u(),[n,a]=K.useState(""),[l,h]=K.useState("USD"),[m,v]=K.useState(""),[y,E]=K.useState([]),[S,A]=K.useState(!1),[D,B]=K.useState([]);K.useEffect(()=>{async function H(){try{const at=await su(Ja(or,"users")),lt=[];at.forEach(st=>{st.id!==t?.uid&&lt.push(st.data())}),B(lt)}catch(at){console.error("Error fetching users:",at)}}H()},[t]);const Q=H=>{y.includes(H)?E(y.filter(at=>at!==H)):E([...y,H])},F=async()=>{if(!n||!m){alert("");return}A(!0);try{await zD(Ja(or,"expenses"),{amount:sr(n).value,currency:l,item:m,paidBy:t.uid,splitWith:y,createdAt:HD()}),r("/overview")}catch(H){console.error("Error adding document: ",H),alert("")}finally{A(!1)}};return C.jsxs("div",{className:"relative flex h-full min-h-screen w-full max-w-[430px] mx-auto flex-col bg-background-dark overflow-x-hidden shadow-2xl font-display text-white",children:[C.jsxs("header",{className:"sticky top-0 z-20 flex items-center bg-lakers-purple px-4 pt-4 pb-4 justify-between border-b border-white/10",children:[C.jsx("button",{onClick:()=>r(-1),className:"text-primary text-base font-medium",children:""}),C.jsx("h1",{className:"text-primary text-[17px] font-bold uppercase tracking-wide",children:""}),C.jsx("div",{className:"flex w-12 items-center justify-end",children:C.jsx("button",{onClick:F,disabled:S,className:"text-primary text-base font-bold disabled:opacity-50",children:""})})]}),C.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar px-4 pt-6 pb-32",children:[C.jsx("div",{className:"bg-card-dark rounded-xl p-5 mb-6 shadow-sm border border-primary/20",children:C.jsxs("div",{className:"flex flex-col gap-6",children:[C.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[C.jsx("p",{className:"text-primary/70 text-[10px] font-bold uppercase tracking-widest",children:""}),C.jsxs("div",{className:"flex bg-black/20 p-0.5 rounded-full",children:[C.jsx("button",{onClick:()=>h("USD"),className:`px-2 py-0.5 rounded-full text-[9px] font-bold transition-all ${l==="USD"?"bg-primary text-lakers-purple shadow-sm":"text-white/40"}`,children:"USD"}),C.jsx("button",{onClick:()=>h("TWD"),className:`px-2 py-0.5 rounded-full text-[9px] font-bold transition-all ${l==="TWD"?"bg-primary text-lakers-purple shadow-sm":"text-white/40"}`,children:"TWD"})]})]}),C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("span",{className:"text-primary text-3xl font-bold leading-none",children:l==="USD"?"$":"NT$"}),C.jsx("input",{value:n,onChange:H=>{const at=H.target.value;(at===""||/^\d*\.?\d{0,2}$/.test(at))&&a(at)},className:"bg-transparent border-none text-primary text-5xl font-bold p-0 focus:ring-0 w-48 text-center placeholder:text-white/30 placeholder:font-bold",placeholder:"0.00",type:"text",inputMode:"decimal"})]})]}),C.jsx("div",{className:"h-px bg-white/10 w-full"}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("label",{className:"text-primary/70 text-[10px] font-bold uppercase tracking-widest mb-2",children:""}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("span",{className:"material-symbols-outlined text-primary text-xl",children:"receipt_long"}),C.jsx("input",{value:m,onChange:H=>v(H.target.value),className:"bg-transparent border-none text-white text-lg font-medium p-0 focus:ring-0 flex-1 placeholder:text-white/30",placeholder:": ",type:"text"})]})]})]})}),C.jsxs("div",{className:"bg-card-dark rounded-xl p-5 mb-6 shadow-sm border border-primary/20",children:[C.jsxs("div",{className:"flex items-center justify-between mb-6",children:[C.jsx("h3",{className:"text-white text-base font-bold leading-tight",children:""}),C.jsxs("div",{className:"flex items-center gap-1 text-primary/70",children:[C.jsx("span",{className:"material-symbols-outlined text-sm",children:"group"}),C.jsx("span",{className:"text-[11px] font-medium italic",children:""})]})]}),C.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 custom-scrollbar",children:D.length===0?C.jsx("p",{className:"text-sm text-gray-500 italic",children:" ()"}):D.map(H=>C.jsxs("button",{onClick:()=>Q(H.uid),className:`flex flex-col items-center gap-2 min-w-[64px] transition-opacity ${y.includes(H.uid)?"opacity-100":"opacity-40"}`,children:[C.jsxs("div",{className:`relative p-0.5 rounded-full ring-2 ${y.includes(H.uid)?"ring-primary":"ring-transparent"} ring-offset-2 ring-offset-card-dark`,children:[H.photoURL?C.jsx("img",{alt:H.displayName,className:"w-12 h-12 rounded-full object-cover bg-slate-200",src:H.photoURL}):C.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-600 flex items-center justify-center text-white font-bold",children:H.displayName?H.displayName[0]:"?"}),y.includes(H.uid)&&C.jsx("div",{className:"absolute -bottom-1 -right-1 bg-primary text-white rounded-full p-0.5 border-2 border-card-dark",children:C.jsx("span",{className:"material-symbols-outlined text-[12px] block font-bold text-lakers-purple",children:"check"})})]}),C.jsx("p",{className:"text-white text-[11px] font-bold truncate w-16 text-center",children:H.displayName||"User"})]},H.uid))}),C.jsxs("div",{className:"mt-6 p-1 bg-black/20 rounded-lg flex",children:[C.jsx("button",{className:"flex-1 py-2 px-4 rounded-md text-xs font-bold transition-all bg-primary text-lakers-purple shadow-sm",children:""}),C.jsx("button",{className:"flex-1 py-2 px-4 rounded-md text-xs font-bold transition-all text-white/40",children:""})]})]}),C.jsx("div",{className:"bg-card-dark rounded-xl p-5 shadow-sm border border-primary/20",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex flex-col",children:[C.jsx("p",{className:"text-primary/70 text-[10px] font-bold uppercase tracking-wider",children:""}),C.jsxs("p",{className:"text-primary text-2xl font-bold",children:[l==="USD"?"$":"NT$",n&&y.length+1>0?sr(n).divide(y.length+1).toString():"0.00"]})]}),C.jsxs("div",{className:"bg-primary/20 text-primary px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-tight",children:[y.length+1," "]})]})})]}),C.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 w-full max-w-[430px] p-6 bg-gradient-to-t from-background-dark via-background-dark to-transparent pt-10 z-30",children:C.jsxs("button",{onClick:F,disabled:S,className:"w-full bg-primary hover:bg-primary/90 text-lakers-purple font-bold py-4 rounded-xl shadow-lg shadow-primary/20 transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[C.jsx("span",{className:"material-symbols-outlined",children:"add"}),""]})}),C.jsx(Bc,{})]})}function RM(){const r=us(),{currentUser:t}=_u(),[n,a]=K.useState("USD"),[l,h]=K.useState([]),[m,v]=K.useState({}),[y,E]=K.useState(!0);K.useEffect(()=>{async function Q(){try{const F=await su(Ja(or,"users")),H={};F.forEach(Rt=>{H[Rt.id]=Rt.data()}),v(H);const at=Pf(Ja(or,"expenses"),PD("createdAt","desc")),lt=await su(at),st=[];lt.forEach(Rt=>{st.push({id:Rt.id,...Rt.data()})}),h(st)}catch(F){console.error("Error fetching data:",F)}finally{E(!1)}}Q()},[]);const S=(Q,F)=>{const H=parseFloat(Q);return n==="USD"?F==="TWD"?H/32:H:F==="USD"?H*32:H},A=Q=>Q?Q.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",D=Q=>{if(!Q)return"Unknown Date";const F=Q.toDate(),H=new Date,at=new Date;return at.setDate(at.getDate()-1),F.toDateString()===H.toDateString()?"Today":F.toDateString()===at.toDateString()?"Yesterday":F.toLocaleDateString("en-US",{month:"short",day:"numeric"})},B=l.reduce((Q,F)=>{const H=D(F.createdAt);return Q[H]||(Q[H]=[]),Q[H].push(F),Q},{});return C.jsxs("div",{className:"relative flex h-full min-h-screen w-full max-w-[430px] mx-auto flex-col bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display overflow-x-hidden shadow-2xl",children:[C.jsxs("header",{className:"sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md pt-6 px-4",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("button",{onClick:()=>r("/overview"),className:"text-lakers-gold cursor-pointer",children:C.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios"})}),C.jsx("h1",{className:"text-xl font-extrabold tracking-tight uppercase italic dark:text-white",children:"All Expense Details"}),C.jsx("div",{className:"text-lakers-gold",children:C.jsx("span",{className:"material-symbols-outlined text-3xl",children:"more_horiz"})})]}),C.jsxs("div",{className:"flex bg-slate-200 dark:bg-[#362b40] p-1 rounded-xl mb-6 shadow-inner",children:[C.jsxs("label",{className:`flex cursor-pointer h-10 grow items-center justify-center overflow-hidden rounded-lg px-2 transition-all duration-200 ${n==="USD"?"bg-primary text-white":"text-slate-500 dark:text-[#ae9ebd]"}`,children:[C.jsx("span",{className:"truncate",children:"USD"}),C.jsx("input",{checked:n==="USD",onChange:()=>a("USD"),className:"invisible w-0",name:"currency",type:"radio",value:"USD"})]}),C.jsxs("label",{className:`flex cursor-pointer h-10 grow items-center justify-center overflow-hidden rounded-lg px-2 transition-all duration-200 ${n==="TWD"?"bg-primary text-white":"text-slate-500 dark:text-[#ae9ebd]"}`,children:[C.jsx("span",{className:"truncate",children:"TWD"}),C.jsx("input",{checked:n==="TWD",onChange:()=>a("TWD"),className:"invisible w-0",name:"currency",type:"radio",value:"TWD"})]})]})]}),C.jsxs("main",{className:"flex-1 px-4 py-2 space-y-4 pb-32 overflow-y-auto custom-scrollbar",children:[Object.keys(B).map(Q=>C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center gap-3 py-2 pt-4",children:[C.jsx("div",{className:"h-[1px] flex-1 bg-primary/20"}),C.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-primary/60 dark:text-primary",children:Q}),C.jsx("div",{className:"h-[1px] flex-1 bg-primary/20"})]}),B[Q].map(F=>{let H=m[F.paidBy];!H&&t&&t.uid===F.paidBy&&(H={displayName:t.displayName,photoURL:t.photoURL}),H||(H={displayName:"Unknown"});const at=H.displayName?H.displayName[0]:"?",lt=S(F.amount,F.currency),st=F.splitWith||[];return C.jsxs("div",{className:"bg-white dark:bg-card-dark rounded-xl overflow-hidden shadow-xl border-l-4 border-lakers-gold mb-4",children:[C.jsxs("div",{className:"p-5",children:[C.jsxs("div",{className:"flex justify-between items-start mb-4",children:[C.jsxs("div",{className:"max-w-[70%]",children:[C.jsx("h3",{className:"text-lg font-bold leading-tight dark:text-white",children:F.item}),C.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[C.jsx("span",{className:"material-symbols-outlined text-sm text-primary",children:"sell"}),C.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase tracking-tighter",children:"General"})]})]}),C.jsxs("div",{className:"text-right",children:[C.jsxs("p",{className:"text-xl font-black text-lakers-gold gold-glow",children:[n==="USD"?"$":"NT$",lt.toFixed(2)]}),C.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:["Total ",n]})]})]}),C.jsxs("div",{className:"flex items-center justify-between mt-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"relative",children:C.jsx("div",{className:"size-10 rounded-full border-2 border-lakers-gold overflow-hidden bg-primary flex items-center justify-center",children:H.photoURL?C.jsx("img",{src:H.photoURL,alt:H.displayName,className:"w-full h-full object-cover"}):C.jsx("span",{className:"text-white font-bold text-xs",children:at})})}),C.jsxs("div",{children:[C.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none mb-1",children:"Paid by"}),C.jsx("p",{className:"text-sm font-bold dark:text-white",children:H.displayName})]})]}),C.jsxs("div",{className:"flex flex-col items-end",children:[C.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none mb-2",children:"Split with"}),C.jsxs("div",{className:"flex -space-x-3",children:[st.slice(0,3).map(Rt=>{let Dt=m[Rt];return!Dt&&t&&t.uid===Rt&&(Dt={displayName:t.displayName,photoURL:t.photoURL}),C.jsx("div",{className:"size-8 rounded-full ring-2 ring-white dark:ring-card-dark bg-slate-700 flex items-center justify-center text-[10px] font-bold text-white shadow-md overflow-hidden",children:Dt?.photoURL?C.jsx("img",{src:Dt.photoURL,alt:Dt.displayName,className:"w-full h-full object-cover"}):C.jsx("span",{children:Dt?.displayName?Dt.displayName[0]:"?"})},Rt)}),st.length>3&&C.jsxs("div",{className:"size-8 rounded-full ring-2 ring-white dark:ring-card-dark bg-slate-700 flex items-center justify-center text-[10px] font-bold text-white shadow-md",children:["+",st.length-3]}),st.length===0&&C.jsx("span",{className:"text-xs text-slate-500 font-bold",children:"None"})]})]})]})]}),C.jsx("div",{className:"px-5 py-3 bg-slate-50 dark:bg-black/20 flex justify-between items-center border-t border-slate-100 dark:border-white/5",children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"material-symbols-outlined text-lg text-slate-400",children:"schedule"}),C.jsx("span",{className:"text-xs font-medium text-slate-400",children:A(F.createdAt)})]})})]},F.id)})]},Q)),l.length===0&&!y&&C.jsx("div",{className:"text-center py-10 text-slate-500",children:"No expenses found."})]}),C.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 flex items-center justify-center z-40",children:C.jsx("button",{onClick:()=>r("/add-expense"),className:"bg-primary text-lakers-gold w-16 h-16 rounded-full shadow-[0_8px_25px_rgba(89,46,127,0.5)] flex items-center justify-center active:scale-95 transition-transform border-4 border-background-dark",children:C.jsx("span",{className:"material-symbols-outlined text-3xl font-black",children:"add"})})}),C.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 max-w-[430px] mx-auto h-20 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-xl border-t border-primary/20 flex justify-around items-center px-6 pb-4 z-50",children:[C.jsxs("button",{onClick:()=>r("/itinerary"),className:"flex flex-col items-center gap-1 text-slate-400",children:[C.jsx("span",{className:"material-symbols-outlined",children:"explore"}),C.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Trip"})]}),C.jsxs("button",{onClick:()=>r("/expenses"),className:"flex flex-col items-center gap-1 text-primary dark:text-lakers-gold",children:[C.jsx("span",{className:"material-symbols-outlined",style:{fontVariationSettings:"'FILL' 1"},children:"payments"}),C.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Expenses"})]}),C.jsxs("div",{className:"flex flex-col items-center gap-1 text-slate-400",children:[C.jsx("span",{className:"material-symbols-outlined",children:"group"}),C.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Squad"})]}),C.jsxs("div",{className:"flex flex-col items-center gap-1 text-slate-400",children:[C.jsx("span",{className:"material-symbols-outlined",children:"settings"}),C.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Menu"})]})]})]})}function IM(){const{dayId:r}=$E(),t=us(),{getDay:n,addEvent:a,updateEvent:l,deleteEvent:h,schedule:m,syncToFirestore:v}=ud(),[y,E]=K.useState(null),[S,A]=K.useState(null),[D,B]=K.useState(""),[Q,F]=K.useState(""),[H,at]=K.useState(""),[lt,st]=K.useState(""),[Rt,Dt]=K.useState("calendar_today");K.useEffect(()=>{const O=n(r);O&&E(O)},[r,m]);const Vt=()=>{if(!D||!Q||!H){alert("Please fill in all required fields (When, What, Details)");return}const O={time:D,title:Q,description:H,location:Q,mapLink:lt,icon:Rt};S!==null?(l(r,S,O),alert("Event updated!")):(a(r,O),alert("Event added!")),B(""),F(""),at(""),st(""),Dt("calendar_today"),A(null)},V=O=>{const G=y.events[O];B(G.time),F(G.title),at(G.description),st(G.mapLink||""),Dt(G.icon||"calendar_today"),A(O),window.scrollTo({top:0,behavior:"smooth"})},M=()=>{B(""),F(""),at(""),st(""),Dt("calendar_today"),A(null)},P=O=>{window.confirm("Are you sure you want to delete this event?")&&h(r,O)};if(!y)return C.jsxs("div",{className:"text-white text-center pt-20",children:["Loading Day ",r,"..."]});const Z=O=>{const G=O.split("-");return G.length===3?`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(G[1])-1]} ${parseInt(G[2])}`:O};return C.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-white min-h-screen pb-32 font-display w-full max-w-[430px] mx-auto",children:[C.jsxs("div",{className:"sticky top-0 z-50 bg-background-light dark:bg-background-dark/95 backdrop-blur-md border-b border-white/10",children:[C.jsxs("div",{className:"flex items-center p-4 justify-between",children:[C.jsx("button",{onClick:()=>t(`/day/${r}`),className:"text-primary dark:text-accent flex size-10 shrink-0 items-center justify-center rounded-full hover:bg-primary/10 cursor-pointer",children:C.jsx("span",{className:"material-symbols-outlined",children:"arrow_back_ios_new"})}),C.jsx("h2",{className:"text-primary dark:text-white text-lg font-extrabold uppercase tracking-widest flex-1 text-center",children:"Manage Schedule"}),C.jsx("div",{className:"flex w-10 items-center justify-end",children:C.jsx("button",{onClick:v,className:"flex items-center justify-center size-10 rounded-full hover:bg-primary/10",title:"Sync to Cloud",children:C.jsx("span",{className:"material-symbols-outlined text-primary dark:text-accent text-[20px]",children:"cloud_upload"})})})]}),C.jsx("div",{className:"flex overflow-x-auto custom-scrollbar px-4 gap-6 border-b border-white/10 pb-1",children:m.map(O=>C.jsxs("button",{onClick:()=>t(`/manage/${O.id}`),className:`flex flex-col items-center justify-center border-b-4 pb-3 pt-2 shrink-0 min-w-[60px] transition-colors ${O.id===parseInt(r)?"border-accent text-accent":"border-transparent text-white/40"}`,children:[C.jsxs("p",{className:"text-xs font-black uppercase",children:["Day ",O.id]}),C.jsx("p",{className:"text-[10px] font-bold opacity-70",children:Z(O.date)})]},O.id))})]}),C.jsxs("main",{className:"p-4 space-y-8",children:[C.jsxs("section",{className:"bg-surface-dark rounded-xl p-5 border border-white/10 shadow-2xl relative overflow-hidden bg-[#2b2533]",children:[C.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/20 blur-[60px] rounded-full -mr-16 -mt-16"}),C.jsxs("h3",{className:"text-accent text-sm font-black uppercase tracking-tighter mb-4 flex items-center gap-2",children:[C.jsx("span",{className:"material-symbols-outlined text-sm",children:S!==null?"edit":"add_circle"}),S!==null?"Edit Event":"Add New Event"]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex flex-col gap-1.5 gold-glow",children:[C.jsx("label",{className:"text-[10px] font-black uppercase text-white/60 px-1",children:"When? (Required)"}),C.jsxs("div",{className:"flex items-stretch rounded-lg bg-black/20 border border-white/10",children:[C.jsx("input",{value:D,onChange:O=>B(O.target.value),className:"flex-1 bg-transparent border-0 text-white p-3 text-sm font-bold focus:ring-0 placeholder:text-white/20",placeholder:"e.g. 19:30",type:"time"}),C.jsx("div",{className:"flex items-center px-3 border-l border-white/10",children:C.jsx("span",{className:"material-symbols-outlined text-accent text-xl",children:"schedule"})})]})]}),C.jsxs("div",{className:"flex flex-col gap-1.5 gold-glow",children:[C.jsx("label",{className:"text-[10px] font-black uppercase text-white/60 px-1",children:"What are we doing? (Required)"}),C.jsx("input",{value:Q,onChange:O=>F(O.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-sm font-bold focus:ring-0 focus:border-accent text-white placeholder:text-white/20",placeholder:"e.g. Game Tip-off",type:"text"})]}),C.jsxs("div",{className:"flex flex-col gap-1.5 gold-glow",children:[C.jsx("label",{className:"text-[10px] font-black uppercase text-white/60 px-1",children:"Details (Required)"}),C.jsx("textarea",{value:H,onChange:O=>at(O.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-sm font-bold focus:ring-0 focus:border-accent text-white placeholder:text-white/20",placeholder:"e.g. Section 112, Entrance B.",rows:"2"})]}),C.jsxs("div",{className:"flex flex-col gap-1.5 gold-glow",children:[C.jsx("label",{className:"text-[10px] font-black uppercase text-white/60 px-1",children:"Location Link (Optional)"}),C.jsxs("div",{className:"flex items-stretch rounded-lg bg-black/20 border border-white/10 overflow-hidden",children:[C.jsx("div",{className:"flex items-center px-3 bg-primary/20 border-r border-white/10",children:C.jsx("span",{className:"material-symbols-outlined text-accent text-xl",children:"map"})}),C.jsx("input",{value:lt,onChange:O=>st(O.target.value),className:"flex-1 bg-transparent border-0 text-white p-3 text-sm font-bold focus:ring-0 placeholder:text-white/20",placeholder:"Paste Google Maps URL",type:"text"})]})]}),C.jsx("div",{className:"flex flex-col gap-3 mt-4",children:S!==null?C.jsxs("div",{className:"flex gap-3 w-full",children:[C.jsxs("button",{onClick:M,className:"flex-1 bg-white/5 border border-white/10 hover:bg-white/10 text-white font-black py-4 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-95 uppercase tracking-widest text-[10px]",children:[C.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"}),"CANCEL"]}),C.jsxs("button",{onClick:Vt,className:"flex-[2] bg-[#FDB927] text-[#552583] py-4 rounded-xl font-black text-[10px] uppercase tracking-widest active:scale-[0.98] transition-all shadow-[0_4px_0_#b8861b] flex items-center justify-center gap-2",children:["UPDATE EVENT",C.jsx("span",{className:"material-symbols-outlined text-sm",children:"update"})]})]}):C.jsxs("button",{onClick:Vt,className:"w-full bg-[#FDB927] text-[#552583] py-4 rounded-xl font-black text-[10px] uppercase tracking-widest active:scale-[0.98] transition-all shadow-[0_4px_0_#b8861b] flex items-center justify-center gap-2",children:["ADD TO SCHEDULE",C.jsx("span",{className:"material-symbols-outlined text-sm",children:"celebration"})]})})]})]}),C.jsxs("section",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center justify-between px-1",children:[C.jsx("h3",{className:"text-white text-lg font-black uppercase tracking-tight",children:"Existing Plans"}),C.jsxs("span",{className:"text-[10px] font-black text-accent px-2 py-0.5 border border-accent/30 rounded-full bg-accent/5",children:[y.events.length," EVENTS"]})]}),y.events.map((O,G)=>C.jsxs("div",{className:"group relative bg-[#2b2533] border border-white/10 rounded-xl p-4 flex gap-4 transition-all hover:border-accent/40 shadow-lg",children:[C.jsxs("div",{className:"flex flex-col items-center justify-start pt-1 border-r border-white/10 pr-4 min-w-[75px]",children:[C.jsx("span",{className:"text-accent font-black text-sm",children:O.time}),C.jsx("span",{className:"text-[9px] uppercase font-black text-white/40",children:"TIME"})]}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h4",{className:"font-black text-white text-base",children:O.title}),C.jsx("p",{className:"text-white/60 text-xs font-medium line-clamp-2 mt-1",children:O.description})]}),C.jsxs("div",{className:"flex flex-col gap-4",children:[C.jsx("button",{onClick:()=>V(G),className:`size-8 rounded-full flex items-center justify-center text-white/40 hover:text-accent hover:bg-accent/10 transition-colors ${S===G?"text-accent bg-accent/10":""}`,children:C.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),C.jsx("button",{onClick:()=>P(G),className:"size-8 rounded-full flex items-center justify-center text-white/40 hover:text-red-400 hover:bg-red-400/10 transition-colors",children:C.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]},G)),y.events.length===0&&C.jsx("p",{className:"text-white/30 text-center text-sm italic py-4",children:"No events scheduled."})]})]}),C.jsx(Bc,{})]})}function NM(){return C.jsx(MS,{basename:"/la-nba/",children:C.jsx(ZD,{children:C.jsx(QD,{children:C.jsxs(lS,{children:[C.jsx(Pa,{path:"/",element:C.jsx(YD,{})}),C.jsx(Pa,{path:"/overview",element:C.jsx(Hl,{children:C.jsx(XD,{})})}),C.jsx(Pa,{path:"/itinerary",element:C.jsx(Hl,{children:C.jsx(WD,{})})}),C.jsx(Pa,{path:"/day/:id",element:C.jsx(Hl,{children:C.jsx(AM,{})})}),C.jsx(Pa,{path:"/manage/:dayId",element:C.jsx(Hl,{children:C.jsx(IM,{})})}),C.jsx(Pa,{path:"/add-expense",element:C.jsx(Hl,{children:C.jsx(CM,{})})}),C.jsx(Pa,{path:"/expenses",element:C.jsx(Hl,{children:C.jsx(RM,{})})})]})})})})}c1.createRoot(document.getElementById("root")).render(C.jsx(K.StrictMode,{children:C.jsx(NM,{})}));
