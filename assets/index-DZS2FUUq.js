(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function Wb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var np={exports:{}},fc={};var n0;function S1(){if(n0)return fc;n0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:s,type:r,key:m,ref:l!==void 0?l:null,props:h}}return fc.Fragment=t,fc.jsx=n,fc.jsxs=n,fc}var i0;function A1(){return i0||(i0=1,np.exports=S1()),np.exports}var w=A1(),ip={exports:{}},Zt={};var s0;function C1(){if(s0)return Zt;s0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.iterator;function k(z){return z===null||typeof z!="object"?null:(z=I&&z[I]||z["@@iterator"],typeof z=="function"?z:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,K={};function J(z,lt,_t){this.props=z,this.context=lt,this.refs=K,this.updater=_t||q}J.prototype.isReactComponent={},J.prototype.setState=function(z,lt){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,lt,"setState")},J.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function rt(){}rt.prototype=J.prototype;function ot(z,lt,_t){this.props=z,this.context=lt,this.refs=K,this.updater=_t||q}var xt=ot.prototype=new rt;xt.constructor=ot,F(xt,J.prototype),xt.isPureReactComponent=!0;var Ct=Array.isArray;function Nt(){}var P={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function O(z,lt,_t){var gt=_t.ref;return{$$typeof:s,type:z,key:lt,ref:gt!==void 0?gt:null,props:_t}}function G(z,lt){return O(z.type,lt,z.props)}function B(z){return typeof z=="object"&&z!==null&&z.$$typeof===s}function Q(z){var lt={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(_t){return lt[_t]})}var j=/\/+/g;function St(z,lt){return typeof z=="object"&&z!==null&&z.key!=null?Q(""+z.key):lt.toString(36)}function jt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Nt,Nt):(z.status="pending",z.then(function(lt){z.status==="pending"&&(z.status="fulfilled",z.value=lt)},function(lt){z.status==="pending"&&(z.status="rejected",z.reason=lt)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function et(z,lt,_t,gt,bt){var Tt=typeof z;(Tt==="undefined"||Tt==="boolean")&&(z=null);var qt=!1;if(z===null)qt=!0;else switch(Tt){case"bigint":case"string":case"number":qt=!0;break;case"object":switch(z.$$typeof){case s:case t:qt=!0;break;case A:return qt=z._init,et(qt(z._payload),lt,_t,gt,bt)}}if(qt)return bt=bt(z),qt=gt===""?"."+St(z,0):gt,Ct(bt)?(_t="",qt!=null&&(_t=qt.replace(j,"$&/")+"/"),et(bt,lt,_t,"",function(fs){return fs})):bt!=null&&(B(bt)&&(bt=G(bt,_t+(bt.key==null||z&&z.key===bt.key?"":(""+bt.key).replace(j,"$&/")+"/")+qt)),lt.push(bt)),1;qt=0;var Ee=gt===""?".":gt+":";if(Ct(z))for(var Re=0;Re<z.length;Re++)gt=z[Re],Tt=Ee+St(gt,Re),qt+=et(gt,lt,_t,Tt,bt);else if(Re=k(z),typeof Re=="function")for(z=Re.call(z),Re=0;!(gt=z.next()).done;)gt=gt.value,Tt=Ee+St(gt,Re++),qt+=et(gt,lt,_t,Tt,bt);else if(Tt==="object"){if(typeof z.then=="function")return et(jt(z),lt,_t,gt,bt);throw lt=String(z),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return qt}function yt(z,lt,_t){if(z==null)return z;var gt=[],bt=0;return et(z,gt,"","",function(Tt){return lt.call(_t,Tt,bt++)}),gt}function mt(z){if(z._status===-1){var lt=z._result;lt=lt(),lt.then(function(_t){(z._status===0||z._status===-1)&&(z._status=1,z._result=_t)},function(_t){(z._status===0||z._status===-1)&&(z._status=2,z._result=_t)}),z._status===-1&&(z._status=0,z._result=lt)}if(z._status===1)return z._result.default;throw z._result}var Et=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},vt={map:yt,forEach:function(z,lt,_t){yt(z,function(){lt.apply(this,arguments)},_t)},count:function(z){var lt=0;return yt(z,function(){lt++}),lt},toArray:function(z){return yt(z,function(lt){return lt})||[]},only:function(z){if(!B(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Zt.Activity=C,Zt.Children=vt,Zt.Component=J,Zt.Fragment=n,Zt.Profiler=l,Zt.PureComponent=ot,Zt.StrictMode=r,Zt.Suspense=y,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Zt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return P.H.useMemoCache(z)}},Zt.cache=function(z){return function(){return z.apply(null,arguments)}},Zt.cacheSignal=function(){return null},Zt.cloneElement=function(z,lt,_t){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var gt=F({},z.props),bt=z.key;if(lt!=null)for(Tt in lt.key!==void 0&&(bt=""+lt.key),lt)!M.call(lt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&lt.ref===void 0||(gt[Tt]=lt[Tt]);var Tt=arguments.length-2;if(Tt===1)gt.children=_t;else if(1<Tt){for(var qt=Array(Tt),Ee=0;Ee<Tt;Ee++)qt[Ee]=arguments[Ee+2];gt.children=qt}return O(z.type,bt,gt)},Zt.createContext=function(z){return z={$$typeof:m,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:h,_context:z},z},Zt.createElement=function(z,lt,_t){var gt,bt={},Tt=null;if(lt!=null)for(gt in lt.key!==void 0&&(Tt=""+lt.key),lt)M.call(lt,gt)&&gt!=="key"&&gt!=="__self"&&gt!=="__source"&&(bt[gt]=lt[gt]);var qt=arguments.length-2;if(qt===1)bt.children=_t;else if(1<qt){for(var Ee=Array(qt),Re=0;Re<qt;Re++)Ee[Re]=arguments[Re+2];bt.children=Ee}if(z&&z.defaultProps)for(gt in qt=z.defaultProps,qt)bt[gt]===void 0&&(bt[gt]=qt[gt]);return O(z,Tt,bt)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(z){return{$$typeof:v,render:z}},Zt.isValidElement=B,Zt.lazy=function(z){return{$$typeof:A,_payload:{_status:-1,_result:z},_init:mt}},Zt.memo=function(z,lt){return{$$typeof:b,type:z,compare:lt===void 0?null:lt}},Zt.startTransition=function(z){var lt=P.T,_t={};P.T=_t;try{var gt=z(),bt=P.S;bt!==null&&bt(_t,gt),typeof gt=="object"&&gt!==null&&typeof gt.then=="function"&&gt.then(Nt,Et)}catch(Tt){Et(Tt)}finally{lt!==null&&_t.types!==null&&(lt.types=_t.types),P.T=lt}},Zt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Zt.use=function(z){return P.H.use(z)},Zt.useActionState=function(z,lt,_t){return P.H.useActionState(z,lt,_t)},Zt.useCallback=function(z,lt){return P.H.useCallback(z,lt)},Zt.useContext=function(z){return P.H.useContext(z)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(z,lt){return P.H.useDeferredValue(z,lt)},Zt.useEffect=function(z,lt){return P.H.useEffect(z,lt)},Zt.useEffectEvent=function(z){return P.H.useEffectEvent(z)},Zt.useId=function(){return P.H.useId()},Zt.useImperativeHandle=function(z,lt,_t){return P.H.useImperativeHandle(z,lt,_t)},Zt.useInsertionEffect=function(z,lt){return P.H.useInsertionEffect(z,lt)},Zt.useLayoutEffect=function(z,lt){return P.H.useLayoutEffect(z,lt)},Zt.useMemo=function(z,lt){return P.H.useMemo(z,lt)},Zt.useOptimistic=function(z,lt){return P.H.useOptimistic(z,lt)},Zt.useReducer=function(z,lt,_t){return P.H.useReducer(z,lt,_t)},Zt.useRef=function(z){return P.H.useRef(z)},Zt.useState=function(z){return P.H.useState(z)},Zt.useSyncExternalStore=function(z,lt,_t){return P.H.useSyncExternalStore(z,lt,_t)},Zt.useTransition=function(){return P.H.useTransition()},Zt.version="19.2.3",Zt}var r0;function eg(){return r0||(r0=1,ip.exports=C1()),ip.exports}var H=eg();const Sp=Wb(H);var sp={exports:{}},dc={},rp={exports:{}},ap={};var a0;function R1(){return a0||(a0=1,(function(s){function t(et,yt){var mt=et.length;et.push(yt);t:for(;0<mt;){var Et=mt-1>>>1,vt=et[Et];if(0<l(vt,yt))et[Et]=yt,et[mt]=vt,mt=Et;else break t}}function n(et){return et.length===0?null:et[0]}function r(et){if(et.length===0)return null;var yt=et[0],mt=et.pop();if(mt!==yt){et[0]=mt;t:for(var Et=0,vt=et.length,z=vt>>>1;Et<z;){var lt=2*(Et+1)-1,_t=et[lt],gt=lt+1,bt=et[gt];if(0>l(_t,mt))gt<vt&&0>l(bt,_t)?(et[Et]=bt,et[gt]=mt,Et=gt):(et[Et]=_t,et[lt]=mt,Et=lt);else if(gt<vt&&0>l(bt,mt))et[Et]=bt,et[gt]=mt,Et=gt;else break t}}return yt}function l(et,yt){var mt=et.sortIndex-yt.sortIndex;return mt!==0?mt:et.id-yt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,v=m.now();s.unstable_now=function(){return m.now()-v}}var y=[],b=[],A=1,C=null,I=3,k=!1,q=!1,F=!1,K=!1,J=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function xt(et){for(var yt=n(b);yt!==null;){if(yt.callback===null)r(b);else if(yt.startTime<=et)r(b),yt.sortIndex=yt.expirationTime,t(y,yt);else break;yt=n(b)}}function Ct(et){if(F=!1,xt(et),!q)if(n(y)!==null)q=!0,Nt||(Nt=!0,Q());else{var yt=n(b);yt!==null&&jt(Ct,yt.startTime-et)}}var Nt=!1,P=-1,M=5,O=-1;function G(){return K?!0:!(s.unstable_now()-O<M)}function B(){if(K=!1,Nt){var et=s.unstable_now();O=et;var yt=!0;try{t:{q=!1,F&&(F=!1,rt(P),P=-1),k=!0;var mt=I;try{e:{for(xt(et),C=n(y);C!==null&&!(C.expirationTime>et&&G());){var Et=C.callback;if(typeof Et=="function"){C.callback=null,I=C.priorityLevel;var vt=Et(C.expirationTime<=et);if(et=s.unstable_now(),typeof vt=="function"){C.callback=vt,xt(et),yt=!0;break e}C===n(y)&&r(y),xt(et)}else r(y);C=n(y)}if(C!==null)yt=!0;else{var z=n(b);z!==null&&jt(Ct,z.startTime-et),yt=!1}}break t}finally{C=null,I=mt,k=!1}yt=void 0}}finally{yt?Q():Nt=!1}}}var Q;if(typeof ot=="function")Q=function(){ot(B)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,St=j.port2;j.port1.onmessage=B,Q=function(){St.postMessage(null)}}else Q=function(){J(B,0)};function jt(et,yt){P=J(function(){et(s.unstable_now())},yt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(et){et.callback=null},s.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<et?Math.floor(1e3/et):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(et){switch(I){case 1:case 2:case 3:var yt=3;break;default:yt=I}var mt=I;I=yt;try{return et()}finally{I=mt}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(et,yt){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var mt=I;I=et;try{return yt()}finally{I=mt}},s.unstable_scheduleCallback=function(et,yt,mt){var Et=s.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Et+mt:Et):mt=Et,et){case 1:var vt=-1;break;case 2:vt=250;break;case 5:vt=1073741823;break;case 4:vt=1e4;break;default:vt=5e3}return vt=mt+vt,et={id:A++,callback:yt,priorityLevel:et,startTime:mt,expirationTime:vt,sortIndex:-1},mt>Et?(et.sortIndex=mt,t(b,et),n(y)===null&&et===n(b)&&(F?(rt(P),P=-1):F=!0,jt(Ct,mt-Et))):(et.sortIndex=vt,t(y,et),q||k||(q=!0,Nt||(Nt=!0,Q()))),et},s.unstable_shouldYield=G,s.unstable_wrapCallback=function(et){var yt=I;return function(){var mt=I;I=yt;try{return et.apply(this,arguments)}finally{I=mt}}}})(ap)),ap}var o0;function N1(){return o0||(o0=1,rp.exports=R1()),rp.exports}var op={exports:{}},Un={};var l0;function I1(){if(l0)return Un;l0=1;var s=eg();function t(y){var b="https://react.dev/errors/"+y;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)b+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,b,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:y,containerInfo:b,implementation:A}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,b){if(y==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Un.createPortal=function(y,b){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return h(y,b,null,A)},Un.flushSync=function(y){var b=m.T,A=r.p;try{if(m.T=null,r.p=2,y)return y()}finally{m.T=b,r.p=A,r.d.f()}},Un.preconnect=function(y,b){typeof y=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,r.d.C(y,b))},Un.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Un.preinit=function(y,b){if(typeof y=="string"&&b&&typeof b.as=="string"){var A=b.as,C=v(A,b.crossOrigin),I=typeof b.integrity=="string"?b.integrity:void 0,k=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;A==="style"?r.d.S(y,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:C,integrity:I,fetchPriority:k}):A==="script"&&r.d.X(y,{crossOrigin:C,integrity:I,fetchPriority:k,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Un.preinitModule=function(y,b){if(typeof y=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var A=v(b.as,b.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&r.d.M(y)},Un.preload=function(y,b){if(typeof y=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var A=b.as,C=v(A,b.crossOrigin);r.d.L(y,A,{crossOrigin:C,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Un.preloadModule=function(y,b){if(typeof y=="string")if(b){var A=v(b.as,b.crossOrigin);r.d.m(y,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:A,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else r.d.m(y)},Un.requestFormReset=function(y){r.d.r(y)},Un.unstable_batchedUpdates=function(y,b){return y(b)},Un.useFormState=function(y,b,A){return m.H.useFormState(y,b,A)},Un.useFormStatus=function(){return m.H.useHostTransitionStatus()},Un.version="19.2.3",Un}var u0;function Jb(){if(u0)return op.exports;u0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),op.exports=I1(),op.exports}var c0;function D1(){if(c0)return dc;c0=1;var s=N1(),t=eg(),n=Jb();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function m(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(r(188))}function b(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(r(188));return i!==e?null:e}for(var o=e,c=i;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return y(p),e;if(g===c)return y(p),i;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=p,c=g;else{for(var T=!1,N=p.child;N;){if(N===o){T=!0,o=p,c=g;break}if(N===c){T=!0,c=p,o=g;break}N=N.sibling}if(!T){for(N=g.child;N;){if(N===o){T=!0,o=g,c=p;break}if(N===c){T=!0,c=g,o=p;break}N=N.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:i}function A(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=A(e),i!==null)return i;e=e.sibling}return null}var C=Object.assign,I=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var j=Symbol.for("react.client.reference");function St(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===j?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case J:return"Profiler";case K:return"StrictMode";case Ct:return"Suspense";case Nt:return"SuspenseList";case O:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case ot:return e.displayName||"Context";case rt:return(e._context.displayName||"Context")+".Consumer";case xt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return i=e.displayName||null,i!==null?i:St(e.type)||"Memo";case M:i=e._payload,e=e._init;try{return St(e(i))}catch{}}return null}var jt=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Et=[],vt=-1;function z(e){return{current:e}}function lt(e){0>vt||(e.current=Et[vt],Et[vt]=null,vt--)}function _t(e,i){vt++,Et[vt]=e.current,e.current=i}var gt=z(null),bt=z(null),Tt=z(null),qt=z(null);function Ee(e,i){switch(_t(Tt,i),_t(bt,e),_t(gt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Sv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Sv(i),e=Av(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(gt),_t(gt,e)}function Re(){lt(gt),lt(bt),lt(Tt)}function fs(e){e.memoizedState!==null&&_t(qt,e);var i=gt.current,o=Av(i,e.type);i!==o&&(_t(bt,e),_t(gt,o))}function Vs(e){bt.current===e&&(lt(gt),lt(bt)),qt.current===e&&(lt(qt),lc._currentValue=mt)}var Bi,js;function Fi(e){if(Bi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Bi=i&&i[1]||"",js=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bi+e+js}var ia=!1;function zs(e,i){if(!e||ia)return"";ia=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(at){var it=at}Reflect.construct(e,[],dt)}else{try{dt.call()}catch(at){it=at}e.call(dt.prototype)}}else{try{throw Error()}catch(at){it=at}(dt=e())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(at){if(at&&it&&typeof at.stack=="string")return[at.stack,it.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],N=g[1];if(T&&N){var U=T.split(`
`),tt=N.split(`
`);for(p=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;p<tt.length&&!tt[p].includes("DetermineComponentFrameRoot");)p++;if(c===U.length||p===tt.length)for(c=U.length-1,p=tt.length-1;1<=c&&0<=p&&U[c]!==tt[p];)p--;for(;1<=c&&0<=p;c--,p--)if(U[c]!==tt[p]){if(c!==1||p!==1)do if(c--,p--,0>p||U[c]!==tt[p]){var ut=`
`+U[c].replace(" at new "," at ");return e.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",e.displayName)),ut}while(1<=c&&0<=p);break}}}finally{ia=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Fi(o):""}function pr(e,i){switch(e.tag){case 26:case 27:case 5:return Fi(e.type);case 16:return Fi("Lazy");case 13:return e.child!==i&&i!==null?Fi("Suspense Fallback"):Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return zs(e.type,!1);case 11:return zs(e.type.render,!1);case 1:return zs(e.type,!0);case 31:return Fi("Activity");default:return""}}function Us(e){try{var i="",o=null;do i+=pr(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ge=Object.prototype.hasOwnProperty,Ze=s.unstable_scheduleCallback,Hi=s.unstable_cancelCallback,ll=s.unstable_shouldYield,co=s.unstable_requestPaint,Rn=s.unstable_now,gr=s.unstable_getCurrentPriorityLevel,_r=s.unstable_ImmediatePriority,sa=s.unstable_UserBlockingPriority,ds=s.unstable_NormalPriority,Cu=s.unstable_LowPriority,ho=s.unstable_IdlePriority,fo=s.log,ul=s.unstable_setDisableYieldValue,$n=null,Je=null;function Gn(e){if(typeof fo=="function"&&ul(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode($n,e)}catch{}}var ze=Math.clz32?Math.clz32:cl,Bs=Math.log,ra=Math.LN2;function cl(e){return e>>>=0,e===0?32:31-(Bs(e)/ra|0)|0}var bi=256,Fs=262144,Ue=4194304;function qi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gi(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var p=0,g=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var N=c&134217727;return N!==0?(c=N&~g,c!==0?p=qi(c):(T&=N,T!==0?p=qi(T):o||(o=N&~e,o!==0&&(p=qi(o))))):(N=c&~g,N!==0?p=qi(N):T!==0?p=qi(T):o||(o=c&~e,o!==0&&(p=qi(o)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:p}function xi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ru(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hl(){var e=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),e}function Zi(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function ms(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nu(e,i,o,c,p,g){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var N=e.entanglements,U=e.expirationTimes,tt=e.hiddenUpdates;for(o=T&~o;0<o;){var ut=31-ze(o),dt=1<<ut;N[ut]=0,U[ut]=-1;var it=tt[ut];if(it!==null)for(tt[ut]=null,ut=0;ut<it.length;ut++){var at=it[ut];at!==null&&(at.lane&=-536870913)}o&=~dt}c!==0&&yr(e,c,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(T&~i))}function yr(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-ze(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function mo(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-ze(o),p=1<<c;p&i|e[c]&i&&(e[c]|=i),o&=~p}}function po(e,i){var o=i&-i;return o=(o&42)!==0?1:gn(o),(o&(e.suspendedLanes|i))!==0?0:o}function gn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Lt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function go(){var e=yt.p;return e!==0?e:(e=window.event,e===void 0?32:Yv(e.type))}function ti(e,i){var o=yt.p;try{return yt.p=e,i()}finally{yt.p=o}}var ei=Math.random().toString(36).slice(2),Be="__reactFiber$"+ei,Ke="__reactProps$"+ei,wi="__reactContainer$"+ei,Ei="__reactEvents$"+ei,fl="__reactListeners$"+ei,dl="__reactHandles$"+ei,ml="__reactResources$"+ei,Ki="__reactMarker$"+ei;function aa(e){delete e[Be],delete e[Ke],delete e[Ei],delete e[fl],delete e[dl]}function Ti(e){var i=e[Be];if(i)return i;for(var o=e.parentNode;o;){if(i=o[wi]||o[Be]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Mv(e);e!==null;){if(o=e[Be])return o;e=Mv(e)}return i}e=o,o=e.parentNode}return null}function ni(e){if(e=e[Be]||e[wi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _n(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Qi(e){var i=e[ml];return i||(i=e[ml]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Qe(e){e[Ki]=!0}var _o=new Set,yo={};function Yi(e,i){ii(e,i),ii(e+"Capture",i)}function ii(e,i){for(yo[e]=i,e=0;e<i.length;e++)_o.add(i[e])}var ps=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oa={},la={};function Hs(e){return Ge.call(la,e)?!0:Ge.call(oa,e)?!1:ps.test(e)?la[e]=!0:(oa[e]=!0,!1)}function Jt(e,i,o){if(Hs(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function $t(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Me(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vr(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function It(e){if(!e._valueTracker){var i=Zn(e)?"checked":"value";e._valueTracker=vr(e,i,""+e[i])}}function ve(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Zn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xi=/[\n"\\]/g;function Ne(e){return e.replace(Xi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ua(e,i,o,c,p,g,T,N){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ke(i)):e.value!==""+ke(i)&&(e.value=""+ke(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?Si(e,T,ke(i)):o!=null?Si(e,T,ke(o)):c!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+ke(N):e.removeAttribute("name")}function br(e,i,o,c,p,g,T,N){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){It(e);return}o=o!=null?""+ke(o):"",i=i!=null?""+ke(i):o,N||i===e.value||(e.value=i),e.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=N?e.checked:!!c,e.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),It(e)}function Si(e,i,o){i==="number"&&si(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function be(e,i,o,c){if(e=e.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=i.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&c&&(e[o].defaultSelected=!0)}else{for(o=""+ke(o),i=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function Wi(e,i,o){if(i!=null&&(i=""+ke(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+ke(o):""}function ri(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(r(92));if(jt(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=ke(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),It(e)}function nn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gs(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||ca.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function xr(e,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&o[p]!==c&&gs(e,p,c)}else for(var g in i)i.hasOwnProperty(g)&&gs(e,g,i[g])}function qs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(e){return Ji.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var ha=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zs=null,zt=null;function yn(e){var i=ni(e);if(i&&(e=i.stateNode)){var o=e[Ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(ua(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ne(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var p=c[Ke]||null;if(!p)throw Error(r(90));ua(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&ve(c)}break t;case"textarea":Wi(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&be(e,!!o.multiple,i,!1)}}}var fe=!1;function _s(e,i,o){if(fe)return e(i,o);fe=!0;try{var c=e(i);return c}finally{if(fe=!1,(Zs!==null||zt!==null)&&(Oh(),Zs&&(i=Zs,e=zt,zt=Zs=null,yn(i),e)))for(i=0;i<e.length;i++)yn(e[i])}}function Kn(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Ke]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(Pn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){ys=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{ys=!1}var ai=null,vs=null,Oe=null;function Ai(){if(Oe)return Oe;var e,i=vs,o=i.length,c,p="value"in ai?ai.value:ai.textContent,g=p.length;for(e=0;e<o&&i[e]===p[e];e++);var T=o-e;for(c=1;c<=T&&i[o-c]===p[g-c];c++);return Oe=p.slice(e,1<c?1-c:void 0)}function Ks(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function Ci(){return!1}function sn(e){function i(o,c,p,g,T){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(o=e[N],this[N]=o?o(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$i:Ci,this.isPropagationStopped=Ci,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),i}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=sn(Ri),bs=C({},Ri,{view:0,detail:0}),Wt=sn(bs),Qs,vn,Vn,Er=C({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vn&&(Vn&&e.type==="mousemove"?(Qs=e.screenX-Vn.screenX,vn=e.screenY-Vn.screenY):vn=Qs=0,Vn=e),Qs)},movementY:function(e){return"movementY"in e?e.movementY:vn}}),vo=sn(Er),xs=C({},Er,{dataTransfer:0}),pl=sn(xs),bo=C({},bs,{relatedTarget:0}),Tr=sn(bo),xo=C({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),fa=sn(xo),da=C({},Ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qn=sn(da),gl=C({},Ri,{data:0}),Ni=sn(gl),Ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ma(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Eo[e])?!!i[e]:!1}function Ys(){return ma}var bn=C({},bs,{key:function(e){if(e.key){var i=Ii[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),To=sn(bn),_l=C({},Er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=sn(_l),f=C({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),x=sn(f),S=C({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=sn(S),W=C({},Er,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),st=sn(W),wt=C({},Ri,{newState:0,oldState:0}),Ft=sn(wt),ue=[9,13,27,32],ce=Pn&&"CompositionEvent"in window,Ie=null;Pn&&"documentMode"in document&&(Ie=document.documentMode);var oi=Pn&&"TextEvent"in window&&!Ie,li=Pn&&(!ce||Ie&&8<Ie&&11>=Ie),Yn=" ",Di=!1;function Sr(e,i){switch(e){case"keyup":return ue.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ar(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function Li(e,i){switch(e){case"compositionend":return Ar(i);case"keypress":return i.which!==32?null:(Di=!0,Yn);case"textInput":return e=i.data,e===Yn&&Di?null:e;default:return null}}function ga(e,i){if(pa)return e==="compositionend"||!ce&&Sr(e,i)?(e=Ai(),Oe=vs=ai=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return li&&i.locale!=="ko"?null:i.data;default:return null}}var bd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function es(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!bd[e.type]:i==="textarea"}function Jc(e,i,o,c){Zs?zt?zt.push(c):zt=[c]:Zs=c,i=Fh(i,"onChange"),0<i.length&&(o=new ts("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var ns=null,So=null;function Ao(e){vv(e,0)}function Co(e){var i=_n(e);if(ve(i))return e}function Ro(e,i){if(e==="change")return i}var $c=!1;if(Pn){var is;if(Pn){var _a="oninput"in document;if(!_a){var th=document.createElement("div");th.setAttribute("oninput","return;"),_a=typeof th.oninput=="function"}is=_a}else is=!1;$c=is&&(!document.documentMode||9<document.documentMode)}function yl(){ns&&(ns.detachEvent("onpropertychange",eh),So=ns=null)}function eh(e){if(e.propertyName==="value"&&Co(So)){var i=[];Jc(i,So,e,On(e)),_s(Ao,i)}}function Es(e,i,o){e==="focusin"?(yl(),ns=i,So=o,ns.attachEvent("onpropertychange",eh)):e==="focusout"&&yl()}function xd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Co(So)}function ya(e,i){if(e==="click")return Co(i)}function wd(e,i){if(e==="input"||e==="change")return Co(i)}function Ts(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var xn=typeof Object.is=="function"?Object.is:Ts;function va(e,i){if(xn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Ge.call(i,p)||!xn(e[p],i[p]))return!1}return!0}function vl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function No(e,i){var o=vl(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=vl(o)}}function bl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?bl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Io(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=si(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=si(e.document)}return i}function Xs(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var xl=Pn&&"documentMode"in document&&11>=document.documentMode,Ws=null,wl=null,Do=null,ba=!1;function nh(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ba||Ws==null||Ws!==si(c)||(c=Ws,"selectionStart"in c&&Xs(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Do&&va(Do,c)||(Do=c,c=Fh(wl,"onSelect"),0<c.length&&(i=new ts("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=Ws)))}function Js(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var xa={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},El={},ih={};Pn&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function wn(e){if(El[e])return El[e];if(!xa[e])return e;var i=xa[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in ih)return El[e]=i[o];return e}var Lo=wn("animationend"),sh=wn("animationiteration"),Mo=wn("animationstart"),Ed=wn("transitionrun"),rh=wn("transitionstart"),Td=wn("transitioncancel"),wa=wn("transitionend"),ah=new Map,$s="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$s.push("scrollEnd");function ui(e,i){ah.set(e,i),Yi(i,[e])}var ko=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ci=[],jn=0,Tl=0;function Oo(){for(var e=jn,i=Tl=jn=0;i<e;){var o=ci[i];ci[i++]=null;var c=ci[i];ci[i++]=null;var p=ci[i];ci[i++]=null;var g=ci[i];if(ci[i++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&Ea(o,p,g)}}function tr(e,i,o,c){ci[jn++]=e,ci[jn++]=i,ci[jn++]=o,ci[jn++]=c,Tl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Iu(e,i,o,c){return tr(e,i,o,c),Po(e)}function ss(e,i){return tr(e,null,null,i),Po(e)}function Ea(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&i!==null&&(p=31-ze(o),e=g.hiddenUpdates,c=e[p],c===null?e[p]=[i]:c.push(i),i.lane=o|536870912),g):null}function Po(e){if(50<ec)throw ec=0,Am=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Cr={};function Sd(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,i,o,c){return new Sd(e,i,o,c)}function Sl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rs(e,i){var o=e.alternate;return o===null?(o=zn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Du(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Vo(e,i,o,c,p,g){var T=0;if(c=e,typeof e=="function")Sl(e)&&(T=1);else if(typeof e=="string")T=d1(e,o,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case O:return e=zn(31,o,i,p),e.elementType=O,e.lanes=g,e;case F:return Rr(o.children,p,g,i);case K:T=8,p|=24;break;case J:return e=zn(12,o,i,p|2),e.elementType=J,e.lanes=g,e;case Ct:return e=zn(13,o,i,p),e.elementType=Ct,e.lanes=g,e;case Nt:return e=zn(19,o,i,p),e.elementType=Nt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:T=10;break t;case rt:T=9;break t;case xt:T=11;break t;case P:T=14;break t;case M:T=16,c=null;break t}T=29,o=Error(r(130,e===null?"null":typeof e,"")),c=null}return i=zn(T,o,i,p),i.elementType=e,i.type=c,i.lanes=g,i}function Rr(e,i,o,c){return e=zn(7,e,c,i),e.lanes=o,e}function Al(e,i,o){return e=zn(6,e,null,i),e.lanes=o,e}function Lu(e){var i=zn(18,null,null,0);return i.stateNode=e,i}function Mu(e,i,o){return i=zn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var a=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=a.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Us(i)},a.set(e,i),i)}return{value:e,source:i,stack:Us(i)}}var d=[],_=0,E=null,R=0,V=[],X=0,nt=null,ft=1,At="";function Ot(e,i){d[_++]=R,d[_++]=E,E=e,R=i}function Yt(e,i,o){V[X++]=ft,V[X++]=At,V[X++]=nt,nt=e;var c=ft;e=At;var p=32-ze(c)-1;c&=~(1<<p),o+=1;var g=32-ze(i)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,ft=1<<32-ze(i)+p|o<<p|c,At=g+e}else ft=1<<g|o<<p|c,At=e}function dn(e){e.return!==null&&(Ot(e,1),Yt(e,1,0))}function Ye(e){for(;e===E;)E=d[--_],d[_]=null,R=d[--_],d[_]=null;for(;e===nt;)nt=V[--X],V[X]=null,At=V[--X],V[X]=null,ft=V[--X],V[X]=null}function Xn(e,i){V[X++]=ft,V[X++]=At,V[X++]=nt,ft=i.id,At=i.overflow,nt=e}var de=null,me=null,te=!1,er=null,hi=!1,Cl=Error(r(519));function nr(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(u(i,e)),Cl}function ku(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Be]=e,i[Ke]=c,o){case"dialog":ne("cancel",i),ne("close",i);break;case"iframe":case"object":case"embed":ne("load",i);break;case"video":case"audio":for(o=0;o<ic.length;o++)ne(ic[o],i);break;case"source":ne("error",i);break;case"img":case"image":case"link":ne("error",i),ne("load",i);break;case"details":ne("toggle",i);break;case"input":ne("invalid",i),br(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ne("invalid",i);break;case"textarea":ne("invalid",i),ri(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Ev(i.textContent,o)?(c.popover!=null&&(ne("beforetoggle",i),ne("toggle",i)),c.onScroll!=null&&ne("scroll",i),c.onScrollEnd!=null&&ne("scrollend",i),c.onClick!=null&&(i.onclick=kn),i=!0):i=!1,i||nr(e,!0)}function Fe(e){for(de=e.return;de;)switch(de.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:de=de.return}}function Ss(e){if(e!==de)return!1;if(!te)return Fe(e),te=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Bm(e.type,e.memoizedProps)),o=!o),o&&me&&nr(e),Fe(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));me=Lv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));me=Lv(e)}else i===27?(i=me,Va(e.type)?(e=Zm,Zm=null,me=e):me=i):me=de?os(e.stateNode.nextSibling):null;return!0}function Nr(){me=de=null,te=!1}function Ou(){var e=er;return e!==null&&(pi===null?pi=e:pi.push.apply(pi,e),er=null),e}function jo(e){er===null?er=[e]:er.push(e)}var zo=z(null),ir=null,As=null;function Ta(e,i,o){_t(zo,i._currentValue),i._currentValue=o}function Ir(e){e._currentValue=zo.current,lt(zo)}function Ad(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function Cd(e,i,o,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;t:for(;g!==null;){var N=g;g=p;for(var U=0;U<i.length;U++)if(N.context===i[U]){g.lanes|=o,N=g.alternate,N!==null&&(N.lanes|=o),Ad(g.return,o,e),c||(T=null);break t}g=N.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Ad(T,o,e),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===e){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Rl(e,i,o,c){e=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var N=p.type;xn(p.pendingProps.value,T.value)||(e!==null?e.push(N):e=[N])}}else if(p===qt.current){if(T=p.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(lc):e=[lc])}p=p.return}e!==null&&Cd(i,e,o,c),i.flags|=262144}function oh(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Uo(e){ir=e,As=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nn(e){return l_(ir,e)}function lh(e,i){return ir===null&&Uo(e),l_(e,i)}function l_(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},As===null){if(e===null)throw Error(r(308));As=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else As=As.next=i;return o}var uT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},cT=s.unstable_scheduleCallback,hT=s.unstable_NormalPriority,rn={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new uT,data:new Map,refCount:0}}function Pu(e){e.refCount--,e.refCount===0&&cT(hT,function(){e.controller.abort()})}var Vu=null,Nd=0,Nl=0,Il=null;function fT(e,i){if(Vu===null){var o=Vu=[];Nd=0,Nl=Lm(),Il={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Nd++,i.then(u_,u_),i}function u_(){if(--Nd===0&&Vu!==null){Il!==null&&(Il.status="fulfilled");var e=Vu;Vu=null,Nl=0,Il=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function dT(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var c_=et.S;et.S=function(e,i){Ky=Rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&fT(e,i),c_!==null&&c_(e,i)};var Bo=z(null);function Id(){var e=Bo.current;return e!==null?e:De.pooledCache}function uh(e,i){i===null?_t(Bo,Bo.current):_t(Bo,i.pool)}function h_(){var e=Id();return e===null?null:{parent:rn._currentValue,pool:e}}var Dl=Error(r(460)),Dd=Error(r(474)),ch=Error(r(542)),hh={then:function(){}};function f_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function d_(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(kn,kn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,p_(e),e;default:if(typeof i.status=="string")i.then(kn,kn);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,p_(e),e}throw Ho=i,Dl}}function Fo(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ho=o,Dl):o}}var Ho=null;function m_(){if(Ho===null)throw Error(r(459));var e=Ho;return Ho=null,e}function p_(e){if(e===Dl||e===ch)throw Error(r(483))}var Ll=null,ju=0;function fh(e){var i=ju;return ju+=1,Ll===null&&(Ll=[]),d_(Ll,e,i)}function zu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function dh(e,i){throw i.$$typeof===I?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function g_(e){function i(Y,Z){if(e){var $=Y.deletions;$===null?(Y.deletions=[Z],Y.flags|=16):$.push(Z)}}function o(Y,Z){if(!e)return null;for(;Z!==null;)i(Y,Z),Z=Z.sibling;return null}function c(Y){for(var Z=new Map;Y!==null;)Y.key!==null?Z.set(Y.key,Y):Z.set(Y.index,Y),Y=Y.sibling;return Z}function p(Y,Z){return Y=rs(Y,Z),Y.index=0,Y.sibling=null,Y}function g(Y,Z,$){return Y.index=$,e?($=Y.alternate,$!==null?($=$.index,$<Z?(Y.flags|=67108866,Z):$):(Y.flags|=67108866,Z)):(Y.flags|=1048576,Z)}function T(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function N(Y,Z,$,ct){return Z===null||Z.tag!==6?(Z=Al($,Y.mode,ct),Z.return=Y,Z):(Z=p(Z,$),Z.return=Y,Z)}function U(Y,Z,$,ct){var Vt=$.type;return Vt===F?ut(Y,Z,$.props.children,ct,$.key):Z!==null&&(Z.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===M&&Fo(Vt)===Z.type)?(Z=p(Z,$.props),zu(Z,$),Z.return=Y,Z):(Z=Vo($.type,$.key,$.props,null,Y.mode,ct),zu(Z,$),Z.return=Y,Z)}function tt(Y,Z,$,ct){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==$.containerInfo||Z.stateNode.implementation!==$.implementation?(Z=Mu($,Y.mode,ct),Z.return=Y,Z):(Z=p(Z,$.children||[]),Z.return=Y,Z)}function ut(Y,Z,$,ct,Vt){return Z===null||Z.tag!==7?(Z=Rr($,Y.mode,ct,Vt),Z.return=Y,Z):(Z=p(Z,$),Z.return=Y,Z)}function dt(Y,Z,$){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Al(""+Z,Y.mode,$),Z.return=Y,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return $=Vo(Z.type,Z.key,Z.props,null,Y.mode,$),zu($,Z),$.return=Y,$;case q:return Z=Mu(Z,Y.mode,$),Z.return=Y,Z;case M:return Z=Fo(Z),dt(Y,Z,$)}if(jt(Z)||Q(Z))return Z=Rr(Z,Y.mode,$,null),Z.return=Y,Z;if(typeof Z.then=="function")return dt(Y,fh(Z),$);if(Z.$$typeof===ot)return dt(Y,lh(Y,Z),$);dh(Y,Z)}return null}function it(Y,Z,$,ct){var Vt=Z!==null?Z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Vt!==null?null:N(Y,Z,""+$,ct);if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return $.key===Vt?U(Y,Z,$,ct):null;case q:return $.key===Vt?tt(Y,Z,$,ct):null;case M:return $=Fo($),it(Y,Z,$,ct)}if(jt($)||Q($))return Vt!==null?null:ut(Y,Z,$,ct,null);if(typeof $.then=="function")return it(Y,Z,fh($),ct);if($.$$typeof===ot)return it(Y,Z,lh(Y,$),ct);dh(Y,$)}return null}function at(Y,Z,$,ct,Vt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Y=Y.get($)||null,N(Z,Y,""+ct,Vt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case k:return Y=Y.get(ct.key===null?$:ct.key)||null,U(Z,Y,ct,Vt);case q:return Y=Y.get(ct.key===null?$:ct.key)||null,tt(Z,Y,ct,Vt);case M:return ct=Fo(ct),at(Y,Z,$,ct,Vt)}if(jt(ct)||Q(ct))return Y=Y.get($)||null,ut(Z,Y,ct,Vt,null);if(typeof ct.then=="function")return at(Y,Z,$,fh(ct),Vt);if(ct.$$typeof===ot)return at(Y,Z,$,lh(Z,ct),Vt);dh(Z,ct)}return null}function Mt(Y,Z,$,ct){for(var Vt=null,pe=null,kt=Z,Xt=Z=0,re=null;kt!==null&&Xt<$.length;Xt++){kt.index>Xt?(re=kt,kt=null):re=kt.sibling;var ge=it(Y,kt,$[Xt],ct);if(ge===null){kt===null&&(kt=re);break}e&&kt&&ge.alternate===null&&i(Y,kt),Z=g(ge,Z,Xt),pe===null?Vt=ge:pe.sibling=ge,pe=ge,kt=re}if(Xt===$.length)return o(Y,kt),te&&Ot(Y,Xt),Vt;if(kt===null){for(;Xt<$.length;Xt++)kt=dt(Y,$[Xt],ct),kt!==null&&(Z=g(kt,Z,Xt),pe===null?Vt=kt:pe.sibling=kt,pe=kt);return te&&Ot(Y,Xt),Vt}for(kt=c(kt);Xt<$.length;Xt++)re=at(kt,Y,Xt,$[Xt],ct),re!==null&&(e&&re.alternate!==null&&kt.delete(re.key===null?Xt:re.key),Z=g(re,Z,Xt),pe===null?Vt=re:pe.sibling=re,pe=re);return e&&kt.forEach(function(Fa){return i(Y,Fa)}),te&&Ot(Y,Xt),Vt}function Ut(Y,Z,$,ct){if($==null)throw Error(r(151));for(var Vt=null,pe=null,kt=Z,Xt=Z=0,re=null,ge=$.next();kt!==null&&!ge.done;Xt++,ge=$.next()){kt.index>Xt?(re=kt,kt=null):re=kt.sibling;var Fa=it(Y,kt,ge.value,ct);if(Fa===null){kt===null&&(kt=re);break}e&&kt&&Fa.alternate===null&&i(Y,kt),Z=g(Fa,Z,Xt),pe===null?Vt=Fa:pe.sibling=Fa,pe=Fa,kt=re}if(ge.done)return o(Y,kt),te&&Ot(Y,Xt),Vt;if(kt===null){for(;!ge.done;Xt++,ge=$.next())ge=dt(Y,ge.value,ct),ge!==null&&(Z=g(ge,Z,Xt),pe===null?Vt=ge:pe.sibling=ge,pe=ge);return te&&Ot(Y,Xt),Vt}for(kt=c(kt);!ge.done;Xt++,ge=$.next())ge=at(kt,Y,Xt,ge.value,ct),ge!==null&&(e&&ge.alternate!==null&&kt.delete(ge.key===null?Xt:ge.key),Z=g(ge,Z,Xt),pe===null?Vt=ge:pe.sibling=ge,pe=ge);return e&&kt.forEach(function(T1){return i(Y,T1)}),te&&Ot(Y,Xt),Vt}function Ae(Y,Z,$,ct){if(typeof $=="object"&&$!==null&&$.type===F&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case k:t:{for(var Vt=$.key;Z!==null;){if(Z.key===Vt){if(Vt=$.type,Vt===F){if(Z.tag===7){o(Y,Z.sibling),ct=p(Z,$.props.children),ct.return=Y,Y=ct;break t}}else if(Z.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===M&&Fo(Vt)===Z.type){o(Y,Z.sibling),ct=p(Z,$.props),zu(ct,$),ct.return=Y,Y=ct;break t}o(Y,Z);break}else i(Y,Z);Z=Z.sibling}$.type===F?(ct=Rr($.props.children,Y.mode,ct,$.key),ct.return=Y,Y=ct):(ct=Vo($.type,$.key,$.props,null,Y.mode,ct),zu(ct,$),ct.return=Y,Y=ct)}return T(Y);case q:t:{for(Vt=$.key;Z!==null;){if(Z.key===Vt)if(Z.tag===4&&Z.stateNode.containerInfo===$.containerInfo&&Z.stateNode.implementation===$.implementation){o(Y,Z.sibling),ct=p(Z,$.children||[]),ct.return=Y,Y=ct;break t}else{o(Y,Z);break}else i(Y,Z);Z=Z.sibling}ct=Mu($,Y.mode,ct),ct.return=Y,Y=ct}return T(Y);case M:return $=Fo($),Ae(Y,Z,$,ct)}if(jt($))return Mt(Y,Z,$,ct);if(Q($)){if(Vt=Q($),typeof Vt!="function")throw Error(r(150));return $=Vt.call($),Ut(Y,Z,$,ct)}if(typeof $.then=="function")return Ae(Y,Z,fh($),ct);if($.$$typeof===ot)return Ae(Y,Z,lh(Y,$),ct);dh(Y,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,Z!==null&&Z.tag===6?(o(Y,Z.sibling),ct=p(Z,$),ct.return=Y,Y=ct):(o(Y,Z),ct=Al($,Y.mode,ct),ct.return=Y,Y=ct),T(Y)):o(Y,Z)}return function(Y,Z,$,ct){try{ju=0;var Vt=Ae(Y,Z,$,ct);return Ll=null,Vt}catch(kt){if(kt===Dl||kt===ch)throw kt;var pe=zn(29,kt,null,Y.mode);return pe.lanes=ct,pe.return=Y,pe}}}var qo=g_(!0),__=g_(!1),Sa=!1;function Ld(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(_e&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=Po(e),Ea(e,null,o),i}return tr(e,c,i,o),Po(e)}function Uu(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,mo(e,o)}}function kd(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?p=g=i:g=g.next=i}else p=g=i;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var Od=!1;function Bu(){if(Od){var e=Il;if(e!==null)throw e}}function Fu(e,i,o,c){Od=!1;var p=e.updateQueue;Sa=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var U=N,tt=U.next;U.next=null,T===null?g=tt:T.next=tt,T=U;var ut=e.alternate;ut!==null&&(ut=ut.updateQueue,N=ut.lastBaseUpdate,N!==T&&(N===null?ut.firstBaseUpdate=tt:N.next=tt,ut.lastBaseUpdate=U))}if(g!==null){var dt=p.baseState;T=0,ut=tt=U=null,N=g;do{var it=N.lane&-536870913,at=it!==N.lane;if(at?(se&it)===it:(c&it)===it){it!==0&&it===Nl&&(Od=!0),ut!==null&&(ut=ut.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var Mt=e,Ut=N;it=i;var Ae=o;switch(Ut.tag){case 1:if(Mt=Ut.payload,typeof Mt=="function"){dt=Mt.call(Ae,dt,it);break t}dt=Mt;break t;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Ut.payload,it=typeof Mt=="function"?Mt.call(Ae,dt,it):Mt,it==null)break t;dt=C({},dt,it);break t;case 2:Sa=!0}}it=N.callback,it!==null&&(e.flags|=64,at&&(e.flags|=8192),at=p.callbacks,at===null?p.callbacks=[it]:at.push(it))}else at={lane:it,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ut===null?(tt=ut=at,U=dt):ut=ut.next=at,T|=it;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;at=N,N=at.next,at.next=null,p.lastBaseUpdate=at,p.shared.pending=null}}while(!0);ut===null&&(U=dt),p.baseState=U,p.firstBaseUpdate=tt,p.lastBaseUpdate=ut,g===null&&(p.shared.lanes=0),La|=T,e.lanes=T,e.memoizedState=dt}}function y_(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function v_(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)y_(o[e],i)}var Ml=z(null),mh=z(0);function b_(e,i){e=zr,_t(mh,e),_t(Ml,i),zr=e|i.baseLanes}function Pd(){_t(mh,zr),_t(Ml,Ml.current)}function Vd(){zr=mh.current,lt(Ml),lt(mh)}var Mi=z(null),as=null;function Ra(e){var i=e.alternate;_t($e,$e.current&1),_t(Mi,e),as===null&&(i===null||Ml.current!==null||i.memoizedState!==null)&&(as=e)}function jd(e){_t($e,$e.current),_t(Mi,e),as===null&&(as=e)}function x_(e){e.tag===22?(_t($e,$e.current),_t(Mi,e),as===null&&(as=e)):Na()}function Na(){_t($e,$e.current),_t(Mi,Mi.current)}function ki(e){lt(Mi),as===e&&(as=null),lt($e)}var $e=z(0);function ph(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||qm(o)||Gm(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dr=0,Qt=null,Te=null,an=null,gh=!1,kl=!1,Go=!1,_h=0,Hu=0,Ol=null,mT=0;function Xe(){throw Error(r(321))}function zd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!xn(e[o],i[o]))return!1;return!0}function Ud(e,i,o,c,p,g){return Dr=g,Qt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,et.H=e===null||e.memoizedState===null?sy:em,Go=!1,g=o(c,p),Go=!1,kl&&(g=E_(i,o,c,p)),w_(e),g}function w_(e){et.H=Zu;var i=Te!==null&&Te.next!==null;if(Dr=0,an=Te=Qt=null,gh=!1,Hu=0,Ol=null,i)throw Error(r(300));e===null||on||(e=e.dependencies,e!==null&&oh(e)&&(on=!0))}function E_(e,i,o,c){Qt=e;var p=0;do{if(kl&&(Ol=null),Hu=0,kl=!1,25<=p)throw Error(r(301));if(p+=1,an=Te=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}et.H=ry,g=i(o,c)}while(kl);return g}function pT(){var e=et.H,i=e.useState()[0];return i=typeof i.then=="function"?qu(i):i,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(Qt.flags|=1024),i}function Bd(){var e=_h!==0;return _h=0,e}function Fd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function Hd(e){if(gh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}gh=!1}Dr=0,an=Te=Qt=null,kl=!1,Hu=_h=0,Ol=null}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Qt.memoizedState=an=e:an=an.next=e,an}function tn(){if(Te===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var i=an===null?Qt.memoizedState:an.next;if(i!==null)an=i,Te=e;else{if(e===null)throw Qt.alternate===null?Error(r(467)):Error(r(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},an===null?Qt.memoizedState=an=e:an=an.next=e}return an}function yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qu(e){var i=Hu;return Hu+=1,Ol===null&&(Ol=[]),e=d_(Ol,e,i),i=Qt,(an===null?i.memoizedState:an.next)===null&&(i=i.alternate,et.H=i===null||i.memoizedState===null?sy:em),e}function vh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qu(e);if(e.$$typeof===ot)return Nn(e)}throw Error(r(438,String(e)))}function qd(e){var i=null,o=Qt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Qt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=yh(),Qt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=G;return i.index++,o}function Lr(e,i){return typeof i=="function"?i(e):i}function bh(e){var i=tn();return Gd(i,Te,e)}function Gd(e,i,o){var c=e.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=e.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}i.baseQueue=p=g,c.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{i=p.next;var N=T=null,U=null,tt=i,ut=!1;do{var dt=tt.lane&-536870913;if(dt!==tt.lane?(se&dt)===dt:(Dr&dt)===dt){var it=tt.revertLane;if(it===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),dt===Nl&&(ut=!0);else if((Dr&it)===it){tt=tt.next,it===Nl&&(ut=!0);continue}else dt={lane:0,revertLane:tt.revertLane,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},U===null?(N=U=dt,T=g):U=U.next=dt,Qt.lanes|=it,La|=it;dt=tt.action,Go&&o(g,dt),g=tt.hasEagerState?tt.eagerState:o(g,dt)}else it={lane:dt,revertLane:tt.revertLane,gesture:tt.gesture,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},U===null?(N=U=it,T=g):U=U.next=it,Qt.lanes|=dt,La|=dt;tt=tt.next}while(tt!==null&&tt!==i);if(U===null?T=g:U.next=N,!xn(g,e.memoizedState)&&(on=!0,ut&&(o=Il,o!==null)))throw o;e.memoizedState=g,e.baseState=T,e.baseQueue=U,c.lastRenderedState=g}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Zd(e){var i=tn(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var c=o.dispatch,p=o.pending,g=i.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do g=e(g,T.action),T=T.next;while(T!==p);xn(g,i.memoizedState)||(on=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function T_(e,i,o){var c=Qt,p=tn(),g=te;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=i();var T=!xn((Te||p).memoizedState,o);if(T&&(p.memoizedState=o,on=!0),p=p.queue,Yd(C_.bind(null,c,p,e),[e]),p.getSnapshot!==i||T||an!==null&&an.memoizedState.tag&1){if(c.flags|=2048,Pl(9,{destroy:void 0},A_.bind(null,c,p,o,i),null),De===null)throw Error(r(349));g||(Dr&127)!==0||S_(c,i,o)}return o}function S_(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Qt.updateQueue,i===null?(i=yh(),Qt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function A_(e,i,o,c){i.value=o,i.getSnapshot=c,R_(i)&&N_(e)}function C_(e,i,o){return o(function(){R_(i)&&N_(e)})}function R_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!xn(e,o)}catch{return!0}}function N_(e){var i=ss(e,2);i!==null&&gi(i,e,2)}function Kd(e){var i=Wn();if(typeof e=="function"){var o=e;if(e=o(),Go){Gn(!0);try{o()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},i}function I_(e,i,o,c){return e.baseState=o,Gd(e,Te,typeof c=="function"?c:Lr)}function gT(e,i,o,c,p){if(Eh(e))throw Error(r(485));if(e=i.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};et.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,D_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function D_(e,i){var o=i.action,c=i.payload,p=e.state;if(i.isTransition){var g=et.T,T={};et.T=T;try{var N=o(p,c),U=et.S;U!==null&&U(T,N),L_(e,i,N)}catch(tt){Qd(e,i,tt)}finally{g!==null&&T.types!==null&&(g.types=T.types),et.T=g}}else try{g=o(p,c),L_(e,i,g)}catch(tt){Qd(e,i,tt)}}function L_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){M_(e,i,c)},function(c){return Qd(e,i,c)}):M_(e,i,o)}function M_(e,i,o){i.status="fulfilled",i.value=o,k_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,D_(e,o)))}function Qd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,k_(i),i=i.next;while(i!==c)}e.action=null}function k_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function O_(e,i){return i}function P_(e,i){if(te){var o=De.formState;if(o!==null){t:{var c=Qt;if(te){if(me){e:{for(var p=me,g=hi;p.nodeType!==8;){if(!g){p=null;break e}if(p=os(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){me=os(p.nextSibling),c=p.data==="F!";break t}}nr(c)}c=!1}c&&(i=o[0])}}return o=Wn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O_,lastRenderedState:i},o.queue=c,o=ey.bind(null,Qt,c),c.dispatch=o,c=Kd(!1),g=tm.bind(null,Qt,!1,c.queue),c=Wn(),p={state:i,dispatch:null,action:e,pending:null},c.queue=p,o=gT.bind(null,Qt,p,g,o),p.dispatch=o,c.memoizedState=e,[i,o,!1]}function V_(e){var i=tn();return j_(i,Te,e)}function j_(e,i,o){if(i=Gd(e,i,O_)[0],e=bh(Lr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=qu(i)}catch(T){throw T===Dl?ch:T}else c=i;i=tn();var p=i.queue,g=p.dispatch;return o!==i.memoizedState&&(Qt.flags|=2048,Pl(9,{destroy:void 0},_T.bind(null,p,o),null)),[c,g,e]}function _T(e,i){e.action=i}function z_(e){var i=tn(),o=Te;if(o!==null)return j_(i,o,e);tn(),i=i.memoizedState,o=tn();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function Pl(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Qt.updateQueue,i===null&&(i=yh(),Qt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function U_(){return tn().memoizedState}function xh(e,i,o,c){var p=Wn();Qt.flags|=e,p.memoizedState=Pl(1|i,{destroy:void 0},o,c===void 0?null:c)}function wh(e,i,o,c){var p=tn();c=c===void 0?null:c;var g=p.memoizedState.inst;Te!==null&&c!==null&&zd(c,Te.memoizedState.deps)?p.memoizedState=Pl(i,g,o,c):(Qt.flags|=e,p.memoizedState=Pl(1|i,g,o,c))}function B_(e,i){xh(8390656,8,e,i)}function Yd(e,i){wh(2048,8,e,i)}function yT(e){Qt.flags|=4;var i=Qt.updateQueue;if(i===null)i=yh(),Qt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function F_(e){var i=tn().memoizedState;return yT({ref:i,nextImpl:e}),function(){if((_e&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function H_(e,i){return wh(4,2,e,i)}function q_(e,i){return wh(4,4,e,i)}function G_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Z_(e,i,o){o=o!=null?o.concat([e]):null,wh(4,4,G_.bind(null,i,e),o)}function Xd(){}function K_(e,i){var o=tn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&zd(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function Q_(e,i){var o=tn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&zd(i,c[1]))return c[0];if(c=e(),Go){Gn(!0);try{e()}finally{Gn(!1)}}return o.memoizedState=[c,i],c}function Wd(e,i,o){return o===void 0||(Dr&1073741824)!==0&&(se&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=Yy(),Qt.lanes|=e,La|=e,o)}function Y_(e,i,o,c){return xn(o,i)?o:Ml.current!==null?(e=Wd(e,o,c),xn(e,i)||(on=!0),e):(Dr&42)===0||(Dr&1073741824)!==0&&(se&261930)===0?(on=!0,e.memoizedState=o):(e=Yy(),Qt.lanes|=e,La|=e,i)}function X_(e,i,o,c,p){var g=yt.p;yt.p=g!==0&&8>g?g:8;var T=et.T,N={};et.T=N,tm(e,!1,i,o);try{var U=p(),tt=et.S;if(tt!==null&&tt(N,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ut=dT(U,c);Gu(e,i,ut,Vi(e))}else Gu(e,i,c,Vi(e))}catch(dt){Gu(e,i,{then:function(){},status:"rejected",reason:dt},Vi())}finally{yt.p=g,T!==null&&N.types!==null&&(T.types=N.types),et.T=T}}function vT(){}function Jd(e,i,o,c){if(e.tag!==5)throw Error(r(476));var p=W_(e).queue;X_(e,p,i,mt,o===null?vT:function(){return J_(e),o(c)})}function W_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:mt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function J_(e){var i=W_(e);i.next===null&&(i=e.alternate.memoizedState),Gu(e,i.next.queue,{},Vi())}function $d(){return Nn(lc)}function $_(){return tn().memoizedState}function ty(){return tn().memoizedState}function bT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Vi();e=Aa(o);var c=Ca(i,e,o);c!==null&&(gi(c,i,o),Uu(c,i,o)),i={cache:Rd()},e.payload=i;return}i=i.return}}function xT(e,i,o){var c=Vi();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Eh(e)?ny(i,o):(o=Iu(e,i,o,c),o!==null&&(gi(o,e,c),iy(o,i,c)))}function ey(e,i,o){var c=Vi();Gu(e,i,o,c)}function Gu(e,i,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Eh(e))ny(i,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,N=g(T,o);if(p.hasEagerState=!0,p.eagerState=N,xn(N,T))return tr(e,i,p,0),De===null&&Oo(),!1}catch{}if(o=Iu(e,i,p,c),o!==null)return gi(o,e,c),iy(o,i,c),!0}return!1}function tm(e,i,o,c){if(c={lane:2,revertLane:Lm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Eh(e)){if(i)throw Error(r(479))}else i=Iu(e,o,c,2),i!==null&&gi(i,e,2)}function Eh(e){var i=e.alternate;return e===Qt||i!==null&&i===Qt}function ny(e,i){kl=gh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function iy(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,mo(e,o)}}var Zu={readContext:Nn,use:vh,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Zu.useEffectEvent=Xe;var sy={readContext:Nn,use:vh,useCallback:function(e,i){return Wn().memoizedState=[e,i===void 0?null:i],e},useContext:Nn,useEffect:B_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,xh(4194308,4,G_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return xh(4194308,4,e,i)},useInsertionEffect:function(e,i){xh(4,2,e,i)},useMemo:function(e,i){var o=Wn();i=i===void 0?null:i;var c=e();if(Go){Gn(!0);try{e()}finally{Gn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=Wn();if(o!==void 0){var p=o(i);if(Go){Gn(!0);try{o(i)}finally{Gn(!1)}}}else p=i;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=xT.bind(null,Qt,e),[c.memoizedState,e]},useRef:function(e){var i=Wn();return e={current:e},i.memoizedState=e},useState:function(e){e=Kd(e);var i=e.queue,o=ey.bind(null,Qt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Xd,useDeferredValue:function(e,i){var o=Wn();return Wd(o,e,i)},useTransition:function(){var e=Kd(!1);return e=X_.bind(null,Qt,e.queue,!0,!1),Wn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Qt,p=Wn();if(te){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),De===null)throw Error(r(349));(se&127)!==0||S_(c,i,o)}p.memoizedState=o;var g={value:o,getSnapshot:i};return p.queue=g,B_(C_.bind(null,c,g,e),[e]),c.flags|=2048,Pl(9,{destroy:void 0},A_.bind(null,c,g,o,i),null),o},useId:function(){var e=Wn(),i=De.identifierPrefix;if(te){var o=At,c=ft;o=(c&~(1<<32-ze(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=_h++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=mT++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:$d,useFormState:P_,useActionState:P_,useOptimistic:function(e){var i=Wn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=tm.bind(null,Qt,!0,o),o.dispatch=i,[e,i]},useMemoCache:qd,useCacheRefresh:function(){return Wn().memoizedState=bT.bind(null,Qt)},useEffectEvent:function(e){var i=Wn(),o={impl:e};return i.memoizedState=o,function(){if((_e&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},em={readContext:Nn,use:vh,useCallback:K_,useContext:Nn,useEffect:Yd,useImperativeHandle:Z_,useInsertionEffect:H_,useLayoutEffect:q_,useMemo:Q_,useReducer:bh,useRef:U_,useState:function(){return bh(Lr)},useDebugValue:Xd,useDeferredValue:function(e,i){var o=tn();return Y_(o,Te.memoizedState,e,i)},useTransition:function(){var e=bh(Lr)[0],i=tn().memoizedState;return[typeof e=="boolean"?e:qu(e),i]},useSyncExternalStore:T_,useId:$_,useHostTransitionStatus:$d,useFormState:V_,useActionState:V_,useOptimistic:function(e,i){var o=tn();return I_(o,Te,e,i)},useMemoCache:qd,useCacheRefresh:ty};em.useEffectEvent=F_;var ry={readContext:Nn,use:vh,useCallback:K_,useContext:Nn,useEffect:Yd,useImperativeHandle:Z_,useInsertionEffect:H_,useLayoutEffect:q_,useMemo:Q_,useReducer:Zd,useRef:U_,useState:function(){return Zd(Lr)},useDebugValue:Xd,useDeferredValue:function(e,i){var o=tn();return Te===null?Wd(o,e,i):Y_(o,Te.memoizedState,e,i)},useTransition:function(){var e=Zd(Lr)[0],i=tn().memoizedState;return[typeof e=="boolean"?e:qu(e),i]},useSyncExternalStore:T_,useId:$_,useHostTransitionStatus:$d,useFormState:z_,useActionState:z_,useOptimistic:function(e,i){var o=tn();return Te!==null?I_(o,Te,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:qd,useCacheRefresh:ty};ry.useEffectEvent=F_;function nm(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:C({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var im={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Vi(),p=Aa(c);p.payload=i,o!=null&&(p.callback=o),i=Ca(e,p,c),i!==null&&(gi(i,e,c),Uu(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Vi(),p=Aa(c);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=Ca(e,p,c),i!==null&&(gi(i,e,c),Uu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Vi(),c=Aa(o);c.tag=2,i!=null&&(c.callback=i),i=Ca(e,c,o),i!==null&&(gi(i,e,o),Uu(i,e,o))}};function ay(e,i,o,c,p,g,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,T):i.prototype&&i.prototype.isPureReactComponent?!va(o,c)||!va(p,g):!0}function oy(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&im.enqueueReplaceState(i,i.state,null)}function Zo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=C({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}function ly(e){ko(e)}function uy(e){console.error(e)}function cy(e){ko(e)}function Th(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function hy(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sm(e,i,o){return o=Aa(o),o.tag=3,o.payload={element:null},o.callback=function(){Th(e,i)},o}function fy(e){return e=Aa(e),e.tag=3,e}function dy(e,i,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;e.payload=function(){return p(g)},e.callback=function(){hy(i,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){hy(i,o,c),typeof p!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function wT(e,i,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Rl(i,o,p,!0),o=Mi.current,o!==null){switch(o.tag){case 31:case 13:return as===null?Ph():o.alternate===null&&We===0&&(We=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===hh?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Nm(e,c,p)),!1;case 22:return o.flags|=65536,c===hh?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Nm(e,c,p)),!1}throw Error(r(435,o.tag))}return Nm(e,c,p),Ph(),!1}if(te)return i=Mi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==Cl&&(e=Error(r(422),{cause:c}),jo(u(e,o)))):(c!==Cl&&(i=Error(r(423),{cause:c}),jo(u(i,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=u(c,o),p=sm(e.stateNode,c,p),kd(e,p),We!==4&&(We=2)),!1;var g=Error(r(520),{cause:c});if(g=u(g,o),tc===null?tc=[g]:tc.push(g),We!==4&&(We=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=sm(o.stateNode,c,e),kd(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ma===null||!Ma.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=fy(p),dy(p,e,o,c),kd(o,p),!1}o=o.return}while(o!==null);return!1}var rm=Error(r(461)),on=!1;function In(e,i,o,c){i.child=e===null?__(i,null,o,c):qo(i,e.child,o,c)}function my(e,i,o,c,p){o=o.render;var g=i.ref;if("ref"in c){var T={};for(var N in c)N!=="ref"&&(T[N]=c[N])}else T=c;return Uo(i),c=Ud(e,i,o,T,g,p),N=Bd(),e!==null&&!on?(Fd(e,i,p),Mr(e,i,p)):(te&&N&&dn(i),i.flags|=1,In(e,i,c,p),i.child)}function py(e,i,o,c,p){if(e===null){var g=o.type;return typeof g=="function"&&!Sl(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,gy(e,i,g,c,p)):(e=Vo(o.type,null,c,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!dm(e,p)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:va,o(T,c)&&e.ref===i.ref)return Mr(e,i,p)}return i.flags|=1,e=rs(g,c),e.ref=i.ref,e.return=i,i.child=e}function gy(e,i,o,c,p){if(e!==null){var g=e.memoizedProps;if(va(g,c)&&e.ref===i.ref)if(on=!1,i.pendingProps=c=g,dm(e,p))(e.flags&131072)!==0&&(on=!0);else return i.lanes=e.lanes,Mr(e,i,p)}return am(e,i,o,c,p)}function _y(e,i,o,c){var p=c.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=i.child=e.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,i.child=null;return yy(e,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&uh(i,g!==null?g.cachePool:null),g!==null?b_(i,g):Pd(),x_(i);else return c=i.lanes=536870912,yy(e,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(uh(i,g.cachePool),b_(i,g),Na(),i.memoizedState=null):(e!==null&&uh(i,null),Pd(),Na());return In(e,i,p,o),i.child}function Ku(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function yy(e,i,o,c,p){var g=Id();return g=g===null?null:{parent:rn._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},e!==null&&uh(i,null),Pd(),x_(i),e!==null&&Rl(e,i,c,!0),i.childLanes=p,null}function Sh(e,i){return i=Ch({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function vy(e,i,o){return qo(i,e.child,null,o),e=Sh(i,i.pendingProps),e.flags|=2,ki(i),i.memoizedState=null,e}function ET(e,i,o){var c=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(te){if(c.mode==="hidden")return e=Sh(i,c),i.lanes=536870912,Ku(null,e);if(jd(i),(e=me)?(e=Dv(e,hi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:nt!==null?{id:ft,overflow:At}:null,retryLane:536870912,hydrationErrors:null},o=Lu(e),o.return=i,i.child=o,de=i,me=null)):e=null,e===null)throw nr(i);return i.lanes=536870912,null}return Sh(i,c)}var g=e.memoizedState;if(g!==null){var T=g.dehydrated;if(jd(i),p)if(i.flags&256)i.flags&=-257,i=vy(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(on||Rl(e,i,o,!1),p=(o&e.childLanes)!==0,on||p){if(c=De,c!==null&&(T=po(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ss(e,T),gi(c,e,T),rm;Ph(),i=vy(e,i,o)}else e=g.treeContext,me=os(T.nextSibling),de=i,te=!0,er=null,hi=!1,e!==null&&Xn(i,e),i=Sh(i,c),i.flags|=4096;return i}return e=rs(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Ah(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function am(e,i,o,c,p){return Uo(i),o=Ud(e,i,o,c,void 0,p),c=Bd(),e!==null&&!on?(Fd(e,i,p),Mr(e,i,p)):(te&&c&&dn(i),i.flags|=1,In(e,i,o,p),i.child)}function by(e,i,o,c,p,g){return Uo(i),i.updateQueue=null,o=E_(i,c,o,p),w_(e),c=Bd(),e!==null&&!on?(Fd(e,i,g),Mr(e,i,g)):(te&&c&&dn(i),i.flags|=1,In(e,i,o,g),i.child)}function xy(e,i,o,c,p){if(Uo(i),i.stateNode===null){var g=Cr,T=o.contextType;typeof T=="object"&&T!==null&&(g=Nn(T)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=im,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Ld(i),T=o.contextType,g.context=typeof T=="object"&&T!==null?Nn(T):Cr,g.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(nm(i,o,T,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&im.enqueueReplaceState(g,g.state,null),Fu(i,c,g,p),Bu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var N=i.memoizedProps,U=Zo(o,N);g.props=U;var tt=g.context,ut=o.contextType;T=Cr,typeof ut=="object"&&ut!==null&&(T=Nn(ut));var dt=o.getDerivedStateFromProps;ut=typeof dt=="function"||typeof g.getSnapshotBeforeUpdate=="function",N=i.pendingProps!==N,ut||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N||tt!==T)&&oy(i,g,c,T),Sa=!1;var it=i.memoizedState;g.state=it,Fu(i,c,g,p),Bu(),tt=i.memoizedState,N||it!==tt||Sa?(typeof dt=="function"&&(nm(i,o,dt,c),tt=i.memoizedState),(U=Sa||ay(i,o,U,c,it,tt,T))?(ut||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=tt),g.props=c,g.state=tt,g.context=T,c=U):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Md(e,i),T=i.memoizedProps,ut=Zo(o,T),g.props=ut,dt=i.pendingProps,it=g.context,tt=o.contextType,U=Cr,typeof tt=="object"&&tt!==null&&(U=Nn(tt)),N=o.getDerivedStateFromProps,(tt=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==dt||it!==U)&&oy(i,g,c,U),Sa=!1,it=i.memoizedState,g.state=it,Fu(i,c,g,p),Bu();var at=i.memoizedState;T!==dt||it!==at||Sa||e!==null&&e.dependencies!==null&&oh(e.dependencies)?(typeof N=="function"&&(nm(i,o,N,c),at=i.memoizedState),(ut=Sa||ay(i,o,ut,c,it,at,U)||e!==null&&e.dependencies!==null&&oh(e.dependencies))?(tt||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,at,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,at,U)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&it===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&it===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=at),g.props=c,g.state=at,g.context=U,c=ut):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&it===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&it===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,Ah(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=qo(i,e.child,null,p),i.child=qo(i,null,o,p)):In(e,i,o,p),i.memoizedState=g.state,e=i.child):e=Mr(e,i,p),e}function wy(e,i,o,c){return Nr(),i.flags|=256,In(e,i,o,c),i.child}var om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lm(e){return{baseLanes:e,cachePool:h_()}}function um(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Pi),e}function Ey(e,i,o){var c=i.pendingProps,p=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=e!==null&&e.memoizedState===null?!1:($e.current&2)!==0),T&&(p=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(te){if(p?Ra(i):Na(),(e=me)?(e=Dv(e,hi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:nt!==null?{id:ft,overflow:At}:null,retryLane:536870912,hydrationErrors:null},o=Lu(e),o.return=i,i.child=o,de=i,me=null)):e=null,e===null)throw nr(i);return Gm(e)?i.lanes=32:i.lanes=536870912,null}var N=c.children;return c=c.fallback,p?(Na(),p=i.mode,N=Ch({mode:"hidden",children:N},p),c=Rr(c,p,o,null),N.return=i,c.return=i,N.sibling=c,i.child=N,c=i.child,c.memoizedState=lm(o),c.childLanes=um(e,T,o),i.memoizedState=om,Ku(null,c)):(Ra(i),cm(i,N))}var U=e.memoizedState;if(U!==null&&(N=U.dehydrated,N!==null)){if(g)i.flags&256?(Ra(i),i.flags&=-257,i=hm(e,i,o)):i.memoizedState!==null?(Na(),i.child=e.child,i.flags|=128,i=null):(Na(),N=c.fallback,p=i.mode,c=Ch({mode:"visible",children:c.children},p),N=Rr(N,p,o,null),N.flags|=2,c.return=i,N.return=i,c.sibling=N,i.child=c,qo(i,e.child,null,o),c=i.child,c.memoizedState=lm(o),c.childLanes=um(e,T,o),i.memoizedState=om,i=Ku(null,c));else if(Ra(i),Gm(N)){if(T=N.nextSibling&&N.nextSibling.dataset,T)var tt=T.dgst;T=tt,c=Error(r(419)),c.stack="",c.digest=T,jo({value:c,source:null,stack:null}),i=hm(e,i,o)}else if(on||Rl(e,i,o,!1),T=(o&e.childLanes)!==0,on||T){if(T=De,T!==null&&(c=po(T,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,ss(e,c),gi(T,e,c),rm;qm(N)||Ph(),i=hm(e,i,o)}else qm(N)?(i.flags|=192,i.child=e.child,i=null):(e=U.treeContext,me=os(N.nextSibling),de=i,te=!0,er=null,hi=!1,e!==null&&Xn(i,e),i=cm(i,c.children),i.flags|=4096);return i}return p?(Na(),N=c.fallback,p=i.mode,U=e.child,tt=U.sibling,c=rs(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,tt!==null?N=rs(tt,N):(N=Rr(N,p,o,null),N.flags|=2),N.return=i,c.return=i,c.sibling=N,i.child=c,Ku(null,c),c=i.child,N=e.child.memoizedState,N===null?N=lm(o):(p=N.cachePool,p!==null?(U=rn._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=h_(),N={baseLanes:N.baseLanes|o,cachePool:p}),c.memoizedState=N,c.childLanes=um(e,T,o),i.memoizedState=om,Ku(e.child,c)):(Ra(i),o=e.child,e=o.sibling,o=rs(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=o,i.memoizedState=null,o)}function cm(e,i){return i=Ch({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ch(e,i){return e=zn(22,e,null,i),e.lanes=0,e}function hm(e,i,o){return qo(i,e.child,null,o),e=cm(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ty(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Ad(e.return,i,o)}function fm(e,i,o,c,p,g){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=p,T.treeForkCount=g)}function Sy(e,i,o){var c=i.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var T=$e.current,N=(T&2)!==0;if(N?(T=T&1|2,i.flags|=128):T&=1,_t($e,T),In(e,i,c,o),c=te?R:0,!N&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ty(e,o,i);else if(e.tag===19)Ty(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)e=o.alternate,e!==null&&ph(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),fm(i,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&ph(e)===null){i.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}fm(i,!0,o,null,g,c);break;case"together":fm(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Mr(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),La|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Rl(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,o=rs(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=rs(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function dm(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&oh(e)))}function TT(e,i,o){switch(i.tag){case 3:Ee(i,i.stateNode.containerInfo),Ta(i,rn,e.memoizedState.cache),Nr();break;case 27:case 5:fs(i);break;case 4:Ee(i,i.stateNode.containerInfo);break;case 10:Ta(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ra(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Ey(e,i,o):(Ra(i),e=Mr(e,i,o),e!==null?e.sibling:null);Ra(i);break;case 19:var p=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Rl(e,i,o,!1),c=(o&i.childLanes)!==0),p){if(c)return Sy(e,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),_t($e,$e.current),c)break;return null;case 22:return i.lanes=0,_y(e,i,o,i.pendingProps);case 24:Ta(i,rn,e.memoizedState.cache)}return Mr(e,i,o)}function Ay(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)on=!0;else{if(!dm(e,o)&&(i.flags&128)===0)return on=!1,TT(e,i,o);on=(e.flags&131072)!==0}else on=!1,te&&(i.flags&1048576)!==0&&Yt(i,R,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=Fo(i.elementType),i.type=e,typeof e=="function")Sl(e)?(c=Zo(e,c),i.tag=1,i=xy(null,i,e,c,o)):(i.tag=0,i=am(null,i,e,c,o));else{if(e!=null){var p=e.$$typeof;if(p===xt){i.tag=11,i=my(null,i,e,c,o);break t}else if(p===P){i.tag=14,i=py(null,i,e,c,o);break t}}throw i=St(e)||e,Error(r(306,i,""))}}return i;case 0:return am(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,p=Zo(c,i.pendingProps),xy(e,i,c,p,o);case 3:t:{if(Ee(i,i.stateNode.containerInfo),e===null)throw Error(r(387));c=i.pendingProps;var g=i.memoizedState;p=g.element,Md(e,i),Fu(i,c,null,o);var T=i.memoizedState;if(c=T.cache,Ta(i,rn,c),c!==g.cache&&Cd(i,[rn],o,!0),Bu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=wy(e,i,c,o);break t}else if(c!==p){p=u(Error(r(424)),i),jo(p),i=wy(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,me=os(e.firstChild),de=i,te=!0,er=null,hi=!0,o=__(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Nr(),c===p){i=Mr(e,i,o);break t}In(e,i,c,o)}i=i.child}return i;case 26:return Ah(e,i),e===null?(o=Vv(i.type,null,i.pendingProps,null))?i.memoizedState=o:te||(o=i.type,e=i.pendingProps,c=Hh(Tt.current).createElement(o),c[Be]=i,c[Ke]=e,Dn(c,o,e),Qe(c),i.stateNode=c):i.memoizedState=Vv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return fs(i),e===null&&te&&(c=i.stateNode=kv(i.type,i.pendingProps,Tt.current),de=i,hi=!0,p=me,Va(i.type)?(Zm=p,me=os(c.firstChild)):me=p),In(e,i,i.pendingProps.children,o),Ah(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&te&&((p=c=me)&&(c=t1(c,i.type,i.pendingProps,hi),c!==null?(i.stateNode=c,de=i,me=os(c.firstChild),hi=!1,p=!0):p=!1),p||nr(i)),fs(i),p=i.type,g=i.pendingProps,T=e!==null?e.memoizedProps:null,c=g.children,Bm(p,g)?c=null:T!==null&&Bm(p,T)&&(i.flags|=32),i.memoizedState!==null&&(p=Ud(e,i,pT,null,null,o),lc._currentValue=p),Ah(e,i),In(e,i,c,o),i.child;case 6:return e===null&&te&&((e=o=me)&&(o=e1(o,i.pendingProps,hi),o!==null?(i.stateNode=o,de=i,me=null,e=!0):e=!1),e||nr(i)),null;case 13:return Ey(e,i,o);case 4:return Ee(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=qo(i,null,c,o):In(e,i,c,o),i.child;case 11:return my(e,i,i.type,i.pendingProps,o);case 7:return In(e,i,i.pendingProps,o),i.child;case 8:return In(e,i,i.pendingProps.children,o),i.child;case 12:return In(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Ta(i,i.type,c.value),In(e,i,c.children,o),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Uo(i),p=Nn(p),c=c(p),i.flags|=1,In(e,i,c,o),i.child;case 14:return py(e,i,i.type,i.pendingProps,o);case 15:return gy(e,i,i.type,i.pendingProps,o);case 19:return Sy(e,i,o);case 31:return ET(e,i,o);case 22:return _y(e,i,o,i.pendingProps);case 24:return Uo(i),c=Nn(rn),e===null?(p=Id(),p===null&&(p=De,g=Rd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),i.memoizedState={parent:c,cache:p},Ld(i),Ta(i,rn,p)):((e.lanes&o)!==0&&(Md(e,i),Fu(i,null,null,o),Bu()),p=e.memoizedState,g=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Ta(i,rn,c)):(c=g.cache,Ta(i,rn,c),c!==p.cache&&Cd(i,[rn],o,!0))),In(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function kr(e){e.flags|=4}function mm(e,i,o,c,p){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if($y())e.flags|=8192;else throw Ho=hh,Dd}else e.flags&=-16777217}function Cy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fv(i))if($y())e.flags|=8192;else throw Ho=hh,Dd}function Rh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?hl():536870912,e.lanes|=i,Ul|=i)}function Qu(e,i){if(!te)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Pe(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function ST(e,i,o){var c=i.pendingProps;switch(Ye(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(i),null;case 1:return Pe(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ir(rn),Re(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ss(i)?kr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ou())),Pe(i),null;case 26:var p=i.type,g=i.memoizedState;return e===null?(kr(i),g!==null?(Pe(i),Cy(i,g)):(Pe(i),mm(i,p,null,c,o))):g?g!==e.memoizedState?(kr(i),Pe(i),Cy(i,g)):(Pe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&kr(i),Pe(i),mm(i,p,e,c,o)),null;case 27:if(Vs(i),o=Tt.current,p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&kr(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Pe(i),null}e=gt.current,Ss(i)?ku(i):(e=kv(p,c,o),i.stateNode=e,kr(i))}return Pe(i),null;case 5:if(Vs(i),p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&kr(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Pe(i),null}if(g=gt.current,Ss(i))ku(i);else{var T=Hh(Tt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}g[Be]=i,g[Ke]=c;t:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break t;for(;T.sibling===null;){if(T.return===null||T.return===i)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=g;t:switch(Dn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&kr(i)}}return Pe(i),mm(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&kr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(e=Tt.current,Ss(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,p=de,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[Be]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Ev(e.nodeValue,o)),e||nr(i,!0)}else e=Hh(e).createTextNode(c),e[Be]=i,i.stateNode=e}return Pe(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=Ss(i),o!==null){if(e===null){if(!c)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Be]=i}else Nr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),e=!1}else o=Ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(ki(i),i):(ki(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Pe(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Ss(i),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Be]=i}else Nr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),p=!1}else p=Ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(ki(i),i):(ki(i),null)}return ki(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),Rh(i,i.updateQueue),Pe(i),null);case 4:return Re(),e===null&&Pm(i.stateNode.containerInfo),Pe(i),null;case 10:return Ir(i.type),Pe(i),null;case 19:if(lt($e),c=i.memoizedState,c===null)return Pe(i),null;if(p=(i.flags&128)!==0,g=c.rendering,g===null)if(p)Qu(c,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=ph(e),g!==null){for(i.flags|=128,Qu(c,!1),e=g.updateQueue,i.updateQueue=e,Rh(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)Du(o,e),o=o.sibling;return _t($e,$e.current&1|2),te&&Ot(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&Rn()>Mh&&(i.flags|=128,p=!0,Qu(c,!1),i.lanes=4194304)}else{if(!p)if(e=ph(g),e!==null){if(i.flags|=128,p=!0,e=e.updateQueue,i.updateQueue=e,Rh(i,e),Qu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!te)return Pe(i),null}else 2*Rn()-c.renderingStartTime>Mh&&o!==536870912&&(i.flags|=128,p=!0,Qu(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(e=c.last,e!==null?e.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Rn(),e.sibling=null,o=$e.current,_t($e,p?o&1|2:o&1),te&&Ot(i,c.treeForkCount),e):(Pe(i),null);case 22:case 23:return ki(i),Vd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Pe(i),i.subtreeFlags&6&&(i.flags|=8192)):Pe(i),o=i.updateQueue,o!==null&&Rh(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&lt(Bo),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ir(rn),Pe(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function AT(e,i){switch(Ye(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ir(rn),Re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Vs(i),null;case 31:if(i.memoizedState!==null){if(ki(i),i.alternate===null)throw Error(r(340));Nr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(ki(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Nr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return lt($e),null;case 4:return Re(),null;case 10:return Ir(i.type),null;case 22:case 23:return ki(i),Vd(),e!==null&&lt(Bo),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ir(rn),null;case 25:return null;default:return null}}function Ry(e,i){switch(Ye(i),i.tag){case 3:Ir(rn),Re();break;case 26:case 27:case 5:Vs(i);break;case 4:Re();break;case 31:i.memoizedState!==null&&ki(i);break;case 13:ki(i);break;case 19:lt($e);break;case 10:Ir(i.type);break;case 22:case 23:ki(i),Vd(),e!==null&&lt(Bo);break;case 24:Ir(rn)}}function Yu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&e)===e){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==p)}}catch(N){we(i,i.return,N)}}function Ia(e,i,o){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&e)===e){var T=c.inst,N=T.destroy;if(N!==void 0){T.destroy=void 0,p=i;var U=o,tt=N;try{tt()}catch(ut){we(p,U,ut)}}}c=c.next}while(c!==g)}}catch(ut){we(i,i.return,ut)}}function Ny(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{v_(i,o)}catch(c){we(e,e.return,c)}}}function Iy(e,i,o){o.props=Zo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){we(e,i,c)}}function Xu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(p){we(e,i,p)}}function sr(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){we(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){we(e,i,p)}else o.current=null}function Dy(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){we(e,e.return,p)}}function pm(e,i,o){try{var c=e.stateNode;QT(c,e.type,o,i),c[Ke]=i}catch(p){we(e,e.return,p)}}function Ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Va(e.type)||e.tag===4}function gm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Va(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _m(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=kn));else if(c!==4&&(c===27&&Va(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(_m(e,i,o),e=e.sibling;e!==null;)_m(e,i,o),e=e.sibling}function Nh(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Va(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Nh(e,i,o),e=e.sibling;e!==null;)Nh(e,i,o),e=e.sibling}function My(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Dn(i,c,o),i[Be]=e,i[Ke]=o}catch(g){we(e,e.return,g)}}var Or=!1,ln=!1,ym=!1,ky=typeof WeakSet=="function"?WeakSet:Set,En=null;function CT(e,i){if(e=e.containerInfo,zm=Xh,e=Io(e),Xs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,N=-1,U=-1,tt=0,ut=0,dt=e,it=null;e:for(;;){for(var at;dt!==o||p!==0&&dt.nodeType!==3||(N=T+p),dt!==g||c!==0&&dt.nodeType!==3||(U=T+c),dt.nodeType===3&&(T+=dt.nodeValue.length),(at=dt.firstChild)!==null;)it=dt,dt=at;for(;;){if(dt===e)break e;if(it===o&&++tt===p&&(N=T),it===g&&++ut===c&&(U=T),(at=dt.nextSibling)!==null)break;dt=it,it=dt.parentNode}dt=at}o=N===-1||U===-1?null:{start:N,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Um={focusedElem:e,selectionRange:o},Xh=!1,En=i;En!==null;)if(i=En,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,En=e;else for(;En!==null;){switch(i=En,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)p=e[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Mt=Zo(o.type,p);e=c.getSnapshotBeforeUpdate(Mt,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ut){we(o,o.return,Ut)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Hm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,En=e;break}En=i.return}}function Oy(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Vr(e,o),c&4&&Yu(5,o);break;case 1:if(Vr(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(T){we(o,o.return,T)}else{var p=Zo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){we(o,o.return,T)}}c&64&&Ny(o),c&512&&Xu(o,o.return);break;case 3:if(Vr(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{v_(e,i)}catch(T){we(o,o.return,T)}}break;case 27:i===null&&c&4&&My(o);case 26:case 5:Vr(e,o),i===null&&c&4&&Dy(o),c&512&&Xu(o,o.return);break;case 12:Vr(e,o);break;case 31:Vr(e,o),c&4&&jy(e,o);break;case 13:Vr(e,o),c&4&&zy(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=PT.bind(null,o),n1(e,o))));break;case 22:if(c=o.memoizedState!==null||Or,!c){i=i!==null&&i.memoizedState!==null||ln,p=Or;var g=ln;Or=c,(ln=i)&&!g?jr(e,o,(o.subtreeFlags&8772)!==0):Vr(e,o),Or=p,ln=g}break;case 30:break;default:Vr(e,o)}}function Py(e){var i=e.alternate;i!==null&&(e.alternate=null,Py(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&aa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,fi=!1;function Pr(e,i,o){for(o=o.child;o!==null;)Vy(e,i,o),o=o.sibling}function Vy(e,i,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount($n,o)}catch{}switch(o.tag){case 26:ln||sr(o,i),Pr(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ln||sr(o,i);var c=Ve,p=fi;Va(o.type)&&(Ve=o.stateNode,fi=!1),Pr(e,i,o),rc(o.stateNode),Ve=c,fi=p;break;case 5:ln||sr(o,i);case 6:if(c=Ve,p=fi,Ve=null,Pr(e,i,o),Ve=c,fi=p,Ve!==null)if(fi)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(o.stateNode)}catch(g){we(o,i,g)}else try{Ve.removeChild(o.stateNode)}catch(g){we(o,i,g)}break;case 18:Ve!==null&&(fi?(e=Ve,Nv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Ql(e)):Nv(Ve,o.stateNode));break;case 4:c=Ve,p=fi,Ve=o.stateNode.containerInfo,fi=!0,Pr(e,i,o),Ve=c,fi=p;break;case 0:case 11:case 14:case 15:Ia(2,o,i),ln||Ia(4,o,i),Pr(e,i,o);break;case 1:ln||(sr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Iy(o,i,c)),Pr(e,i,o);break;case 21:Pr(e,i,o);break;case 22:ln=(c=ln)||o.memoizedState!==null,Pr(e,i,o),ln=c;break;default:Pr(e,i,o)}}function jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ql(e)}catch(o){we(i,i.return,o)}}}function zy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ql(e)}catch(o){we(i,i.return,o)}}function RT(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ky),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ky),i;default:throw Error(r(435,e.tag))}}function Ih(e,i){var o=RT(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var p=VT.bind(null,e,c);c.then(p,p)}})}function di(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=e,T=i,N=T;t:for(;N!==null;){switch(N.tag){case 27:if(Va(N.type)){Ve=N.stateNode,fi=!1;break t}break;case 5:Ve=N.stateNode,fi=!1;break t;case 3:case 4:Ve=N.stateNode.containerInfo,fi=!0;break t}N=N.return}if(Ve===null)throw Error(r(160));Vy(g,T,p),Ve=null,fi=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Uy(i,e),i=i.sibling}var Cs=null;function Uy(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:di(i,e),mi(e),c&4&&(Ia(3,e,e.return),Yu(3,e),Ia(5,e,e.return));break;case 1:di(i,e),mi(e),c&512&&(ln||o===null||sr(o,o.return)),c&64&&Or&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=Cs;if(di(i,e),mi(e),c&512&&(ln||o===null||sr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Ki]||g[Be]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Dn(g,c,o),g[Be]=e,Qe(g),c=g;break t;case"link":var T=Uv("link","href",p).get(c+(o.href||""));if(T){for(var N=0;N<T.length;N++)if(g=T[N],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(N,1);break e}}g=p.createElement(c),Dn(g,c,o),p.head.appendChild(g);break;case"meta":if(T=Uv("meta","content",p).get(c+(o.content||""))){for(N=0;N<T.length;N++)if(g=T[N],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(N,1);break e}}g=p.createElement(c),Dn(g,c,o),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[Be]=e,Qe(g),c=g}e.stateNode=c}else Bv(p,e.type,e.stateNode);else e.stateNode=zv(p,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Bv(p,e.type,e.stateNode):zv(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&pm(e,e.memoizedProps,o.memoizedProps)}break;case 27:di(i,e),mi(e),c&512&&(ln||o===null||sr(o,o.return)),o!==null&&c&4&&pm(e,e.memoizedProps,o.memoizedProps);break;case 5:if(di(i,e),mi(e),c&512&&(ln||o===null||sr(o,o.return)),e.flags&32){p=e.stateNode;try{nn(p,"")}catch(Mt){we(e,e.return,Mt)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,pm(e,p,o!==null?o.memoizedProps:p)),c&1024&&(ym=!0);break;case 6:if(di(i,e),mi(e),c&4){if(e.stateNode===null)throw Error(r(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Mt){we(e,e.return,Mt)}}break;case 3:if(Zh=null,p=Cs,Cs=qh(i.containerInfo),di(i,e),Cs=p,mi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Ql(i.containerInfo)}catch(Mt){we(e,e.return,Mt)}ym&&(ym=!1,By(e));break;case 4:c=Cs,Cs=qh(e.stateNode.containerInfo),di(i,e),mi(e),Cs=c;break;case 12:di(i,e),mi(e);break;case 31:di(i,e),mi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ih(e,c)));break;case 13:di(i,e),mi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Lh=Rn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ih(e,c)));break;case 22:p=e.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,tt=Or,ut=ln;if(Or=tt||p,ln=ut||U,di(i,e),ln=ut,Or=tt,mi(e),c&8192)t:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||U||Or||ln||Ko(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(g=U.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{N=U.stateNode;var dt=U.memoizedProps.style,it=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;N.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(Mt){we(U,U.return,Mt)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(Mt){we(U,U.return,Mt)}}}else if(i.tag===18){if(o===null){U=i;try{var at=U.stateNode;p?Iv(at,!0):Iv(U.stateNode,!1)}catch(Mt){we(U,U.return,Mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Ih(e,o))));break;case 19:di(i,e),mi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ih(e,c)));break;case 30:break;case 21:break;default:di(i,e),mi(e)}}function mi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(Ly(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,g=gm(e);Nh(e,g,p);break;case 5:var T=o.stateNode;o.flags&32&&(nn(T,""),o.flags&=-33);var N=gm(e);Nh(e,N,T);break;case 3:case 4:var U=o.stateNode.containerInfo,tt=gm(e);_m(e,tt,U);break;default:throw Error(r(161))}}catch(ut){we(e,e.return,ut)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function By(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;By(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Vr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Oy(e,i.alternate,i),i=i.sibling}function Ko(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ia(4,i,i.return),Ko(i);break;case 1:sr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Iy(i,i.return,o),Ko(i);break;case 27:rc(i.stateNode);case 26:case 5:sr(i,i.return),Ko(i);break;case 22:i.memoizedState===null&&Ko(i);break;case 30:Ko(i);break;default:Ko(i)}e=e.sibling}}function jr(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=e,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:jr(p,g,o),Yu(4,g);break;case 1:if(jr(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(tt){we(c,c.return,tt)}if(c=g,p=c.updateQueue,p!==null){var N=c.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)y_(U[p],N)}catch(tt){we(c,c.return,tt)}}o&&T&64&&Ny(g),Xu(g,g.return);break;case 27:My(g);case 26:case 5:jr(p,g,o),o&&c===null&&T&4&&Dy(g),Xu(g,g.return);break;case 12:jr(p,g,o);break;case 31:jr(p,g,o),o&&T&4&&jy(p,g);break;case 13:jr(p,g,o),o&&T&4&&zy(p,g);break;case 22:g.memoizedState===null&&jr(p,g,o),Xu(g,g.return);break;case 30:break;default:jr(p,g,o)}i=i.sibling}}function vm(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Pu(o))}function bm(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Pu(e))}function Rs(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fy(e,i,o,c),i=i.sibling}function Fy(e,i,o,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Rs(e,i,o,c),p&2048&&Yu(9,i);break;case 1:Rs(e,i,o,c);break;case 3:Rs(e,i,o,c),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Pu(e)));break;case 12:if(p&2048){Rs(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,T=g.id,N=g.onPostCommit;typeof N=="function"&&N(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){we(i,i.return,U)}}else Rs(e,i,o,c);break;case 31:Rs(e,i,o,c);break;case 13:Rs(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?Rs(e,i,o,c):Wu(e,i):g._visibility&2?Rs(e,i,o,c):(g._visibility|=2,Vl(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),p&2048&&vm(T,i);break;case 24:Rs(e,i,o,c),p&2048&&bm(i.alternate,i);break;default:Rs(e,i,o,c)}}function Vl(e,i,o,c,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,T=i,N=o,U=c,tt=T.flags;switch(T.tag){case 0:case 11:case 15:Vl(g,T,N,U,p),Yu(8,T);break;case 23:break;case 22:var ut=T.stateNode;T.memoizedState!==null?ut._visibility&2?Vl(g,T,N,U,p):Wu(g,T):(ut._visibility|=2,Vl(g,T,N,U,p)),p&&tt&2048&&vm(T.alternate,T);break;case 24:Vl(g,T,N,U,p),p&&tt&2048&&bm(T.alternate,T);break;default:Vl(g,T,N,U,p)}i=i.sibling}}function Wu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,p=c.flags;switch(c.tag){case 22:Wu(o,c),p&2048&&vm(c.alternate,c);break;case 24:Wu(o,c),p&2048&&bm(c.alternate,c);break;default:Wu(o,c)}i=i.sibling}}var Ju=8192;function jl(e,i,o){if(e.subtreeFlags&Ju)for(e=e.child;e!==null;)Hy(e,i,o),e=e.sibling}function Hy(e,i,o){switch(e.tag){case 26:jl(e,i,o),e.flags&Ju&&e.memoizedState!==null&&m1(o,Cs,e.memoizedState,e.memoizedProps);break;case 5:jl(e,i,o);break;case 3:case 4:var c=Cs;Cs=qh(e.stateNode.containerInfo),jl(e,i,o),Cs=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Ju,Ju=16777216,jl(e,i,o),Ju=c):jl(e,i,o));break;default:jl(e,i,o)}}function qy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function $u(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];En=c,Zy(c,e)}qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gy(e),e=e.sibling}function Gy(e){switch(e.tag){case 0:case 11:case 15:$u(e),e.flags&2048&&Ia(9,e,e.return);break;case 3:$u(e);break;case 12:$u(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Dh(e)):$u(e);break;default:$u(e)}}function Dh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];En=c,Zy(c,e)}qy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ia(8,i,i.return),Dh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Dh(i));break;default:Dh(i)}e=e.sibling}}function Zy(e,i){for(;En!==null;){var o=En;switch(o.tag){case 0:case 11:case 15:Ia(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Pu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,En=c;else t:for(o=e;En!==null;){c=En;var p=c.sibling,g=c.return;if(Py(c),c===o){En=null;break t}if(p!==null){p.return=g,En=p;break t}En=g}}}var NT={getCacheForType:function(e){var i=Nn(rn),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return Nn(rn).controller.signal}},IT=typeof WeakMap=="function"?WeakMap:Map,_e=0,De=null,ee=null,se=0,xe=0,Oi=null,Da=!1,zl=!1,xm=!1,zr=0,We=0,La=0,Qo=0,wm=0,Pi=0,Ul=0,tc=null,pi=null,Em=!1,Lh=0,Ky=0,Mh=1/0,kh=null,Ma=null,mn=0,ka=null,Bl=null,Ur=0,Tm=0,Sm=null,Qy=null,ec=0,Am=null;function Vi(){return(_e&2)!==0&&se!==0?se&-se:et.T!==null?Lm():go()}function Yy(){if(Pi===0)if((se&536870912)===0||te){var e=Fs;Fs<<=1,(Fs&3932160)===0&&(Fs=262144),Pi=e}else Pi=536870912;return e=Mi.current,e!==null&&(e.flags|=32),Pi}function gi(e,i,o){(e===De&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(Fl(e,0),Oa(e,se,Pi,!1)),ms(e,o),((_e&2)===0||e!==De)&&(e===De&&((_e&2)===0&&(Qo|=o),We===4&&Oa(e,se,Pi,!1)),rr(e))}function Xy(e,i,o){if((_e&6)!==0)throw Error(r(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||xi(e,i),p=c?MT(e,i):Rm(e,i,!0),g=c;do{if(p===0){zl&&!c&&Oa(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!DT(o)){p=Rm(e,i,!1),g=!1;continue}if(p===2){if(g=i,e.errorRecoveryDisabledLanes&g)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var N=e;p=tc;var U=N.current.memoizedState.isDehydrated;if(U&&(Fl(N,T).flags|=256),T=Rm(N,T,!1),T!==2){if(xm&&!U){N.errorRecoveryDisabledLanes|=g,Qo|=g,p=4;break t}g=pi,pi=p,g!==null&&(pi===null?pi=g:pi.push.apply(pi,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){Fl(e,0),Oa(e,i,0,!0);break}t:{switch(c=e,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Oa(c,i,Pi,!Da);break t;case 2:pi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(p=Lh+300-Rn(),10<p)){if(Oa(c,i,Pi,!Da),Gi(c,0,!0)!==0)break t;Ur=i,c.timeoutHandle=Cv(Wy.bind(null,c,o,pi,kh,Em,i,Pi,Qo,Ul,Da,g,"Throttled",-0,0),p);break t}Wy(c,o,pi,kh,Em,i,Pi,Qo,Ul,Da,g,null,-0,0)}}break}while(!0);rr(e)}function Wy(e,i,o,c,p,g,T,N,U,tt,ut,dt,it,at){if(e.timeoutHandle=-1,dt=i.subtreeFlags,dt&8192||(dt&16785408)===16785408){dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},Hy(i,g,dt);var Mt=(g&62914560)===g?Lh-Rn():(g&4194048)===g?Ky-Rn():0;if(Mt=p1(dt,Mt),Mt!==null){Ur=g,e.cancelPendingCommit=Mt(rv.bind(null,e,i,g,o,c,p,T,N,U,ut,dt,null,it,at)),Oa(e,g,T,!tt);return}}rv(e,i,g,o,c,p,T,N,U)}function DT(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!xn(g(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Oa(e,i,o,c){i&=~wm,i&=~Qo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var p=i;0<p;){var g=31-ze(p),T=1<<g;c[g]=-1,p&=~T}o!==0&&yr(e,o,i)}function Oh(){return(_e&6)===0?(nc(0),!1):!0}function Cm(){if(ee!==null){if(xe===0)var e=ee.return;else e=ee,As=ir=null,Hd(e),Ll=null,ju=0,e=ee;for(;e!==null;)Ry(e.alternate,e),e=e.return;ee=null}}function Fl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,WT(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Ur=0,Cm(),De=e,ee=o=rs(e.current,null),se=i,xe=0,Oi=null,Da=!1,zl=xi(e,i),xm=!1,Ul=Pi=wm=Qo=La=We=0,pi=tc=null,Em=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var p=31-ze(c),g=1<<p;i|=e[p],c&=~g}return zr=i,Oo(),o}function Jy(e,i){Qt=null,et.H=Zu,i===Dl||i===ch?(i=m_(),xe=3):i===Dd?(i=m_(),xe=4):xe=i===rm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Oi=i,ee===null&&(We=1,Th(e,u(i,e.current)))}function $y(){var e=Mi.current;return e===null?!0:(se&4194048)===se?as===null:(se&62914560)===se||(se&536870912)!==0?e===as:!1}function tv(){var e=et.H;return et.H=Zu,e===null?Zu:e}function ev(){var e=et.A;return et.A=NT,e}function Ph(){We=4,Da||(se&4194048)!==se&&Mi.current!==null||(zl=!0),(La&134217727)===0&&(Qo&134217727)===0||De===null||Oa(De,se,Pi,!1)}function Rm(e,i,o){var c=_e;_e|=2;var p=tv(),g=ev();(De!==e||se!==i)&&(kh=null,Fl(e,i)),i=!1;var T=We;t:do try{if(xe!==0&&ee!==null){var N=ee,U=Oi;switch(xe){case 8:Cm(),T=6;break t;case 3:case 2:case 9:case 6:Mi.current===null&&(i=!0);var tt=xe;if(xe=0,Oi=null,Hl(e,N,U,tt),o&&zl){T=0;break t}break;default:tt=xe,xe=0,Oi=null,Hl(e,N,U,tt)}}LT(),T=We;break}catch(ut){Jy(e,ut)}while(!0);return i&&e.shellSuspendCounter++,As=ir=null,_e=c,et.H=p,et.A=g,ee===null&&(De=null,se=0,Oo()),T}function LT(){for(;ee!==null;)nv(ee)}function MT(e,i){var o=_e;_e|=2;var c=tv(),p=ev();De!==e||se!==i?(kh=null,Mh=Rn()+500,Fl(e,i)):zl=xi(e,i);t:do try{if(xe!==0&&ee!==null){i=ee;var g=Oi;e:switch(xe){case 1:xe=0,Oi=null,Hl(e,i,g,1);break;case 2:case 9:if(f_(g)){xe=0,Oi=null,iv(i);break}i=function(){xe!==2&&xe!==9||De!==e||(xe=7),rr(e)},g.then(i,i);break t;case 3:xe=7;break t;case 4:xe=5;break t;case 7:f_(g)?(xe=0,Oi=null,iv(i)):(xe=0,Oi=null,Hl(e,i,g,7));break;case 5:var T=null;switch(ee.tag){case 26:T=ee.memoizedState;case 5:case 27:var N=ee;if(T?Fv(T):N.stateNode.complete){xe=0,Oi=null;var U=N.sibling;if(U!==null)ee=U;else{var tt=N.return;tt!==null?(ee=tt,Vh(tt)):ee=null}break e}}xe=0,Oi=null,Hl(e,i,g,5);break;case 6:xe=0,Oi=null,Hl(e,i,g,6);break;case 8:Cm(),We=6;break t;default:throw Error(r(462))}}kT();break}catch(ut){Jy(e,ut)}while(!0);return As=ir=null,et.H=c,et.A=p,_e=o,ee!==null?0:(De=null,se=0,Oo(),We)}function kT(){for(;ee!==null&&!ll();)nv(ee)}function nv(e){var i=Ay(e.alternate,e,zr);e.memoizedProps=e.pendingProps,i===null?Vh(e):ee=i}function iv(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=by(o,i,i.pendingProps,i.type,void 0,se);break;case 11:i=by(o,i,i.pendingProps,i.type.render,i.ref,se);break;case 5:Hd(i);default:Ry(o,i),i=ee=Du(i,zr),i=Ay(o,i,zr)}e.memoizedProps=e.pendingProps,i===null?Vh(e):ee=i}function Hl(e,i,o,c){As=ir=null,Hd(i),Ll=null,ju=0;var p=i.return;try{if(wT(e,p,i,o,se)){We=1,Th(e,u(o,e.current)),ee=null;return}}catch(g){if(p!==null)throw ee=p,g;We=1,Th(e,u(o,e.current)),ee=null;return}i.flags&32768?(te||c===1?e=!0:zl||(se&536870912)!==0?e=!1:(Da=e=!0,(c===2||c===9||c===3||c===6)&&(c=Mi.current,c!==null&&c.tag===13&&(c.flags|=16384))),sv(i,e)):Vh(i)}function Vh(e){var i=e;do{if((i.flags&32768)!==0){sv(i,Da);return}e=i.return;var o=ST(i.alternate,i,zr);if(o!==null){ee=o;return}if(i=i.sibling,i!==null){ee=i;return}ee=i=e}while(i!==null);We===0&&(We=5)}function sv(e,i){do{var o=AT(e.alternate,e);if(o!==null){o.flags&=32767,ee=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){ee=e;return}ee=e=o}while(e!==null);We=6,ee=null}function rv(e,i,o,c,p,g,T,N,U){e.cancelPendingCommit=null;do jh();while(mn!==0);if((_e&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(g=i.lanes|i.childLanes,g|=Tl,Nu(e,o,g,T,N,U),e===De&&(ee=De=null,se=0),Bl=i,ka=e,Ur=o,Tm=g,Sm=p,Qy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jT(ds,function(){return cv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=et.T,et.T=null,p=yt.p,yt.p=2,T=_e,_e|=4;try{CT(e,i,o)}finally{_e=T,yt.p=p,et.T=c}}mn=1,av(),ov(),lv()}}function av(){if(mn===1){mn=0;var e=ka,i=Bl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=et.T,et.T=null;var c=yt.p;yt.p=2;var p=_e;_e|=4;try{Uy(i,e);var g=Um,T=Io(e.containerInfo),N=g.focusedElem,U=g.selectionRange;if(T!==N&&N&&N.ownerDocument&&bl(N.ownerDocument.documentElement,N)){if(U!==null&&Xs(N)){var tt=U.start,ut=U.end;if(ut===void 0&&(ut=tt),"selectionStart"in N)N.selectionStart=tt,N.selectionEnd=Math.min(ut,N.value.length);else{var dt=N.ownerDocument||document,it=dt&&dt.defaultView||window;if(it.getSelection){var at=it.getSelection(),Mt=N.textContent.length,Ut=Math.min(U.start,Mt),Ae=U.end===void 0?Ut:Math.min(U.end,Mt);!at.extend&&Ut>Ae&&(T=Ae,Ae=Ut,Ut=T);var Y=No(N,Ut),Z=No(N,Ae);if(Y&&Z&&(at.rangeCount!==1||at.anchorNode!==Y.node||at.anchorOffset!==Y.offset||at.focusNode!==Z.node||at.focusOffset!==Z.offset)){var $=dt.createRange();$.setStart(Y.node,Y.offset),at.removeAllRanges(),Ut>Ae?(at.addRange($),at.extend(Z.node,Z.offset)):($.setEnd(Z.node,Z.offset),at.addRange($))}}}}for(dt=[],at=N;at=at.parentNode;)at.nodeType===1&&dt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<dt.length;N++){var ct=dt[N];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}Xh=!!zm,Um=zm=null}finally{_e=p,yt.p=c,et.T=o}}e.current=i,mn=2}}function ov(){if(mn===2){mn=0;var e=ka,i=Bl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=et.T,et.T=null;var c=yt.p;yt.p=2;var p=_e;_e|=4;try{Oy(e,i.alternate,i)}finally{_e=p,yt.p=c,et.T=o}}mn=3}}function lv(){if(mn===4||mn===3){mn=0,co();var e=ka,i=Bl,o=Ur,c=Qy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?mn=5:(mn=0,Bl=ka=null,uv(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Ma=null),Lt(o),i=i.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot($n,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=et.T,p=yt.p,yt.p=2,et.T=null;try{for(var g=e.onRecoverableError,T=0;T<c.length;T++){var N=c[T];g(N.value,{componentStack:N.stack})}}finally{et.T=i,yt.p=p}}(Ur&3)!==0&&jh(),rr(e),p=e.pendingLanes,(o&261930)!==0&&(p&42)!==0?e===Am?ec++:(ec=0,Am=e):ec=0,nc(0)}}function uv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Pu(i)))}function jh(){return av(),ov(),lv(),cv()}function cv(){if(mn!==5)return!1;var e=ka,i=Tm;Tm=0;var o=Lt(Ur),c=et.T,p=yt.p;try{yt.p=32>o?32:o,et.T=null,o=Sm,Sm=null;var g=ka,T=Ur;if(mn=0,Bl=ka=null,Ur=0,(_e&6)!==0)throw Error(r(331));var N=_e;if(_e|=4,Gy(g.current),Fy(g,g.current,T,o),_e=N,nc(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot($n,g)}catch{}return!0}finally{yt.p=p,et.T=c,uv(e,i)}}function hv(e,i,o){i=u(o,i),i=sm(e.stateNode,i,2),e=Ca(e,i,2),e!==null&&(ms(e,2),rr(e))}function we(e,i,o){if(e.tag===3)hv(e,e,o);else for(;i!==null;){if(i.tag===3){hv(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ma===null||!Ma.has(c))){e=u(o,e),o=fy(2),c=Ca(i,o,2),c!==null&&(dy(o,c,i,e),ms(c,2),rr(c));break}}i=i.return}}function Nm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new IT;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(o)||(xm=!0,p.add(o),e=OT.bind(null,e,i,o),i.then(e,e))}function OT(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,De===e&&(se&o)===o&&(We===4||We===3&&(se&62914560)===se&&300>Rn()-Lh?(_e&2)===0&&Fl(e,0):wm|=o,Ul===se&&(Ul=0)),rr(e)}function fv(e,i){i===0&&(i=hl()),e=ss(e,i),e!==null&&(ms(e,i),rr(e))}function PT(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),fv(e,o)}function VT(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),fv(e,o)}function jT(e,i){return Ze(e,i)}var zh=null,ql=null,Im=!1,Uh=!1,Dm=!1,Pa=0;function rr(e){e!==ql&&e.next===null&&(ql===null?zh=ql=e:ql=ql.next=e),Uh=!0,Im||(Im=!0,UT())}function nc(e,i){if(!Dm&&Uh){Dm=!0;do for(var o=!1,c=zh;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,N=c.pingedLanes;g=(1<<31-ze(42|e)+1)-1,g&=p&~(T&~N),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,gv(c,g))}else g=se,g=Gi(c,c===De?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||xi(c,g)||(o=!0,gv(c,g));c=c.next}while(o);Dm=!1}}function zT(){dv()}function dv(){Uh=Im=!1;var e=0;Pa!==0&&XT()&&(e=Pa);for(var i=Rn(),o=null,c=zh;c!==null;){var p=c.next,g=mv(c,i);g===0?(c.next=null,o===null?zh=p:o.next=p,p===null&&(ql=o)):(o=c,(e!==0||(g&3)!==0)&&(Uh=!0)),c=p}mn!==0&&mn!==5||nc(e),Pa!==0&&(Pa=0)}function mv(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var T=31-ze(g),N=1<<T,U=p[T];U===-1?((N&o)===0||(N&c)!==0)&&(p[T]=Ru(N,i)):U<=i&&(e.expiredLanes|=N),g&=~N}if(i=De,o=se,o=Gi(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Hi(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||xi(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&Hi(c),Lt(o)){case 2:case 8:o=sa;break;case 32:o=ds;break;case 268435456:o=ho;break;default:o=ds}return c=pv.bind(null,e),o=Ze(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&Hi(c),e.callbackPriority=2,e.callbackNode=null,2}function pv(e,i){if(mn!==0&&mn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(jh()&&e.callbackNode!==o)return null;var c=se;return c=Gi(e,e===De?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Xy(e,c,i),mv(e,Rn()),e.callbackNode!=null&&e.callbackNode===o?pv.bind(null,e):null)}function gv(e,i){if(jh())return null;Xy(e,i,!0)}function UT(){JT(function(){(_e&6)!==0?Ze(_r,zT):dv()})}function Lm(){if(Pa===0){var e=Nl;e===0&&(e=bi,bi<<=1,(bi&261888)===0&&(bi=256)),Pa=e}return Pa}function _v(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gs(""+e)}function yv(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function BT(e,i,o,c,p){if(i==="submit"&&o&&o.stateNode===p){var g=_v((p[Ke]||null).action),T=c.submitter;T&&(i=(i=T[Ke]||null)?_v(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var N=new ts("action","action",null,c,p);e.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Pa!==0){var U=T?yv(p,T):new FormData(p);Jd(o,{pending:!0,data:U,method:p.method,action:g},null,U)}}else typeof g=="function"&&(N.preventDefault(),U=T?yv(p,T):new FormData(p),Jd(o,{pending:!0,data:U,method:p.method,action:g},g,U))},currentTarget:p}]})}}for(var Mm=0;Mm<$s.length;Mm++){var km=$s[Mm],FT=km.toLowerCase(),HT=km[0].toUpperCase()+km.slice(1);ui(FT,"on"+HT)}ui(Lo,"onAnimationEnd"),ui(sh,"onAnimationIteration"),ui(Mo,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(Ed,"onTransitionRun"),ui(rh,"onTransitionStart"),ui(Td,"onTransitionCancel"),ui(wa,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function vv(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],p=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var T=c.length-1;0<=T;T--){var N=c[T],U=N.instance,tt=N.currentTarget;if(N=N.listener,U!==g&&p.isPropagationStopped())break t;g=N,p.currentTarget=tt;try{g(p)}catch(ut){ko(ut)}p.currentTarget=null,g=U}else for(T=0;T<c.length;T++){if(N=c[T],U=N.instance,tt=N.currentTarget,N=N.listener,U!==g&&p.isPropagationStopped())break t;g=N,p.currentTarget=tt;try{g(p)}catch(ut){ko(ut)}p.currentTarget=null,g=U}}}}function ne(e,i){var o=i[Ei];o===void 0&&(o=i[Ei]=new Set);var c=e+"__bubble";o.has(c)||(bv(i,e,2,!1),o.add(c))}function Om(e,i,o){var c=0;i&&(c|=4),bv(o,e,c,i)}var Bh="_reactListening"+Math.random().toString(36).slice(2);function Pm(e){if(!e[Bh]){e[Bh]=!0,_o.forEach(function(o){o!=="selectionchange"&&(qT.has(o)||Om(o,!1,e),Om(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Bh]||(i[Bh]=!0,Om("selectionchange",!1,i))}}function bv(e,i,o,c){switch(Yv(i)){case 2:var p=y1;break;case 8:p=v1;break;default:p=Wm}o=p.bind(null,i,o,e),p=void 0,!ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(i,o,{capture:!0,passive:p}):e.addEventListener(i,o,!0):p!==void 0?e.addEventListener(i,o,{passive:p}):e.addEventListener(i,o,!1)}function Vm(e,i,o,c,p){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var N=c.stateNode.containerInfo;if(N===p)break;if(T===4)for(T=c.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;N!==null;){if(T=Ti(N),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){c=g=T;continue t}N=N.parentNode}}c=c.return}_s(function(){var tt=g,ut=On(o),dt=[];t:{var it=ah.get(e);if(it!==void 0){var at=ts,Mt=e;switch(e){case"keypress":if(Ks(o)===0)break t;case"keydown":case"keyup":at=To;break;case"focusin":Mt="focus",at=Tr;break;case"focusout":Mt="blur",at=Tr;break;case"beforeblur":case"afterblur":at=Tr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=pl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=x;break;case Lo:case sh:case Mo:at=fa;break;case wa:at=D;break;case"scroll":case"scrollend":at=Wt;break;case"wheel":at=st;break;case"copy":case"cut":case"paste":at=Qn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=ws;break;case"toggle":case"beforetoggle":at=Ft}var Ut=(i&4)!==0,Ae=!Ut&&(e==="scroll"||e==="scrollend"),Y=Ut?it!==null?it+"Capture":null:it;Ut=[];for(var Z=tt,$;Z!==null;){var ct=Z;if($=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||$===null||Y===null||(ct=Kn(Z,Y),ct!=null&&Ut.push(sc(Z,ct,$))),Ae)break;Z=Z.return}0<Ut.length&&(it=new at(it,Mt,null,o,ut),dt.push({event:it,listeners:Ut}))}}if((i&7)===0){t:{if(it=e==="mouseover"||e==="pointerover",at=e==="mouseout"||e==="pointerout",it&&o!==ha&&(Mt=o.relatedTarget||o.fromElement)&&(Ti(Mt)||Mt[wi]))break t;if((at||it)&&(it=ut.window===ut?ut:(it=ut.ownerDocument)?it.defaultView||it.parentWindow:window,at?(Mt=o.relatedTarget||o.toElement,at=tt,Mt=Mt?Ti(Mt):null,Mt!==null&&(Ae=h(Mt),Ut=Mt.tag,Mt!==Ae||Ut!==5&&Ut!==27&&Ut!==6)&&(Mt=null)):(at=null,Mt=tt),at!==Mt)){if(Ut=vo,ct="onMouseLeave",Y="onMouseEnter",Z="mouse",(e==="pointerout"||e==="pointerover")&&(Ut=ws,ct="onPointerLeave",Y="onPointerEnter",Z="pointer"),Ae=at==null?it:_n(at),$=Mt==null?it:_n(Mt),it=new Ut(ct,Z+"leave",at,o,ut),it.target=Ae,it.relatedTarget=$,ct=null,Ti(ut)===tt&&(Ut=new Ut(Y,Z+"enter",Mt,o,ut),Ut.target=$,Ut.relatedTarget=Ae,ct=Ut),Ae=ct,at&&Mt)e:{for(Ut=GT,Y=at,Z=Mt,$=0,ct=Y;ct;ct=Ut(ct))$++;ct=0;for(var Vt=Z;Vt;Vt=Ut(Vt))ct++;for(;0<$-ct;)Y=Ut(Y),$--;for(;0<ct-$;)Z=Ut(Z),ct--;for(;$--;){if(Y===Z||Z!==null&&Y===Z.alternate){Ut=Y;break e}Y=Ut(Y),Z=Ut(Z)}Ut=null}else Ut=null;at!==null&&xv(dt,it,at,Ut,!1),Mt!==null&&Ae!==null&&xv(dt,Ae,Mt,Ut,!0)}}t:{if(it=tt?_n(tt):window,at=it.nodeName&&it.nodeName.toLowerCase(),at==="select"||at==="input"&&it.type==="file")var pe=Ro;else if(es(it))if($c)pe=wd;else{pe=xd;var kt=Es}else at=it.nodeName,!at||at.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?tt&&qs(tt.elementType)&&(pe=Ro):pe=ya;if(pe&&(pe=pe(e,tt))){Jc(dt,pe,o,ut);break t}kt&&kt(e,it,tt),e==="focusout"&&tt&&it.type==="number"&&tt.memoizedProps.value!=null&&Si(it,"number",it.value)}switch(kt=tt?_n(tt):window,e){case"focusin":(es(kt)||kt.contentEditable==="true")&&(Ws=kt,wl=tt,Do=null);break;case"focusout":Do=wl=Ws=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,nh(dt,o,ut);break;case"selectionchange":if(xl)break;case"keydown":case"keyup":nh(dt,o,ut)}var Xt;if(ce)t:{switch(e){case"compositionstart":var re="onCompositionStart";break t;case"compositionend":re="onCompositionEnd";break t;case"compositionupdate":re="onCompositionUpdate";break t}re=void 0}else pa?Sr(e,o)&&(re="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(re="onCompositionStart");re&&(li&&o.locale!=="ko"&&(pa||re!=="onCompositionStart"?re==="onCompositionEnd"&&pa&&(Xt=Ai()):(ai=ut,vs="value"in ai?ai.value:ai.textContent,pa=!0)),kt=Fh(tt,re),0<kt.length&&(re=new Ni(re,e,null,o,ut),dt.push({event:re,listeners:kt}),Xt?re.data=Xt:(Xt=Ar(o),Xt!==null&&(re.data=Xt)))),(Xt=oi?Li(e,o):ga(e,o))&&(re=Fh(tt,"onBeforeInput"),0<re.length&&(kt=new Ni("onBeforeInput","beforeinput",null,o,ut),dt.push({event:kt,listeners:re}),kt.data=Xt)),BT(dt,e,tt,o,ut)}vv(dt,i)})}function sc(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Fh(e,i){for(var o=i+"Capture",c=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Kn(e,o),p!=null&&c.unshift(sc(e,p,g)),p=Kn(e,i),p!=null&&c.push(sc(e,p,g))),e.tag===3)return c;e=e.return}return[]}function GT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xv(e,i,o,c,p){for(var g=i._reactName,T=[];o!==null&&o!==c;){var N=o,U=N.alternate,tt=N.stateNode;if(N=N.tag,U!==null&&U===c)break;N!==5&&N!==26&&N!==27||tt===null||(U=tt,p?(tt=Kn(o,g),tt!=null&&T.unshift(sc(o,tt,U))):p||(tt=Kn(o,g),tt!=null&&T.push(sc(o,tt,U)))),o=o.return}T.length!==0&&e.push({event:i,listeners:T})}var ZT=/\r\n?/g,KT=/\u0000|\uFFFD/g;function wv(e){return(typeof e=="string"?e:""+e).replace(ZT,`
`).replace(KT,"")}function Ev(e,i){return i=wv(i),wv(e)===i}function Se(e,i,o,c,p,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||nn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&nn(e,""+c);break;case"className":$t(e,"class",c);break;case"tabIndex":$t(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":$t(e,o,c);break;case"style":xr(e,c,g);break;case"data":if(i!=="object"){$t(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Gs(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Se(e,i,"name",p.name,p,null),Se(e,i,"formEncType",p.formEncType,p,null),Se(e,i,"formMethod",p.formMethod,p,null),Se(e,i,"formTarget",p.formTarget,p,null)):(Se(e,i,"encType",p.encType,p,null),Se(e,i,"method",p.method,p,null),Se(e,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Gs(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=kn);break;case"onScroll":c!=null&&ne("scroll",e);break;case"onScrollEnd":c!=null&&ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Gs(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":ne("beforetoggle",e),ne("toggle",e),Jt(e,"popover",c);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Jt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=wr.get(o)||o,Jt(e,o,c))}}function jm(e,i,o,c,p,g){switch(o){case"style":xr(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"children":typeof c=="string"?nn(e,c):(typeof c=="number"||typeof c=="bigint")&&nn(e,""+c);break;case"onScroll":c!=null&&ne("scroll",e);break;case"onScrollEnd":c!=null&&ne("scrollend",e);break;case"onClick":c!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),g=e[Ke]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,p);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Jt(e,o,c)}}}function Dn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",e),ne("load",e);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Se(e,i,g,T,o,null)}}p&&Se(e,i,"srcSet",o.srcSet,o,null),c&&Se(e,i,"src",o.src,o,null);return;case"input":ne("invalid",e);var N=g=T=p=null,U=null,tt=null;for(c in o)if(o.hasOwnProperty(c)){var ut=o[c];if(ut!=null)switch(c){case"name":p=ut;break;case"type":T=ut;break;case"checked":U=ut;break;case"defaultChecked":tt=ut;break;case"value":g=ut;break;case"defaultValue":N=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,i));break;default:Se(e,i,c,ut,o,null)}}br(e,g,N,U,tt,T,p,!1);return;case"select":ne("invalid",e),c=T=g=null;for(p in o)if(o.hasOwnProperty(p)&&(N=o[p],N!=null))switch(p){case"value":g=N;break;case"defaultValue":T=N;break;case"multiple":c=N;default:Se(e,i,p,N,o,null)}i=g,o=T,e.multiple=!!c,i!=null?be(e,!!c,i,!1):o!=null&&be(e,!!c,o,!0);return;case"textarea":ne("invalid",e),g=p=c=null;for(T in o)if(o.hasOwnProperty(T)&&(N=o[T],N!=null))switch(T){case"value":c=N;break;case"defaultValue":p=N;break;case"children":g=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:Se(e,i,T,N,o,null)}ri(e,c,p,g);return;case"option":for(U in o)o.hasOwnProperty(U)&&(c=o[U],c!=null)&&(U==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Se(e,i,U,c,o,null));return;case"dialog":ne("beforetoggle",e),ne("toggle",e),ne("cancel",e),ne("close",e);break;case"iframe":case"object":ne("load",e);break;case"video":case"audio":for(c=0;c<ic.length;c++)ne(ic[c],e);break;case"image":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"embed":case"source":case"link":ne("error",e),ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in o)if(o.hasOwnProperty(tt)&&(c=o[tt],c!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Se(e,i,tt,c,o,null)}return;default:if(qs(i)){for(ut in o)o.hasOwnProperty(ut)&&(c=o[ut],c!==void 0&&jm(e,i,ut,c,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(c=o[N],c!=null&&Se(e,i,N,c,o,null))}function QT(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,N=null,U=null,tt=null,ut=null;for(at in o){var dt=o[at];if(o.hasOwnProperty(at)&&dt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":U=dt;default:c.hasOwnProperty(at)||Se(e,i,at,null,c,dt)}}for(var it in c){var at=c[it];if(dt=o[it],c.hasOwnProperty(it)&&(at!=null||dt!=null))switch(it){case"type":g=at;break;case"name":p=at;break;case"checked":tt=at;break;case"defaultChecked":ut=at;break;case"value":T=at;break;case"defaultValue":N=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,i));break;default:at!==dt&&Se(e,i,it,at,c,dt)}}ua(e,T,N,U,tt,ut,g,p);return;case"select":at=T=N=it=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":at=U;default:c.hasOwnProperty(g)||Se(e,i,g,null,c,U)}for(p in c)if(g=c[p],U=o[p],c.hasOwnProperty(p)&&(g!=null||U!=null))switch(p){case"value":it=g;break;case"defaultValue":N=g;break;case"multiple":T=g;default:g!==U&&Se(e,i,p,g,c,U)}i=N,o=T,c=at,it!=null?be(e,!!o,it,!1):!!c!=!!o&&(i!=null?be(e,!!o,i,!0):be(e,!!o,o?[]:"",!1));return;case"textarea":at=it=null;for(N in o)if(p=o[N],o.hasOwnProperty(N)&&p!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Se(e,i,N,null,c,p)}for(T in c)if(p=c[T],g=o[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":it=p;break;case"defaultValue":at=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&Se(e,i,T,p,c,g)}Wi(e,it,at);return;case"option":for(var Mt in o)it=o[Mt],o.hasOwnProperty(Mt)&&it!=null&&!c.hasOwnProperty(Mt)&&(Mt==="selected"?e.selected=!1:Se(e,i,Mt,null,c,it));for(U in c)it=c[U],at=o[U],c.hasOwnProperty(U)&&it!==at&&(it!=null||at!=null)&&(U==="selected"?e.selected=it&&typeof it!="function"&&typeof it!="symbol":Se(e,i,U,it,c,at));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in o)it=o[Ut],o.hasOwnProperty(Ut)&&it!=null&&!c.hasOwnProperty(Ut)&&Se(e,i,Ut,null,c,it);for(tt in c)if(it=c[tt],at=o[tt],c.hasOwnProperty(tt)&&it!==at&&(it!=null||at!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,i));break;default:Se(e,i,tt,it,c,at)}return;default:if(qs(i)){for(var Ae in o)it=o[Ae],o.hasOwnProperty(Ae)&&it!==void 0&&!c.hasOwnProperty(Ae)&&jm(e,i,Ae,void 0,c,it);for(ut in c)it=c[ut],at=o[ut],!c.hasOwnProperty(ut)||it===at||it===void 0&&at===void 0||jm(e,i,ut,it,c,at);return}}for(var Y in o)it=o[Y],o.hasOwnProperty(Y)&&it!=null&&!c.hasOwnProperty(Y)&&Se(e,i,Y,null,c,it);for(dt in c)it=c[dt],at=o[dt],!c.hasOwnProperty(dt)||it===at||it==null&&at==null||Se(e,i,dt,it,c,at)}function Tv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,T=p.initiatorType,N=p.duration;if(g&&N&&Tv(T)){for(T=0,N=p.responseEnd,c+=1;c<o.length;c++){var U=o[c],tt=U.startTime;if(tt>N)break;var ut=U.transferSize,dt=U.initiatorType;ut&&Tv(dt)&&(U=U.responseEnd,T+=ut*(U<N?1:(N-tt)/(U-tt)))}if(--c,i+=8*(g+T)/(p.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zm=null,Um=null;function Hh(e){return e.nodeType===9?e:e.ownerDocument}function Sv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Av(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Bm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fm=null;function XT(){var e=window.event;return e&&e.type==="popstate"?e===Fm?!1:(Fm=e,!0):(Fm=null,!1)}var Cv=typeof setTimeout=="function"?setTimeout:void 0,WT=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,JT=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(e){return Rv.resolve(null).then(e).catch($T)}:Cv;function $T(e){setTimeout(function(){throw e})}function Va(e){return e==="head"}function Nv(e,i){var o=i,c=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(p),Ql(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")rc(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,rc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,N=g.nodeName;g[Ki]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&rc(e.ownerDocument.body);o=p}while(o);Ql(i)}function Iv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function Hm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hm(o),aa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function t1(e,i,o,c){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ki])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=os(e.nextSibling),e===null)break}return null}function e1(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=os(e.nextSibling),e===null))return null;return e}function Dv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=os(e.nextSibling),e===null))return null;return e}function qm(e){return e.data==="$?"||e.data==="$~"}function Gm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function n1(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function os(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Zm=null;function Lv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return os(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function Mv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function kv(e,i,o){switch(i=Hh(o),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function rc(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);aa(e)}var ls=new Map,Ov=new Set;function qh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Br=yt.d;yt.d={f:i1,r:s1,D:r1,C:a1,L:o1,m:l1,X:c1,S:u1,M:h1};function i1(){var e=Br.f(),i=Oh();return e||i}function s1(e){var i=ni(e);i!==null&&i.tag===5&&i.type==="form"?J_(i):Br.r(e)}var Gl=typeof document>"u"?null:document;function Pv(e,i,o){var c=Gl;if(c&&typeof i=="string"&&i){var p=Ne(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Ov.has(p)||(Ov.add(p),e={rel:e,crossOrigin:o,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),Dn(i,"link",e),Qe(i),c.head.appendChild(i)))}}function r1(e){Br.D(e),Pv("dns-prefetch",e,null)}function a1(e,i){Br.C(e,i),Pv("preconnect",e,i)}function o1(e,i,o){Br.L(e,i,o);var c=Gl;if(c&&e&&i){var p='link[rel="preload"][as="'+Ne(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ne(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ne(o.imageSizes)+'"]')):p+='[href="'+Ne(e)+'"]';var g=p;switch(i){case"style":g=Zl(e);break;case"script":g=Kl(e)}ls.has(g)||(e=C({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),ls.set(g,e),c.querySelector(p)!==null||i==="style"&&c.querySelector(ac(g))||i==="script"&&c.querySelector(oc(g))||(i=c.createElement("link"),Dn(i,"link",e),Qe(i),c.head.appendChild(i)))}}function l1(e,i){Br.m(e,i);var o=Gl;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Ne(c)+'"][href="'+Ne(e)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Kl(e)}if(!ls.has(g)&&(e=C({rel:"modulepreload",href:e},i),ls.set(g,e),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(oc(g)))return}c=o.createElement("link"),Dn(c,"link",e),Qe(c),o.head.appendChild(c)}}}function u1(e,i,o){Br.S(e,i,o);var c=Gl;if(c&&e){var p=Qi(c).hoistableStyles,g=Zl(e);i=i||"default";var T=p.get(g);if(!T){var N={loading:0,preload:null};if(T=c.querySelector(ac(g)))N.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},o),(o=ls.get(g))&&Km(e,o);var U=T=c.createElement("link");Qe(U),Dn(U,"link",e),U._p=new Promise(function(tt,ut){U.onload=tt,U.onerror=ut}),U.addEventListener("load",function(){N.loading|=1}),U.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Gh(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:N},p.set(g,T)}}}function c1(e,i){Br.X(e,i);var o=Gl;if(o&&e){var c=Qi(o).hoistableScripts,p=Kl(e),g=c.get(p);g||(g=o.querySelector(oc(p)),g||(e=C({src:e,async:!0},i),(i=ls.get(p))&&Qm(e,i),g=o.createElement("script"),Qe(g),Dn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function h1(e,i){Br.M(e,i);var o=Gl;if(o&&e){var c=Qi(o).hoistableScripts,p=Kl(e),g=c.get(p);g||(g=o.querySelector(oc(p)),g||(e=C({src:e,async:!0,type:"module"},i),(i=ls.get(p))&&Qm(e,i),g=o.createElement("script"),Qe(g),Dn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Vv(e,i,o,c){var p=(p=Tt.current)?qh(p):null;if(!p)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Zl(o.href),o=Qi(p).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Zl(o.href);var g=Qi(p).hoistableStyles,T=g.get(e);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,T),(g=p.querySelector(ac(e)))&&!g._p&&(T.instance=g,T.state.loading=5),ls.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ls.set(e,o),g||f1(p,e,o,T.state))),i&&c===null)throw Error(r(528,""));return T}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Kl(o),o=Qi(p).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Zl(e){return'href="'+Ne(e)+'"'}function ac(e){return'link[rel="stylesheet"]['+e+"]"}function jv(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function f1(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Dn(i,"link",o),Qe(i),e.head.appendChild(i))}function Kl(e){return'[src="'+Ne(e)+'"]'}function oc(e){return"script[async]"+e}function zv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Ne(o.href)+'"]');if(c)return i.instance=c,Qe(c),c;var p=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Qe(c),Dn(c,"style",p),Gh(c,o.precedence,e),i.instance=c;case"stylesheet":p=Zl(o.href);var g=e.querySelector(ac(p));if(g)return i.state.loading|=4,i.instance=g,Qe(g),g;c=jv(o),(p=ls.get(p))&&Km(c,p),g=(e.ownerDocument||e).createElement("link"),Qe(g);var T=g;return T._p=new Promise(function(N,U){T.onload=N,T.onerror=U}),Dn(g,"link",c),i.state.loading|=4,Gh(g,o.precedence,e),i.instance=g;case"script":return g=Kl(o.src),(p=e.querySelector(oc(g)))?(i.instance=p,Qe(p),p):(c=o,(p=ls.get(g))&&(c=C({},o),Qm(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Qe(p),Dn(p,"link",c),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Gh(c,o.precedence,e));return i.instance}function Gh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var N=c[T];if(N.dataset.precedence===i)g=N;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Km(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Qm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Zh=null;function Uv(e,i,o){if(Zh===null){var c=new Map,p=Zh=new Map;p.set(o,c)}else p=Zh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var g=o[p];if(!(g[Ki]||g[Be]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=e+T;var N=c.get(T);N?N.push(g):c.set(T,[g])}}return c}function Bv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function d1(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Fv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function m1(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Zl(c.href),g=i.querySelector(ac(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Kh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=g,Qe(g);return}g=i.ownerDocument||i,c=jv(c),(p=ls.get(p))&&Km(c,p),g=g.createElement("link"),Qe(g);var T=g;T._p=new Promise(function(N,U){T.onload=N,T.onerror=U}),Dn(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Kh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Ym=0;function p1(e,i){return e.stylesheets&&e.count===0&&Yh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Yh(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Ym===0&&(Ym=62500*YT());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yh(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Ym?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qh=null;function Yh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qh=new Map,i.forEach(g1,e),Qh=null,Kh.call(e))}function g1(e,i){if(!(i.state.loading&4)){var o=Qh.get(e);if(o)var c=o.get(null);else{o=new Map,Qh.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}p=i.instance,T=p.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,p),o.set(T,p),this.count++,c=Kh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var lc={$$typeof:ot,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function _1(e,i,o,c,p,g,T,N,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Hv(e,i,o,c,p,g,T,N,U,tt,ut,dt){return e=new _1(e,i,o,T,U,tt,ut,dt,N),i=1,g===!0&&(i|=24),g=zn(3,null,null,i),e.current=g,g.stateNode=e,i=Rd(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},Ld(g),e}function qv(e){return e?(e=Cr,e):Cr}function Gv(e,i,o,c,p,g){p=qv(p),c.context===null?c.context=p:c.pendingContext=p,c=Aa(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ca(e,c,i),o!==null&&(gi(o,e,i),Uu(o,e,i))}function Zv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Xm(e,i){Zv(e,i),(e=e.alternate)&&Zv(e,i)}function Kv(e){if(e.tag===13||e.tag===31){var i=ss(e,67108864);i!==null&&gi(i,e,67108864),Xm(e,67108864)}}function Qv(e){if(e.tag===13||e.tag===31){var i=Vi();i=gn(i);var o=ss(e,i);o!==null&&gi(o,e,i),Xm(e,i)}}var Xh=!0;function y1(e,i,o,c){var p=et.T;et.T=null;var g=yt.p;try{yt.p=2,Wm(e,i,o,c)}finally{yt.p=g,et.T=p}}function v1(e,i,o,c){var p=et.T;et.T=null;var g=yt.p;try{yt.p=8,Wm(e,i,o,c)}finally{yt.p=g,et.T=p}}function Wm(e,i,o,c){if(Xh){var p=Jm(c);if(p===null)Vm(e,i,c,Wh,o),Xv(e,c);else if(x1(p,e,i,o,c))c.stopPropagation();else if(Xv(e,c),i&4&&-1<b1.indexOf(e)){for(;p!==null;){var g=ni(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=qi(g.pendingLanes);if(T!==0){var N=g;for(N.pendingLanes|=2,N.entangledLanes|=2;T;){var U=1<<31-ze(T);N.entanglements[1]|=U,T&=~U}rr(g),(_e&6)===0&&(Mh=Rn()+500,nc(0))}}break;case 31:case 13:N=ss(g,2),N!==null&&gi(N,g,2),Oh(),Xm(g,2)}if(g=Jm(c),g===null&&Vm(e,i,c,Wh,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else Vm(e,i,c,null,o)}}function Jm(e){return e=On(e),$m(e)}var Wh=null;function $m(e){if(Wh=null,e=Ti(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=m(i),e!==null)return e;e=null}else if(o===31){if(e=v(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Wh=e,null}function Yv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gr()){case _r:return 2;case sa:return 8;case ds:case Cu:return 32;case ho:return 268435456;default:return 32}default:return 32}}var tp=!1,ja=null,za=null,Ua=null,uc=new Map,cc=new Map,Ba=[],b1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xv(e,i){switch(e){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":uc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(i.pointerId)}}function hc(e,i,o,c,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},i!==null&&(i=ni(i),i!==null&&Kv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function x1(e,i,o,c,p){switch(i){case"focusin":return ja=hc(ja,e,i,o,c,p),!0;case"dragenter":return za=hc(za,e,i,o,c,p),!0;case"mouseover":return Ua=hc(Ua,e,i,o,c,p),!0;case"pointerover":var g=p.pointerId;return uc.set(g,hc(uc.get(g)||null,e,i,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,cc.set(g,hc(cc.get(g)||null,e,i,o,c,p)),!0}return!1}function Wv(e){var i=Ti(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=m(o),i!==null){e.blockedOn=i,ti(e.priority,function(){Qv(o)});return}}else if(i===31){if(i=v(o),i!==null){e.blockedOn=i,ti(e.priority,function(){Qv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Jm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);ha=c,o.target.dispatchEvent(c),ha=null}else return i=ni(o),i!==null&&Kv(i),e.blockedOn=o,!1;i.shift()}return!0}function Jv(e,i,o){Jh(e)&&o.delete(i)}function w1(){tp=!1,ja!==null&&Jh(ja)&&(ja=null),za!==null&&Jh(za)&&(za=null),Ua!==null&&Jh(Ua)&&(Ua=null),uc.forEach(Jv),cc.forEach(Jv)}function $h(e,i){e.blockedOn===i&&(e.blockedOn=null,tp||(tp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,w1)))}var tf=null;function $v(e){tf!==e&&(tf=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){tf===e&&(tf=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],p=e[i+2];if(typeof c!="function"){if($m(c||o)===null)continue;break}var g=ni(o);g!==null&&(e.splice(i,3),i-=3,Jd(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Ql(e){function i(U){return $h(U,e)}ja!==null&&$h(ja,e),za!==null&&$h(za,e),Ua!==null&&$h(Ua,e),uc.forEach(i),cc.forEach(i);for(var o=0;o<Ba.length;o++){var c=Ba[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ba.length&&(o=Ba[0],o.blockedOn===null);)Wv(o),o.blockedOn===null&&Ba.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],T=p[Ke]||null;if(typeof g=="function")T||$v(o);else if(T){var N=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[Ke]||null)N=T.formAction;else if($m(p)!==null)continue}else N=T.action;typeof N=="function"?o[c+1]=N:(o.splice(c,3),c-=3),$v(o)}}}function t0(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function ep(e){this._internalRoot=e}ef.prototype.render=ep.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,c=Vi();Gv(o,c,e,i,null,null)},ef.prototype.unmount=ep.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Gv(e.current,2,null,e,null,null),Oh(),i[wi]=null}};function ef(e){this._internalRoot=e}ef.prototype.unstable_scheduleHydration=function(e){if(e){var i=go();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Ba.length&&i!==0&&i<Ba[o].priority;o++);Ba.splice(o,0,e),o===0&&Wv(e)}};var e0=t.version;if(e0!=="19.2.3")throw Error(r(527,e0,"19.2.3"));yt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=b(i),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var E1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{$n=nf.inject(E1),Je=nf}catch{}}return dc.createRoot=function(e,i){if(!l(e))throw Error(r(299));var o=!1,c="",p=ly,g=uy,T=cy;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=Hv(e,1,!1,null,null,o,c,null,p,g,T,t0),e[wi]=i.current,Pm(e),new ep(i)},dc.hydrateRoot=function(e,i,o){if(!l(e))throw Error(r(299));var c=!1,p="",g=ly,T=uy,N=cy,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),i=Hv(e,1,!0,i,o??null,c,p,U,g,T,N,t0),i.context=qv(null),o=i.current,c=Vi(),c=gn(c),p=Aa(c),p.callback=null,Ca(o,p,c),o=c,i.current.lanes=o,ms(i,o),rr(i),e[wi]=i.current,Pm(e),new ef(i)},dc.version="19.2.3",dc}var h0;function L1(){if(h0)return sp.exports;h0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),sp.exports=D1(),sp.exports}var M1=L1();var f0="popstate";function k1(s={}){function t(r,l){let{pathname:h,search:m,hash:v}=r.location;return Ap("",{pathname:h,search:m,hash:v},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Ac(l)}return P1(t,n,null,s)}function je(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function us(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function O1(){return Math.random().toString(36).substring(2,10)}function d0(s,t){return{usr:s.state,key:s.key,idx:t}}function Ap(s,t,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?mu(t):t,state:n,key:t&&t.key||r||O1()}}function Ac({pathname:s="/",search:t="",hash:n=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function mu(s){let t={};if(s){let n=s.indexOf("#");n>=0&&(t.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function P1(s,t,n,r={}){let{window:l=document.defaultView,v5Compat:h=!1}=r,m=l.history,v="POP",y=null,b=A();b==null&&(b=0,m.replaceState({...m.state,idx:b},""));function A(){return(m.state||{idx:null}).idx}function C(){v="POP";let K=A(),J=K==null?null:K-b;b=K,y&&y({action:v,location:F.location,delta:J})}function I(K,J){v="PUSH";let rt=Ap(F.location,K,J);b=A()+1;let ot=d0(rt,b),xt=F.createHref(rt);try{m.pushState(ot,"",xt)}catch(Ct){if(Ct instanceof DOMException&&Ct.name==="DataCloneError")throw Ct;l.location.assign(xt)}h&&y&&y({action:v,location:F.location,delta:1})}function k(K,J){v="REPLACE";let rt=Ap(F.location,K,J);b=A();let ot=d0(rt,b),xt=F.createHref(rt);m.replaceState(ot,"",xt),h&&y&&y({action:v,location:F.location,delta:0})}function q(K){return V1(K)}let F={get action(){return v},get location(){return s(l,m)},listen(K){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(f0,C),y=K,()=>{l.removeEventListener(f0,C),y=null}},createHref(K){return t(l,K)},createURL:q,encodeLocation(K){let J=q(K);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:I,replace:k,go(K){return m.go(K)}};return F}function V1(s,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),je(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Ac(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $b(s,t,n="/"){return j1(s,t,n,!1)}function j1(s,t,n,r){let l=typeof t=="string"?mu(t):t,h=Yr(l.pathname||"/",n);if(h==null)return null;let m=tx(s);z1(m);let v=null;for(let y=0;v==null&&y<m.length;++y){let b=X1(h);v=Q1(m[y],b,r)}return v}function tx(s,t=[],n=[],r="",l=!1){let h=(m,v,y=l,b)=>{let A={relativePath:b===void 0?m.path||"":b,caseSensitive:m.caseSensitive===!0,childrenIndex:v,route:m};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(r)&&y)return;je(A.relativePath.startsWith(r),`Absolute route path "${A.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(r.length)}let C=Zr([r,A.relativePath]),I=n.concat(A);m.children&&m.children.length>0&&(je(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),tx(m.children,t,I,C,y)),!(m.path==null&&!m.index)&&t.push({path:C,score:Z1(C,m.index),routesMeta:I})};return s.forEach((m,v)=>{if(m.path===""||!m.path?.includes("?"))h(m,v);else for(let y of ex(m.path))h(m,v,!0,y)}),t}function ex(s){let t=s.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(r.length===0)return l?[h,""]:[h];let m=ex(r.join("/")),v=[];return v.push(...m.map(y=>y===""?h:[h,y].join("/"))),l&&v.push(...m),v.map(y=>s.startsWith("/")&&y===""?"/":y)}function z1(s){s.sort((t,n)=>t.score!==n.score?n.score-t.score:K1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var U1=/^:[\w-]+$/,B1=3,F1=2,H1=1,q1=10,G1=-2,m0=s=>s==="*";function Z1(s,t){let n=s.split("/"),r=n.length;return n.some(m0)&&(r+=G1),t&&(r+=F1),n.filter(l=>!m0(l)).reduce((l,h)=>l+(U1.test(h)?B1:h===""?H1:q1),r)}function K1(s,t){return s.length===t.length&&s.slice(0,-1).every((r,l)=>r===t[l])?s[s.length-1]-t[t.length-1]:0}function Q1(s,t,n=!1){let{routesMeta:r}=s,l={},h="/",m=[];for(let v=0;v<r.length;++v){let y=r[v],b=v===r.length-1,A=h==="/"?t:t.slice(h.length)||"/",C=Ef({path:y.relativePath,caseSensitive:y.caseSensitive,end:b},A),I=y.route;if(!C&&b&&n&&!r[r.length-1].route.index&&(C=Ef({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},A)),!C)return null;Object.assign(l,C.params),m.push({params:l,pathname:Zr([h,C.pathname]),pathnameBase:tS(Zr([h,C.pathnameBase])),route:I}),C.pathnameBase!=="/"&&(h=Zr([h,C.pathnameBase]))}return m}function Ef(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=Y1(s.path,s.caseSensitive,s.end),l=t.match(n);if(!l)return null;let h=l[0],m=h.replace(/(.)\/+$/,"$1"),v=l.slice(1);return{params:r.reduce((b,{paramName:A,isOptional:C},I)=>{if(A==="*"){let q=v[I]||"";m=h.slice(0,h.length-q.length).replace(/(.)\/+$/,"$1")}const k=v[I];return C&&!k?b[A]=void 0:b[A]=(k||"").replace(/%2F/g,"/"),b},{}),pathname:h,pathnameBase:m,pattern:s}}function Y1(s,t=!1,n=!0){us(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,v,y)=>(r.push({paramName:v,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function X1(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return us(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Yr(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var nx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W1=s=>nx.test(s);function J1(s,t="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?mu(s):s,h;if(n)if(W1(n))h=n;else{if(n.includes("//")){let m=n;n=n.replace(/\/\/+/g,"/"),us(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${n}`)}n.startsWith("/")?h=p0(n.substring(1),"/"):h=p0(n,t)}else h=t;return{pathname:h,search:eS(r),hash:nS(l)}}function p0(s,t){let n=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function lp(s,t,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $1(s){return s.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ng(s){let t=$1(s);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ig(s,t,n,r=!1){let l;typeof s=="string"?l=mu(s):(l={...s},je(!l.pathname||!l.pathname.includes("?"),lp("?","pathname","search",l)),je(!l.pathname||!l.pathname.includes("#"),lp("#","pathname","hash",l)),je(!l.search||!l.search.includes("#"),lp("#","search","hash",l)));let h=s===""||l.pathname==="",m=h?"/":l.pathname,v;if(m==null)v=n;else{let C=t.length-1;if(!r&&m.startsWith("..")){let I=m.split("/");for(;I[0]==="..";)I.shift(),C-=1;l.pathname=I.join("/")}v=C>=0?t[C]:"/"}let y=J1(l,v),b=m&&m!=="/"&&m.endsWith("/"),A=(h||m===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(b||A)&&(y.pathname+="/"),y}var Zr=s=>s.join("/").replace(/\/\/+/g,"/"),tS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),eS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,nS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,iS=class{constructor(s,t,n,r=!1){this.status=s,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function sS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function rS(s){return s.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sx(s,t){let n=s;if(typeof n!="string"||!nx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,l=!1;if(ix)try{let h=new URL(window.location.href),m=n.startsWith("//")?new URL(h.protocol+n):new URL(n),v=Yr(m.pathname,t);m.origin===h.origin&&v!=null?n=v+m.search+m.hash:l=!0}catch{us(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rx=["POST","PUT","PATCH","DELETE"];new Set(rx);var aS=["GET",...rx];new Set(aS);var pu=H.createContext(null);pu.displayName="DataRouter";var qf=H.createContext(null);qf.displayName="DataRouterState";var oS=H.createContext(!1),ax=H.createContext({isTransitioning:!1});ax.displayName="ViewTransition";var lS=H.createContext(new Map);lS.displayName="Fetchers";var uS=H.createContext(null);uS.displayName="Await";var Ui=H.createContext(null);Ui.displayName="Navigation";var Pc=H.createContext(null);Pc.displayName="Location";var Ps=H.createContext({outlet:null,matches:[],isDataRoute:!1});Ps.displayName="Route";var sg=H.createContext(null);sg.displayName="RouteError";var ox="REACT_ROUTER_ERROR",cS="REDIRECT",hS="ROUTE_ERROR_RESPONSE";function fS(s){if(s.startsWith(`${ox}:${cS}:{`))try{let t=JSON.parse(s.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function dS(s){if(s.startsWith(`${ox}:${hS}:{`))try{let t=JSON.parse(s.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new iS(t.status,t.statusText,t.data)}catch{}}function mS(s,{relative:t}={}){je(gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=H.useContext(Ui),{hash:l,pathname:h,search:m}=Vc(s,{relative:t}),v=h;return n!=="/"&&(v=h==="/"?n:Zr([n,h])),r.createHref({pathname:v,search:m,hash:l})}function gu(){return H.useContext(Pc)!=null}function mr(){return je(gu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Pc).location}var lx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ux(s){H.useContext(Ui).static||H.useLayoutEffect(s)}function cs(){let{isDataRoute:s}=H.useContext(Ps);return s?CS():pS()}function pS(){je(gu(),"useNavigate() may be used only in the context of a <Router> component.");let s=H.useContext(pu),{basename:t,navigator:n}=H.useContext(Ui),{matches:r}=H.useContext(Ps),{pathname:l}=mr(),h=JSON.stringify(ng(r)),m=H.useRef(!1);return ux(()=>{m.current=!0}),H.useCallback((y,b={})=>{if(us(m.current,lx),!m.current)return;if(typeof y=="number"){n.go(y);return}let A=ig(y,JSON.parse(h),l,b.relative==="path");s==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:Zr([t,A.pathname])),(b.replace?n.replace:n.push)(A,b.state,b)},[t,n,h,l,s])}H.createContext(null);function Gf(){let{matches:s}=H.useContext(Ps),t=s[s.length-1];return t?t.params:{}}function Vc(s,{relative:t}={}){let{matches:n}=H.useContext(Ps),{pathname:r}=mr(),l=JSON.stringify(ng(n));return H.useMemo(()=>ig(s,JSON.parse(l),r,t==="path"),[s,l,r,t])}function gS(s,t){return cx(s,t)}function cx(s,t,n,r,l){je(gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=H.useContext(Ui),{matches:m}=H.useContext(Ps),v=m[m.length-1],y=v?v.params:{},b=v?v.pathname:"/",A=v?v.pathnameBase:"/",C=v&&v.route;{let rt=C&&C.path||"";fx(b,!C||rt.endsWith("*")||rt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${rt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${rt}"> to <Route path="${rt==="/"?"*":`${rt}/*`}">.`)}let I=mr(),k;if(t){let rt=typeof t=="string"?mu(t):t;je(A==="/"||rt.pathname?.startsWith(A),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${rt.pathname}" was given in the \`location\` prop.`),k=rt}else k=I;let q=k.pathname||"/",F=q;if(A!=="/"){let rt=A.replace(/^\//,"").split("/");F="/"+q.replace(/^\//,"").split("/").slice(rt.length).join("/")}let K=$b(s,{pathname:F});us(C||K!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),us(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=xS(K&&K.map(rt=>Object.assign({},rt,{params:Object.assign({},y,rt.params),pathname:Zr([A,h.encodeLocation?h.encodeLocation(rt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:rt.pathname]),pathnameBase:rt.pathnameBase==="/"?A:Zr([A,h.encodeLocation?h.encodeLocation(rt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:rt.pathnameBase])})),m,n,r,l);return t&&J?H.createElement(Pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},J):J}function _S(){let s=AS(),t=sS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},h={padding:"2px 4px",backgroundColor:r},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:h},"ErrorBoundary")," or"," ",H.createElement("code",{style:h},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.createElement("pre",{style:l},n):null,m)}var yS=H.createElement(_S,null),hx=class extends H.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=dS(s.digest);n&&(s=n)}let t=s!==void 0?H.createElement(Ps.Provider,{value:this.props.routeContext},H.createElement(sg.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?H.createElement(vS,{error:s},t):t}};hx.contextType=oS;var up=new WeakMap;function vS({children:s,error:t}){let{basename:n}=H.useContext(Ui);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=fS(t.digest);if(r){let l=up.get(t);if(l)throw l;let h=sx(r.location,n);if(ix&&!up.get(t))if(h.isExternal||r.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const m=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:r.replace}));throw up.set(t,m),m}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return s}function bS({routeContext:s,match:t,children:n}){let r=H.useContext(pu);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(Ps.Provider,{value:s},n)}function xS(s,t=[],n=null,r=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let h=s,m=n?.errors;if(m!=null){let A=h.findIndex(C=>C.route.id&&m?.[C.route.id]!==void 0);je(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),h=h.slice(0,Math.min(h.length,A+1))}let v=!1,y=-1;if(n)for(let A=0;A<h.length;A++){let C=h[A];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(y=A),C.route.id){let{loaderData:I,errors:k}=n,q=C.route.loader&&!I.hasOwnProperty(C.route.id)&&(!k||k[C.route.id]===void 0);if(C.route.lazy||q){v=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}let b=n&&r?(A,C)=>{r(A,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:rS(n.matches),errorInfo:C})}:void 0;return h.reduceRight((A,C,I)=>{let k,q=!1,F=null,K=null;n&&(k=m&&C.route.id?m[C.route.id]:void 0,F=C.route.errorElement||yS,v&&(y<0&&I===0?(fx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,K=null):y===I&&(q=!0,K=C.route.hydrateFallbackElement||null)));let J=t.concat(h.slice(0,I+1)),rt=()=>{let ot;return k?ot=F:q?ot=K:C.route.Component?ot=H.createElement(C.route.Component,null):C.route.element?ot=C.route.element:ot=A,H.createElement(bS,{match:C,routeContext:{outlet:A,matches:J,isDataRoute:n!=null},children:ot})};return n&&(C.route.ErrorBoundary||C.route.errorElement||I===0)?H.createElement(hx,{location:n.location,revalidation:n.revalidation,component:F,error:k,children:rt(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:b}):rt()},null)}function rg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wS(s){let t=H.useContext(pu);return je(t,rg(s)),t}function ES(s){let t=H.useContext(qf);return je(t,rg(s)),t}function TS(s){let t=H.useContext(Ps);return je(t,rg(s)),t}function ag(s){let t=TS(s),n=t.matches[t.matches.length-1];return je(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function SS(){return ag("useRouteId")}function AS(){let s=H.useContext(sg),t=ES("useRouteError"),n=ag("useRouteError");return s!==void 0?s:t.errors?.[n]}function CS(){let{router:s}=wS("useNavigate"),t=ag("useNavigate"),n=H.useRef(!1);return ux(()=>{n.current=!0}),H.useCallback(async(l,h={})=>{us(n.current,lx),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:t,...h}))},[s,t])}var g0={};function fx(s,t,n){!t&&!g0[s]&&(g0[s]=!0,us(!1,n))}H.memo(RS);function RS({routes:s,future:t,state:n,onError:r}){return cx(s,void 0,n,r,t)}function NS({to:s,replace:t,state:n,relative:r}){je(gu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=H.useContext(Ui);us(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=H.useContext(Ps),{pathname:m}=mr(),v=cs(),y=ig(s,ng(h),m,r==="path"),b=JSON.stringify(y);return H.useEffect(()=>{v(JSON.parse(b),{replace:t,state:n,relative:r})},[v,b,r,t,n]),null}function Ns(s){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IS({basename:s="/",children:t=null,location:n,navigationType:r="POP",navigator:l,static:h=!1,unstable_useTransitions:m}){je(!gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=s.replace(/^\/*/,"/"),y=H.useMemo(()=>({basename:v,navigator:l,static:h,unstable_useTransitions:m,future:{}}),[v,l,h,m]);typeof n=="string"&&(n=mu(n));let{pathname:b="/",search:A="",hash:C="",state:I=null,key:k="default"}=n,q=H.useMemo(()=>{let F=Yr(b,v);return F==null?null:{location:{pathname:F,search:A,hash:C,state:I,key:k},navigationType:r}},[v,b,A,C,I,k,r]);return us(q!=null,`<Router basename="${v}"> is not able to match the URL "${b}${A}${C}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:H.createElement(Ui.Provider,{value:y},H.createElement(Pc.Provider,{children:t,value:q}))}function DS({children:s,location:t}){return gS(Cp(s),t)}function Cp(s,t=[]){let n=[];return H.Children.forEach(s,(r,l)=>{if(!H.isValidElement(r))return;let h=[...t,l];if(r.type===H.Fragment){n.push.apply(n,Cp(r.props.children,h));return}je(r.type===Ns,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let m={id:r.props.id||h.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(m.children=Cp(r.props.children,h)),n.push(m)}),n}var hf="get",ff="application/x-www-form-urlencoded";function Zf(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function LS(s){return Zf(s)&&s.tagName.toLowerCase()==="button"}function MS(s){return Zf(s)&&s.tagName.toLowerCase()==="form"}function kS(s){return Zf(s)&&s.tagName.toLowerCase()==="input"}function OS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function PS(s,t){return s.button===0&&(!t||t==="_self")&&!OS(s)}var sf=null;function VS(){if(sf===null)try{new FormData(document.createElement("form"),0),sf=!1}catch{sf=!0}return sf}var jS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(s){return s!=null&&!jS.has(s)?(us(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ff}"`),null):s}function zS(s,t){let n,r,l,h,m;if(MS(s)){let v=s.getAttribute("action");r=v?Yr(v,t):null,n=s.getAttribute("method")||hf,l=cp(s.getAttribute("enctype"))||ff,h=new FormData(s)}else if(LS(s)||kS(s)&&(s.type==="submit"||s.type==="image")){let v=s.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||v.getAttribute("action");if(r=y?Yr(y,t):null,n=s.getAttribute("formmethod")||v.getAttribute("method")||hf,l=cp(s.getAttribute("formenctype"))||cp(v.getAttribute("enctype"))||ff,h=new FormData(v,s),!VS()){let{name:b,type:A,value:C}=s;if(A==="image"){let I=b?`${b}.`:"";h.append(`${I}x`,"0"),h.append(`${I}y`,"0")}else b&&h.append(b,C)}}else{if(Zf(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hf,r=null,l=ff,m=s}return h&&l==="text/plain"&&(m=h,h=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:h,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function og(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function US(s,t,n,r){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:t&&Yr(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function BS(s,t){if(s.id in t)return t[s.id];try{let n=await import(s.module);return t[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function HS(s,t,n){let r=await Promise.all(s.map(async l=>{let h=t.routes[l.route.id];if(h){let m=await BS(h,n);return m.links?m.links():[]}return[]}));return KS(r.flat(1).filter(FS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function _0(s,t,n,r,l,h){let m=(y,b)=>n[b]?y.route.id!==n[b].route.id:!0,v=(y,b)=>n[b].pathname!==y.pathname||n[b].route.path?.endsWith("*")&&n[b].params["*"]!==y.params["*"];return h==="assets"?t.filter((y,b)=>m(y,b)||v(y,b)):h==="data"?t.filter((y,b)=>{let A=r.routes[y.route.id];if(!A||!A.hasLoader)return!1;if(m(y,b)||v(y,b))return!0;if(y.route.shouldRevalidate){let C=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function qS(s,t,{includeHydrateFallback:n}={}){return GS(s.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function GS(s){return[...new Set(s)]}function ZS(s){let t={},n=Object.keys(s).sort();for(let r of n)t[r]=s[r];return t}function KS(s,t){let n=new Set;return new Set(t),s.reduce((r,l)=>{let h=JSON.stringify(ZS(l));return n.has(h)||(n.add(h),r.push({key:h,link:l})),r},[])}function dx(){let s=H.useContext(pu);return og(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function QS(){let s=H.useContext(qf);return og(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var lg=H.createContext(void 0);lg.displayName="FrameworkContext";function mx(){let s=H.useContext(lg);return og(s,"You must render this element inside a <HydratedRouter> element"),s}function YS(s,t){let n=H.useContext(lg),[r,l]=H.useState(!1),[h,m]=H.useState(!1),{onFocus:v,onBlur:y,onMouseEnter:b,onMouseLeave:A,onTouchStart:C}=t,I=H.useRef(null);H.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let F=J=>{J.forEach(rt=>{m(rt.isIntersecting)})},K=new IntersectionObserver(F,{threshold:.5});return I.current&&K.observe(I.current),()=>{K.disconnect()}}},[s]),H.useEffect(()=>{if(r){let F=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(F)}}},[r]);let k=()=>{l(!0)},q=()=>{l(!1),m(!1)};return n?s!=="intent"?[h,I,{}]:[h,I,{onFocus:mc(v,k),onBlur:mc(y,q),onMouseEnter:mc(b,k),onMouseLeave:mc(A,q),onTouchStart:mc(C,k)}]:[!1,I,{}]}function mc(s,t){return n=>{s&&s(n),n.defaultPrevented||t(n)}}function XS({page:s,...t}){let{router:n}=dx(),r=H.useMemo(()=>$b(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?H.createElement(JS,{page:s,matches:r,...t}):null}function WS(s){let{manifest:t,routeModules:n}=mx(),[r,l]=H.useState([]);return H.useEffect(()=>{let h=!1;return HS(s,t,n).then(m=>{h||l(m)}),()=>{h=!0}},[s,t,n]),r}function JS({page:s,matches:t,...n}){let r=mr(),{future:l,manifest:h,routeModules:m}=mx(),{basename:v}=dx(),{loaderData:y,matches:b}=QS(),A=H.useMemo(()=>_0(s,t,b,h,r,"data"),[s,t,b,h,r]),C=H.useMemo(()=>_0(s,t,b,h,r,"assets"),[s,t,b,h,r]),I=H.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let F=new Set,K=!1;if(t.forEach(rt=>{let ot=h.routes[rt.route.id];!ot||!ot.hasLoader||(!A.some(xt=>xt.route.id===rt.route.id)&&rt.route.id in y&&m[rt.route.id]?.shouldRevalidate||ot.hasClientLoader?K=!0:F.add(rt.route.id))}),F.size===0)return[];let J=US(s,v,l.unstable_trailingSlashAwareDataRequests,"data");return K&&F.size>0&&J.searchParams.set("_routes",t.filter(rt=>F.has(rt.route.id)).map(rt=>rt.route.id).join(",")),[J.pathname+J.search]},[v,l.unstable_trailingSlashAwareDataRequests,y,r,h,A,t,s,m]),k=H.useMemo(()=>qS(C,h),[C,h]),q=WS(C);return H.createElement(H.Fragment,null,I.map(F=>H.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),k.map(F=>H.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),q.map(({key:F,link:K})=>H.createElement("link",{key:F,nonce:n.nonce,...K})))}function $S(...s){return t=>{s.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var tA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tA&&(window.__reactRouterVersion="7.12.0")}catch{}function eA({basename:s,children:t,unstable_useTransitions:n,window:r}){let l=H.useRef();l.current==null&&(l.current=k1({window:r,v5Compat:!0}));let h=l.current,[m,v]=H.useState({action:h.action,location:h.location}),y=H.useCallback(b=>{n===!1?v(b):H.startTransition(()=>v(b))},[n]);return H.useLayoutEffect(()=>h.listen(y),[h,y]),H.createElement(IS,{basename:s,children:t,location:m.location,navigationType:m.action,navigator:h,unstable_useTransitions:n})}var px=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gx=H.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:l,reloadDocument:h,replace:m,state:v,target:y,to:b,preventScrollReset:A,viewTransition:C,unstable_defaultShouldRevalidate:I,...k},q){let{basename:F,unstable_useTransitions:K}=H.useContext(Ui),J=typeof b=="string"&&px.test(b),rt=sx(b,F);b=rt.to;let ot=mS(b,{relative:l}),[xt,Ct,Nt]=YS(r,k),P=rA(b,{replace:m,state:v,target:y,preventScrollReset:A,relative:l,viewTransition:C,unstable_defaultShouldRevalidate:I,unstable_useTransitions:K});function M(G){t&&t(G),G.defaultPrevented||P(G)}let O=H.createElement("a",{...k,...Nt,href:rt.absoluteURL||ot,onClick:rt.isExternal||h?t:M,ref:$S(q,Ct),target:y,"data-discover":!J&&n==="render"?"true":void 0});return xt&&!J?H.createElement(H.Fragment,null,O,H.createElement(XS,{page:ot})):O});gx.displayName="Link";var nA=H.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:l=!1,style:h,to:m,viewTransition:v,children:y,...b},A){let C=Vc(m,{relative:b.relative}),I=mr(),k=H.useContext(qf),{navigator:q,basename:F}=H.useContext(Ui),K=k!=null&&cA(C)&&v===!0,J=q.encodeLocation?q.encodeLocation(C).pathname:C.pathname,rt=I.pathname,ot=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(rt=rt.toLowerCase(),ot=ot?ot.toLowerCase():null,J=J.toLowerCase()),ot&&F&&(ot=Yr(ot,F)||ot);const xt=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let Ct=rt===J||!l&&rt.startsWith(J)&&rt.charAt(xt)==="/",Nt=ot!=null&&(ot===J||!l&&ot.startsWith(J)&&ot.charAt(J.length)==="/"),P={isActive:Ct,isPending:Nt,isTransitioning:K},M=Ct?t:void 0,O;typeof r=="function"?O=r(P):O=[r,Ct?"active":null,Nt?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let G=typeof h=="function"?h(P):h;return H.createElement(gx,{...b,"aria-current":M,className:O,ref:A,style:G,to:m,viewTransition:v},typeof y=="function"?y(P):y)});nA.displayName="NavLink";var iA=H.forwardRef(({discover:s="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:l,state:h,method:m=hf,action:v,onSubmit:y,relative:b,preventScrollReset:A,viewTransition:C,unstable_defaultShouldRevalidate:I,...k},q)=>{let{unstable_useTransitions:F}=H.useContext(Ui),K=lA(),J=uA(v,{relative:b}),rt=m.toLowerCase()==="get"?"get":"post",ot=typeof v=="string"&&px.test(v),xt=Ct=>{if(y&&y(Ct),Ct.defaultPrevented)return;Ct.preventDefault();let Nt=Ct.nativeEvent.submitter,P=Nt?.getAttribute("formmethod")||m,M=()=>K(Nt||Ct.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:l,state:h,relative:b,preventScrollReset:A,viewTransition:C,unstable_defaultShouldRevalidate:I});F&&n!==!1?H.startTransition(()=>M()):M()};return H.createElement("form",{ref:q,method:rt,action:J,onSubmit:r?y:xt,...k,"data-discover":!ot&&s==="render"?"true":void 0})});iA.displayName="Form";function sA(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _x(s){let t=H.useContext(pu);return je(t,sA(s)),t}function rA(s,{target:t,replace:n,state:r,preventScrollReset:l,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:y}={}){let b=cs(),A=mr(),C=Vc(s,{relative:h});return H.useCallback(I=>{if(PS(I,t)){I.preventDefault();let k=n!==void 0?n:Ac(A)===Ac(C),q=()=>b(s,{replace:k,state:r,preventScrollReset:l,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:v});y?H.startTransition(()=>q()):q()}},[A,b,C,n,r,t,s,l,h,m,v,y])}var aA=0,oA=()=>`__${String(++aA)}__`;function lA(){let{router:s}=_x("useSubmit"),{basename:t}=H.useContext(Ui),n=SS(),r=s.fetch,l=s.navigate;return H.useCallback(async(h,m={})=>{let{action:v,method:y,encType:b,formData:A,body:C}=zS(h,t);if(m.navigate===!1){let I=m.fetcherKey||oA();await r(I,n,m.action||v,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:A,body:C,formMethod:m.method||y,formEncType:m.encType||b,flushSync:m.flushSync})}else await l(m.action||v,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:A,body:C,formMethod:m.method||y,formEncType:m.encType||b,replace:m.replace,state:m.state,fromRouteId:n,flushSync:m.flushSync,viewTransition:m.viewTransition})},[r,l,t,n])}function uA(s,{relative:t}={}){let{basename:n}=H.useContext(Ui),r=H.useContext(Ps);je(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),h={...Vc(s||".",{relative:t})},m=mr();if(s==null){h.search=m.search;let v=new URLSearchParams(h.search),y=v.getAll("index");if(y.some(A=>A==="")){v.delete("index"),y.filter(C=>C).forEach(C=>v.append("index",C));let A=v.toString();h.search=A?`?${A}`:""}}return(!s||s===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:Zr([n,h.pathname])),Ac(h)}function cA(s,{relative:t}={}){let n=H.useContext(ax);je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_x("useViewTransitionState"),l=Vc(s,{relative:t});if(!n.isTransitioning)return!1;let h=Yr(n.currentLocation.pathname,r)||n.currentLocation.pathname,m=Yr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ef(l.pathname,m)!=null||Ef(l.pathname,h)!=null}var hA=Jb();const fA=()=>{};var y0={};const yx=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},dA=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[n++];t[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[n++],m=s[n++],v=s[n++],y=((l&7)<<18|(h&63)<<12|(m&63)<<6|v&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const h=s[n++],m=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return t.join("")},vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const h=s[l],m=l+1<s.length,v=m?s[l+1]:0,y=l+2<s.length,b=y?s[l+2]:0,A=h>>2,C=(h&3)<<4|v>>4;let I=(v&15)<<2|b>>6,k=b&63;y||(k=64,m||(I=64)),r.push(n[A],n[C],n[I],n[k])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(yx(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):dA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const h=n[s.charAt(l++)],v=l<s.length?n[s.charAt(l)]:0;++l;const b=l<s.length?n[s.charAt(l)]:64;++l;const C=l<s.length?n[s.charAt(l)]:64;if(++l,h==null||v==null||b==null||C==null)throw new mA;const I=h<<2|v>>4;if(r.push(I),b!==64){const k=v<<4&240|b>>2;if(r.push(k),C!==64){const q=b<<6&192|C;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class mA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pA=function(s){const t=yx(s);return vx.encodeByteArray(t,!0)},Tf=function(s){return pA(s).replace(/\./g,"")},bx=function(s){try{return vx.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function gA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _A=()=>gA().__FIREBASE_DEFAULTS__,yA=()=>{if(typeof process>"u"||typeof y0>"u")return;const s=y0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},vA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&bx(s[1]);return t&&JSON.parse(t)},Kf=()=>{try{return fA()||_A()||yA()||vA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},xx=s=>Kf()?.emulatorHosts?.[s],bA=s=>{const t=xx(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},wx=()=>Kf()?.config,Ex=s=>Kf()?.[`_${s}`];class xA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function _u(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tx(s){return(await fetch(s,{credentials:"include"})).ok}function wA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Tf(JSON.stringify(n)),Tf(JSON.stringify(m)),""].join(".")}const vc={};function EA(){const s={prod:[],emulator:[]};for(const t of Object.keys(vc))vc[t]?s.emulator.push(t):s.prod.push(t);return s}function TA(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let v0=!1;function Sx(s,t){if(typeof window>"u"||typeof document>"u"||!_u(window.location.host)||vc[s]===t||vc[s]||v0)return;vc[s]=t;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",h=EA().prod.length>0;function m(){const I=document.getElementById(r);I&&I.remove()}function v(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,k){I.setAttribute("width","24"),I.setAttribute("id",k),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function b(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{v0=!0,m()},I}function A(I,k){I.setAttribute("id",k),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function C(){const I=TA(r),k=n("text"),q=document.getElementById(k)||document.createElement("span"),F=n("learnmore"),K=document.getElementById(F)||document.createElement("a"),J=n("preprendIcon"),rt=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ot=I.element;v(ot),A(K,F);const xt=b();y(rt,J),ot.append(rt,q,K,xt),document.body.appendChild(ot)}h?(q.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function AA(){const s=Kf()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function NA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IA(){const s=qn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function DA(){return!AA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LA(){try{return typeof indexedDB=="object"}catch{return!1}}function MA(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const kA="FirebaseError";class ta extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=kA,Object.setPrototypeOf(this,ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],m=h?OA(h,r):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new ta(l,v,r)}}function OA(s,t){return s.replace(PA,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const PA=/\{\$([^}]+)}/g;function VA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function $o(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const h=s[l],m=t[l];if(b0(h)&&b0(m)){if(!$o(h,m))return!1}else if(h!==m)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function b0(s){return s!==null&&typeof s=="object"}function zc(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function jA(s,t){const n=new zA(s,t);return n.subscribe.bind(n)}class zA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UA(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=hp),l.error===void 0&&(l.error=hp),l.complete===void 0&&(l.complete=hp);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UA(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function hp(){}function fn(s){return s&&s._delegate?s._delegate:s}class tl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Yo="[DEFAULT]";class BA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new xA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HA(t))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(t=Yo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yo){return this.instances.has(t)}getOptions(t=Yo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[h,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);r===v&&m.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const h=this.instances.get(r);return h&&t(h,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FA(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Yo){return this.component?this.component.multipleInstances?t:Yo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FA(s){return s===Yo?void 0:s}function HA(s){return s.instantiationMode==="EAGER"}class qA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new BA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var ae;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ae||(ae={}));const GA={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},ZA=ae.INFO,KA={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},QA=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=KA[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ug{constructor(t){this.name=t,this._logLevel=ZA,this._logHandler=QA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const YA=(s,t)=>t.some(n=>s instanceof n);let x0,w0;function XA(){return x0||(x0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WA(){return w0||(w0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ax=new WeakMap,Rp=new WeakMap,Cx=new WeakMap,fp=new WeakMap,cg=new WeakMap;function JA(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{n(Qa(s.result)),l()},m=()=>{r(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",m)});return t.then(n=>{n instanceof IDBCursor&&Ax.set(n,s)}).catch(()=>{}),cg.set(t,s),t}function $A(s){if(Rp.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{n(),l()},m=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});Rp.set(s,t)}let Np={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return Rp.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Cx.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qa(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function t2(s){Np=s(Np)}function e2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(dp(this),t,...n);return Cx.set(r,t.sort?t.sort():[t]),Qa(r)}:WA().includes(s)?function(...t){return s.apply(dp(this),t),Qa(Ax.get(this))}:function(...t){return Qa(s.apply(dp(this),t))}}function n2(s){return typeof s=="function"?e2(s):(s instanceof IDBTransaction&&$A(s),YA(s,XA())?new Proxy(s,Np):s)}function Qa(s){if(s instanceof IDBRequest)return JA(s);if(fp.has(s))return fp.get(s);const t=n2(s);return t!==s&&(fp.set(s,t),cg.set(t,s)),t}const dp=s=>cg.get(s);function i2(s,t,{blocked:n,upgrade:r,blocking:l,terminated:h}={}){const m=indexedDB.open(s,t),v=Qa(m);return r&&m.addEventListener("upgradeneeded",y=>{r(Qa(m.result),y.oldVersion,y.newVersion,Qa(m.transaction),y)}),n&&m.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),v.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",b=>l(b.oldVersion,b.newVersion,b))}).catch(()=>{}),v}const s2=["get","getKey","getAll","getAllKeys","count"],r2=["put","add","delete","clear"],mp=new Map;function E0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(mp.get(t))return mp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=r2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||s2.includes(n)))return;const h=async function(m,...v){const y=this.transaction(m,l?"readwrite":"readonly");let b=y.store;return r&&(b=b.index(v.shift())),(await Promise.all([b[n](...v),l&&y.done]))[0]};return mp.set(t,h),h}t2(s=>({...s,get:(t,n,r)=>E0(t,n)||s.get(t,n,r),has:(t,n)=>!!E0(t,n)||s.has(t,n)}));class a2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function o2(s){return s.getComponent()?.type==="VERSION"}const Ip="@firebase/app",T0="0.14.6";const Xr=new ug("@firebase/app"),l2="@firebase/app-compat",u2="@firebase/analytics-compat",c2="@firebase/analytics",h2="@firebase/app-check-compat",f2="@firebase/app-check",d2="@firebase/auth",m2="@firebase/auth-compat",p2="@firebase/database",g2="@firebase/data-connect",_2="@firebase/database-compat",y2="@firebase/functions",v2="@firebase/functions-compat",b2="@firebase/installations",x2="@firebase/installations-compat",w2="@firebase/messaging",E2="@firebase/messaging-compat",T2="@firebase/performance",S2="@firebase/performance-compat",A2="@firebase/remote-config",C2="@firebase/remote-config-compat",R2="@firebase/storage",N2="@firebase/storage-compat",I2="@firebase/firestore",D2="@firebase/ai",L2="@firebase/firestore-compat",M2="firebase",k2="12.6.0";const Dp="[DEFAULT]",O2={[Ip]:"fire-core",[l2]:"fire-core-compat",[c2]:"fire-analytics",[u2]:"fire-analytics-compat",[f2]:"fire-app-check",[h2]:"fire-app-check-compat",[d2]:"fire-auth",[m2]:"fire-auth-compat",[p2]:"fire-rtdb",[g2]:"fire-data-connect",[_2]:"fire-rtdb-compat",[y2]:"fire-fn",[v2]:"fire-fn-compat",[b2]:"fire-iid",[x2]:"fire-iid-compat",[w2]:"fire-fcm",[E2]:"fire-fcm-compat",[T2]:"fire-perf",[S2]:"fire-perf-compat",[A2]:"fire-rc",[C2]:"fire-rc-compat",[R2]:"fire-gcs",[N2]:"fire-gcs-compat",[I2]:"fire-fst",[L2]:"fire-fst-compat",[D2]:"fire-vertex","fire-js":"fire-js",[M2]:"fire-js-all"};const Sf=new Map,P2=new Map,Lp=new Map;function S0(s,t){try{s.container.addComponent(t)}catch(n){Xr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function su(s){const t=s.name;if(Lp.has(t))return Xr.debug(`There were multiple attempts to register component ${t}.`),!1;Lp.set(t,s);for(const n of Sf.values())S0(n,s);for(const n of P2.values())S0(n,s);return!0}function hg(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Is(s){return s==null?!1:s.settings!==void 0}const V2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ya=new jc("app","Firebase",V2);class j2{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ya.create("app-deleted",{appName:this._name})}}const yu=k2;function Rx(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:Dp,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Ya.create("bad-app-name",{appName:String(l)});if(n||(n=wx()),!n)throw Ya.create("no-options");const h=Sf.get(l);if(h){if($o(n,h.options)&&$o(r,h.config))return h;throw Ya.create("duplicate-app",{appName:l})}const m=new qA(l);for(const y of Lp.values())m.addComponent(y);const v=new j2(n,r,m);return Sf.set(l,v),v}function Nx(s=Dp){const t=Sf.get(s);if(!t&&s===Dp&&wx())return Rx();if(!t)throw Ya.create("no-app",{appName:s});return t}function Xa(s,t,n){let r=O2[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const m=[`Unable to register library "${r}" with version "${t}":`];l&&m.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xr.warn(m.join(" "));return}su(new tl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const z2="firebase-heartbeat-database",U2=1,Cc="firebase-heartbeat-store";let pp=null;function Ix(){return pp||(pp=i2(z2,U2,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Cc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ya.create("idb-open",{originalErrorMessage:s.message})})),pp}async function B2(s){try{const n=(await Ix()).transaction(Cc),r=await n.objectStore(Cc).get(Dx(s));return await n.done,r}catch(t){if(t instanceof ta)Xr.warn(t.message);else{const n=Ya.create("idb-get",{originalErrorMessage:t?.message});Xr.warn(n.message)}}}async function A0(s,t){try{const r=(await Ix()).transaction(Cc,"readwrite");await r.objectStore(Cc).put(t,Dx(s)),await r.done}catch(n){if(n instanceof ta)Xr.warn(n.message);else{const r=Ya.create("idb-set",{originalErrorMessage:n?.message});Xr.warn(r.message)}}}function Dx(s){return`${s.name}!${s.options.appId}`}const F2=1024,H2=30;class q2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=C0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>H2){const l=K2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Xr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=C0(),{heartbeatsToSend:n,unsentEntries:r}=G2(this._heartbeatsCache.heartbeats),l=Tf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Xr.warn(t),""}}}function C0(){return new Date().toISOString().substring(0,10)}function G2(s,t=F2){const n=[];let r=s.slice();for(const l of s){const h=n.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),R0(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),R0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Z2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LA()?MA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return A0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return A0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function R0(s){return Tf(JSON.stringify({version:2,heartbeats:s})).length}function K2(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function Q2(s){su(new tl("platform-logger",t=>new a2(t),"PRIVATE")),su(new tl("heartbeat",t=>new q2(t),"PRIVATE")),Xa(Ip,T0,s),Xa(Ip,T0,"esm2020"),Xa("fire-js","")}Q2("");function Lx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y2=Lx,Mx=new jc("auth","Firebase",Lx());const Af=new ug("@firebase/auth");function X2(s,...t){Af.logLevel<=ae.WARN&&Af.warn(`Auth (${yu}): ${s}`,...t)}function df(s,...t){Af.logLevel<=ae.ERROR&&Af.error(`Auth (${yu}): ${s}`,...t)}function hr(s,...t){throw dg(s,...t)}function Ls(s,...t){return dg(s,...t)}function fg(s,t,n){const r={...Y2(),[t]:n};return new jc("auth","Firebase",r).create(t,{appName:s.name})}function Jo(s){return fg(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function W2(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&hr(s,"argument-error"),fg(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dg(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Mx.create(s,...t)}function Ht(s,t,...n){if(!s)throw dg(t,...n)}function qr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw df(t),new Error(t)}function Wr(s,t){s||qr(t)}function Mp(){return typeof self<"u"&&self.location?.href||""}function J2(){return N0()==="http:"||N0()==="https:"}function N0(){return typeof self<"u"&&self.location?.protocol||null}function $2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J2()||RA()||"connection"in navigator)?navigator.onLine:!0}function tC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Uc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Wr(n>t,"Short delay should be less than long delay!"),this.isMobile=SA()||NA()}get(){return $2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mg(s,t){Wr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class kx{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iC=new Uc(3e4,6e4);function pg(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function vu(s,t,n,r,l={}){return Ox(s,l,async()=>{let h={},m={};r&&(t==="GET"?m=r:h={body:JSON.stringify(r)});const v=zc({key:s.config.apiKey,...m}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const b={method:t,headers:y,...h};return CA()||(b.referrerPolicy="no-referrer"),s.emulatorConfig&&_u(s.emulatorConfig.host)&&(b.credentials="include"),kx.fetch()(await Px(s,s.config.apiHost,n,v),b)})}async function Ox(s,t,n){s._canInitEmulator=!1;const r={...eC,...t};try{const l=new rC(s),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw rf(s,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const v=h.ok?m.errorMessage:m.error.message,[y,b]=v.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw rf(s,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw rf(s,"email-already-in-use",m);if(y==="USER_DISABLED")throw rf(s,"user-disabled",m);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw fg(s,A,b);hr(s,A)}}catch(l){if(l instanceof ta)throw l;hr(s,"network-request-failed",{message:String(l)})}}async function sC(s,t,n,r,l={}){const h=await vu(s,t,n,r,l);return"mfaPendingCredential"in h&&hr(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function Px(s,t,n,r){const l=`${t}${n}?${r}`,h=s,m=h.config.emulator?mg(s.config,l):`${s.config.apiScheme}://${l}`;return nC.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}class rC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ls(this.auth,"network-request-failed")),iC.get())})}}function rf(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ls(s,t,r);return l.customData._tokenResponse=n,l}async function aC(s,t){return vu(s,"POST","/v1/accounts:delete",t)}async function Cf(s,t){return vu(s,"POST","/v1/accounts:lookup",t)}function bc(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oC(s,t=!1){const n=fn(s),r=await n.getIdToken(t),l=gg(r);Ht(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h?.sign_in_provider;return{claims:l,token:r,authTime:bc(gp(l.auth_time)),issuedAtTime:bc(gp(l.iat)),expirationTime:bc(gp(l.exp)),signInProvider:m||null,signInSecondFactor:h?.sign_in_second_factor||null}}function gp(s){return Number(s)*1e3}function gg(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{const l=bx(n);return l?JSON.parse(l):(df("Failed to decode base64 JWT payload"),null)}catch(l){return df("Caught error parsing JWT payload as JSON",l?.toString()),null}}function I0(s){const t=gg(s);return Ht(t,"internal-error"),Ht(typeof t.exp<"u","internal-error"),Ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Rc(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ta&&lC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function lC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class uC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class kp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rf(s){const t=s.auth,n=await s.getIdToken(),r=await Rc(s,Cf(t,{idToken:n}));Ht(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?Vx(l.providerUserInfo):[],m=hC(s.providerData,h),v=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!m?.length,b=v?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new kp(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(s,A)}async function cC(s){const t=fn(s);await Rf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hC(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function Vx(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function fC(s,t){const n=await Ox(s,{},async()=>{const r=zc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,m=await Px(s,l,"/v1/token",`key=${h}`),v=await s._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:v,body:r};return s.emulatorConfig&&_u(s.emulatorConfig.host)&&(y.credentials="include"),kx.fetch()(m,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dC(s,t){return vu(s,"POST","/v2/accounts:revokeToken",pg(s,t))}class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ht(t.idToken,"internal-error"),Ht(typeof t.idToken<"u","internal-error"),Ht(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):I0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ht(t.length!==0,"internal-error");const n=I0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:h}=await fC(t,n);this.updateTokensAndExpiration(r,l,Number(h))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:h}=n,m=new tu;return r&&(Ht(typeof r=="string","internal-error",{appName:t}),m.refreshToken=r),l&&(Ht(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),h&&(Ht(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return qr("not implemented")}}function Ha(s,t){Ht(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Ds{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new uC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new kp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Rc(this,this.stsTokenManager.getToken(this.auth,t));return Ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return oC(this,t)}reload(){return cC(this)}_assign(t){this!==t&&(Ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ds({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Rf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Is(this.auth.app))return Promise.reject(Jo(this.auth));const t=await this.getIdToken();return await Rc(this,aC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,m=n.photoURL??void 0,v=n.tenantId??void 0,y=n._redirectEventId??void 0,b=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:C,emailVerified:I,isAnonymous:k,providerData:q,stsTokenManager:F}=n;Ht(C&&F,t,"internal-error");const K=tu.fromJSON(this.name,F);Ht(typeof C=="string",t,"internal-error"),Ha(r,t.name),Ha(l,t.name),Ht(typeof I=="boolean",t,"internal-error"),Ht(typeof k=="boolean",t,"internal-error"),Ha(h,t.name),Ha(m,t.name),Ha(v,t.name),Ha(y,t.name),Ha(b,t.name),Ha(A,t.name);const J=new Ds({uid:C,auth:t,email:l,emailVerified:I,displayName:r,isAnonymous:k,photoURL:m,phoneNumber:h,tenantId:v,stsTokenManager:K,createdAt:b,lastLoginAt:A});return q&&Array.isArray(q)&&(J.providerData=q.map(rt=>({...rt}))),y&&(J._redirectEventId=y),J}static async _fromIdTokenResponse(t,n,r=!1){const l=new tu;l.updateFromServerResponse(n);const h=new Ds({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Rf(h),h}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];Ht(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?Vx(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!h?.length,v=new tu;v.updateFromIdToken(r);const y=new Ds({uid:l.localId,auth:t,stsTokenManager:v,isAnonymous:m}),b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new kp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,b),y}}const D0=new Map;function Gr(s){Wr(s instanceof Function,"Expected a class definition");let t=D0.get(s);return t?(Wr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,D0.set(s,t),t)}class jx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}jx.type="NONE";const L0=jx;function mf(s,t,n){return`firebase:${s}:${t}:${n}`}class eu{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:h}=this.auth;this.fullUserKey=mf(this.userKey,l.apiKey,h),this.fullPersistenceKey=mf("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Cf(this.auth,{idToken:t}).catch(()=>{});return n?Ds._fromGetAccountInfoResponse(this.auth,n,t):null}return Ds._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new eu(Gr(L0),t,r);const l=(await Promise.all(n.map(async b=>{if(await b._isAvailable())return b}))).filter(b=>b);let h=l[0]||Gr(L0);const m=mf(r,t.config.apiKey,t.name);let v=null;for(const b of n)try{const A=await b._get(m);if(A){let C;if(typeof A=="string"){const I=await Cf(t,{idToken:A}).catch(()=>{});if(!I)break;C=await Ds._fromGetAccountInfoResponse(t,I,A)}else C=Ds._fromJSON(t,A);b!==h&&(v=C),h=b;break}}catch{}const y=l.filter(b=>b._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new eu(h,t,r):(h=y[0],v&&await h._set(m,v.toJSON()),await Promise.all(n.map(async b=>{if(b!==h)try{await b._remove(m)}catch{}})),new eu(h,t,r))}}function M0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qx(t))return"Blackberry";if(Gx(t))return"Webos";if(Ux(t))return"Safari";if((t.includes("chrome/")||Bx(t))&&!t.includes("edge/"))return"Chrome";if(Hx(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function zx(s=qn()){return/firefox\//i.test(s)}function Ux(s=qn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Bx(s=qn()){return/crios\//i.test(s)}function Fx(s=qn()){return/iemobile/i.test(s)}function Hx(s=qn()){return/android/i.test(s)}function qx(s=qn()){return/blackberry/i.test(s)}function Gx(s=qn()){return/webos/i.test(s)}function _g(s=qn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mC(s=qn()){return _g(s)&&!!window.navigator?.standalone}function pC(){return IA()&&document.documentMode===10}function Zx(s=qn()){return _g(s)||Hx(s)||Gx(s)||qx(s)||/windows phone/i.test(s)||Fx(s)}function Kx(s,t=[]){let n;switch(s){case"Browser":n=M0(qn());break;case"Worker":n=`${M0(qn())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${yu}/${r}`}class gC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=h=>new Promise((m,v)=>{try{const y=t(h);m(y)}catch(y){v(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function _C(s,t={}){return vu(s,"GET","/v2/passwordPolicy",pg(s,t))}const yC=6;class vC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class bC{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k0(this),this.idTokenSubscription=new k0(this),this.beforeStateQueue=new gC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Cf(this,{idToken:t}),r=await Ds._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Is(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,m=r?._redirectEventId,v=await this.tryRedirectSignIn(t);(!h||h===m)&&v?.user&&(r=v.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Rf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Is(this.app))return Promise.reject(Jo(this));const n=t?fn(t):null;return n&&Ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Is(this.app)?Promise.reject(Jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Is(this.app)?Promise.reject(Jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _C(this),n=new vC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Gr(t)||this._popupRedirectResolver;Ht(n,this,"argument-error"),this.redirectPersistenceManager=await eu.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let m=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(v,this,"internal-error"),v.then(()=>{m||h(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,r,l);return()=>{m=!0,y()}}else{const y=t.addObserver(n);return()=>{m=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Kx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Is(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&X2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qf(s){return fn(s)}class k0{constructor(t){this.auth=t,this.observer=null,this.addObserver=jA(n=>this.observer=n)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xC(s){yg=s}function wC(s){return yg.loadJS(s)}function EC(){return yg.gapiScript}function TC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function SC(s,t){const n=hg(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if($o(h,t??{}))return l;hr(l,"already-initialized")}return n.initialize({options:t})}function AC(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function CC(s,t,n){const r=Qf(s);Ht(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,h=Qx(t),{host:m,port:v}=RC(t),y=v===null?"":`:${v}`,b={url:`${h}//${m}${y}/`},A=Object.freeze({host:m,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Ht(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ht($o(b,r.config.emulator)&&$o(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=b,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,_u(m)?(Tx(`${h}//${m}${y}`),Sx("Auth",!0)):NC()}function Qx(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function RC(s){const t=Qx(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const h=l[1];return{host:h,port:O0(r.substr(h.length+1))}}else{const[h,m]=r.split(":");return{host:h,port:O0(m)}}}function O0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function NC(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Yx{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(t){return qr("not implemented")}_linkToIdToken(t,n){return qr("not implemented")}_getReauthenticationResolver(t){return qr("not implemented")}}async function nu(s,t){return sC(s,"POST","/v1/accounts:signInWithIdp",pg(s,t))}const IC="http://localhost";class el extends Yx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new el(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...h}=n;if(!r||!l)return null;const m=new el(r,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const n=this.buildRequest();return nu(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,nu(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,nu(t,n)}buildRequest(){const t={requestUri:IC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zc(n)}return t}}class vg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Bc extends vg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qa extends Bc{constructor(){super("facebook.com")}static credential(t){return el._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qa.credentialFromTaggedObject(t)}static credentialFromError(t){return qa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qa.credential(t.oauthAccessToken)}catch{return null}}}qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";qa.PROVIDER_ID="facebook.com";class Hr extends Bc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return el._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class Ga extends Bc{constructor(){super("github.com")}static credential(t){return el._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ga.credentialFromTaggedObject(t)}static credentialFromError(t){return Ga.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ga.credential(t.oauthAccessToken)}catch{return null}}}Ga.GITHUB_SIGN_IN_METHOD="github.com";Ga.PROVIDER_ID="github.com";class Za extends Bc{constructor(){super("twitter.com")}static credential(t,n){return el._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Za.credentialFromTaggedObject(t)}static credentialFromError(t){return Za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Za.credential(n,r)}catch{return null}}}Za.TWITTER_SIGN_IN_METHOD="twitter.com";Za.PROVIDER_ID="twitter.com";class ru{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const h=await Ds._fromIdTokenResponse(t,r,l),m=P0(r);return new ru({user:h,providerId:m,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=P0(r);return new ru({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function P0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Nf extends ta{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new Nf(t,n,r,l)}}function Xx(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Nf._fromErrorAndOperation(s,h,t,r):h})}async function DC(s,t,n=!1){const r=await Rc(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return ru._forOperation(s,"link",r)}async function LC(s,t,n=!1){const{auth:r}=s;if(Is(r.app))return Promise.reject(Jo(r));const l="reauthenticate";try{const h=await Rc(s,Xx(r,l,t,s),n);Ht(h.idToken,r,"internal-error");const m=gg(h.idToken);Ht(m,r,"internal-error");const{sub:v}=m;return Ht(s.uid===v,r,"user-mismatch"),ru._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&hr(r,"user-mismatch"),h}}async function MC(s,t,n=!1){if(Is(s.app))return Promise.reject(Jo(s));const r="signIn",l=await Xx(s,r,t),h=await ru._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(h.user),h}function kC(s,t,n,r){return fn(s).onIdTokenChanged(t,n,r)}function OC(s,t,n){return fn(s).beforeAuthStateChanged(t,n)}function PC(s,t,n,r){return fn(s).onAuthStateChanged(t,n,r)}function VC(s){return fn(s).signOut()}const If="__sak";class Wx{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(If,"1"),this.storage.removeItem(If),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const jC=1e3,zC=10;class Jx extends Wx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((m,v,y)=>{this.notifyListeners(m,y)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(r);!n&&this.localCache[r]===m||this.notifyListeners(r,m)},h=this.storage.getItem(r);pC()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,zC):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},jC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Jx.type="LOCAL";const UC=Jx;class $x extends Wx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}$x.type="SESSION";const tw=$x;function BC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Yf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new Yf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:h}=n.data,m=this.handlersMap[l];if(!m?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const v=Array.from(m).map(async b=>b(n.origin,h)),y=await BC(v);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yf.receivers=[];function bg(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class FC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((v,y)=>{const b=bg("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);m={messageChannel:l,onMessage(C){const I=C;if(I.data.eventId===b)switch(I.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(I.data.response);break;default:clearTimeout(A),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:b,data:n},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}function or(){return window}function HC(s){or().location.href=s}function ew(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function qC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GC(){return navigator?.serviceWorker?.controller||null}function ZC(){return ew()?self:null}const nw="firebaseLocalStorageDb",KC=1,Df="firebaseLocalStorage",iw="fbase_key";class Fc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xf(s,t){return s.transaction([Df],t?"readwrite":"readonly").objectStore(Df)}function QC(){const s=indexedDB.deleteDatabase(nw);return new Fc(s).toPromise()}function Op(){const s=indexedDB.open(nw,KC);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Df,{keyPath:iw})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Df)?t(r):(r.close(),await QC(),t(await Op()))})})}async function V0(s,t,n){const r=Xf(s,!0).put({[iw]:t,value:n});return new Fc(r).toPromise()}async function YC(s,t){const n=Xf(s,!1).get(t),r=await new Fc(n).toPromise();return r===void 0?null:r.value}function j0(s,t){const n=Xf(s,!0).delete(t);return new Fc(n).toPromise()}const XC=800,WC=3;class sw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>WC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ew()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yf._getInstance(ZC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qC(),!this.activeServiceWorker)return;this.sender=new FC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Op();return await V0(t,If,"1"),await j0(t,If),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>V0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>YC(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>j0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Xf(l,!1).getAll();return new Fc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sw.type="LOCAL";const JC=sw;new Uc(3e4,6e4);function rw(s,t){return t?Gr(t):(Ht(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class xg extends Yx{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nu(t,this._buildIdpRequest())}_linkToIdToken(t,n){return nu(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return nu(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function $C(s){return MC(s.auth,new xg(s),s.bypassAuthState)}function tR(s){const{auth:t,user:n}=s;return Ht(n,t,"internal-error"),LC(n,new xg(s),s.bypassAuthState)}async function eR(s){const{auth:t,user:n}=s;return Ht(n,t,"internal-error"),DC(n,new xg(s),s.bypassAuthState)}class aw{constructor(t,n,r,l,h=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:h,error:m,type:v}=t;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(y))}catch(b){this.reject(b)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $C;case"linkViaPopup":case"linkViaRedirect":return eR;case"reauthViaPopup":case"reauthViaRedirect":return tR;default:hr(this.auth,"internal-error")}}resolve(t){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nR=new Uc(2e3,1e4);async function iR(s,t,n){if(Is(s.app))return Promise.reject(Ls(s,"operation-not-supported-in-this-environment"));const r=Qf(s);W2(s,t,vg);const l=rw(r,n);return new Xo(r,"signInViaPopup",t,l).executeNotNull()}class Xo extends aw{constructor(t,n,r,l,h){super(t,n,l,h),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ht(t,this.auth,"internal-error"),t}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const t=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nR.get())};t()}}Xo.currentPopupAction=null;const sR="pendingRedirect",pf=new Map;class rR extends aw{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=pf.get(this.auth._key());if(!t){try{const r=await aR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}pf.set(this.auth._key(),t)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aR(s,t){const n=uR(t),r=lR(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function oR(s,t){pf.set(s._key(),t)}function lR(s){return Gr(s._redirectPersistence)}function uR(s){return mf(sR,s.config.apiKey,s.name)}async function cR(s,t,n=!1){if(Is(s.app))return Promise.reject(Jo(s));const r=Qf(s),l=rw(r,t),m=await new rR(r,l,n).execute();return m&&!n&&(delete m.user._redirectEventId,await r._persistUserIfCurrent(m.user),await r._setRedirectUser(null,t)),m}const hR=600*1e3;class fR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!ow(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ls(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hR&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(t))}saveEventToCache(t){this.cachedEventUids.add(z0(t)),this.lastProcessedEventTime=Date.now()}}function z0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function ow({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function dR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ow(s);default:return!1}}async function mR(s,t={}){return vu(s,"GET","/v1/projects",t)}const pR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gR=/^https?/;async function _R(s){if(s.config.emulator)return;const{authorizedDomains:t}=await mR(s);for(const n of t)try{if(yR(n))return}catch{}hr(s,"unauthorized-domain")}function yR(s){const t=Mp(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const m=new URL(s);return m.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&m.hostname===r}if(!gR.test(n))return!1;if(pR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const vR=new Uc(3e4,6e4);function U0(){const s=or().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function bR(s){return new Promise((t,n)=>{function r(){U0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{U0(),n(Ls(s,"network-request-failed"))},timeout:vR.get()})}if(or().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(or().gapi?.load)r();else{const l=TC("iframefcb");return or()[l]=()=>{gapi.load?r():n(Ls(s,"network-request-failed"))},wC(`${EC()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw gf=null,t})}let gf=null;function xR(s){return gf=gf||bR(s),gf}const wR=new Uc(5e3,15e3),ER="__/auth/iframe",TR="emulator/auth/iframe",SR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CR(s){const t=s.config;Ht(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?mg(t,TR):`https://${s.config.authDomain}/${ER}`,r={apiKey:t.apiKey,appName:s.name,v:yu},l=AR.get(s.config.apiHost);l&&(r.eid=l);const h=s._getFrameworks();return h.length&&(r.fw=h.join(",")),`${n}?${zc(r).slice(1)}`}async function RR(s){const t=await xR(s),n=or().gapi;return Ht(n,s,"internal-error"),t.open({where:document.body,url:CR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SR,dontclear:!0},r=>new Promise(async(l,h)=>{await r.restyle({setHideOnLeave:!1});const m=Ls(s,"network-request-failed"),v=or().setTimeout(()=>{h(m)},wR.get());function y(){or().clearTimeout(v),l(r)}r.ping(y).then(y,()=>{h(m)})}))}const NR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IR=500,DR=600,LR="_blank",MR="http://localhost";class B0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kR(s,t,n,r=IR,l=DR){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-r)/2,0).toString();let v="";const y={...NR,width:r.toString(),height:l.toString(),top:h,left:m},b=qn().toLowerCase();n&&(v=Bx(b)?LR:n),zx(b)&&(t=t||MR,y.scrollbars="yes");const A=Object.entries(y).reduce((I,[k,q])=>`${I}${k}=${q},`,"");if(mC(b)&&v!=="_self")return OR(t||"",v),new B0(null);const C=window.open(t||"",v,A);Ht(C,s,"popup-blocked");try{C.focus()}catch{}return new B0(C)}function OR(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const PR="__/auth/handler",VR="emulator/auth/handler",jR=encodeURIComponent("fac");async function F0(s,t,n,r,l,h){Ht(s.config.authDomain,s,"auth-domain-config-required"),Ht(s.config.apiKey,s,"invalid-api-key");const m={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:yu,eventId:l};if(t instanceof vg){t.setDefaultLanguage(s.languageCode),m.providerId=t.providerId||"",VA(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,C]of Object.entries({}))m[A]=C}if(t instanceof Bc){const A=t.getScopes().filter(C=>C!=="");A.length>0&&(m.scopes=A.join(","))}s.tenantId&&(m.tid=s.tenantId);const v=m;for(const A of Object.keys(v))v[A]===void 0&&delete v[A];const y=await s._getAppCheckToken(),b=y?`#${jR}=${encodeURIComponent(y)}`:"";return`${zR(s)}?${zc(v).slice(1)}${b}`}function zR({config:s}){return s.emulator?mg(s,VR):`https://${s.authDomain}/${PR}`}const _p="webStorageSupport";class UR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tw,this._completeRedirectFn=cR,this._overrideRedirectResult=oR}async _openPopup(t,n,r,l){Wr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await F0(t,n,r,Mp(),l);return kR(t,h,bg())}async _openRedirect(t,n,r,l){await this._originValidation(t);const h=await F0(t,n,r,Mp(),l);return HC(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Wr(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await RR(t),r=new fR(t);return n.register("authEvent",l=>(Ht(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(_p,{type:_p},l=>{const h=l?.[0]?.[_p];h!==void 0&&n(!!h),hr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_R(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zx()||Ux()||_g()}}const BR=UR;var H0="@firebase/auth",q0="1.12.0";class FR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qR(s){su(new tl("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:v}=r.options;Ht(m&&!m.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:m,authDomain:v,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kx(s)},b=new bC(r,l,h,y);return AC(b,n),b},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),su(new tl("auth-internal",t=>{const n=Qf(t.getProvider("auth").getImmediate());return(r=>new FR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(H0,q0,HR(s)),Xa(H0,q0,"esm2020")}const GR=300,ZR=Ex("authIdTokenMaxAge")||GR;let G0=null;const KR=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZR)return;const l=n?.token;G0!==l&&(G0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function QR(s=Nx()){const t=hg(s,"auth");if(t.isInitialized())return t.getImmediate();const n=SC(s,{popupRedirectResolver:BR,persistence:[JC,UC,tw]}),r=Ex("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const m=KR(h.toString());OC(n,m,()=>m(n.currentUser)),kC(n,v=>m(v))}}const l=xx("auth");return l&&CC(n,`http://${l}`),n}function YR(){return document.getElementsByTagName("head")?.[0]??document}xC({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const h=Ls("internal-error");h.customData=l,n(h)},r.type="text/javascript",r.charset="UTF-8",YR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qR("Browser");var XR="firebase",WR="12.7.0";Xa(XR,WR,"app");var Z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wa,lw;(function(){var s;function t(P,M){function O(){}O.prototype=M.prototype,P.F=M.prototype,P.prototype=new O,P.prototype.constructor=P,P.D=function(G,B,Q){for(var j=Array(arguments.length-2),St=2;St<arguments.length;St++)j[St-2]=arguments[St];return M.prototype[B].apply(G,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(P,M,O){O||(O=0);const G=Array(16);if(typeof M=="string")for(var B=0;B<16;++B)G[B]=M.charCodeAt(O++)|M.charCodeAt(O++)<<8|M.charCodeAt(O++)<<16|M.charCodeAt(O++)<<24;else for(B=0;B<16;++B)G[B]=M[O++]|M[O++]<<8|M[O++]<<16|M[O++]<<24;M=P.g[0],O=P.g[1],B=P.g[2];let Q=P.g[3],j;j=M+(Q^O&(B^Q))+G[0]+3614090360&4294967295,M=O+(j<<7&4294967295|j>>>25),j=Q+(B^M&(O^B))+G[1]+3905402710&4294967295,Q=M+(j<<12&4294967295|j>>>20),j=B+(O^Q&(M^O))+G[2]+606105819&4294967295,B=Q+(j<<17&4294967295|j>>>15),j=O+(M^B&(Q^M))+G[3]+3250441966&4294967295,O=B+(j<<22&4294967295|j>>>10),j=M+(Q^O&(B^Q))+G[4]+4118548399&4294967295,M=O+(j<<7&4294967295|j>>>25),j=Q+(B^M&(O^B))+G[5]+1200080426&4294967295,Q=M+(j<<12&4294967295|j>>>20),j=B+(O^Q&(M^O))+G[6]+2821735955&4294967295,B=Q+(j<<17&4294967295|j>>>15),j=O+(M^B&(Q^M))+G[7]+4249261313&4294967295,O=B+(j<<22&4294967295|j>>>10),j=M+(Q^O&(B^Q))+G[8]+1770035416&4294967295,M=O+(j<<7&4294967295|j>>>25),j=Q+(B^M&(O^B))+G[9]+2336552879&4294967295,Q=M+(j<<12&4294967295|j>>>20),j=B+(O^Q&(M^O))+G[10]+4294925233&4294967295,B=Q+(j<<17&4294967295|j>>>15),j=O+(M^B&(Q^M))+G[11]+2304563134&4294967295,O=B+(j<<22&4294967295|j>>>10),j=M+(Q^O&(B^Q))+G[12]+1804603682&4294967295,M=O+(j<<7&4294967295|j>>>25),j=Q+(B^M&(O^B))+G[13]+4254626195&4294967295,Q=M+(j<<12&4294967295|j>>>20),j=B+(O^Q&(M^O))+G[14]+2792965006&4294967295,B=Q+(j<<17&4294967295|j>>>15),j=O+(M^B&(Q^M))+G[15]+1236535329&4294967295,O=B+(j<<22&4294967295|j>>>10),j=M+(B^Q&(O^B))+G[1]+4129170786&4294967295,M=O+(j<<5&4294967295|j>>>27),j=Q+(O^B&(M^O))+G[6]+3225465664&4294967295,Q=M+(j<<9&4294967295|j>>>23),j=B+(M^O&(Q^M))+G[11]+643717713&4294967295,B=Q+(j<<14&4294967295|j>>>18),j=O+(Q^M&(B^Q))+G[0]+3921069994&4294967295,O=B+(j<<20&4294967295|j>>>12),j=M+(B^Q&(O^B))+G[5]+3593408605&4294967295,M=O+(j<<5&4294967295|j>>>27),j=Q+(O^B&(M^O))+G[10]+38016083&4294967295,Q=M+(j<<9&4294967295|j>>>23),j=B+(M^O&(Q^M))+G[15]+3634488961&4294967295,B=Q+(j<<14&4294967295|j>>>18),j=O+(Q^M&(B^Q))+G[4]+3889429448&4294967295,O=B+(j<<20&4294967295|j>>>12),j=M+(B^Q&(O^B))+G[9]+568446438&4294967295,M=O+(j<<5&4294967295|j>>>27),j=Q+(O^B&(M^O))+G[14]+3275163606&4294967295,Q=M+(j<<9&4294967295|j>>>23),j=B+(M^O&(Q^M))+G[3]+4107603335&4294967295,B=Q+(j<<14&4294967295|j>>>18),j=O+(Q^M&(B^Q))+G[8]+1163531501&4294967295,O=B+(j<<20&4294967295|j>>>12),j=M+(B^Q&(O^B))+G[13]+2850285829&4294967295,M=O+(j<<5&4294967295|j>>>27),j=Q+(O^B&(M^O))+G[2]+4243563512&4294967295,Q=M+(j<<9&4294967295|j>>>23),j=B+(M^O&(Q^M))+G[7]+1735328473&4294967295,B=Q+(j<<14&4294967295|j>>>18),j=O+(Q^M&(B^Q))+G[12]+2368359562&4294967295,O=B+(j<<20&4294967295|j>>>12),j=M+(O^B^Q)+G[5]+4294588738&4294967295,M=O+(j<<4&4294967295|j>>>28),j=Q+(M^O^B)+G[8]+2272392833&4294967295,Q=M+(j<<11&4294967295|j>>>21),j=B+(Q^M^O)+G[11]+1839030562&4294967295,B=Q+(j<<16&4294967295|j>>>16),j=O+(B^Q^M)+G[14]+4259657740&4294967295,O=B+(j<<23&4294967295|j>>>9),j=M+(O^B^Q)+G[1]+2763975236&4294967295,M=O+(j<<4&4294967295|j>>>28),j=Q+(M^O^B)+G[4]+1272893353&4294967295,Q=M+(j<<11&4294967295|j>>>21),j=B+(Q^M^O)+G[7]+4139469664&4294967295,B=Q+(j<<16&4294967295|j>>>16),j=O+(B^Q^M)+G[10]+3200236656&4294967295,O=B+(j<<23&4294967295|j>>>9),j=M+(O^B^Q)+G[13]+681279174&4294967295,M=O+(j<<4&4294967295|j>>>28),j=Q+(M^O^B)+G[0]+3936430074&4294967295,Q=M+(j<<11&4294967295|j>>>21),j=B+(Q^M^O)+G[3]+3572445317&4294967295,B=Q+(j<<16&4294967295|j>>>16),j=O+(B^Q^M)+G[6]+76029189&4294967295,O=B+(j<<23&4294967295|j>>>9),j=M+(O^B^Q)+G[9]+3654602809&4294967295,M=O+(j<<4&4294967295|j>>>28),j=Q+(M^O^B)+G[12]+3873151461&4294967295,Q=M+(j<<11&4294967295|j>>>21),j=B+(Q^M^O)+G[15]+530742520&4294967295,B=Q+(j<<16&4294967295|j>>>16),j=O+(B^Q^M)+G[2]+3299628645&4294967295,O=B+(j<<23&4294967295|j>>>9),j=M+(B^(O|~Q))+G[0]+4096336452&4294967295,M=O+(j<<6&4294967295|j>>>26),j=Q+(O^(M|~B))+G[7]+1126891415&4294967295,Q=M+(j<<10&4294967295|j>>>22),j=B+(M^(Q|~O))+G[14]+2878612391&4294967295,B=Q+(j<<15&4294967295|j>>>17),j=O+(Q^(B|~M))+G[5]+4237533241&4294967295,O=B+(j<<21&4294967295|j>>>11),j=M+(B^(O|~Q))+G[12]+1700485571&4294967295,M=O+(j<<6&4294967295|j>>>26),j=Q+(O^(M|~B))+G[3]+2399980690&4294967295,Q=M+(j<<10&4294967295|j>>>22),j=B+(M^(Q|~O))+G[10]+4293915773&4294967295,B=Q+(j<<15&4294967295|j>>>17),j=O+(Q^(B|~M))+G[1]+2240044497&4294967295,O=B+(j<<21&4294967295|j>>>11),j=M+(B^(O|~Q))+G[8]+1873313359&4294967295,M=O+(j<<6&4294967295|j>>>26),j=Q+(O^(M|~B))+G[15]+4264355552&4294967295,Q=M+(j<<10&4294967295|j>>>22),j=B+(M^(Q|~O))+G[6]+2734768916&4294967295,B=Q+(j<<15&4294967295|j>>>17),j=O+(Q^(B|~M))+G[13]+1309151649&4294967295,O=B+(j<<21&4294967295|j>>>11),j=M+(B^(O|~Q))+G[4]+4149444226&4294967295,M=O+(j<<6&4294967295|j>>>26),j=Q+(O^(M|~B))+G[11]+3174756917&4294967295,Q=M+(j<<10&4294967295|j>>>22),j=B+(M^(Q|~O))+G[2]+718787259&4294967295,B=Q+(j<<15&4294967295|j>>>17),j=O+(Q^(B|~M))+G[9]+3951481745&4294967295,P.g[0]=P.g[0]+M&4294967295,P.g[1]=P.g[1]+(B+(j<<21&4294967295|j>>>11))&4294967295,P.g[2]=P.g[2]+B&4294967295,P.g[3]=P.g[3]+Q&4294967295}r.prototype.v=function(P,M){M===void 0&&(M=P.length);const O=M-this.blockSize,G=this.C;let B=this.h,Q=0;for(;Q<M;){if(B==0)for(;Q<=O;)l(this,P,Q),Q+=this.blockSize;if(typeof P=="string"){for(;Q<M;)if(G[B++]=P.charCodeAt(Q++),B==this.blockSize){l(this,G),B=0;break}}else for(;Q<M;)if(G[B++]=P[Q++],B==this.blockSize){l(this,G),B=0;break}}this.h=B,this.o+=M},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var M=1;M<P.length-8;++M)P[M]=0;M=this.o*8;for(var O=P.length-8;O<P.length;++O)P[O]=M&255,M/=256;for(this.v(P),P=Array(16),M=0,O=0;O<4;++O)for(let G=0;G<32;G+=8)P[M++]=this.g[O]>>>G&255;return P};function h(P,M){var O=v;return Object.prototype.hasOwnProperty.call(O,P)?O[P]:O[P]=M(P)}function m(P,M){this.h=M;const O=[];let G=!0;for(let B=P.length-1;B>=0;B--){const Q=P[B]|0;G&&Q==M||(O[B]=Q,G=!1)}this.g=O}var v={};function y(P){return-128<=P&&P<128?h(P,function(M){return new m([M|0],M<0?-1:0)}):new m([P|0],P<0?-1:0)}function b(P){if(isNaN(P)||!isFinite(P))return C;if(P<0)return K(b(-P));const M=[];let O=1;for(let G=0;P>=O;G++)M[G]=P/O|0,O*=4294967296;return new m(M,0)}function A(P,M){if(P.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(P.charAt(0)=="-")return K(A(P.substring(1),M));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=b(Math.pow(M,8));let G=C;for(let Q=0;Q<P.length;Q+=8){var B=Math.min(8,P.length-Q);const j=parseInt(P.substring(Q,Q+B),M);B<8?(B=b(Math.pow(M,B)),G=G.j(B).add(b(j))):(G=G.j(O),G=G.add(b(j)))}return G}var C=y(0),I=y(1),k=y(16777216);s=m.prototype,s.m=function(){if(F(this))return-K(this).m();let P=0,M=1;for(let O=0;O<this.g.length;O++){const G=this.i(O);P+=(G>=0?G:4294967296+G)*M,M*=4294967296}return P},s.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(q(this))return"0";if(F(this))return"-"+K(this).toString(P);const M=b(Math.pow(P,6));var O=this;let G="";for(;;){const B=xt(O,M).g;O=J(O,B.j(M));let Q=((O.g.length>0?O.g[0]:O.h)>>>0).toString(P);if(O=B,q(O))return Q+G;for(;Q.length<6;)Q="0"+Q;G=Q+G}},s.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function q(P){if(P.h!=0)return!1;for(let M=0;M<P.g.length;M++)if(P.g[M]!=0)return!1;return!0}function F(P){return P.h==-1}s.l=function(P){return P=J(this,P),F(P)?-1:q(P)?0:1};function K(P){const M=P.g.length,O=[];for(let G=0;G<M;G++)O[G]=~P.g[G];return new m(O,~P.h).add(I)}s.abs=function(){return F(this)?K(this):this},s.add=function(P){const M=Math.max(this.g.length,P.g.length),O=[];let G=0;for(let B=0;B<=M;B++){let Q=G+(this.i(B)&65535)+(P.i(B)&65535),j=(Q>>>16)+(this.i(B)>>>16)+(P.i(B)>>>16);G=j>>>16,Q&=65535,j&=65535,O[B]=j<<16|Q}return new m(O,O[O.length-1]&-2147483648?-1:0)};function J(P,M){return P.add(K(M))}s.j=function(P){if(q(this)||q(P))return C;if(F(this))return F(P)?K(this).j(K(P)):K(K(this).j(P));if(F(P))return K(this.j(K(P)));if(this.l(k)<0&&P.l(k)<0)return b(this.m()*P.m());const M=this.g.length+P.g.length,O=[];for(var G=0;G<2*M;G++)O[G]=0;for(G=0;G<this.g.length;G++)for(let B=0;B<P.g.length;B++){const Q=this.i(G)>>>16,j=this.i(G)&65535,St=P.i(B)>>>16,jt=P.i(B)&65535;O[2*G+2*B]+=j*jt,rt(O,2*G+2*B),O[2*G+2*B+1]+=Q*jt,rt(O,2*G+2*B+1),O[2*G+2*B+1]+=j*St,rt(O,2*G+2*B+1),O[2*G+2*B+2]+=Q*St,rt(O,2*G+2*B+2)}for(P=0;P<M;P++)O[P]=O[2*P+1]<<16|O[2*P];for(P=M;P<2*M;P++)O[P]=0;return new m(O,0)};function rt(P,M){for(;(P[M]&65535)!=P[M];)P[M+1]+=P[M]>>>16,P[M]&=65535,M++}function ot(P,M){this.g=P,this.h=M}function xt(P,M){if(q(M))throw Error("division by zero");if(q(P))return new ot(C,C);if(F(P))return M=xt(K(P),M),new ot(K(M.g),K(M.h));if(F(M))return M=xt(P,K(M)),new ot(K(M.g),M.h);if(P.g.length>30){if(F(P)||F(M))throw Error("slowDivide_ only works with positive integers.");for(var O=I,G=M;G.l(P)<=0;)O=Ct(O),G=Ct(G);var B=Nt(O,1),Q=Nt(G,1);for(G=Nt(G,2),O=Nt(O,2);!q(G);){var j=Q.add(G);j.l(P)<=0&&(B=B.add(O),Q=j),G=Nt(G,1),O=Nt(O,1)}return M=J(P,B.j(M)),new ot(B,M)}for(B=C;P.l(M)>=0;){for(O=Math.max(1,Math.floor(P.m()/M.m())),G=Math.ceil(Math.log(O)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),Q=b(O),j=Q.j(M);F(j)||j.l(P)>0;)O-=G,Q=b(O),j=Q.j(M);q(Q)&&(Q=I),B=B.add(Q),P=J(P,j)}return new ot(B,P)}s.B=function(P){return xt(this,P).h},s.and=function(P){const M=Math.max(this.g.length,P.g.length),O=[];for(let G=0;G<M;G++)O[G]=this.i(G)&P.i(G);return new m(O,this.h&P.h)},s.or=function(P){const M=Math.max(this.g.length,P.g.length),O=[];for(let G=0;G<M;G++)O[G]=this.i(G)|P.i(G);return new m(O,this.h|P.h)},s.xor=function(P){const M=Math.max(this.g.length,P.g.length),O=[];for(let G=0;G<M;G++)O[G]=this.i(G)^P.i(G);return new m(O,this.h^P.h)};function Ct(P){const M=P.g.length+1,O=[];for(let G=0;G<M;G++)O[G]=P.i(G)<<1|P.i(G-1)>>>31;return new m(O,P.h)}function Nt(P,M){const O=M>>5;M%=32;const G=P.g.length-O,B=[];for(let Q=0;Q<G;Q++)B[Q]=M>0?P.i(Q+O)>>>M|P.i(Q+O+1)<<32-M:P.i(Q+O);return new m(B,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,lw=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=b,m.fromString=A,Wa=m}).apply(typeof Z0<"u"?Z0:typeof self<"u"?self:typeof window<"u"?window:{});var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uw,pc,cw,_f,Pp,hw,fw,dw;(function(){var s,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof af=="object"&&af];for(var x=0;x<f.length;++x){var S=f[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function l(f,x){if(x)t:{var S=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var W=f[D];if(!(W in S))break t;S=S[W]}f=f[f.length-1],D=S[f],x=x(D),x!=D&&x!=null&&t(S,f,{configurable:!0,writable:!0,value:x})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(x){var S=[],D;for(D in x)Object.prototype.hasOwnProperty.call(x,D)&&S.push([D,x[D]]);return S}});var h=h||{},m=this||self;function v(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function y(f,x,S){return f.call.apply(f.bind,arguments)}function b(f,x,S){return b=y,b.apply(null,arguments)}function A(f,x){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function C(f,x){function S(){}S.prototype=x.prototype,f.Z=x.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(D,W,st){for(var wt=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)wt[Ft-2]=arguments[Ft];return x.prototype[W].apply(D,wt)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function k(f){const x=f.length;if(x>0){const S=Array(x);for(let D=0;D<x;D++)S[D]=f[D];return S}return[]}function q(f,x){for(let D=1;D<arguments.length;D++){const W=arguments[D];var S=typeof W;if(S=S!="object"?S:W?Array.isArray(W)?"array":S:"null",S=="array"||S=="object"&&typeof W.length=="number"){S=f.length||0;const st=W.length||0;f.length=S+st;for(let wt=0;wt<st;wt++)f[S+wt]=W[wt]}else f.push(W)}}class F{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function K(f){m.setTimeout(()=>{throw f},0)}function J(){var f=P;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class rt{constructor(){this.h=this.g=null}add(x,S){const D=ot.get();D.set(x,S),this.h?this.h.next=D:this.g=D,this.h=D}}var ot=new F(()=>new xt,f=>f.reset());class xt{constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,Nt=!1,P=new rt,M=()=>{const f=Promise.resolve(void 0);Ct=()=>{f.then(O)}};function O(){for(var f;f=J();){try{f.h.call(f.g)}catch(S){K(S)}var x=ot;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}Nt=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var Q=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};m.addEventListener("test",S,x),m.removeEventListener("test",S,x)}catch{}return f})();function j(f){return/^[\s\xa0]*$/.test(f)}function St(f,x){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}C(St,B),St.prototype.init=function(f,x){const S=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(S=="mouseover"?x=f.fromElement:S=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&St.Z.h.call(this)},St.prototype.h=function(){St.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var jt="closure_listenable_"+(Math.random()*1e6|0),et=0;function yt(f,x,S,D,W){this.listener=f,this.proxy=null,this.src=x,this.type=S,this.capture=!!D,this.ha=W,this.key=++et,this.da=this.fa=!1}function mt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Et(f,x,S){for(const D in f)x.call(S,f[D],D,f)}function vt(f,x){for(const S in f)x.call(void 0,f[S],S,f)}function z(f){const x={};for(const S in f)x[S]=f[S];return x}const lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(f,x){let S,D;for(let W=1;W<arguments.length;W++){D=arguments[W];for(S in D)f[S]=D[S];for(let st=0;st<lt.length;st++)S=lt[st],Object.prototype.hasOwnProperty.call(D,S)&&(f[S]=D[S])}}function gt(f){this.src=f,this.g={},this.h=0}gt.prototype.add=function(f,x,S,D,W){const st=f.toString();f=this.g[st],f||(f=this.g[st]=[],this.h++);const wt=Tt(f,x,D,W);return wt>-1?(x=f[wt],S||(x.fa=!1)):(x=new yt(x,this.src,st,!!D,W),x.fa=S,f.push(x)),x};function bt(f,x){const S=x.type;if(S in f.g){var D=f.g[S],W=Array.prototype.indexOf.call(D,x,void 0),st;(st=W>=0)&&Array.prototype.splice.call(D,W,1),st&&(mt(x),f.g[S].length==0&&(delete f.g[S],f.h--))}}function Tt(f,x,S,D){for(let W=0;W<f.length;++W){const st=f[W];if(!st.da&&st.listener==x&&st.capture==!!S&&st.ha==D)return W}return-1}var qt="closure_lm_"+(Math.random()*1e6|0),Ee={};function Re(f,x,S,D,W){if(Array.isArray(x)){for(let st=0;st<x.length;st++)Re(f,x[st],S,D,W);return null}return S=Us(S),f&&f[jt]?f.J(x,S,v(D)?!!D.capture:!1,W):fs(f,x,S,!1,D,W)}function fs(f,x,S,D,W,st){if(!x)throw Error("Invalid event type");const wt=v(W)?!!W.capture:!!W;let Ft=zs(f);if(Ft||(f[qt]=Ft=new gt(f)),S=Ft.add(x,S,D,wt,st),S.proxy)return S;if(D=Vs(),S.proxy=D,D.src=f,D.listener=S,f.addEventListener)Q||(W=wt),W===void 0&&(W=!1),f.addEventListener(x.toString(),D,W);else if(f.attachEvent)f.attachEvent(Fi(x.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Vs(){function f(S){return x.call(f.src,f.listener,S)}const x=ia;return f}function Bi(f,x,S,D,W){if(Array.isArray(x))for(var st=0;st<x.length;st++)Bi(f,x[st],S,D,W);else D=v(D)?!!D.capture:!!D,S=Us(S),f&&f[jt]?(f=f.i,st=String(x).toString(),st in f.g&&(x=f.g[st],S=Tt(x,S,D,W),S>-1&&(mt(x[S]),Array.prototype.splice.call(x,S,1),x.length==0&&(delete f.g[st],f.h--)))):f&&(f=zs(f))&&(x=f.g[x.toString()],f=-1,x&&(f=Tt(x,S,D,W)),(S=f>-1?x[f]:null)&&js(S))}function js(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[jt])bt(x.i,f);else{var S=f.type,D=f.proxy;x.removeEventListener?x.removeEventListener(S,D,f.capture):x.detachEvent?x.detachEvent(Fi(S),D):x.addListener&&x.removeListener&&x.removeListener(D),(S=zs(x))?(bt(S,f),S.h==0&&(S.src=null,x[qt]=null)):mt(f)}}}function Fi(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function ia(f,x){if(f.da)f=!0;else{x=new St(x,this);const S=f.listener,D=f.ha||f.src;f.fa&&js(f),f=S.call(D,x)}return f}function zs(f){return f=f[qt],f instanceof gt?f:null}var pr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Us(f){return typeof f=="function"?f:(f[pr]||(f[pr]=function(x){return f.handleEvent(x)}),f[pr])}function Ge(){G.call(this),this.i=new gt(this),this.M=this,this.G=null}C(Ge,G),Ge.prototype[jt]=!0,Ge.prototype.removeEventListener=function(f,x,S,D){Bi(this,f,x,S,D)};function Ze(f,x){var S,D=f.G;if(D)for(S=[];D;D=D.G)S.push(D);if(f=f.M,D=x.type||x,typeof x=="string")x=new B(x,f);else if(x instanceof B)x.target=x.target||f;else{var W=x;x=new B(D,f),_t(x,W)}W=!0;let st,wt;if(S)for(wt=S.length-1;wt>=0;wt--)st=x.g=S[wt],W=Hi(st,D,!0,x)&&W;if(st=x.g=f,W=Hi(st,D,!0,x)&&W,W=Hi(st,D,!1,x)&&W,S)for(wt=0;wt<S.length;wt++)st=x.g=S[wt],W=Hi(st,D,!1,x)&&W}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const S=f.g[x];for(let D=0;D<S.length;D++)mt(S[D]);delete f.g[x],f.h--}}this.G=null},Ge.prototype.J=function(f,x,S,D){return this.i.add(String(f),x,!1,S,D)},Ge.prototype.K=function(f,x,S,D){return this.i.add(String(f),x,!0,S,D)};function Hi(f,x,S,D){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let W=!0;for(let st=0;st<x.length;++st){const wt=x[st];if(wt&&!wt.da&&wt.capture==S){const Ft=wt.listener,ue=wt.ha||wt.src;wt.fa&&bt(f.i,wt),W=Ft.call(ue,D)!==!1&&W}}return W&&!D.defaultPrevented}function ll(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:m.setTimeout(f,x||0)}function co(f){f.g=ll(()=>{f.g=null,f.i&&(f.i=!1,co(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class Rn extends G{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(f){G.call(this),this.h=f,this.g={}}C(gr,G);var _r=[];function sa(f){Et(f.g,function(x,S){this.g.hasOwnProperty(S)&&js(x)},f),f.g={}}gr.prototype.N=function(){gr.Z.N.call(this),sa(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=m.JSON.stringify,Cu=m.JSON.parse,ho=class{stringify(f){return m.JSON.stringify(f,void 0)}parse(f){return m.JSON.parse(f,void 0)}};function fo(){}function ul(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Je(){B.call(this,"d")}C(Je,B);function Gn(){B.call(this,"c")}C(Gn,B);var ze={},Bs=null;function ra(){return Bs=Bs||new Ge}ze.Ia="serverreachability";function cl(f){B.call(this,ze.Ia,f)}C(cl,B);function bi(f){const x=ra();Ze(x,new cl(x))}ze.STAT_EVENT="statevent";function Fs(f,x){B.call(this,ze.STAT_EVENT,f),this.stat=x}C(Fs,B);function Ue(f){const x=ra();Ze(x,new Fs(x,f))}ze.Ja="timingevent";function qi(f,x){B.call(this,ze.Ja,f),this.size=x}C(qi,B);function Gi(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){f()},x)}function xi(){this.g=!0}xi.prototype.ua=function(){this.g=!1};function Ru(f,x,S,D,W,st){f.info(function(){if(f.g)if(st){var wt="",Ft=st.split("&");for(let ce=0;ce<Ft.length;ce++){var ue=Ft[ce].split("=");if(ue.length>1){const Ie=ue[0];ue=ue[1];const oi=Ie.split("_");wt=oi.length>=2&&oi[1]=="type"?wt+(Ie+"="+ue+"&"):wt+(Ie+"=redacted&")}}}else wt=null;else wt=st;return"XMLHTTP REQ ("+D+") [attempt "+W+"]: "+x+`
`+S+`
`+wt})}function hl(f,x,S,D,W,st,wt){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+W+"]: "+x+`
`+S+`
`+st+" "+wt})}function Zi(f,x,S,D){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Nu(f,S)+(D?" "+D:"")})}function ms(f,x){f.info(function(){return"TIMEOUT: "+x})}xi.prototype.info=function(){};function Nu(f,x){if(!f.g)return x;if(!x)return null;try{const st=JSON.parse(x);if(st){for(f=0;f<st.length;f++)if(Array.isArray(st[f])){var S=st[f];if(!(S.length<2)){var D=S[1];if(Array.isArray(D)&&!(D.length<1)){var W=D[0];if(W!="noop"&&W!="stop"&&W!="close")for(let wt=1;wt<D.length;wt++)D[wt]=""}}}}return ds(st)}catch{return x}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function gn(){}C(gn,fo),gn.prototype.g=function(){return new XMLHttpRequest},po=new gn;function Lt(f){return encodeURIComponent(String(f))}function go(f){var x=1;f=f.split(":");const S=[];for(;x>0&&f.length;)S.push(f.shift()),x--;return f.length&&S.push(f.join(":")),S}function ti(f,x,S,D){this.j=f,this.i=x,this.l=S,this.S=D||1,this.V=new gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Be={},Ke={};function wi(f,x,S){f.M=1,f.A=ve(Me(x)),f.u=S,f.R=!0,Ei(f,null)}function Ei(f,x){f.F=Date.now(),Ki(f),f.B=Me(f.A);var S=f.B,D=f.S;Array.isArray(D)||(D=[String(D)]),qs(S.i,"t",D),f.C=0,S=f.j.L,f.h=new ei,f.g=Eo(f.j,S?x:null,!f.u),f.P>0&&(f.O=new Rn(b(f.Y,f,f.g),f.P)),x=f.V,S=f.g,D=f.ba;var W="readystatechange";Array.isArray(W)||(W&&(_r[0]=W.toString()),W=_r);for(let st=0;st<W.length;st++){const wt=Re(S,W[st],D||x.handleEvent,!1,x.h||x);if(!wt)break;x.g[wt.key]=wt}x=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),bi(),Ru(f.i,f.v,f.B,f.l,f.S,f.u)}ti.prototype.ba=function(f){f=f.target;const x=this.O;x&&Ci(f)==3?x.j():this.Y(f)},ti.prototype.Y=function(f){try{if(f==this.g)t:{const Ft=Ci(this.g),ue=this.g.ya(),ce=this.g.ca();if(!(Ft<3)&&(Ft!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ft!=4||ue==7||(ue==8||ce<=0?bi(3):bi(2)),Ti(this);var x=this.g.ca();this.X=x;var S=fl(this);if(this.o=x==200,hl(this.i,this.v,this.B,this.l,this.S,Ft,x),this.o){if(this.U&&!this.L){e:{if(this.g){var D,W=this.g;if((D=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(D)){var st=D;break e}}st=null}if(f=st)Zi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qi(this,f);else{this.o=!1,this.m=3,Ue(12),_n(this),ni(this);break t}}if(this.R){f=!0;let Ie;for(;!this.K&&this.C<S.length;)if(Ie=ml(this,S),Ie==Ke){Ft==4&&(this.m=4,Ue(14),f=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Be){this.m=4,Ue(15),Zi(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else Zi(this.i,this.l,Ie,null),Qi(this,Ie);if(dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||S.length!=0||this.h.h||(this.m=1,Ue(16),f=!1),this.o=this.o&&f,!f)Zi(this.i,this.l,S,"[Invalid Chunked Response]"),_n(this),ni(this);else if(S.length>0&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.aa&&!wt.P&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),xo(wt),wt.P=!0,Ue(11))}}else Zi(this.i,this.l,S,null),Qi(this,S);Ft==4&&_n(this),this.o&&!this.K&&(Ft==4?Qn(this.j,this):(this.o=!1,Ki(this)))}else Ri(this.g),x==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),_n(this),ni(this)}}}catch{}};function fl(f){if(!dl(f))return f.g.la();const x=sn(f.g);if(x==="")return"";let S="";const D=x.length,W=Ci(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return _n(f),ni(f),"";f.h.i=new m.TextDecoder}for(let st=0;st<D;st++)f.h.h=!0,S+=f.h.i.decode(x[st],{stream:!(W&&st==D-1)});return x.length=0,f.h.g+=S,f.C=0,f.h.g}function dl(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ml(f,x){var S=f.C,D=x.indexOf(`
`,S);return D==-1?Ke:(S=Number(x.substring(S,D)),isNaN(S)?Be:(D+=1,D+S>x.length?Ke:(x=x.slice(D,D+S),f.C=D+S,x)))}ti.prototype.cancel=function(){this.K=!0,_n(this)};function Ki(f){f.T=Date.now()+f.H,aa(f,f.H)}function aa(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Gi(b(f.aa,f),x)}function Ti(f){f.D&&(m.clearTimeout(f.D),f.D=null)}ti.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ms(this.i,this.B),this.M!=2&&(bi(),Ue(17)),_n(this),this.m=2,ni(this)):aa(this,this.T-f)};function ni(f){f.j.I==0||f.K||Qn(f.j,f)}function _n(f){Ti(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,sa(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function Qi(f,x){try{var S=f.j;if(S.I!=0&&(S.g==f||ii(S.h,f))){if(!f.L&&ii(S.h,f)&&S.I==3){try{var D=S.Ba.g.parse(x)}catch{D=null}if(Array.isArray(D)&&D.length==3){var W=D;if(W[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)da(S),Qs(S);else break t;Tr(S),Ue(18)}}else S.xa=W[1],0<S.xa-S.K&&W[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Gi(b(S.Va,S),6e3));Yi(S.h)<=1&&S.ta&&(S.ta=void 0)}else Ni(S,11)}else if((f.L||S.g==f)&&da(S),!j(x))for(W=S.Ba.g.parse(x),x=0;x<W.length;x++){let ce=W[x];const Ie=ce[0];if(!(Ie<=S.K))if(S.K=Ie,ce=ce[1],S.I==2)if(ce[0]=="c"){S.M=ce[1],S.ba=ce[2];const oi=ce[3];oi!=null&&(S.ka=oi,S.j.info("VER="+S.ka));const li=ce[4];li!=null&&(S.za=li,S.j.info("SVER="+S.za));const Yn=ce[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(D=1.5*Yn,S.O=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const Di=f.g;if(Di){const Sr=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var st=D.h;st.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(ps(st,st.h),st.h=null))}if(D.G){const Ar=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ar&&(D.wa=Ar,It(D.J,D.G,Ar))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),D=S;var wt=f;if(D.na=wo(D,D.L?D.ba:null,D.W),wt.L){oa(D.h,wt);var Ft=wt,ue=D.O;ue&&(Ft.H=ue),Ft.D&&(Ti(Ft),Ki(Ft)),D.g=wt}else bo(D);S.i.length>0&&Vn(S)}else ce[0]!="stop"&&ce[0]!="close"||Ni(S,7);else S.I==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Ni(S,7):Wt(S):ce[0]!="noop"&&S.l&&S.l.qa(ce),S.A=0)}}bi(4)}catch{}}var Qe=class{constructor(f,x){this.g=f,this.map=x}};function _o(f){this.l=f||10,m.PerformanceNavigationTiming?(f=m.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Yi(f){return f.h?1:f.g?f.g.size:0}function ii(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function ps(f,x){f.g?f.g.add(x):f.h=x}function oa(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}_o.prototype.cancel=function(){if(this.i=la(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function la(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const S of f.g.values())x=x.concat(S.G);return x}return k(f.i)}var Hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jt(f,x){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const D=f[S].indexOf("=");let W,st=null;D>=0?(W=f[S].substring(0,D),st=f[S].substring(D+1)):W=f[S],x(W,st?decodeURIComponent(st.replace(/\+/g," ")):"")}}}function $t(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof $t?(this.l=f.l,ke(this,f.j),this.o=f.o,this.g=f.g,Zn(this,f.u),this.h=f.h,vr(this,wr(f.i)),this.m=f.m):f&&(x=String(f).match(Hs))?(this.l=!1,ke(this,x[1]||"",!0),this.o=si(x[2]||""),this.g=si(x[3]||"",!0),Zn(this,x[4]),this.h=si(x[5]||"",!0),vr(this,x[6]||"",!0),this.m=si(x[7]||"")):(this.l=!1,this.i=new ri(null,this.l))}$t.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(Xi(x,ua,!0),":");var S=this.g;return(S||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Xi(x,ua,!0),"@"),f.push(Lt(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Xi(S,S.charAt(0)=="/"?Si:br,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Xi(S,Wi)),f.join("")},$t.prototype.resolve=function(f){const x=Me(this);let S=!!f.j;S?ke(x,f.j):S=!!f.o,S?x.o=f.o:S=!!f.g,S?x.g=f.g:S=f.u!=null;var D=f.h;if(S)Zn(x,f.u);else if(S=!!f.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var W=x.h.lastIndexOf("/");W!=-1&&(D=x.h.slice(0,W+1)+D)}if(W=D,W==".."||W==".")D="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){D=W.lastIndexOf("/",0)==0,W=W.split("/");const st=[];for(let wt=0;wt<W.length;){const Ft=W[wt++];Ft=="."?D&&wt==W.length&&st.push(""):Ft==".."?((st.length>1||st.length==1&&st[0]!="")&&st.pop(),D&&wt==W.length&&st.push("")):(st.push(Ft),D=!0)}D=st.join("/")}else D=W}return S?x.h=D:S=f.i.toString()!=="",S?vr(x,wr(f.i)):S=!!f.m,S&&(x.m=f.m),x};function Me(f){return new $t(f)}function ke(f,x,S){f.j=S?si(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Zn(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function vr(f,x,S){x instanceof ri?(f.i=x,Gs(f.i,f.l)):(S||(x=Xi(x,be)),f.i=new ri(x,f.l))}function It(f,x,S){f.i.set(x,S)}function ve(f){return It(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function si(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xi(f,x,S){return typeof f=="string"?(f=encodeURI(f).replace(x,Ne),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ne(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ua=/[#\/\?@]/g,br=/[#\?:]/g,Si=/[#\?]/g,be=/[#\?@]/g,Wi=/#/g;function ri(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function nn(f){f.g||(f.g=new Map,f.h=0,f.i&&Jt(f.i,function(x,S){f.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}s=ri.prototype,s.add=function(f,x){nn(this),this.i=null,f=Ji(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(x),this.h+=1,this};function ca(f,x){nn(f),x=Ji(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function gs(f,x){return nn(f),x=Ji(f,x),f.g.has(x)}s.forEach=function(f,x){nn(this),this.g.forEach(function(S,D){S.forEach(function(W){f.call(x,W,D,this)},this)},this)};function xr(f,x){nn(f);let S=[];if(typeof x=="string")gs(f,x)&&(S=S.concat(f.g.get(Ji(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)S=S.concat(f[x]);return S}s.set=function(f,x){return nn(this),this.i=null,f=Ji(this,f),gs(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},s.get=function(f,x){return f?(f=xr(this,f),f.length>0?String(f[0]):x):x};function qs(f,x,S){ca(f,x),S.length>0&&(f.i=null,f.g.set(Ji(f,x),k(S)),f.h+=S.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let D=0;D<x.length;D++){var S=x[D];const W=Lt(S);S=xr(this,S);for(let st=0;st<S.length;st++){let wt=W;S[st]!==""&&(wt+="="+Lt(S[st])),f.push(wt)}}return this.i=f.join("&")};function wr(f){const x=new ri;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function Ji(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Gs(f,x){x&&!f.j&&(nn(f),f.i=null,f.g.forEach(function(S,D){const W=D.toLowerCase();D!=W&&(ca(this,D),qs(this,W,S))},f)),f.j=x}function kn(f,x){const S=new xi;if(m.Image){const D=new Image;D.onload=A(On,S,"TestLoadImage: loaded",!0,x,D),D.onerror=A(On,S,"TestLoadImage: error",!1,x,D),D.onabort=A(On,S,"TestLoadImage: abort",!1,x,D),D.ontimeout=A(On,S,"TestLoadImage: timeout",!1,x,D),m.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else x(!1)}function ha(f,x){const S=new xi,D=new AbortController,W=setTimeout(()=>{D.abort(),On(S,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:D.signal}).then(st=>{clearTimeout(W),st.ok?On(S,"TestPingServer: ok",!0,x):On(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(W),On(S,"TestPingServer: error",!1,x)})}function On(f,x,S,D,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),D(S)}catch{}}function Zs(){this.g=new ho}function zt(f){this.i=f.Sb||null,this.h=f.ab||!1}C(zt,fo),zt.prototype.g=function(){return new yn(this.i,this.h)};function yn(f,x){Ge.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(yn,Ge),s=yn.prototype,s.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,Kn(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||m).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fe(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function fe(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}s.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?_s(this):Kn(this),this.readyState==3&&fe(this)}},s.Oa=function(f){this.g&&(this.response=this.responseText=f,_s(this))},s.Na=function(f){this.g&&(this.response=f,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Kn(f)}s.setRequestHeader=function(f,x){this.A.append(f,x)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=x.next();return f.join(`\r
`)};function Kn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Pn(f){let x="";return Et(f,function(S,D){x+=D,x+=":",x+=S,x+=`\r
`}),x}function ys(f,x,S){t:{for(D in S){var D=!1;break t}D=!0}D||(S=Pn(S),typeof f=="string"?S!=null&&Lt(S):It(f,x,S))}function ie(f){Ge.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(ie,Ge);var ai=/^https?$/i,vs=["POST","PUT"];s=ie.prototype,s.Fa=function(f){this.H=f},s.ea=function(f,x,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=I(b(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(st){Oe(this,st);return}if(f=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var W in D)S.set(W,D[W]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const st of D.keys())S.set(st,D.get(st));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(st=>st.toLowerCase()=="content-type"),W=m.FormData&&f instanceof m.FormData,!(Array.prototype.indexOf.call(vs,x,void 0)>=0)||D||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,wt]of S)this.g.setRequestHeader(st,wt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(st){Oe(this,st)}};function Oe(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,Ai(f),$i(f)}function Ai(f){f.A||(f.A=!0,Ze(f,"complete"),Ze(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ze(this,"complete"),Ze(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ie.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ks(this):this.Xa())},s.Xa=function(){Ks(this)};function Ks(f){if(f.h&&typeof h<"u"){if(f.v&&Ci(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ze(f,"readystatechange"),Ci(f)==4){f.h=!1;try{const st=f.ca();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var S;if(!(S=x)){var D;if(D=st===0){let wt=String(f.D).match(Hs)[1]||null;!wt&&m.self&&m.self.location&&(wt=m.self.location.protocol.slice(0,-1)),D=!ai.test(wt?wt.toLowerCase():"")}S=D}if(S)Ze(f,"complete"),Ze(f,"success");else{f.o=6;try{var W=Ci(f)>2?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.ca()+"]",Ai(f)}}finally{$i(f)}}}}function $i(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,x||Ze(f,"ready");try{S.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ci(f){return f.g?f.g.readyState:0}s.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Cu(x)}};function sn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(f){const x={};f=(f.g&&Ci(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(j(f[D]))continue;var S=go(f[D]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const st=x[W]||[];x[W]=st,st.push(S)}vt(x,function(D){return D.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(f,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||x}function bs(f){this.za=0,this.i=[],this.j=new xi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,f),this.Za=ts("retryDelaySeedMs",1e4,f),this.Ta=ts("forwardChannelMaxRetries",2,f),this.va=ts("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(f&&f.concurrentRequestLimit),this.Ba=new Zs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=bs.prototype,s.ka=8,s.I=1,s.connect=function(f,x,S,D){Ue(0),this.W=f,this.H=x||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.J=wo(this,null,this.W),Vn(this)};function Wt(f){if(vn(f),f.I==3){var x=f.V++,S=Me(f.J);if(It(S,"SID",f.M),It(S,"RID",x),It(S,"TYPE","terminate"),xs(f,S),x=new ti(f,f.j,x),x.M=2,x.A=ve(Me(S)),S=!1,m.navigator&&m.navigator.sendBeacon)try{S=m.navigator.sendBeacon(x.A.toString(),"")}catch{}!S&&m.Image&&(new Image().src=x.A,S=!0),S||(x.g=Eo(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Ki(x)}Ii(f)}function Qs(f){f.g&&(xo(f),f.g.cancel(),f.g=null)}function vn(f){Qs(f),f.v&&(m.clearTimeout(f.v),f.v=null),da(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&m.clearTimeout(f.m),f.m=null)}function Vn(f){if(!yo(f.h)&&!f.m){f.m=!0;var x=f.Ea;Ct||M(),Nt||(Ct(),Nt=!0),P.add(x,f),f.D=0}}function Er(f,x){return Yi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Gi(b(f.Ea,f,x),gl(f,f.D)),f.D++,!0)}s.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const W=new ti(this,this.j,f);let st=this.o;if(this.U&&(st?(st=z(st),_t(st,this.U)):st=this.U),this.u!==null||this.R||(W.J=st,st=null),this.S)t:{for(var x=0,S=0;S<this.i.length;S++){e:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(x+=D,x>4096){x=S;break t}if(x===4096||S===this.i.length-1){x=S+1;break t}}x=1e3}else x=1e3;x=pl(this,W,x),S=Me(this.J),It(S,"RID",f),It(S,"CVER",22),this.G&&It(S,"X-HTTP-Session-Id",this.G),xs(this,S),st&&(this.R?x="headers="+Lt(Pn(st))+"&"+x:this.u&&ys(S,this.u,st)),ps(this.h,W),this.Ra&&It(S,"TYPE","init"),this.S?(It(S,"$req",x),It(S,"SID","null"),W.U=!0,wi(W,S,null)):wi(W,S,x),this.I=2}}else this.I==3&&(f?vo(this,f):this.i.length==0||yo(this.h)||vo(this))};function vo(f,x){var S;x?S=x.l:S=f.V++;const D=Me(f.J);It(D,"SID",f.M),It(D,"RID",S),It(D,"AID",f.K),xs(f,D),f.u&&f.o&&ys(D,f.u,f.o),S=new ti(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),x&&(f.i=x.G.concat(f.i)),x=pl(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ps(f.h,S),wi(S,D,x)}function xs(f,x){f.H&&Et(f.H,function(S,D){It(x,D,S)}),f.l&&Et({},function(S,D){It(x,D,S)})}function pl(f,x,S){S=Math.min(f.i.length,S);const D=f.l?b(f.l.Ka,f.l,f):null;t:{var W=f.i;let Ft=-1;for(;;){const ue=["count="+S];Ft==-1?S>0?(Ft=W[0].g,ue.push("ofs="+Ft)):Ft=0:ue.push("ofs="+Ft);let ce=!0;for(let Ie=0;Ie<S;Ie++){var st=W[Ie].g;const oi=W[Ie].map;if(st-=Ft,st<0)Ft=Math.max(0,W[Ie].g-100),ce=!1;else try{st="req"+st+"_"||"";try{var wt=oi instanceof Map?oi:Object.entries(oi);for(const[li,Yn]of wt){let Di=Yn;v(Yn)&&(Di=ds(Yn)),ue.push(st+li+"="+encodeURIComponent(Di))}}catch(li){throw ue.push(st+"type="+encodeURIComponent("_badmap")),li}}catch{D&&D(oi)}}if(ce){wt=ue.join("&");break t}}wt=void 0}return f=f.i.splice(0,S),x.G=f,wt}function bo(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;Ct||M(),Nt||(Ct(),Nt=!0),P.add(x,f),f.A=0}}function Tr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Gi(b(f.Da,f),gl(f,f.A)),f.A++,!0)}s.Da=function(){if(this.v=null,fa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Gi(b(this.Wa,this),f)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),Qs(this),fa(this))};function xo(f){f.B!=null&&(m.clearTimeout(f.B),f.B=null)}function fa(f){f.g=new ti(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=Me(f.na);It(x,"RID","rpc"),It(x,"SID",f.M),It(x,"AID",f.K),It(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&It(x,"TO",f.ia),It(x,"TYPE","xmlhttp"),xs(f,x),f.u&&f.o&&ys(x,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=ve(Me(x)),S.u=null,S.R=!0,Ei(S,f)}s.Va=function(){this.C!=null&&(this.C=null,Qs(this),Tr(this),Ue(19))};function da(f){f.C!=null&&(m.clearTimeout(f.C),f.C=null)}function Qn(f,x){var S=null;if(f.g==x){da(f),xo(f),f.g=null;var D=2}else if(ii(f.h,x))S=x.G,oa(f.h,x),D=1;else return;if(f.I!=0){if(x.o)if(D==1){S=x.u?x.u.length:0,x=Date.now()-x.F;var W=f.D;D=ra(),Ze(D,new qi(D,S)),Vn(f)}else bo(f);else if(W=x.m,W==3||W==0&&x.X>0||!(D==1&&Er(f,x)||D==2&&Tr(f)))switch(S&&S.length>0&&(x=f.h,x.i=x.i.concat(S)),W){case 1:Ni(f,5);break;case 4:Ni(f,10);break;case 3:Ni(f,6);break;default:Ni(f,2)}}}function gl(f,x){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*x}function Ni(f,x){if(f.j.info("Error code "+x),x==2){var S=b(f.bb,f),D=f.Ua;const W=!D;D=new $t(D||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ke(D,"https"),ve(D),W?kn(D.toString(),S):ha(D.toString(),S)}else Ue(2);f.I=0,f.l&&f.l.pa(x),Ii(f),vn(f)}s.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function Ii(f){if(f.I=0,f.ja=[],f.l){const x=la(f.h);(x.length!=0||f.i.length!=0)&&(q(f.ja,x),q(f.ja,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.oa()}}function wo(f,x,S){var D=S instanceof $t?Me(S):new $t(S);if(D.g!="")x&&(D.g=x+"."+D.g),Zn(D,D.u);else{var W=m.location;D=W.protocol,x=x?x+"."+W.hostname:W.hostname,W=+W.port;const st=new $t(null);D&&ke(st,D),x&&(st.g=x),W&&Zn(st,W),S&&(st.h=S),D=st}return S=f.G,x=f.wa,S&&x&&It(D,S,x),It(D,"VER",f.ka),xs(f,D),D}function Eo(f,x,S){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new ie(new zt({ab:S})):new ie(f.ma),x.Fa(f.L),x}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ma(){}s=ma.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ys(){}Ys.prototype.g=function(f,x){return new bn(f,x)};function bn(f,x){Ge.call(this),this.g=new bs(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!j(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!j(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new ws(this)}C(bn,Ge),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Wt(this.g)},bn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=ds(f),f=S);x.i.push(new Qe(x.Ya++,f)),x.I==3&&Vn(x)},bn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,bn.Z.N.call(this)};function To(f){Je.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){t:{for(const S in x){f=S;break t}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}C(To,Je);function _l(){Gn.call(this),this.status=1}C(_l,Gn);function ws(f){this.g=f}C(ws,ma),ws.prototype.ra=function(){Ze(this.g,"a")},ws.prototype.qa=function(f){Ze(this.g,new To(f))},ws.prototype.pa=function(f){Ze(this.g,new _l)},ws.prototype.oa=function(){Ze(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,dw=function(){return new Ys},fw=function(){return ra()},hw=ze,Pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,_f=yr,mo.COMPLETE="complete",cw=mo,ul.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,pc=ul,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,uw=ie}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});const K0="@firebase/firestore",Q0="4.9.3";class Fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");let bu="12.7.0";const nl=new ug("@firebase/firestore");function Yl(){return nl.logLevel}function Dt(s,...t){if(nl.logLevel<=ae.DEBUG){const n=t.map(wg);nl.debug(`Firestore (${bu}): ${s}`,...n)}}function Jr(s,...t){if(nl.logLevel<=ae.ERROR){const n=t.map(wg);nl.error(`Firestore (${bu}): ${s}`,...n)}}function il(s,...t){if(nl.logLevel<=ae.WARN){const n=t.map(wg);nl.warn(`Firestore (${bu}): ${s}`,...n)}}function wg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Bt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,mw(s,r,n)}function mw(s,t,n){let r=`FIRESTORE (${bu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Jr(r),new Error(r)}function ye(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||mw(t,l,r)}function Kt(s,t){return s}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends ta{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class pw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Fn.UNAUTHENTICATED)))}shutdown(){}}class JR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $R{constructor(t){this.t=t,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ye(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let h=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Kr,t.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const y=h;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},v=y=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((y=>v(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?v(y):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Kr)}}),0),m()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string",31837,{l:r}),new pw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ye(t===null||typeof t=="string",2055,{h:t}),new Fn(t)}}class tN{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eN{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new tN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Is(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ye(this.o===void 0,3512);const r=h=>{h.error!=null&&Dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,Dt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const l=h=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Y0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iN(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Wf{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=iN(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<n&&(r+=t.charAt(l[h]%62))}return r}}function oe(s,t){return s<t?-1:s>t?1:0}function Vp(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),h=t.charAt(r);if(l!==h)return yp(l)===yp(h)?oe(l,h):yp(l)?1:-1}return oe(s.length,t.length)}const sN=55296,rN=57343;function yp(s){const t=s.charCodeAt(0);return t>=sN&&t<=rN}function au(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}const X0="__name__";class ar{constructor(t,n,r){n===void 0?n=0:n>t.length&&Bt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Bt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ar.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ar?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const h=ar.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return oe(t.length,n.length)}static compareSegments(t,n){const r=ar.isNumericId(t),l=ar.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?ar.extractNumericId(t).compare(ar.extractNumericId(n)):Vp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wa.fromString(t.substring(4,t.length-2))}}class Le extends ar{construct(t,n,r){return new Le(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Rt(ht.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new Le(n)}static emptyPath(){return new Le([])}}const aN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends ar{construct(t,n,r){return new An(t,n,r)}static isValidIdentifier(t){return aN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new An([X0])}static fromServerFormat(t){const n=[];let r="",l=0;const h=()=>{if(r.length===0)throw new Rt(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let m=!1;for(;l<t.length;){const v=t[l];if(v==="\\"){if(l+1===t.length)throw new Rt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Rt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else v==="`"?(m=!m,l++):v!=="."||m?(r+=v,l++):(h(),l++)}if(h(),m)throw new Rt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new An(n)}static emptyPath(){return new An([])}}class Pt{constructor(t){this.path=t}static fromPath(t){return new Pt(Le.fromString(t))}static fromName(t){return new Pt(Le.fromString(t).popFirst(5))}static empty(){return new Pt(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Pt(new Le(t.slice()))}}function _w(s,t,n){if(!n)throw new Rt(ht.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function yw(s,t,n,r){if(t===!0&&r===!0)throw new Rt(ht.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function W0(s){if(!Pt.isDocumentKey(s))throw new Rt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function J0(s){if(Pt.isDocumentKey(s))throw new Rt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function vw(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jf(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Bt(12329,{type:typeof s})}function Jn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new Rt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jf(s);throw new Rt(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function hn(s,t){const n={typeString:s};return t&&(n.value=t),n}function Hc(s,t){if(!vw(s))throw new Rt(ht.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const m=s[r];if(l&&typeof m!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&m!==h.value){n=`Expected '${r}' field to equal '${h.value}'`;break}}if(n)throw new Rt(ht.INVALID_ARGUMENT,n);return!0}const $0=-62135596800,tb=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*tb);return new Ce(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Rt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<$0)throw new Rt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tb}_compareTo(t){return this.seconds===t.seconds?oe(this.nanoseconds,t.nanoseconds):oe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hc(t,Ce._jsonSchema))return new Ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-$0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:hn("string",Ce._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};class Gt{static fromTimestamp(t){return new Gt(t)}static min(){return new Gt(new Ce(0,0))}static max(){return new Gt(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nc=-1;function oN(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Gt.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new to(l,Pt.empty(),t)}function lN(s){return new to(s.readTime,s.key,Nc)}class to{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new to(Gt.min(),Pt.empty(),Nc)}static max(){return new to(Gt.max(),Pt.empty(),Nc)}}function uN(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=Pt.comparator(s.documentKey,t.documentKey),n!==0?n:oe(s.largestBatchId,t.largestBatchId))}const cN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function xu(s){if(s.code!==ht.FAILED_PRECONDITION||s.message!==cN)throw s;Dt("LocalStore","Unexpectedly lost primary lease")}class pt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new pt(((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof pt?n:pt.resolve(n)}catch(n){return pt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):pt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):pt.reject(n)}static resolve(t){return new pt(((n,r)=>{n(t)}))}static reject(t){return new pt(((n,r)=>{r(t)}))}static waitFor(t){return new pt(((n,r)=>{let l=0,h=0,m=!1;t.forEach((v=>{++l,v.next((()=>{++h,m&&h===l&&n()}),(y=>r(y)))})),m=!0,h===l&&n()}))}static or(t){let n=pt.resolve(!1);for(const r of t)n=n.next((l=>l?pt.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,h)=>{r.push(n.call(this,l,h))})),this.waitFor(r)}static mapArray(t,n){return new pt(((r,l)=>{const h=t.length,m=new Array(h);let v=0;for(let y=0;y<h;y++){const b=y;n(t[b]).next((A=>{m[b]=A,++v,v===h&&r(m)}),(A=>l(A)))}}))}static doWhile(t,n){return new pt(((r,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):r()};h()}))}}function fN(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wu(s){return s.name==="IndexedDbTransactionError"}class $f{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}$f.ce=-1;const Eg=-1;function td(s){return s==null}function Lf(s){return s===0&&1/s==-1/0}function dN(s){return typeof s=="number"&&Number.isInteger(s)&&!Lf(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const bw="";function mN(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=eb(t)),t=pN(s.get(n),t);return eb(t)}function pN(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const h=s.charAt(l);switch(h){case"\0":n+="";break;case bw:n+="";break;default:n+=h}}return n}function eb(s){return s+bw+""}function nb(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function oo(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function xw(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class qe{constructor(t,n){this.comparator=t,this.root=n||Ln.EMPTY}insert(t,n){return new qe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(t){return new qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new of(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new of(this.root,t,this.comparator,!1)}getReverseIterator(){return new of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new of(this.root,t,this.comparator,!0)}}class of{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?r(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ln{constructor(t,n,r,l,h){this.key=t,this.value=n,this.color=r??Ln.RED,this.left=l??Ln.EMPTY,this.right=h??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,h){return new Ln(t??this.key,n??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const h=r(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,r),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ln.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Bt(27949);return t+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(t,n,r,l,h){return this}insert(t,n,r){return new Ln(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pn{constructor(t){this.comparator=t,this.data=new qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ib(this.data.getIterator())}getIteratorFrom(t){return new ib(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof pn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new pn(this.comparator);return n.data=t,n}}class ib{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zi{constructor(t){this.fields=t,t.sort(An.comparator)}static empty(){return new zi([])}unionWith(t){let n=new pn(An.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new zi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return au(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class ww extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new ww("Invalid base64 string: "+h):h}})(t);return new Cn(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h})(t);return new Cn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return oe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const gN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eo(s){if(ye(!!s,39018),typeof s=="string"){let t=0;const n=gN.exec(s);if(ye(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:en(s.seconds),nanos:en(s.nanos)}}function en(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function no(s){return typeof s=="string"?Cn.fromBase64String(s):Cn.fromUint8Array(s)}const Ew="server_timestamp",Tw="__type__",Sw="__previous_value__",Aw="__local_write_time__";function Tg(s){return(s?.mapValue?.fields||{})[Tw]?.stringValue===Ew}function ed(s){const t=s.mapValue.fields[Sw];return Tg(t)?ed(t):t}function Ic(s){const t=eo(s.mapValue.fields[Aw].timestampValue);return new Ce(t.seconds,t.nanos)}class _N{constructor(t,n,r,l,h,m,v,y,b,A){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.longPollingOptions=y,this.useFetchStreams=b,this.isUsingEmulator=A}}const Mf="(default)";class ou{constructor(t,n){this.projectId=t,this.database=n||Mf}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(t){return t instanceof ou&&t.projectId===this.projectId&&t.database===this.database}}const Cw="__type__",yN="__max__",lf={mapValue:{}},Rw="__vector__",kf="value";function io(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Tg(s)?4:bN(s)?9007199254740991:vN(s)?10:11:Bt(28295,{value:s})}function fr(s,t){if(s===t)return!0;const n=io(s);if(n!==io(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ic(s).isEqual(Ic(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=eo(l.timestampValue),v=eo(h.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,h){return no(l.bytesValue).isEqual(no(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,h){return en(l.geoPointValue.latitude)===en(h.geoPointValue.latitude)&&en(l.geoPointValue.longitude)===en(h.geoPointValue.longitude)})(s,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return en(l.integerValue)===en(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=en(l.doubleValue),v=en(h.doubleValue);return m===v?Lf(m)===Lf(v):isNaN(m)&&isNaN(v)}return!1})(s,t);case 9:return au(s.arrayValue.values||[],t.arrayValue.values||[],fr);case 10:case 11:return(function(l,h){const m=l.mapValue.fields||{},v=h.mapValue.fields||{};if(nb(m)!==nb(v))return!1;for(const y in m)if(m.hasOwnProperty(y)&&(v[y]===void 0||!fr(m[y],v[y])))return!1;return!0})(s,t);default:return Bt(52216,{left:s})}}function Dc(s,t){return(s.values||[]).find((n=>fr(n,t)))!==void 0}function lu(s,t){if(s===t)return 0;const n=io(s),r=io(t);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(s.booleanValue,t.booleanValue);case 2:return(function(h,m){const v=en(h.integerValue||h.doubleValue),y=en(m.integerValue||m.doubleValue);return v<y?-1:v>y?1:v===y?0:isNaN(v)?isNaN(y)?0:-1:1})(s,t);case 3:return sb(s.timestampValue,t.timestampValue);case 4:return sb(Ic(s),Ic(t));case 5:return Vp(s.stringValue,t.stringValue);case 6:return(function(h,m){const v=no(h),y=no(m);return v.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(h,m){const v=h.split("/"),y=m.split("/");for(let b=0;b<v.length&&b<y.length;b++){const A=oe(v[b],y[b]);if(A!==0)return A}return oe(v.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,m){const v=oe(en(h.latitude),en(m.latitude));return v!==0?v:oe(en(h.longitude),en(m.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return rb(s.arrayValue,t.arrayValue);case 10:return(function(h,m){const v=h.fields||{},y=m.fields||{},b=v[kf]?.arrayValue,A=y[kf]?.arrayValue,C=oe(b?.values?.length||0,A?.values?.length||0);return C!==0?C:rb(b,A)})(s.mapValue,t.mapValue);case 11:return(function(h,m){if(h===lf.mapValue&&m===lf.mapValue)return 0;if(h===lf.mapValue)return 1;if(m===lf.mapValue)return-1;const v=h.fields||{},y=Object.keys(v),b=m.fields||{},A=Object.keys(b);y.sort(),A.sort();for(let C=0;C<y.length&&C<A.length;++C){const I=Vp(y[C],A[C]);if(I!==0)return I;const k=lu(v[y[C]],b[A[C]]);if(k!==0)return k}return oe(y.length,A.length)})(s.mapValue,t.mapValue);default:throw Bt(23264,{he:n})}}function sb(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return oe(s,t);const n=eo(s),r=eo(t),l=oe(n.seconds,r.seconds);return l!==0?l:oe(n.nanos,r.nanos)}function rb(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const h=lu(n[l],r[l]);if(h)return h}return oe(n.length,r.length)}function uu(s){return jp(s)}function jp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=eo(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return no(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Pt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const h of n.values||[])l?l=!1:r+=",",r+=jp(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const m of r)h?h=!1:l+=",",l+=`${m}:${jp(n.fields[m])}`;return l+"}"})(s.mapValue):Bt(61005,{value:s})}function yf(s){switch(io(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ed(s);return t?16+yf(t):16;case 5:return 2*s.stringValue.length;case 6:return no(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,h)=>l+yf(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return oo(r.fields,((h,m)=>{l+=h.length+yf(m)})),l})(s.mapValue);default:throw Bt(13486,{value:s})}}function ab(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function zp(s){return!!s&&"integerValue"in s}function Sg(s){return!!s&&"arrayValue"in s}function ob(s){return!!s&&"nullValue"in s}function lb(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function vf(s){return!!s&&"mapValue"in s}function vN(s){return(s?.mapValue?.fields||{})[Cw]?.stringValue===Rw}function xc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return oo(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=xc(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xc(s.arrayValue.values[n]);return t}return{...s}}function bN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===yN}class yi{constructor(t){this.value=t}static empty(){return new yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!vf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=xc(n)}setAll(t){let n=An.emptyPath(),r={},l=[];t.forEach(((m,v)=>{if(!n.isImmediateParentOf(v)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=v.popLast()}m?r[v.lastSegment()]=xc(m):l.push(v.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,r,l)}delete(t){const n=this.field(t.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return fr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];vf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){oo(n,((l,h)=>t[l]=h));for(const l of r)delete t[l]}clone(){return new yi(xc(this.value))}}function Nw(s){const t=[];return oo(s.fields,((n,r)=>{const l=new An([n]);if(vf(r)){const h=Nw(r.mapValue).fields;if(h.length===0)t.push(l);else for(const m of h)t.push(l.child(m))}else t.push(l)})),new zi(t)}class Hn{constructor(t,n,r,l,h,m,v){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=h,this.data=m,this.documentState=v}static newInvalidDocument(t){return new Hn(t,0,Gt.min(),Gt.min(),Gt.min(),yi.empty(),0)}static newFoundDocument(t,n,r,l){return new Hn(t,1,n,Gt.min(),r,l,0)}static newNoDocument(t,n){return new Hn(t,2,n,Gt.min(),Gt.min(),yi.empty(),0)}static newUnknownDocument(t,n){return new Hn(t,3,n,Gt.min(),Gt.min(),yi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Of{constructor(t,n){this.position=t,this.inclusive=n}}function ub(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const h=t[l],m=s.position[l];if(h.field.isKeyField()?r=Pt.comparator(Pt.fromName(m.referenceValue),n.key):r=lu(m,n.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function cb(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!fr(s.position[n],t.position[n]))return!1;return!0}class Lc{constructor(t,n="asc"){this.field=t,this.dir=n}}function xN(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class Iw{}class cn extends Iw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new EN(t,n,r):n==="array-contains"?new AN(t,r):n==="in"?new CN(t,r):n==="not-in"?new RN(t,r):n==="array-contains-any"?new NN(t,r):new cn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new TN(t,r):new SN(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lu(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(lu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Os extends Iw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Os(t,n)}matches(t){return Dw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Dw(s){return s.op==="and"}function Lw(s){return wN(s)&&Dw(s)}function wN(s){for(const t of s.filters)if(t instanceof Os)return!1;return!0}function Up(s){if(s instanceof cn)return s.field.canonicalString()+s.op.toString()+uu(s.value);if(Lw(s))return s.filters.map((t=>Up(t))).join(",");{const t=s.filters.map((n=>Up(n))).join(",");return`${s.op}(${t})`}}function Mw(s,t){return s instanceof cn?(function(r,l){return l instanceof cn&&r.op===l.op&&r.field.isEqual(l.field)&&fr(r.value,l.value)})(s,t):s instanceof Os?(function(r,l){return l instanceof Os&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((h,m,v)=>h&&Mw(m,l.filters[v])),!0):!1})(s,t):void Bt(19439)}function kw(s){return s instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${uu(n.value)}`})(s):s instanceof Os?(function(n){return n.op.toString()+" {"+n.getFilters().map(kw).join(" ,")+"}"})(s):"Filter"}class EN extends cn{constructor(t,n,r){super(t,n,r),this.key=Pt.fromName(r.referenceValue)}matches(t){const n=Pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class TN extends cn{constructor(t,n){super(t,"in",n),this.keys=Ow("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class SN extends cn{constructor(t,n){super(t,"not-in",n),this.keys=Ow("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Ow(s,t){return(t.arrayValue?.values||[]).map((n=>Pt.fromName(n.referenceValue)))}class AN extends cn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Sg(n)&&Dc(n.arrayValue,this.value)}}class CN extends cn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Dc(this.value.arrayValue,n)}}class RN extends cn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dc(this.value.arrayValue,n)}}class NN extends cn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Dc(this.value.arrayValue,r)))}}class IN{constructor(t,n=null,r=[],l=[],h=null,m=null,v=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=m,this.endAt=v,this.Te=null}}function hb(s,t=null,n=[],r=[],l=null,h=null,m=null){return new IN(s,t,n,r,l,h,m)}function Ag(s){const t=Kt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Up(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),td(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>uu(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>uu(r))).join(",")),t.Te=n}return t.Te}function Cg(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!xN(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Mw(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!cb(s.startAt,t.startAt)&&cb(s.endAt,t.endAt)}function Bp(s){return Pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Eu{constructor(t,n=null,r=[],l=[],h=null,m="F",v=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=m,this.startAt=v,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DN(s,t,n,r,l,h,m,v){return new Eu(s,t,n,r,l,h,m,v)}function nd(s){return new Eu(s)}function fb(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Pw(s){return s.collectionGroup!==null}function wc(s){const t=Kt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let v=new pn(An.comparator);return m.filters.forEach((y=>{y.getFlattenedFilters().forEach((b=>{b.isInequality()&&(v=v.add(b.field))}))})),v})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Lc(h,r))})),n.has(An.keyField().canonicalString())||t.Ie.push(new Lc(An.keyField(),r))}return t.Ie}function lr(s){const t=Kt(s);return t.Ee||(t.Ee=LN(t,wc(s))),t.Ee}function LN(s,t){if(s.limitType==="F")return hb(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Lc(l.field,h)}));const n=s.endAt?new Of(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Of(s.startAt.position,s.startAt.inclusive):null;return hb(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Fp(s,t){const n=s.filters.concat([t]);return new Eu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Hp(s,t,n){return new Eu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function id(s,t){return Cg(lr(s),lr(t))&&s.limitType===t.limitType}function Vw(s){return`${Ag(lr(s))}|lt:${s.limitType}`}function Xl(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>kw(l))).join(", ")}]`),td(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>uu(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>uu(l))).join(",")),`Target(${r})`})(lr(s))}; limitType=${s.limitType})`}function sd(s,t){return t.isFoundDocument()&&(function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):Pt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,t)&&(function(r,l){for(const h of wc(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(m,v,y){const b=ub(m,v,y);return m.inclusive?b<=0:b<0})(r.startAt,wc(r),l)||r.endAt&&!(function(m,v,y){const b=ub(m,v,y);return m.inclusive?b>=0:b>0})(r.endAt,wc(r),l))})(s,t)}function MN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function jw(s){return(t,n)=>{let r=!1;for(const l of wc(s)){const h=kN(l,t,n);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function kN(s,t,n){const r=s.field.isKeyField()?Pt.comparator(t.key,n.key):(function(h,m,v){const y=m.data.field(h),b=v.data.field(h);return y!==null&&b!==null?lu(y,b):Bt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Bt(19790,{direction:s.dir})}}class al{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){oo(this.inner,((n,r)=>{for(const[l,h]of r)t(l,h)}))}isEmpty(){return xw(this.inner)}size(){return this.innerSize}}const ON=new qe(Pt.comparator);function $r(){return ON}const zw=new qe(Pt.comparator);function gc(...s){let t=zw;for(const n of s)t=t.insert(n.key,n);return t}function Uw(s){let t=zw;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Wo(){return Ec()}function Bw(){return Ec()}function Ec(){return new al((s=>s.toString()),((s,t)=>s.isEqual(t)))}const PN=new qe(Pt.comparator),VN=new pn(Pt.comparator);function le(...s){let t=VN;for(const n of s)t=t.add(n);return t}const jN=new pn(oe);function zN(){return jN}function Rg(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(t)?"-0":t}}function Fw(s){return{integerValue:""+s}}function UN(s,t){return dN(t)?Fw(t):Rg(s,t)}class rd{constructor(){this._=void 0}}function BN(s,t,n){return s instanceof Pf?(function(l,h){const m={fields:{[Tw]:{stringValue:Ew},[Aw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Tg(h)&&(h=ed(h)),h&&(m.fields[Sw]=h),{mapValue:m}})(n,t):s instanceof Mc?qw(s,t):s instanceof kc?Gw(s,t):(function(l,h){const m=Hw(l,h),v=mb(m)+mb(l.Ae);return zp(m)&&zp(l.Ae)?Fw(v):Rg(l.serializer,v)})(s,t)}function FN(s,t,n){return s instanceof Mc?qw(s,t):s instanceof kc?Gw(s,t):n}function Hw(s,t){return s instanceof Vf?(function(r){return zp(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class Pf extends rd{}class Mc extends rd{constructor(t){super(),this.elements=t}}function qw(s,t){const n=Zw(t);for(const r of s.elements)n.some((l=>fr(l,r)))||n.push(r);return{arrayValue:{values:n}}}class kc extends rd{constructor(t){super(),this.elements=t}}function Gw(s,t){let n=Zw(t);for(const r of s.elements)n=n.filter((l=>!fr(l,r)));return{arrayValue:{values:n}}}class Vf extends rd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function mb(s){return en(s.integerValue||s.doubleValue)}function Zw(s){return Sg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function HN(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Mc&&l instanceof Mc||r instanceof kc&&l instanceof kc?au(r.elements,l.elements,fr):r instanceof Vf&&l instanceof Vf?fr(r.Ae,l.Ae):r instanceof Pf&&l instanceof Pf})(s.transform,t.transform)}class qN{constructor(t,n){this.version=t,this.transformResults=n}}class vi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bf(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class ad{}function Kw(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new od(s.key,vi.none()):new qc(s.key,s.data,vi.none());{const n=s.data,r=yi.empty();let l=new pn(An.comparator);for(let h of t.fields)if(!l.has(h)){let m=n.field(h);m===null&&h.length>1&&(h=h.popLast(),m=n.field(h)),m===null?r.delete(h):r.set(h,m),l=l.add(h)}return new lo(s.key,r,new zi(l.toArray()),vi.none())}}function GN(s,t,n){s instanceof qc?(function(l,h,m){const v=l.value.clone(),y=gb(l.fieldTransforms,h,m.transformResults);v.setAll(y),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(s,t,n):s instanceof lo?(function(l,h,m){if(!bf(l.precondition,h))return void h.convertToUnknownDocument(m.version);const v=gb(l.fieldTransforms,h,m.transformResults),y=h.data;y.setAll(Qw(l)),y.setAll(v),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(s,t,n):(function(l,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,n)}function Tc(s,t,n,r){return s instanceof qc?(function(h,m,v,y){if(!bf(h.precondition,m))return v;const b=h.value.clone(),A=_b(h.fieldTransforms,y,m);return b.setAll(A),m.convertToFoundDocument(m.version,b).setHasLocalMutations(),null})(s,t,n,r):s instanceof lo?(function(h,m,v,y){if(!bf(h.precondition,m))return v;const b=_b(h.fieldTransforms,y,m),A=m.data;return A.setAll(Qw(h)),A.setAll(b),m.convertToFoundDocument(m.version,A).setHasLocalMutations(),v===null?null:v.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(s,t,n,r):(function(h,m,v){return bf(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v})(s,t,n)}function ZN(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),h=Hw(r.transform,l||null);h!=null&&(n===null&&(n=yi.empty()),n.set(r.field,h))}return n||null}function pb(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&au(r,l,((h,m)=>HN(h,m)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class qc extends ad{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class lo extends ad{constructor(t,n,r,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Qw(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function gb(s,t,n){const r=new Map;ye(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const h=s[l],m=h.transform,v=t.data.field(h.field);r.set(h.field,FN(m,v,n[l]))}return r}function _b(s,t,n){const r=new Map;for(const l of s){const h=l.transform,m=n.data.field(l.field);r.set(l.field,BN(h,m,t))}return r}class od extends ad{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KN extends ad{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QN{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&GN(h,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Tc(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Tc(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Bw();return this.mutations.forEach((l=>{const h=t.get(l.key),m=h.overlayedDocument;let v=this.applyToLocalView(m,h.mutatedFields);v=n.has(l.key)?null:v;const y=Kw(m,v);y!==null&&r.set(l.key,y),m.isValidDocument()||m.convertToNoDocument(Gt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),le())}isEqual(t){return this.batchId===t.batchId&&au(this.mutations,t.mutations,((n,r)=>pb(n,r)))&&au(this.baseMutations,t.baseMutations,((n,r)=>pb(n,r)))}}class Ng{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){ye(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return PN})();const h=t.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,r[m].version);return new Ng(t,n,r,l)}}class YN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class XN{constructor(t,n){this.count=t,this.unchangedNames=n}}var un,he;function WN(s){switch(s){case ht.OK:return Bt(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Bt(15467,{code:s})}}function Yw(s){if(s===void 0)return Jr("GRPC error has no .code"),ht.UNKNOWN;switch(s){case un.OK:return ht.OK;case un.CANCELLED:return ht.CANCELLED;case un.UNKNOWN:return ht.UNKNOWN;case un.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case un.INTERNAL:return ht.INTERNAL;case un.UNAVAILABLE:return ht.UNAVAILABLE;case un.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case un.NOT_FOUND:return ht.NOT_FOUND;case un.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case un.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case un.ABORTED:return ht.ABORTED;case un.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case un.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case un.DATA_LOSS:return ht.DATA_LOSS;default:return Bt(39323,{code:s})}}(he=un||(un={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";function JN(){return new TextEncoder}const $N=new Wa([4294967295,4294967295],0);function yb(s){const t=JN().encode(s),n=new lw;return n.update(t),new Uint8Array(n.digest())}function vb(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Wa([n,r],0),new Wa([l,h],0)]}class Ig{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _c(`Invalid padding: ${n}`);if(r<0)throw new _c(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new _c(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Wa.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(Wa.fromNumber(r)));return l.compare($N)===1&&(l=new Wa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=yb(t),[r,l]=vb(n);for(let h=0;h<this.hashCount;h++){const m=this.ye(r,l,h);if(!this.we(m))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),m=new Ig(h,l,n);return r.forEach((v=>m.insert(v))),m}insert(t){if(this.ge===0)return;const n=yb(t),[r,l]=vb(n);for(let h=0;h<this.hashCount;h++){const m=this.ye(r,l,h);this.Se(m)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ld{constructor(t,n,r,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,Gc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new ld(Gt.min(),l,new qe(oe),$r(),le())}}class Gc{constructor(t,n,r,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Gc(r,n,le(),le(),le())}}class xf{constructor(t,n,r,l){this.be=t,this.removedTargetIds=n,this.key=r,this.De=l}}class Xw{constructor(t,n){this.targetId=t,this.Ce=n}}class Ww{constructor(t,n,r=Cn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class bb{constructor(){this.ve=0,this.Fe=xb(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=le(),n=le(),r=le();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Bt(38017,{changeType:h})}})),new Gc(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=xb()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tI{constructor(t){this.Ge=t,this.ze=new Map,this.je=$r(),this.Je=uf(),this.He=uf(),this.Ye=new qe(oe)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Bt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(Bp(h))if(r===0){const m=new Pt(h.path);this.et(n,m,Hn.newNoDocument(m,Gt.min()))}else ye(r===1,20013,{expectedCount:r});else{const m=this._t(n);if(m!==r){const v=this.ut(t),y=v?this.ct(v,t,m):1;if(y!==0){this.it(n);const b=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,b)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=n;let m,v;try{m=no(r).toUint8Array()}catch(y){if(y instanceof ww)return il("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{v=new Ig(m,l,h)}catch(y){return il(y instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return v.ge===0?null:v}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((h=>{const m=this.Ge.ht(),v=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.mightContain(v)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,m)=>{const v=this.ot(m);if(v){if(h.current&&Bp(v.target)){const y=new Pt(v.target.path);this.It(y).has(m)||this.Et(m,y)||this.et(m,y,Hn.newNoDocument(y,t))}h.Be&&(n.set(m,h.ke()),h.qe())}}));let r=le();this.He.forEach(((h,m)=>{let v=!0;m.forEachWhile((y=>{const b=this.ot(y);return!b||b.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(r=r.add(h))})),this.je.forEach(((h,m)=>m.setReadTime(t)));const l=new ld(t,n,this.Ye,this.je,r);return this.je=$r(),this.Je=uf(),this.He=uf(),this.Ye=new qe(oe),l}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new bb,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new pn(oe),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new pn(oe),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Dt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new bb),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function uf(){return new qe(Pt.comparator)}function xb(){return new qe(Pt.comparator)}const eI={asc:"ASCENDING",desc:"DESCENDING"},nI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iI={and:"AND",or:"OR"};class sI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qp(s,t){return s.useProto3Json||td(t)?t:{value:t}}function jf(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jw(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function rI(s,t){return jf(s,t.toTimestamp())}function ur(s){return ye(!!s,49232),Gt.fromTimestamp((function(n){const r=eo(n);return new Ce(r.seconds,r.nanos)})(s))}function Dg(s,t){return Gp(s,t).canonicalString()}function Gp(s,t){const n=(function(l){return new Le(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function $w(s){const t=Le.fromString(s);return ye(sE(t),10190,{key:t.toString()}),t}function Zp(s,t){return Dg(s.databaseId,t.path)}function vp(s,t){const n=$w(t);if(n.get(1)!==s.databaseId.projectId)throw new Rt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Rt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Pt(eE(n))}function tE(s,t){return Dg(s.databaseId,t)}function aI(s){const t=$w(s);return t.length===4?Le.emptyPath():eE(t)}function Kp(s){return new Le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function eE(s){return ye(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function wb(s,t,n){return{name:Zp(s,t),fields:n.value.mapValue.fields}}function oI(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(b){return b==="NO_CHANGE"?0:b==="ADD"?1:b==="REMOVE"?2:b==="CURRENT"?3:b==="RESET"?4:Bt(39313,{state:b})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(b,A){return b.useProto3Json?(ye(A===void 0||typeof A=="string",58123),Cn.fromBase64String(A||"")):(ye(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Cn.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),m=t.targetChange.cause,v=m&&(function(b){const A=b.code===void 0?ht.UNKNOWN:Yw(b.code);return new Rt(A,b.message||"")})(m);n=new Ww(r,l,h,v||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=vp(s,r.document.name),h=ur(r.document.updateTime),m=r.document.createTime?ur(r.document.createTime):Gt.min(),v=new yi({mapValue:{fields:r.document.fields}}),y=Hn.newFoundDocument(l,h,m,v),b=r.targetIds||[],A=r.removedTargetIds||[];n=new xf(b,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=vp(s,r.document),h=r.readTime?ur(r.readTime):Gt.min(),m=Hn.newNoDocument(l,h),v=r.removedTargetIds||[];n=new xf([],v,m.key,m)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=vp(s,r.document),h=r.removedTargetIds||[];n=new xf([],h,l,null)}else{if(!("filter"in t))return Bt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,m=new XN(l,h),v=r.targetId;n=new Xw(v,m)}}return n}function lI(s,t){let n;if(t instanceof qc)n={update:wb(s,t.key,t.value)};else if(t instanceof od)n={delete:Zp(s,t.key)};else if(t instanceof lo)n={update:wb(s,t.key,t.data),updateMask:_I(t.fieldMask)};else{if(!(t instanceof KN))return Bt(16599,{Vt:t.type});n={verify:Zp(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(h,m){const v=m.transform;if(v instanceof Pf)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Mc)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof kc)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Vf)return{fieldPath:m.field.canonicalString(),increment:v.Ae};throw Bt(20930,{transform:m.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:rI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Bt(27497)})(s,t.precondition)),n}function uI(s,t){return s&&s.length>0?(ye(t!==void 0,14353),s.map((n=>(function(l,h){let m=l.updateTime?ur(l.updateTime):ur(h);return m.isEqual(Gt.min())&&(m=ur(h)),new qN(m,l.transformResults||[])})(n,t)))):[]}function cI(s,t){return{documents:[tE(s,t.path)]}}function hI(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tE(s,l);const h=(function(b){if(b.length!==0)return iE(Os.create(b,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const m=(function(b){if(b.length!==0)return b.map((A=>(function(I){return{field:Wl(I.field),direction:mI(I.dir)}})(A)))})(t.orderBy);m&&(n.structuredQuery.orderBy=m);const v=qp(s,t.limit);return v!==null&&(n.structuredQuery.limit=v),t.startAt&&(n.structuredQuery.startAt=(function(b){return{before:b.inclusive,values:b.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(b){return{before:!b.inclusive,values:b.position}})(t.endAt)),{ft:n,parent:l}}function fI(s){let t=aI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){ye(r===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];n.where&&(h=(function(C){const I=nE(C);return I instanceof Os&&Lw(I)?I.getFilters():[I]})(n.where));let m=[];n.orderBy&&(m=(function(C){return C.map((I=>(function(q){return new Lc(Jl(q.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(I)))})(n.orderBy));let v=null;n.limit&&(v=(function(C){let I;return I=typeof C=="object"?C.value:C,td(I)?null:I})(n.limit));let y=null;n.startAt&&(y=(function(C){const I=!!C.before,k=C.values||[];return new Of(k,I)})(n.startAt));let b=null;return n.endAt&&(b=(function(C){const I=!C.before,k=C.values||[];return new Of(k,I)})(n.endAt)),DN(t,l,m,h,v,"F",y,b)}function dI(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function nE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jl(n.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Jl(n.unaryFilter.field);return cn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Jl(n.unaryFilter.field);return cn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Jl(n.unaryFilter.field);return cn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return cn.create(Jl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Os.create(n.compositeFilter.filters.map((r=>nE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}})(n.compositeFilter.op))})(s):Bt(30097,{filter:s})}function mI(s){return eI[s]}function pI(s){return nI[s]}function gI(s){return iI[s]}function Wl(s){return{fieldPath:s.canonicalString()}}function Jl(s){return An.fromServerFormat(s.fieldPath)}function iE(s){return s instanceof cn?(function(n){if(n.op==="=="){if(lb(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NAN"}};if(ob(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lb(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NOT_NAN"}};if(ob(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wl(n.field),op:pI(n.op),value:n.value}}})(s):s instanceof Os?(function(n){const r=n.getFilters().map((l=>iE(l)));return r.length===1?r[0]:{compositeFilter:{op:gI(n.op),filters:r}}})(s):Bt(54877,{filter:s})}function _I(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function sE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ka{constructor(t,n,r,l,h=Gt.min(),m=Gt.min(),v=Cn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v,this.expectedCount=y}withSequenceNumber(t){return new Ka(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class yI{constructor(t){this.yt=t}}function vI(s){const t=fI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Hp(t,t.limit,"L"):t}class bI{constructor(){this.Cn=new xI}addToCollectionParentIndex(t,n){return this.Cn.add(n),pt.resolve()}getCollectionParents(t,n){return pt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return pt.resolve()}deleteFieldIndex(t,n){return pt.resolve()}deleteAllFieldIndexes(t){return pt.resolve()}createTargetIndexes(t,n){return pt.resolve()}getDocumentsMatchingTarget(t,n){return pt.resolve(null)}getIndexType(t,n){return pt.resolve(0)}getFieldIndexes(t,n){return pt.resolve([])}getNextCollectionGroupToUpdate(t){return pt.resolve(null)}getMinOffset(t,n){return pt.resolve(to.min())}getMinOffsetFromCollectionGroup(t,n){return pt.resolve(to.min())}updateCollectionGroup(t,n,r){return pt.resolve()}updateIndexEntries(t,n){return pt.resolve()}}class xI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new pn(Le.comparator),h=!l.has(r);return this.index[n]=l.add(r),h}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new pn(Le.comparator)).toArray()}}const Eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rE=41943040;class _i{static withCacheSize(t){return new _i(t,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(rE,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);class cu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new cu(0)}static cr(){return new cu(-1)}}const Tb="LruGarbageCollector",wI=1048576;function Sb([s,t],[n,r]){const l=oe(s,n);return l===0?oe(t,r):l}class EI{constructor(t){this.Ir=t,this.buffer=new pn(Sb),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Sb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TI{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Dt(Tb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wu(n)?Dt(Tb,"Ignoring IndexedDB error during garbage collection: ",n):await xu(n)}await this.Vr(3e5)}))}}class SI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return pt.resolve($f.ce);const r=new EI(n);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Dt("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(Eb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eb):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,l,h,m,v,y,b;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(Dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,m=Date.now(),this.nthSequenceNumber(t,l)))).next((C=>(r=C,v=Date.now(),this.removeTargets(t,r,n)))).next((C=>(h=C,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((C=>(b=Date.now(),Yl()<=ae.DEBUG&&Dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-A}ms
	Determined least recently used ${l} in `+(v-m)+`ms
	Removed ${h} targets in `+(y-v)+`ms
	Removed ${C} documents in `+(b-y)+`ms
Total Duration: ${b-A}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:C}))))}}function AI(s,t){return new SI(s,t)}class CI{constructor(){this.changes=new al((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Hn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class RI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class NI{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&Tc(r.mutation,l,zi.empty(),Ce.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,le()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=le()){const l=Wo();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((h=>{let m=gc();return h.forEach(((v,y)=>{m=m.insert(v,y.overlayedDocument)})),m}))))}getOverlayedDocuments(t,n){const r=Wo();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,le())))}populateOverlays(t,n,r){const l=[];return r.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((m,v)=>{n.set(m,v)}))}))}computeViews(t,n,r,l){let h=$r();const m=Ec(),v=(function(){return Ec()})();return n.forEach(((y,b)=>{const A=r.get(b.key);l.has(b.key)&&(A===void 0||A.mutation instanceof lo)?h=h.insert(b.key,b):A!==void 0?(m.set(b.key,A.mutation.getFieldMask()),Tc(A.mutation,b,A.mutation.getFieldMask(),Ce.now())):m.set(b.key,zi.empty())})),this.recalculateAndSaveOverlays(t,h).next((y=>(y.forEach(((b,A)=>m.set(b,A))),n.forEach(((b,A)=>v.set(b,new RI(A,m.get(b)??null)))),v)))}recalculateAndSaveOverlays(t,n){const r=Ec();let l=new qe(((m,v)=>m-v)),h=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((m=>{for(const v of m)v.keys().forEach((y=>{const b=n.get(y);if(b===null)return;let A=r.get(y)||zi.empty();A=v.applyToLocalView(b,A),r.set(y,A);const C=(l.get(v.batchId)||le()).add(y);l=l.insert(v.batchId,C)}))})).next((()=>{const m=[],v=l.getReverseIterator();for(;v.hasNext();){const y=v.getNext(),b=y.key,A=y.value,C=Bw();A.forEach((I=>{if(!h.has(I)){const k=Kw(n.get(I),r.get(I));k!==null&&C.set(I,k),h=h.add(I)}})),m.push(this.documentOverlayCache.saveOverlays(t,b,C))}return pt.waitFor(m)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return(function(m){return Pt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Pw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((h=>{const m=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-h.size):pt.resolve(Wo());let v=Nc,y=h;return m.next((b=>pt.forEach(b,((A,C)=>(v<C.largestBatchId&&(v=C.largestBatchId),h.get(A)?pt.resolve():this.remoteDocumentCache.getEntry(t,A).next((I=>{y=y.insert(A,I)}))))).next((()=>this.populateOverlays(t,b,h))).next((()=>this.computeViews(t,y,b,le()))).next((A=>({batchId:v,changes:Uw(A)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Pt(n)).next((r=>{let l=gc();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const h=n.collectionGroup;let m=gc();return this.indexManager.getCollectionParents(t,h).next((v=>pt.forEach(v,(y=>{const b=(function(C,I){return new Eu(I,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(n,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,b,r,l).next((A=>{A.forEach(((C,I)=>{m=m.insert(C,I)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,h,l)))).next((m=>{h.forEach(((y,b)=>{const A=b.getKey();m.get(A)===null&&(m=m.insert(A,Hn.newInvalidDocument(A)))}));let v=gc();return m.forEach(((y,b)=>{const A=h.get(y);A!==void 0&&Tc(A.mutation,b,zi.empty(),Ce.now()),sd(n,b)&&(v=v.insert(y,b))})),v}))}}class II{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return pt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:ur(l.createTime)}})(n)),pt.resolve()}getNamedQuery(t,n){return pt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:vI(l.bundledQuery),readTime:ur(l.readTime)}})(n)),pt.resolve()}}class DI{constructor(){this.overlays=new qe(Pt.comparator),this.qr=new Map}getOverlay(t,n){return pt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Wo();return pt.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&r.set(l,h)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,h)=>{this.St(t,n,h)})),pt.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),pt.resolve()}getOverlaysForCollection(t,n,r){const l=Wo(),h=n.length+1,m=new Pt(n.child("")),v=this.overlays.getIteratorFrom(m);for(;v.hasNext();){const y=v.getNext().value,b=y.getKey();if(!n.isPrefixOf(b.path))break;b.path.length===h&&y.largestBatchId>r&&l.set(y.getKey(),y)}return pt.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let h=new qe(((b,A)=>b-A));const m=this.overlays.getIterator();for(;m.hasNext();){const b=m.getNext().value;if(b.getKey().getCollectionGroup()===n&&b.largestBatchId>r){let A=h.get(b.largestBatchId);A===null&&(A=Wo(),h=h.insert(b.largestBatchId,A)),A.set(b.getKey(),b)}}const v=Wo(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((b,A)=>v.set(b,A))),!(v.size()>=l)););return pt.resolve(v)}St(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const m=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new YN(n,r));let h=this.qr.get(n);h===void 0&&(h=le(),this.qr.set(n,h)),this.qr.set(n,h.add(r.key))}}class LI{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(t){return pt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,pt.resolve()}}class Lg{constructor(){this.Qr=new pn(Tn.$r),this.Ur=new pn(Tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Tn(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Tn(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new Pt(new Le([])),r=new Tn(n,t),l=new Tn(n,t+1),h=[];return this.Ur.forEachInRange([r,l],(m=>{this.Gr(m),h.push(m.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Pt(new Le([])),r=new Tn(n,t),l=new Tn(n,t+1);let h=le();return this.Ur.forEachInRange([r,l],(m=>{h=h.add(m.key)})),h}containsKey(t){const n=new Tn(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Tn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Pt.comparator(t.key,n.key)||oe(t.Yr,n.Yr)}static Kr(t,n){return oe(t.Yr,n.Yr)||Pt.comparator(t.key,n.key)}}class MI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pn(Tn.$r)}checkEmpty(t){return pt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new QN(h,n,r,l);this.mutationQueue.push(m);for(const v of l)this.Zr=this.Zr.add(new Tn(v.key,h)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return pt.resolve(m)}lookupMutationBatch(t,n){return pt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.ei(r),h=l<0?0:l;return pt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(this.mutationQueue.length===0?Eg:this.tr-1)}getAllMutationBatches(t){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Tn(n,0),l=new Tn(n,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,l],(m=>{const v=this.Xr(m.Yr);h.push(v)})),pt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new pn(oe);return n.forEach((l=>{const h=new Tn(l,0),m=new Tn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],(v=>{r=r.add(v.Yr)}))})),pt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let h=r;Pt.isDocumentKey(h)||(h=h.child(""));const m=new Tn(new Pt(h),0);let v=new pn(oe);return this.Zr.forEachWhile((y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===l&&(v=v.add(y.Yr)),!0)}),m),pt.resolve(this.ti(v))}ti(t){const n=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return pt.forEach(n.mutations,(l=>{const h=new Tn(l.key,n.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Tn(n,0),l=this.Zr.firstAfterOrEqual(r);return pt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,pt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class kI{constructor(t){this.ri=t,this.docs=(function(){return new qe(Pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),h=l?l.size:0,m=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return pt.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(t,n){let r=$r();return n.forEach((l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():Hn.newInvalidDocument(l))})),pt.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let h=$r();const m=n.path,v=new Pt(m.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(v);for(;y.hasNext();){const{key:b,value:{document:A}}=y.getNext();if(!m.isPrefixOf(b.path))break;b.path.length>m.length+1||uN(lN(A),r)<=0||(l.has(A.key)||sd(n,A))&&(h=h.insert(A.key,A.mutableCopy()))}return pt.resolve(h)}getAllFromCollectionGroup(t,n,r,l){Bt(9500)}ii(t,n){return pt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new OI(this)}getSize(t){return pt.resolve(this.size)}}class OI extends CI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),pt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class PI{constructor(t){this.persistence=t,this.si=new al((n=>Ag(n)),Cg),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.oi=0,this._i=new Lg,this.targetCount=0,this.ai=cu.ur()}forEachTarget(t,n){return this.si.forEach(((r,l)=>n(l))),pt.resolve()}getLastRemoteSnapshotVersion(t){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),pt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new cu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,pt.resolve()}updateTargetData(t,n){return this.Pr(n),pt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,pt.resolve()}removeTargets(t,n,r){let l=0;const h=[];return this.si.forEach(((m,v)=>{v.sequenceNumber<=n&&r.get(v.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)})),pt.waitFor(h).next((()=>l))}getTargetCount(t){return pt.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return pt.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),pt.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((m=>{h.push(l.markPotentiallyOrphaned(t,m))})),pt.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),pt.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return pt.resolve(r)}containsKey(t,n){return pt.resolve(this._i.containsKey(n))}}class aE{constructor(t,n){this.ui={},this.overlays={},this.ci=new $f(0),this.li=!1,this.li=!0,this.hi=new LI,this.referenceDelegate=t(this),this.Pi=new PI(this),this.indexManager=new bI,this.remoteDocumentCache=(function(l){return new kI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new yI(n),this.Ii=new II(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new DI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new MI(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){Dt("MemoryPersistence","Starting transaction:",t);const l=new VI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,n){return pt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class VI extends hN{constructor(t){super(),this.currentSequenceNumber=t}}class Mg{constructor(t){this.persistence=t,this.Ri=new Lg,this.Vi=null}static mi(t){return new Mg(t)}get fi(){if(this.Vi)return this.Vi;throw Bt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),pt.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),pt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),pt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.fi,(r=>{const l=Pt.fromPath(r);return this.gi(t,l).next((h=>{h||n.removeEntry(l,Gt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return pt.or([()=>pt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class zf{constructor(t,n){this.persistence=t,this.pi=new al((r=>mN(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=AI(this,n)}static mi(t,n){return new zf(t,n)}Ei(){}di(t){return pt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return pt.forEach(this.pi,((r,l)=>this.br(t,r,l).next((h=>h?pt.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(m=>this.br(t,m,n).next((v=>{v||(r++,h.removeEntry(m,Gt.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),pt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),pt.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),pt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),pt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=yf(t.data.value)),n}br(t,n,r){return pt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return pt.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class kg{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=l}static As(t,n){let r=le(),l=le();for(const h of n.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new kg(t,n.fromCache,r,l)}}class jI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class zI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DA()?8:fN(qn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const h={result:null};return this.ys(t,n).next((m=>{h.result=m})).next((()=>{if(!h.result)return this.ws(t,n,l,r).next((m=>{h.result=m}))})).next((()=>{if(h.result)return;const m=new jI;return this.Ss(t,n,m).next((v=>{if(h.result=v,this.Vs)return this.bs(t,n,m,v.size)}))})).next((()=>h.result))}bs(t,n,r,l){return r.documentReadCount<this.fs?(Yl()<=ae.DEBUG&&Dt("QueryEngine","SDK will not create cache indexes for query:",Xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pt.resolve()):(Yl()<=ae.DEBUG&&Dt("QueryEngine","Query:",Xl(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Yl()<=ae.DEBUG&&Dt("QueryEngine","The SDK decides to create cache indexes for query:",Xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lr(n))):pt.resolve())}ys(t,n){if(fb(n))return pt.resolve(null);let r=lr(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Hp(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const m=le(...h);return this.ps.getDocuments(t,m).next((v=>this.indexManager.getMinOffset(t,r).next((y=>{const b=this.Ds(n,v);return this.Cs(n,b,m,y.readTime)?this.ys(t,Hp(n,null,"F")):this.vs(t,b,n,y)}))))})))))}ws(t,n,r,l){return fb(n)||l.isEqual(Gt.min())?pt.resolve(null):this.ps.getDocuments(t,r).next((h=>{const m=this.Ds(n,h);return this.Cs(n,m,r,l)?pt.resolve(null):(Yl()<=ae.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Xl(n)),this.vs(t,m,n,oN(l,Nc)).next((v=>v)))}))}Ds(t,n){let r=new pn(jw(t));return n.forEach(((l,h)=>{sd(t,h)&&(r=r.add(h))})),r}Cs(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,n,r){return Yl()<=ae.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",Xl(n)),this.ps.getDocumentsMatchingQuery(t,n,to.min(),r)}vs(t,n,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((h=>(n.forEach((m=>{h=h.insert(m.key,m)})),h)))}}const Og="LocalStore",UI=3e8;class BI{constructor(t,n,r,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new qe(oe),this.xs=new al((h=>Ag(h)),Cg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new NI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function FI(s,t,n,r){return new BI(s,t,n,r)}async function oE(s,t){const n=Kt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((h=>(l=h,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((h=>{const m=[],v=[];let y=le();for(const b of l){m.push(b.batchId);for(const A of b.mutations)y=y.add(A.key)}for(const b of h){v.push(b.batchId);for(const A of b.mutations)y=y.add(A.key)}return n.localDocuments.getDocuments(r,y).next((b=>({Ls:b,removedBatchIds:m,addedBatchIds:v})))}))}))}function HI(s,t){const n=Kt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),h=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(v,y,b,A){const C=b.batch,I=C.keys();let k=pt.resolve();return I.forEach((q=>{k=k.next((()=>A.getEntry(y,q))).next((F=>{const K=b.docVersions.get(q);ye(K!==null,48541),F.version.compareTo(K)<0&&(C.applyToRemoteDocument(F,b),F.isValidDocument()&&(F.setReadTime(b.commitVersion),A.addEntry(F)))}))})),k.next((()=>v.mutationQueue.removeMutationBatch(y,C)))})(n,r,t,h).next((()=>h.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(v){let y=le();for(let b=0;b<v.mutationResults.length;++b)v.mutationResults[b].transformResults.length>0&&(y=y.add(v.batch.mutations[b].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function lE(s){const t=Kt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function qI(s,t){const n=Kt(s),r=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const m=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const v=[];t.targetChanges.forEach(((A,C)=>{const I=l.get(C);if(!I)return;v.push(n.Pi.removeMatchingKeys(h,A.removedDocuments,C).next((()=>n.Pi.addMatchingKeys(h,A.addedDocuments,C))));let k=I.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(C)!==null?k=k.withResumeToken(Cn.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):A.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(A.resumeToken,r)),l=l.insert(C,k),(function(F,K,J){return F.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=UI?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(I,k,A)&&v.push(n.Pi.updateTargetData(h,k))}));let y=$r(),b=le();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&v.push(n.persistence.referenceDelegate.updateLimboDocument(h,A))})),v.push(GI(h,m,t.documentUpdates).next((A=>{y=A.ks,b=A.qs}))),!r.isEqual(Gt.min())){const A=n.Pi.getLastRemoteSnapshotVersion(h).next((C=>n.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));v.push(A)}return pt.waitFor(v).next((()=>m.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,y,b))).next((()=>y))})).then((h=>(n.Ms=l,h)))}function GI(s,t,n){let r=le(),l=le();return n.forEach((h=>r=r.add(h))),t.getEntries(s,r).next((h=>{let m=$r();return n.forEach(((v,y)=>{const b=h.get(v);y.isFoundDocument()!==b.isFoundDocument()&&(l=l.add(v)),y.isNoDocument()&&y.version.isEqual(Gt.min())?(t.removeEntry(v,y.readTime),m=m.insert(v,y)):!b.isValidDocument()||y.version.compareTo(b.version)>0||y.version.compareTo(b.version)===0&&b.hasPendingWrites?(t.addEntry(y),m=m.insert(v,y)):Dt(Og,"Ignoring outdated watch update for ",v,". Current version:",b.version," Watch version:",y.version)})),{ks:m,qs:l}}))}function ZI(s,t){const n=Kt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Eg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function KI(s,t){const n=Kt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,t).next((h=>h?(l=h,pt.resolve(l)):n.Pi.allocateTargetId(r).next((m=>(l=new Ka(t,m,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Qp(s,t,n){const r=Kt(s),l=r.Ms.get(t),h=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",h,(m=>r.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!wu(m))throw m;Dt(Og,`Failed to update sequence numbers for target ${t}: ${m}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Ab(s,t,n){const r=Kt(s);let l=Gt.min(),h=le();return r.persistence.runTransaction("Execute query","readwrite",(m=>(function(y,b,A){const C=Kt(y),I=C.xs.get(A);return I!==void 0?pt.resolve(C.Ms.get(I)):C.Pi.getTargetData(b,A)})(r,m,lr(t)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(m,v.targetId).next((y=>{h=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(m,t,n?l:Gt.min(),n?h:le()))).next((v=>(QI(r,MN(t),v),{documents:v,Qs:h})))))}function QI(s,t,n){let r=s.Os.get(t)||Gt.min();n.forEach(((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(t,r)}class Cb{constructor(){this.activeTargetIds=zN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class YI{constructor(){this.Mo=new Cb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Cb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class XI{Oo(t){}shutdown(){}}const Rb="ConnectivityMonitor";class Nb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Dt(Rb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Dt(Rb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let cf=null;function Yp(){return cf===null?cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():cf++,"0x"+cf.toString(16)}const bp="RestConnection",WI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Mf?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,n,r,l,h){const m=Yp(),v=this.zo(t,n.toUriEncodedString());Dt(bp,`Sending RPC '${t}' ${m}:`,v,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,h);const{host:b}=new URL(v),A=_u(b);return this.Jo(t,v,y,r,A).then((C=>(Dt(bp,`Received RPC '${t}' ${m}: `,C),C)),(C=>{throw il(bp,`RPC '${t}' ${m} failed with error: `,C,"url: ",v,"request:",r),C}))}Ho(t,n,r,l,h,m){return this.Go(t,n,r,l,h)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),r&&r.headers.forEach(((l,h)=>t[h]=l))}zo(t,n){const r=WI[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class $I{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Bn="WebChannelConnection";class tD extends JI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,l,h){const m=Yp();return new Promise(((v,y)=>{const b=new uw;b.setWithCredentials(!0),b.listenOnce(cw.COMPLETE,(()=>{try{switch(b.getLastErrorCode()){case _f.NO_ERROR:const C=b.getResponseJson();Dt(Bn,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(C)),v(C);break;case _f.TIMEOUT:Dt(Bn,`RPC '${t}' ${m} timed out`),y(new Rt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const I=b.getStatus();if(Dt(Bn,`RPC '${t}' ${m} failed with status:`,I,"response text:",b.getResponseText()),I>0){let k=b.getResponseJson();Array.isArray(k)&&(k=k[0]);const q=k?.error;if(q&&q.status&&q.message){const F=(function(J){const rt=J.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(rt)>=0?rt:ht.UNKNOWN})(q.status);y(new Rt(F,q.message))}else y(new Rt(ht.UNKNOWN,"Server responded with status "+b.getStatus()))}else y(new Rt(ht.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{l_:t,streamId:m,h_:b.getLastErrorCode(),P_:b.getLastError()})}}finally{Dt(Bn,`RPC '${t}' ${m} completed.`)}}));const A=JSON.stringify(l);Dt(Bn,`RPC '${t}' ${m} sending request:`,l),b.send(n,"POST",A,r,15)}))}T_(t,n,r){const l=Yp(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=dw(),v=fw(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(y.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const A=h.join("");Dt(Bn,`Creating RPC '${t}' stream ${l}: ${A}`,y);const C=m.createWebChannel(A,y);this.I_(C);let I=!1,k=!1;const q=new $I({Yo:K=>{k?Dt(Bn,`Not sending because RPC '${t}' stream ${l} is closed:`,K):(I||(Dt(Bn,`Opening RPC '${t}' stream ${l} transport.`),C.open(),I=!0),Dt(Bn,`RPC '${t}' stream ${l} sending:`,K),C.send(K))},Zo:()=>C.close()}),F=(K,J,rt)=>{K.listen(J,(ot=>{try{rt(ot)}catch(xt){setTimeout((()=>{throw xt}),0)}}))};return F(C,pc.EventType.OPEN,(()=>{k||(Dt(Bn,`RPC '${t}' stream ${l} transport opened.`),q.o_())})),F(C,pc.EventType.CLOSE,(()=>{k||(k=!0,Dt(Bn,`RPC '${t}' stream ${l} transport closed`),q.a_(),this.E_(C))})),F(C,pc.EventType.ERROR,(K=>{k||(k=!0,il(Bn,`RPC '${t}' stream ${l} transport errored. Name:`,K.name,"Message:",K.message),q.a_(new Rt(ht.UNAVAILABLE,"The operation could not be completed")))})),F(C,pc.EventType.MESSAGE,(K=>{if(!k){const J=K.data[0];ye(!!J,16349);const rt=J,ot=rt?.error||rt[0]?.error;if(ot){Dt(Bn,`RPC '${t}' stream ${l} received error:`,ot);const xt=ot.status;let Ct=(function(M){const O=un[M];if(O!==void 0)return Yw(O)})(xt),Nt=ot.message;Ct===void 0&&(Ct=ht.INTERNAL,Nt="Unknown error status: "+xt+" with message "+ot.message),k=!0,q.a_(new Rt(Ct,Nt)),C.close()}else Dt(Bn,`RPC '${t}' stream ${l} received:`,J),q.u_(J)}})),F(v,hw.STAT_EVENT,(K=>{K.stat===Pp.PROXY?Dt(Bn,`RPC '${t}' stream ${l} detected buffering proxy`):K.stat===Pp.NOPROXY&&Dt(Bn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function xp(){return typeof document<"u"?document:null}function ud(s){return new sI(s,!0)}class uE{constructor(t,n,r=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&Dt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ib="PersistentStream";class cE{constructor(t,n,r,l,h,m,v,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=v,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new Rt(ht.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Dt(Ib,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Dt(Ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eD extends cE{constructor(t,n,r,l,h,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,m),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=oI(this.serializer,t),r=(function(h){if(!("targetChange"in h))return Gt.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Gt.min():m.readTime?ur(m.readTime):Gt.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Kp(this.serializer),n.addTarget=(function(h,m){let v;const y=m.target;if(v=Bp(y)?{documents:cI(h,y)}:{query:hI(h,y).ft},v.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){v.resumeToken=Jw(h,m.resumeToken);const b=qp(h,m.expectedCount);b!==null&&(v.expectedCount=b)}else if(m.snapshotVersion.compareTo(Gt.min())>0){v.readTime=jf(h,m.snapshotVersion.toTimestamp());const b=qp(h,m.expectedCount);b!==null&&(v.expectedCount=b)}return v})(this.serializer,t);const r=dI(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Kp(this.serializer),n.removeTarget=t,this.q_(n)}}class nD extends cE{constructor(t,n,r,l,h,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ye(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ye(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ye(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=uI(t.writeResults,t.commitTime),r=ur(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Kp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>lI(this.serializer,r)))};this.q_(n)}}class iD{}class sD extends iD{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Rt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Go(t,Gp(n,r),l,h,m))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Rt(ht.UNKNOWN,h.toString())}))}Ho(t,n,r,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,v])=>this.connection.Ho(t,Gp(n,r),l,m,v,h))).catch((m=>{throw m.name==="FirebaseError"?(m.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Rt(ht.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jr(n),this.aa=!1):Dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sl="RemoteStore";class aD{constructor(t,n,r,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((m=>{r.enqueueAndForget((async()=>{ol(this)&&(Dt(sl,"Restarting streams for network reachability change."),await(async function(y){const b=Kt(y);b.Ea.add(4),await Zc(b),b.Ra.set("Unknown"),b.Ea.delete(4),await cd(b)})(this))}))})),this.Ra=new rD(r,l)}}async function cd(s){if(ol(s))for(const t of s.da)await t(!0)}async function Zc(s){for(const t of s.da)await t(!1)}function hE(s,t){const n=Kt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),zg(n)?jg(n):Tu(n).O_()&&Vg(n,t))}function Pg(s,t){const n=Kt(s),r=Tu(n);n.Ia.delete(t),r.O_()&&fE(n,t),n.Ia.size===0&&(r.O_()?r.L_():ol(n)&&n.Ra.set("Unknown"))}function Vg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Gt.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Tu(s).Y_(t)}function fE(s,t){s.Va.Ue(t),Tu(s).Z_(t)}function jg(s){s.Va=new tI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Tu(s).start(),s.Ra.ua()}function zg(s){return ol(s)&&!Tu(s).x_()&&s.Ia.size>0}function ol(s){return Kt(s).Ea.size===0}function dE(s){s.Va=void 0}async function oD(s){s.Ra.set("Online")}async function lD(s){s.Ia.forEach(((t,n)=>{Vg(s,t)}))}async function uD(s,t){dE(s),zg(s)?(s.Ra.ha(t),jg(s)):s.Ra.set("Unknown")}async function cD(s,t,n){if(s.Ra.set("Online"),t instanceof Ww&&t.state===2&&t.cause)try{await(async function(l,h){const m=h.cause;for(const v of h.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,m),l.Ia.delete(v),l.Va.removeTarget(v))})(s,t)}catch(r){Dt(sl,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Uf(s,r)}else if(t instanceof xf?s.Va.Ze(t):t instanceof Xw?s.Va.st(t):s.Va.tt(t),!n.isEqual(Gt.min()))try{const r=await lE(s.localStore);n.compareTo(r)>=0&&await(function(h,m){const v=h.Va.Tt(m);return v.targetChanges.forEach(((y,b)=>{if(y.resumeToken.approximateByteSize()>0){const A=h.Ia.get(b);A&&h.Ia.set(b,A.withResumeToken(y.resumeToken,m))}})),v.targetMismatches.forEach(((y,b)=>{const A=h.Ia.get(y);if(!A)return;h.Ia.set(y,A.withResumeToken(Cn.EMPTY_BYTE_STRING,A.snapshotVersion)),fE(h,y);const C=new Ka(A.target,y,b,A.sequenceNumber);Vg(h,C)})),h.remoteSyncer.applyRemoteEvent(v)})(s,n)}catch(r){Dt(sl,"Failed to raise snapshot:",r),await Uf(s,r)}}async function Uf(s,t,n){if(!wu(t))throw t;s.Ea.add(1),await Zc(s),s.Ra.set("Offline"),n||(n=()=>lE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{Dt(sl,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await cd(s)}))}function mE(s,t){return t().catch((n=>Uf(s,n,t)))}async function hd(s){const t=Kt(s),n=so(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Eg;for(;hD(t);)try{const l=await ZI(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,fD(t,l)}catch(l){await Uf(t,l)}pE(t)&&gE(t)}function hD(s){return ol(s)&&s.Ta.length<10}function fD(s,t){s.Ta.push(t);const n=so(s);n.O_()&&n.X_&&n.ea(t.mutations)}function pE(s){return ol(s)&&!so(s).x_()&&s.Ta.length>0}function gE(s){so(s).start()}async function dD(s){so(s).ra()}async function mD(s){const t=so(s);for(const n of s.Ta)t.ea(n.mutations)}async function pD(s,t,n){const r=s.Ta.shift(),l=Ng.from(r,t,n);await mE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await hd(s)}async function gD(s,t){t&&so(s).X_&&await(async function(r,l){if((function(m){return WN(m)&&m!==ht.ABORTED})(l.code)){const h=r.Ta.shift();so(r).B_(),await mE(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,l))),await hd(r)}})(s,t),pE(s)&&gE(s)}async function Db(s,t){const n=Kt(s);n.asyncQueue.verifyOperationInProgress(),Dt(sl,"RemoteStore received new credentials");const r=ol(n);n.Ea.add(3),await Zc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await cd(n)}async function _D(s,t){const n=Kt(s);t?(n.Ea.delete(2),await cd(n)):t||(n.Ea.add(2),await Zc(n),n.Ra.set("Unknown"))}function Tu(s){return s.ma||(s.ma=(function(n,r,l){const h=Kt(n);return h.sa(),new eD(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:oD.bind(null,s),t_:lD.bind(null,s),r_:uD.bind(null,s),H_:cD.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),zg(s)?jg(s):s.Ra.set("Unknown")):(await s.ma.stop(),dE(s))}))),s.ma}function so(s){return s.fa||(s.fa=(function(n,r,l){const h=Kt(n);return h.sa(),new nD(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:dD.bind(null,s),r_:gD.bind(null,s),ta:mD.bind(null,s),na:pD.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await hd(s)):(await s.fa.stop(),s.Ta.length>0&&(Dt(sl,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ug{constructor(t,n,r,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,h){const m=Date.now()+r,v=new Ug(t,n,m,l,h);return v.start(r),v}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(s,t){if(Jr("AsyncQueue",`${t}: ${s}`),wu(s))return new Rt(ht.UNAVAILABLE,`${t}: ${s}`);throw s}class iu{static emptySet(t){return new iu(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Pt.comparator(n.key,r.key):(n,r)=>Pt.comparator(n.key,r.key),this.keyedMap=gc(),this.sortedSet=new qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof iu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new iu;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class Lb{constructor(){this.ga=new qe(Pt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Bt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class hu{constructor(t,n,r,l,h,m,v,y,b){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=y,this.hasCachedResults=b}static fromInitialDocuments(t,n,r,l,h){const m=[];return n.forEach((v=>{m.push({type:0,doc:v})})),new hu(t,n,iu.emptySet(n),m,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&id(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class yD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class vD{constructor(){this.queries=Mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Kt(n),h=l.queries;l.queries=Mb(),h.forEach(((m,v)=>{for(const y of v.Sa)y.onError(r)}))})(this,new Rt(ht.ABORTED,"Firestore shutting down"))}}function Mb(){return new al((s=>Vw(s)),id)}async function Fg(s,t){const n=Kt(s);let r=3;const l=t.query;let h=n.queries.get(l);h?!h.ba()&&t.Da()&&(r=2):(h=new yD,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(m){const v=Bg(m,`Initialization of query '${Xl(t.query)}' failed`);return void t.onError(v)}n.queries.set(l,h),h.Sa.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&qg(n)}async function Hg(s,t){const n=Kt(s),r=t.query;let l=3;const h=n.queries.get(r);if(h){const m=h.Sa.indexOf(t);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bD(s,t){const n=Kt(s);let r=!1;for(const l of t){const h=l.query,m=n.queries.get(h);if(m){for(const v of m.Sa)v.Fa(l)&&(r=!0);m.wa=l}}r&&qg(n)}function xD(s,t,n){const r=Kt(s),l=r.queries.get(t);if(l)for(const h of l.Sa)h.onError(n);r.queries.delete(t)}function qg(s){s.Ca.forEach((t=>{t.next()}))}var Xp,kb;(kb=Xp||(Xp={})).Ma="default",kb.Cache="cache";class Gg{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new hu(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=hu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Xp.Cache}}class _E{constructor(t){this.key=t}}class yE{constructor(t){this.key=t}}class wD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=le(),this.mutatedKeys=le(),this.eu=jw(t),this.tu=new iu(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new Lb,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,m=l,v=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,b=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,C)=>{const I=l.get(A),k=sd(this.query,C)?C:null,q=!!I&&this.mutatedKeys.has(I.key),F=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let K=!1;I&&k?I.data.isEqual(k.data)?q!==F&&(r.track({type:3,doc:k}),K=!0):this.su(I,k)||(r.track({type:2,doc:k}),K=!0,(y&&this.eu(k,y)>0||b&&this.eu(k,b)<0)&&(v=!0)):!I&&k?(r.track({type:0,doc:k}),K=!0):I&&!k&&(r.track({type:1,doc:I}),K=!0,(y||b)&&(v=!0)),K&&(k?(m=m.add(k),h=F?h.add(A):h.delete(A)):(m=m.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const A=this.query.limitType==="F"?m.last():m.first();m=m.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:m,iu:r,Cs:v,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const m=t.iu.ya();m.sort(((A,C)=>(function(k,q){const F=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{Rt:K})}};return F(k)-F(q)})(A.type,C.type)||this.eu(A.doc,C.doc))),this.ou(r),l=l??!1;const v=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,b=y!==this.Za;return this.Za=y,m.length!==0||b?{snapshot:new hu(this.query,t.tu,h,m,t.mutatedKeys,y===0,b,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new yE(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new _E(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=le();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return hu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zg="SyncEngine";class ED{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class TD{constructor(t){this.key=t,this.hu=!1}}class SD{constructor(t,n,r,l,h,m){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new al((v=>Vw(v)),id),this.Iu=new Map,this.Eu=new Set,this.du=new qe(Pt.comparator),this.Au=new Map,this.Ru=new Lg,this.Vu={},this.mu=new Map,this.fu=cu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AD(s,t,n=!0){const r=TE(s);let l;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await vE(r,t,n,!0),l}async function CD(s,t){const n=TE(s);await vE(n,t,!0,!1)}async function vE(s,t,n,r){const l=await KI(s.localStore,lr(t)),h=l.targetId,m=s.sharedClientState.addLocalQueryTarget(h,n);let v;return r&&(v=await RD(s,t,h,m==="current",l.resumeToken)),s.isPrimaryClient&&n&&hE(s.remoteStore,l),v}async function RD(s,t,n,r,l){s.pu=(C,I,k)=>(async function(F,K,J,rt){let ot=K.view.ru(J);ot.Cs&&(ot=await Ab(F.localStore,K.query,!1).then((({documents:P})=>K.view.ru(P,ot))));const xt=rt&&rt.targetChanges.get(K.targetId),Ct=rt&&rt.targetMismatches.get(K.targetId)!=null,Nt=K.view.applyChanges(ot,F.isPrimaryClient,xt,Ct);return Pb(F,K.targetId,Nt.au),Nt.snapshot})(s,C,I,k);const h=await Ab(s.localStore,t,!0),m=new wD(t,h.Qs),v=m.ru(h.documents),y=Gc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),b=m.applyChanges(v,s.isPrimaryClient,y);Pb(s,n,b.au);const A=new ED(t,n,m);return s.Tu.set(t,A),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),b.snapshot}async function ND(s,t,n){const r=Kt(s),l=r.Tu.get(t),h=r.Iu.get(l.targetId);if(h.length>1)return r.Iu.set(l.targetId,h.filter((m=>!id(m,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Qp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Pg(r.remoteStore,l.targetId),Wp(r,l.targetId)})).catch(xu)):(Wp(r,l.targetId),await Qp(r.localStore,l.targetId,!0))}async function ID(s,t){const n=Kt(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pg(n.remoteStore,r.targetId))}async function DD(s,t,n){const r=jD(s);try{const l=await(function(m,v){const y=Kt(m),b=Ce.now(),A=v.reduce(((k,q)=>k.add(q.key)),le());let C,I;return y.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let q=$r(),F=le();return y.Ns.getEntries(k,A).next((K=>{q=K,q.forEach(((J,rt)=>{rt.isValidDocument()||(F=F.add(J))}))})).next((()=>y.localDocuments.getOverlayedDocuments(k,q))).next((K=>{C=K;const J=[];for(const rt of v){const ot=ZN(rt,C.get(rt.key).overlayedDocument);ot!=null&&J.push(new lo(rt.key,ot,Nw(ot.value.mapValue),vi.exists(!0)))}return y.mutationQueue.addMutationBatch(k,b,J,v)})).next((K=>{I=K;const J=K.applyToLocalDocumentSet(C,F);return y.documentOverlayCache.saveOverlays(k,K.batchId,J)}))})).then((()=>({batchId:I.batchId,changes:Uw(C)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(m,v,y){let b=m.Vu[m.currentUser.toKey()];b||(b=new qe(oe)),b=b.insert(v,y),m.Vu[m.currentUser.toKey()]=b})(r,l.batchId,n),await Kc(r,l.changes),await hd(r.remoteStore)}catch(l){const h=Bg(l,"Failed to persist write");n.reject(h)}}async function bE(s,t){const n=Kt(s);try{const r=await qI(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const m=n.Au.get(h);m&&(ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.hu=!0:l.modifiedDocuments.size>0?ye(m.hu,14607):l.removedDocuments.size>0&&(ye(m.hu,42227),m.hu=!1))})),await Kc(n,r,t)}catch(r){await xu(r)}}function Ob(s,t,n){const r=Kt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((h,m)=>{const v=m.view.va(t);v.snapshot&&l.push(v.snapshot)})),(function(m,v){const y=Kt(m);y.onlineState=v;let b=!1;y.queries.forEach(((A,C)=>{for(const I of C.Sa)I.va(v)&&(b=!0)})),b&&qg(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function LD(s,t,n){const r=Kt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),h=l&&l.key;if(h){let m=new qe(Pt.comparator);m=m.insert(h,Hn.newNoDocument(h,Gt.min()));const v=le().add(h),y=new ld(Gt.min(),new Map,new qe(oe),m,v);await bE(r,y),r.du=r.du.remove(h),r.Au.delete(t),Kg(r)}else await Qp(r.localStore,t,!1).then((()=>Wp(r,t,n))).catch(xu)}async function MD(s,t){const n=Kt(s),r=t.batch.batchId;try{const l=await HI(n.localStore,t);wE(n,r,null),xE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kc(n,l)}catch(l){await xu(l)}}async function kD(s,t,n){const r=Kt(s);try{const l=await(function(m,v){const y=Kt(m);return y.persistence.runTransaction("Reject batch","readwrite-primary",(b=>{let A;return y.mutationQueue.lookupMutationBatch(b,v).next((C=>(ye(C!==null,37113),A=C.keys(),y.mutationQueue.removeMutationBatch(b,C)))).next((()=>y.mutationQueue.performConsistencyCheck(b))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(b,A,v))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,A))).next((()=>y.localDocuments.getDocuments(b,A)))}))})(r.localStore,t);wE(r,t,n),xE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Kc(r,l)}catch(l){await xu(l)}}function xE(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function wE(s,t,n){const r=Kt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Wp(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||EE(s,r)}))}function EE(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(Pg(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Kg(s))}function Pb(s,t,n){for(const r of n)r instanceof _E?(s.Ru.addReference(r.key,t),OD(s,r)):r instanceof yE?(Dt(Zg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||EE(s,r.key)):Bt(19791,{wu:r})}function OD(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(Dt(Zg,"New document in limbo: "+n),s.Eu.add(r),Kg(s))}function Kg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new Pt(Le.fromString(t)),r=s.fu.next();s.Au.set(r,new TD(n)),s.du=s.du.insert(n,r),hE(s.remoteStore,new Ka(lr(nd(n.path)),r,"TargetPurposeLimboResolution",$f.ce))}}async function Kc(s,t,n){const r=Kt(s),l=[],h=[],m=[];r.Tu.isEmpty()||(r.Tu.forEach(((v,y)=>{m.push(r.pu(y,t,n).then((b=>{if((b||n)&&r.isPrimaryClient){const A=b?!b.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(b){l.push(b);const A=kg.As(y.targetId,b);h.push(A)}})))})),await Promise.all(m),r.Pu.H_(l),await(async function(y,b){const A=Kt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>pt.forEach(b,(I=>pt.forEach(I.Es,(k=>A.persistence.referenceDelegate.addReference(C,I.targetId,k))).next((()=>pt.forEach(I.ds,(k=>A.persistence.referenceDelegate.removeReference(C,I.targetId,k)))))))))}catch(C){if(!wu(C))throw C;Dt(Og,"Failed to update sequence numbers: "+C)}for(const C of b){const I=C.targetId;if(!C.fromCache){const k=A.Ms.get(I),q=k.snapshotVersion,F=k.withLastLimboFreeSnapshotVersion(q);A.Ms=A.Ms.insert(I,F)}}})(r.localStore,h))}async function PD(s,t){const n=Kt(s);if(!n.currentUser.isEqual(t)){Dt(Zg,"User change. New user:",t.toKey());const r=await oE(n.localStore,t);n.currentUser=t,(function(h,m){h.mu.forEach((v=>{v.forEach((y=>{y.reject(new Rt(ht.CANCELLED,m))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Kc(n,r.Ls)}}function VD(s,t){const n=Kt(s),r=n.Au.get(t);if(r&&r.hu)return le().add(r.key);{let l=le();const h=n.Iu.get(t);if(!h)return l;for(const m of h){const v=n.Tu.get(m);l=l.unionWith(v.view.nu)}return l}}function TE(s){const t=Kt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=bE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LD.bind(null,t),t.Pu.H_=bD.bind(null,t.eventManager),t.Pu.yu=xD.bind(null,t.eventManager),t}function jD(s){const t=Kt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kD.bind(null,t),t}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ud(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return FI(this.persistence,new zI,t.initialUser,this.serializer)}Cu(t){return new aE(Mg.mi,this.serializer)}Du(t){return new YI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class zD extends Bf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ye(this.persistence.referenceDelegate instanceof zf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TI(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new aE((r=>zf.mi(r,n)),this.serializer)}}class Jp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ob(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PD.bind(null,this.syncEngine),await _D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new vD})()}createDatastore(t){const n=ud(t.databaseInfo.databaseId),r=(function(h){return new tD(h)})(t.databaseInfo);return(function(h,m,v,y){return new sD(h,m,v,y)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,h,m,v){return new aD(r,l,h,m,v)})(this.localStore,this.datastore,t.asyncQueue,(n=>Ob(this.syncEngine,n,0)),(function(){return Nb.v()?new Nb:new XI})())}createSyncEngine(t,n){return(function(l,h,m,v,y,b,A){const C=new SD(l,h,m,v,y,b);return A&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Kt(n);Dt(sl,"RemoteStore shutting down."),r.Ea.add(5),await Zc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jp.provider={build:()=>new Jp};class Qg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Jr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ro="FirestoreClient";class UD{constructor(t,n,r,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Fn.UNAUTHENTICATED,this.clientId=Wf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async m=>{Dt(ro,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(r,(m=>(Dt(ro,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Bg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function wp(s,t){s.asyncQueue.verifyOperationInProgress(),Dt(ro,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await oE(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Vb(s,t){s.asyncQueue.verifyOperationInProgress();const n=await BD(s);Dt(ro,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Db(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Db(t.remoteStore,l))),s._onlineComponents=t}async function BD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Dt(ro,"Using user provided OfflineComponentProvider");try{await wp(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ht.FAILED_PRECONDITION||l.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;il("Error using user provided cache. Falling back to memory cache: "+n),await wp(s,new Bf)}}else Dt(ro,"Using default OfflineComponentProvider"),await wp(s,new zD(void 0));return s._offlineComponents}async function SE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Dt(ro,"Using user provided OnlineComponentProvider"),await Vb(s,s._uninitializedComponentsProvider._online)):(Dt(ro,"Using default OnlineComponentProvider"),await Vb(s,new Jp))),s._onlineComponents}function FD(s){return SE(s).then((t=>t.syncEngine))}async function Ff(s){const t=await SE(s),n=t.eventManager;return n.onListen=AD.bind(null,t.syncEngine),n.onUnlisten=ND.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=CD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ID.bind(null,t.syncEngine),n}function HD(s,t,n={}){const r=new Kr;return s.asyncQueue.enqueueAndForget((async()=>(function(h,m,v,y,b){const A=new Qg({next:I=>{A.Nu(),m.enqueueAndForget((()=>Hg(h,C)));const k=I.docs.has(v);!k&&I.fromCache?b.reject(new Rt(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&I.fromCache&&y&&y.source==="server"?b.reject(new Rt(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(I)},error:I=>b.reject(I)}),C=new Gg(nd(v.path),A,{includeMetadataChanges:!0,qa:!0});return Fg(h,C)})(await Ff(s),s.asyncQueue,t,n,r))),r.promise}function qD(s,t,n={}){const r=new Kr;return s.asyncQueue.enqueueAndForget((async()=>(function(h,m,v,y,b){const A=new Qg({next:I=>{A.Nu(),m.enqueueAndForget((()=>Hg(h,C))),I.fromCache&&y.source==="server"?b.reject(new Rt(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(I)},error:I=>b.reject(I)}),C=new Gg(v,A,{includeMetadataChanges:!0,qa:!0});return Fg(h,C)})(await Ff(s),s.asyncQueue,t,n,r))),r.promise}function AE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const jb=new Map;const CE="firestore.googleapis.com",zb=!0;class Ub{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Rt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CE,this.ssl=zb}else this.host=t.host,this.ssl=t.ssl??zb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wI)throw new Rt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Rt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Rt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Rt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fd{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ub({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Rt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ub(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gw;switch(r.type){case"firstParty":return new eN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Rt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=jb.get(n);r&&(Dt("ComponentProvider","Removing Datastore"),jb.delete(n),r.terminate())})(this),Promise.resolve()}}function RE(s,t,n,r={}){s=Jn(s,fd);const l=_u(t),h=s._getSettings(),m={...h,emulatorOptions:s._getEmulatorOptions()},v=`${t}:${n}`;l&&(Tx(`https://${v}`),Sx("Firestore",!0)),h.host!==CE&&h.host!==v&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:v,ssl:l,emulatorOptions:r};if(!$o(y,m)&&(s._setSettings(y),r.mockUserToken)){let b,A;if(typeof r.mockUserToken=="string")b=r.mockUserToken,A=Fn.MOCK_USER;else{b=wA(r.mockUserToken,s._app?.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Rt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fn(C)}s._authCredentials=new JR(new pw(b,A))}}class ea{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ea(this.firestore,t,this._query)}}class He{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Hc(n,He._jsonSchema))return new He(t,r||null,new Pt(Le.fromString(n.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:hn("string",He._jsonSchemaVersion),referencePath:hn("string")};class Qr extends ea{constructor(t,n,r){super(t,n,nd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new Pt(t))}withConverter(t){return new Qr(this.firestore,t,this._path)}}function ao(s,t,...n){if(s=fn(s),_w("collection","path",t),s instanceof fd){const r=Le.fromString(t,...n);return J0(r),new Qr(s,null,r)}{if(!(s instanceof He||s instanceof Qr))throw new Rt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Le.fromString(t,...n));return J0(r),new Qr(s.firestore,null,r)}}function cr(s,t,...n){if(s=fn(s),arguments.length===1&&(t=Wf.newId()),_w("doc","path",t),s instanceof fd){const r=Le.fromString(t,...n);return W0(r),new He(s,null,new Pt(r))}{if(!(s instanceof He||s instanceof Qr))throw new Rt(ht.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Le.fromString(t,...n));return W0(r),new He(s.firestore,s instanceof Qr?s.converter:null,new Pt(r))}}const Bb="AsyncQueue";class Fb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uE(this,"async_queue_retry"),this._c=()=>{const r=xp();r&&Dt(Bb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=xp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wu(t))throw t;Dt(Bb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Jr("INTERNAL UNHANDLED ERROR: ",Hb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Ug.createAndSchedule(this,t,n,r,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Bt(47125,{Pc:Hb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Hb(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function qb(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const h of r)if(h in l&&typeof l[h]=="function")return!0;return!1})(s,["next","error","complete"])}class dr extends fd{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new Fb,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Fb(t),this._firestoreClient=void 0,await t}}}function NE(s,t){const n=typeof s=="object"?s:Nx(),r=typeof s=="string"?s:Mf,l=hg(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const h=bA("firestore");h&&RE(l,...h)}return l}function Su(s){if(s._terminated)throw new Rt(ht.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||GD(s),s._firestoreClient}function GD(s){const t=s._freezeSettings(),n=(function(l,h,m,v){return new _N(l,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,AE(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new UD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}class ji{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ji(Cn.fromBase64String(t))}catch(n){throw new Rt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ji(Cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hc(t,ji._jsonSchema))return ji.fromBase64String(t.bytes)}}ji._jsonSchemaVersion="firestore/bytes/1.0",ji._jsonSchema={type:hn("string",ji._jsonSchemaVersion),bytes:hn("string")};class Au{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Rt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class dd{constructor(t){this._methodName=t}}class Ms{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Rt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Rt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return oe(this._lat,t._lat)||oe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ms._jsonSchemaVersion}}static fromJSON(t){if(Hc(t,Ms._jsonSchema))return new Ms(t.latitude,t.longitude)}}Ms._jsonSchemaVersion="firestore/geoPoint/1.0",Ms._jsonSchema={type:hn("string",Ms._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};class ks{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hc(t,ks._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ks(t.vectorValues);throw new Rt(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ks._jsonSchemaVersion="firestore/vectorValue/1.0",ks._jsonSchema={type:hn("string",ks._jsonSchemaVersion),vectorValues:hn("object")};const ZD=/^__.*__$/;class KD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new lo(t,this.data,this.fieldMask,n,this.fieldTransforms):new qc(t,this.data,n,this.fieldTransforms)}}class IE{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new lo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function DE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{Ac:s})}}class Yg{constructor(t,n,r,l,h,m){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Yg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Hf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(DE(this.Ac)&&ZD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class QD{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||ud(t)}Cc(t,n,r,l=!1){return new Yg({Ac:t,methodName:n,Dc:r,path:An.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function md(s){const t=s._freezeSettings(),n=ud(s._databaseId);return new QD(s._databaseId,!!t.ignoreUndefinedProperties,n)}function LE(s,t,n,r,l,h={}){const m=s.Cc(h.merge||h.mergeFields?2:0,t,n,l);Xg("Data must be an object, but it was:",m,r);const v=OE(r,m);let y,b;if(h.merge)y=new zi(m.fieldMask),b=m.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const I=$p(t,C,n);if(!m.contains(I))throw new Rt(ht.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);VE(A,I)||A.push(I)}y=new zi(A),b=m.fieldTransforms.filter((C=>y.covers(C.field)))}else y=null,b=m.fieldTransforms;return new KD(new yi(v),y,b)}class pd extends dd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pd}}function ME(s,t,n,r){const l=s.Cc(1,t,n);Xg("Data must be an object, but it was:",l,r);const h=[],m=yi.empty();oo(r,((y,b)=>{const A=Wg(t,y,n);b=fn(b);const C=l.yc(A);if(b instanceof pd)h.push(A);else{const I=Qc(b,C);I!=null&&(h.push(A),m.set(A,I))}}));const v=new zi(h);return new IE(m,v,l.fieldTransforms)}function kE(s,t,n,r,l,h){const m=s.Cc(1,t,n),v=[$p(t,r,n)],y=[l];if(h.length%2!=0)throw new Rt(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)v.push($p(t,h[I])),y.push(h[I+1]);const b=[],A=yi.empty();for(let I=v.length-1;I>=0;--I)if(!VE(b,v[I])){const k=v[I];let q=y[I];q=fn(q);const F=m.yc(k);if(q instanceof pd)b.push(k);else{const K=Qc(q,F);K!=null&&(b.push(k),A.set(k,K))}}const C=new zi(b);return new IE(A,C,m.fieldTransforms)}function YD(s,t,n,r=!1){return Qc(n,s.Cc(r?4:3,t))}function Qc(s,t){if(PE(s=fn(s)))return Xg("Unsupported field value:",t,s),OE(s,t);if(s instanceof dd)return(function(r,l){if(!DE(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const h=[];let m=0;for(const v of r){let y=Qc(v,l.wc(m));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),m++}return{arrayValue:{values:h}}})(s,t)}return(function(r,l){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UN(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Ce.fromDate(r);return{timestampValue:jf(l.serializer,h)}}if(r instanceof Ce){const h=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jf(l.serializer,h)}}if(r instanceof Ms)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ji)return{bytesValue:Jw(l.serializer,r._byteString)};if(r instanceof He){const h=l.databaseId,m=r.firestore._databaseId;if(!m.isEqual(h))throw l.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Dg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ks)return(function(m,v){return{mapValue:{fields:{[Cw]:{stringValue:Rw},[kf]:{arrayValue:{values:m.toArray().map((b=>{if(typeof b!="number")throw v.Sc("VectorValues must only contain numeric values.");return Rg(v.serializer,b)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Jf(r)}`)})(s,t)}function OE(s,t){const n={};return xw(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oo(s,((r,l)=>{const h=Qc(l,t.mc(r));h!=null&&(n[r]=h)})),{mapValue:{fields:n}}}function PE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ce||s instanceof Ms||s instanceof ji||s instanceof He||s instanceof dd||s instanceof ks)}function Xg(s,t,n){if(!PE(n)||!vw(n)){const r=Jf(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function $p(s,t,n){if((t=fn(t))instanceof Au)return t._internalPath;if(typeof t=="string")return Wg(s,t);throw Hf("Field path arguments must be of type string or ",s,!1,void 0,n)}const XD=new RegExp("[~\\*/\\[\\]]");function Wg(s,t,n){if(t.search(XD)>=0)throw Hf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Au(...t.split("."))._internalPath}catch{throw Hf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Hf(s,t,n,r,l){const h=r&&!r.isEmpty(),m=l!==void 0;let v=`Function ${t}() called with invalid data`;n&&(v+=" (via `toFirestore()`)"),v+=". ";let y="";return(h||m)&&(y+=" (found",h&&(y+=` in field ${r}`),m&&(y+=` in document ${l}`),y+=")"),new Rt(ht.INVALID_ARGUMENT,v+s+y)}function VE(s,t){return s.some((n=>n.isEqual(t)))}class jE{constructor(t,n,r,l,h){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(gd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WD extends jE{data(){return super.data()}}function gd(s,t){return typeof t=="string"?Wg(s,t):t instanceof Au?t._internalPath:t._delegate._internalPath}function zE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Rt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class $g extends Jg{}function fu(s,t,...n){let r=[];t instanceof Jg&&r.push(t),r=r.concat(n),(function(h){const m=h.filter((y=>y instanceof _d)).length,v=h.filter((y=>y instanceof Yc)).length;if(m>1||m>0&&v>0)throw new Rt(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Yc extends $g{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Yc(t,n,r)}_apply(t){const n=this._parse(t);return BE(t._query,n),new ea(t.firestore,t.converter,Fp(t._query,n))}_parse(t){const n=md(t.firestore);return(function(h,m,v,y,b,A,C){let I;if(b.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new Rt(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Zb(C,A);const q=[];for(const F of C)q.push(Gb(y,h,F));I={arrayValue:{values:q}}}else I=Gb(y,h,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Zb(C,A),I=YD(v,m,C,A==="in"||A==="not-in");return cn.create(b,A,I)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function du(s,t,n){const r=t,l=gd("where",s);return Yc._create(l,r,n)}class _d extends Jg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new _d(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Os.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let m=l;const v=h.getFlattenedFilters();for(const y of v)BE(m,y),m=Fp(m,y)})(t._query,n),new ea(t.firestore,t.converter,Fp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yd extends $g{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new yd(t,n)}_apply(t){const n=(function(l,h,m){if(l.startAt!==null)throw new Rt(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Rt(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lc(h,m)})(t._query,this._field,this._direction);return new ea(t.firestore,t.converter,(function(l,h){const m=l.explicitOrderBy.concat([h]);return new Eu(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function UE(s,t="asc"){const n=t,r=gd("orderBy",s);return yd._create(r,n)}function Gb(s,t,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new Rt(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pw(t)&&n.indexOf("/")!==-1)throw new Rt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Le.fromString(n));if(!Pt.isDocumentKey(r))throw new Rt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ab(s,new Pt(r))}if(n instanceof He)return ab(s,n._key);throw new Rt(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(n)}.`)}function Zb(s,t){if(!Array.isArray(s)||s.length===0)throw new Rt(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function BE(s,t){const n=(function(l,h){for(const m of l)for(const v of m.getFlattenedFilters())if(h.indexOf(v.op)>=0)return v.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Rt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Rt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class FE{convertValue(t,n="none"){switch(io(t)){case 0:return null;case 1:return t.booleanValue;case 2:return en(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(no(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Bt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return oo(t,((l,h)=>{r[l]=this.convertValue(h,n)})),r}convertVectorValue(t){const n=t.fields?.[kf].arrayValue?.values?.map((r=>en(r.doubleValue)));return new ks(n)}convertGeoPoint(t){return new Ms(en(t.latitude),en(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=ed(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ic(t));default:return null}}convertTimestamp(t){const n=eo(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Le.fromString(t);ye(sE(r),9688,{name:t});const l=new ou(r.get(1),r.get(3)),h=new Pt(r.popFirst(5));return l.isEqual(n)||Jr(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}function HE(s,t,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,r}class $l{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ja extends jE{constructor(t,n,r,l,h,m){super(t,n,r,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(gd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ja._jsonSchema={type:hn("string",Ja._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};class Sc extends Ja{data(t={}){return super.data(t)}}class $a{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new $l(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Sc(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((v=>{const y=new Sc(l._firestore,l._userDataWriter,v.doc.key,v.doc,new $l(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>h||v.type!==3)).map((v=>{const y=new Sc(l._firestore,l._userDataWriter,v.doc.key,v.doc,new $l(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let b=-1,A=-1;return v.type!==0&&(b=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),v.type!==1&&(m=m.add(v.doc),A=m.indexOf(v.doc.key)),{type:JD(v.type),doc:y,oldIndex:b,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function JD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:s})}}function Oc(s){s=Jn(s,He);const t=Jn(s.firestore,dr);return HD(Su(t),s._key).then((n=>KE(t,s,n)))}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:hn("string",$a._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};class t_ extends FE{constructor(t){super(),this.firestore=t}convertBytes(t){return new ji(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,n)}}function rl(s){s=Jn(s,ea);const t=Jn(s.firestore,dr),n=Su(t),r=new t_(t);return zE(s._query),qD(n,s._query).then((l=>new $a(t,r,s,l)))}function e_(s,t,n){s=Jn(s,He);const r=Jn(s.firestore,dr),l=HE(s.converter,t,n);return Xc(r,[LE(md(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,vi.none())])}function qE(s,t,n,...r){s=Jn(s,He);const l=Jn(s.firestore,dr),h=md(l);let m;return m=typeof(t=fn(t))=="string"||t instanceof Au?kE(h,"updateDoc",s._key,t,n,r):ME(h,"updateDoc",s._key,t),Xc(l,[m.toMutation(s._key,vi.exists(!0))])}function GE(s){return Xc(Jn(s.firestore,dr),[new od(s._key,vi.none())])}function ZE(s,...t){s=fn(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||qb(t[r])||(n=t[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(qb(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let h,m,v;if(s instanceof He)m=Jn(s.firestore,dr),v=nd(s._key.path),h={next:y=>{t[r]&&t[r](KE(m,s,y))},error:t[r+1],complete:t[r+2]};else{const y=Jn(s,ea);m=Jn(y.firestore,dr),v=y._query;const b=new t_(m);h={next:A=>{t[r]&&t[r](new $a(m,b,y,A))},error:t[r+1],complete:t[r+2]},zE(s._query)}return(function(b,A,C,I){const k=new Qg(I),q=new Gg(A,k,C);return b.asyncQueue.enqueueAndForget((async()=>Fg(await Ff(b),q))),()=>{k.Nu(),b.asyncQueue.enqueueAndForget((async()=>Hg(await Ff(b),q)))}})(Su(m),v,l,h)}function Xc(s,t){return(function(r,l){const h=new Kr;return r.asyncQueue.enqueueAndForget((async()=>DD(await FD(r),l,h))),h.promise})(Su(s),t)}function KE(s,t,n){const r=n.docs.get(t._key),l=new t_(s);return new Ja(s,l,t._key,r,new $l(n.hasPendingWrites,n.fromCache),t.converter)}class QE{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=md(t)}set(t,n,r){this._verifyNotCommitted();const l=Ep(t,this._firestore),h=HE(l.converter,n,r),m=LE(this._dataReader,"WriteBatch.set",l._key,h,l.converter!==null,r);return this._mutations.push(m.toMutation(l._key,vi.none())),this}update(t,n,r,...l){this._verifyNotCommitted();const h=Ep(t,this._firestore);let m;return m=typeof(n=fn(n))=="string"||n instanceof Au?kE(this._dataReader,"WriteBatch.update",h._key,n,r,l):ME(this._dataReader,"WriteBatch.update",h._key,n),this._mutations.push(m.toMutation(h._key,vi.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Ep(t,this._firestore);return this._mutations=this._mutations.concat(new od(n._key,vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ep(s,t){if((s=fn(s)).firestore!==t)throw new Rt(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function YE(s){return Su(s=Jn(s,dr)),new QE(s,(t=>Xc(s,t)))}(function(t,n=!0){(function(l){bu=l})(yu),su(new tl("firestore",((r,{instanceIdentifier:l,options:h})=>{const m=r.getProvider("app").getImmediate(),v=new dr(new $R(r.getProvider("auth-internal")),new nN(m,r.getProvider("app-check-internal")),(function(b,A){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new Rt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(b.options.projectId,A)})(m,l),m);return h={useFetchStreams:n,...h},v._setSettings(h),v}),"PUBLIC").setMultipleInstances(!0)),Xa(K0,Q0,t),Xa(K0,Q0,"esm2020")})();const $D=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:FE,Bytes:ji,CollectionReference:Qr,DocumentReference:He,DocumentSnapshot:Ja,FieldPath:Au,FieldValue:dd,Firestore:dr,FirestoreError:Rt,GeoPoint:Ms,Query:ea,QueryCompositeFilterConstraint:_d,QueryConstraint:$g,QueryDocumentSnapshot:Sc,QueryFieldFilterConstraint:Yc,QueryOrderByConstraint:yd,QuerySnapshot:$a,SnapshotMetadata:$l,Timestamp:Ce,VectorValue:ks,WriteBatch:QE,_AutoId:Wf,_ByteString:Cn,_DatabaseId:ou,_DocumentKey:Pt,_EmptyAuthCredentialsProvider:gw,_FieldPath:An,_cast:Jn,_logWarn:il,_validateIsNotUsedTogether:yw,collection:ao,connectFirestoreEmulator:RE,deleteDoc:GE,doc:cr,ensureFirestoreConfigured:Su,executeWrite:Xc,getDoc:Oc,getDocs:rl,getFirestore:NE,onSnapshot:ZE,orderBy:UE,query:fu,setDoc:e_,updateDoc:qE,where:du,writeBatch:YE},Symbol.toStringTag,{value:"Module"})),tL={apiKey:"AIzaSyDyPzPk6CZBJ0armWcK145KnQg4X2EJ1Gc",authDomain:"la-nba.firebaseapp.com",projectId:"la-nba",storageBucket:"la-nba.firebasestorage.app",messagingSenderId:"222296057914",appId:"1:222296057914:web:3f3702623b48f6506aed03"},XE=Rx(tL),Tp=QR(XE),eL=new Hr,Mn=NE(XE),WE=H.createContext();function na(){return H.useContext(WE)}function nL({children:s}){const[t,n]=H.useState(null),[r,l]=H.useState(!0);function h(){return iR(Tp,eL)}function m(){return VC(Tp)}H.useEffect(()=>PC(Tp,b=>{n(b),l(!1)}),[]);const v={currentUser:t,login:h,logout:m};return w.jsx(WE.Provider,{value:v,children:!r&&s})}const JE=H.createContext();function n_(){return H.useContext(JE)}function iL({children:s}){const{currentUser:t}=na(),[n,r]=H.useState({}),[l,h]=H.useState([]),[m,v]=H.useState(!0);H.useEffect(()=>{async function b(){if(t)try{const A=await rl(ao(Mn,"users")),C=[],I={};A.forEach(k=>{const q={id:k.id,...k.data()};C.push(q),I[k.id]=q}),r(I),h(C)}catch(A){console.error("Error fetching users:",A)}finally{v(!1)}}b()},[t]);const y={users:n,usersList:l,loading:m};return w.jsx(JE.Provider,{value:y,children:s})}const sL=JSON.parse(`[{"id":1,"date":"2026-02-18","weekday":"Wednesday","title":"","location":"San Gabriel","weather":"Sunny 72F","events":[{"time":"16:50","title":"Arrive ONT Airport","description":"","location":"Ontario International Airport","mapLink":"https://www.google.com/maps/@34.0559976,-117.6006671,17z?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"flight_land"},{"time":"18:00","title":"Pick up Rental Car","description":" Rental Car Center ","location":"Rental Car Center","mapLink":"","icon":"directions_car"},{"time":"19:00","title":"Check-in Airbnb","description":"8753 East Arcadia Avenue, San Gabriel, CA 91775","location":"8753 East Arcadia Avenue, San Gabriel","mapLink":"https://www.google.com/maps/place/8753+E+Arcadia+Ave,+San+Gabriel,+CA+91775%E7%BE%8E%E5%9C%8B/@34.1254364,-118.0776999,17z/data=!3m1!4b1!4m5!3m4!1s0x80c2db121b2a8ea5:0xe1b50a082194721d!8m2!3d34.1254364!4d-118.0776999?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"home"},{"time":"20:00","title":"Dinner: Golden Deli / 101 Noodle Express","description":"(Golden Deli)  (101 Noodle Express)","location":"San Gabriel","mapLink":"","icon":"restaurant"}]},{"id":2,"date":"2026-02-19","weekday":"Thursday","title":"Pasadena  & ","location":"Pasadena","weather":"Sunny 75F","events":[{"time":"10:00","title":"Breakfast: Russell's","description":"Pasadena  Russell's","location":"Pasadena","mapLink":"https://www.google.com/maps/place/Russell's/@34.1465303,-118.1503345,17z/data=!4m6!3m5!1s0x80c2c37175240819:0xa7723f1c9d7a79f3!8m2!3d34.1465303!4d-118.1503345!16s%2Fg%2F1tfwdr_b?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"coffee"},{"time":"11:00","title":"The Huntington Library","description":" & ","location":"The Huntington","mapLink":"https://www.google.com/maps/place/%E6%BC%A2%E5%BA%AD%E9%A0%93%E5%9C%96%E6%9B%B8%E9%A4%A8/@34.1290452,-118.1145242,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2db4d02615c73:0xb328d70c295f1904!8m2!3d34.1290452!4d-118.1145242!16zL20vMDFtcjBr?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"local_library"},{"time":"14:00","title":"Old Pasadena Shopping","description":" Colorado Blvd ","location":"Colorado Blvd","mapLink":"","icon":"shopping_bag"},{"time":"16:00","title":"Trader Joe's","description":"(South Pasadena) /","location":"South Pasadena","mapLink":"https://www.google.com/maps/search/Trader+Joe's+South+Pasadena/@34.1141032,-118.157228,16z/data=!3m1!4b1?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"shopping_cart"},{"time":"17:30","title":"Super King Market","description":"(Altadena) ","location":"Altadena","mapLink":"https://www.google.com/maps/place/Super+King+Market/@34.1846991,-118.1595127,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c25899a57b05:0xa20b9c5d1873f201!8m2!3d34.1846991!4d-118.1595127!16s%2Fg%2F1tp8_9j0?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"store"},{"time":"19:00","title":"Dinner: Sam Woo BBQ / Boiling Point","description":" San Gabriel ","location":"San Gabriel","mapLink":"","icon":"restaurant"}]},{"id":3,"date":"2026-02-20","weekday":"Friday","title":" GAME DAY - DTLA & Hollywood","location":"DTLA / Hollywood","weather":"Sunny 74F","events":[{"time":"09:30","title":"Breakfast: Eggslut","description":"Grand Central Market  (Eggslut)","location":"Grand Central Market","mapLink":"https://www.google.com/maps/place/Grand+Central+Market/@34.050872,-118.2490552,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c64b8e4372e7:0x489d4efdeb06d3d8!8m2!3d34.050872!4d-118.2490552!16zL20vMDdmN3M5?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"egg_alt"},{"time":"11:30","title":"Beverly Hills & Rodeo Drive","description":" Rodeo Drive ","location":"Beverly Hills","mapLink":"","icon":"diamond"},{"time":"12:30","title":"Lunch: Pink's Hot Dogs","description":" (Pink's Hot Dogs)","location":"Pink's Hot Dogs","mapLink":"https://www.google.com/maps/place/Pink's+Hot+Dogs/@35.8047311,-175.7075714,4z/data=!4m6!3m5!1s0x80c2bf2accdf0857:0x28baab47a2ca58e0!8m2!3d34.0838505!4d-118.3442797!16zL20vMGN4Njcy?entry=ttu&g_ep=EgoyMDI2MDExNS4wIKXMDSoASAFQAw%3D%3D","icon":"fastfood"},{"time":"13:30","title":"The Grove / Farmers Market","description":" The Grove ","location":"The Grove","mapLink":"","icon":"lunch_dining"},{"time":"15:00","title":"Hollywood Walk of Fame","description":"","location":"Hollywood Blvd","mapLink":"","icon":"star"},{"time":"16:30","title":"Head to Arena (Parking)","description":" Crypto.com Arena","location":"Crypto.com Arena","mapLink":"https://www.google.com/maps/place/%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3%E7%B6%B2%E9%AB%94%E8%82%B2%E9%A4%A8/@34.0430175,-118.2672541,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2c7b85dea2a93:0x1ff47c3ceb7bb2d5!8m2!3d34.0430175!4d-118.2672541!16zL20vMDJrazVz?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"directions_car"},{"time":"19:00","title":"Lakers vs Clippers","description":" (GAME START)","location":"Crypto.com Arena","mapLink":"","icon":"sports_basketball"},{"time":"22:00","title":"Return to San Gabriel","description":" San Gabriel ","location":"San Gabriel","mapLink":"https://www.google.com/maps/place/8753+E+Arcadia+Ave,+San+Gabriel,+CA+91775%E7%BE%8E%E5%9C%8B/@34.1254364,-118.0776999,17z/data=!3m1!4b1!4m5!3m4!1s0x80c2db121b2a8ea5:0xe1b50a082194721d!8m2!3d34.1254364!4d-118.0776999?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"home"}]},{"id":4,"date":"2026-02-21","weekday":"Saturday","title":"","location":"Universal City","weather":"Sunny 70F","events":[{"time":"09:00","title":"Universal Studios","description":"","location":"Universal City","mapLink":"https://www.google.com/maps/place/%E5%A5%BD%E8%90%8A%E5%A1%A2%E7%92%B0%E7%90%83%E5%BD%B1%E5%9F%8E/@34.1370756,-118.358177,17z/data=!3m1!4b1!4m6!3m5!1s0x80c2be4f253238cf:0xd3dd5027799c9a71!8m2!3d34.1370713!4d-118.3533061!16zL20vMDVxc3k4?entry=tts&g_ep=EgoyMDI2MDExMy4wIPu8ASoASAFQAw%3D%3D&skid=1b3f85f7-56a0-4a7c-b9a0-d5ed0e3c5d20","icon":"movie"}]},{"id":5,"date":"2026-02-22","weekday":"Sunday","title":" Las Vegas","location":"Las Vegas","weather":"Sunny 65F","events":[{"time":"10:00","title":"Checkout Airbnb","description":"","location":"San Gabriel","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Brunch: Yi Mei Deli","description":" San Gabriel  (: )","location":"San Gabriel","mapLink":"","icon":"breakfast_dining"},{"time":"12:30","title":"Drive to Las Vegas","description":" Las Vegas 4 ","location":"I-15 North","mapLink":"","icon":"directions_car"},{"time":"14:30","title":"Stop: Barstow Outlets","description":" Outlets at Barstow /","location":"Barstow","mapLink":"https://www.google.com/maps/search/?api=1&query=Outlets+at+Barstow","icon":"shopping_bag"},{"time":"17:30","title":"Check-in: Treasure Island / Luxor","description":" Las Vegas","location":"Las Vegas Strip","mapLink":"","icon":"hotel"},{"time":"19:00","title":"The Strip Walk & Dinner","description":" Bellagio Venetian Sphere ","location":"Las Vegas Blvd","mapLink":"","icon":"nightlife"}]},{"id":6,"date":"2026-02-23","weekday":"Monday","title":"  (KKday Tour)","location":"Grand Canyon / Las Vegas","weather":"Sunny 50F","events":[{"time":"06:00","title":"Tour Pickup","description":" KKday Grand Canyon South Rim ","location":"Hotel Lobby","mapLink":"","icon":"directions_bus"},{"time":"13:00","title":"Grand Canyon South Rim","description":" (Mather Point, Yavapai Point)","location":"Grand Canyon National Park","mapLink":"","icon":"landscape"},{"time":"20:30","title":"Return to Las Vegas","description":" Las Vegas ","location":"Las Vegas","mapLink":"","icon":"home"},{"time":"21:00","title":"Dinner: In-N-Out / Buffet","description":" In-N-Out  Buffet","location":"Las Vegas","mapLink":"","icon":"fastfood"}]},{"id":7,"date":"2026-02-24","weekday":"Tuesday","title":" & ","location":"Ontario","weather":"Sunny 72F","events":[{"time":"10:30","title":"Checkout Hotel","description":"","location":"Las Vegas","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Seven Magic Mountains","description":" (Seven Magic Mountains) ","location":"S Las Vegas Blvd","mapLink":"https://www.google.com/maps/place/Seven+Magic+Mountains/@35.8392389,-115.270961,17z/data=!3m1!4b1!4m6!3m5!1s0x80cf35779dba7553:0x91f1fabf13d53cdd!8m2!3d35.8392389!4d-115.270961!16s%2Fg%2F11cn5s05x0?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"photo_camera"},{"time":"13:00","title":"Drive to Ontario","description":" Ontario 3.5 - 4 ","location":"I-15 South","mapLink":"","icon":"directions_car"},{"time":"16:00","title":"Ontario Mills Outlets","description":" Outlet ","location":"Ontario","mapLink":"https://www.google.com/maps/place/Ontario+Mills/@34.0729887,-117.5545679,17z/data=!3m1!4b1!4m6!3m5!1s0x80c33582234a6999:0x2c606dc846c3f534!8m2!3d34.0729843!4d-117.551993!16zL20vMDJoeXgw?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"shopping_bag"},{"time":"19:00","title":"Check-in: Hotel d'Lins","description":" Hotel d'Lins Ontario Airport","location":"3400 Shelby St, Ontario, CA 91764","mapLink":"","icon":"hotel"}]},{"id":8,"date":"2026-02-25","weekday":"Wednesday","title":"","location":"ONT Airport","weather":"Sunny 72F","events":[{"time":"10:00","title":"Checkout","description":" Hotel d'Lins ","location":"Hotel d'Lins","mapLink":"","icon":"luggage"},{"time":"11:00","title":"Rancho Santa Ana Botanic Garden","description":" Claremont ","location":"Claremont","mapLink":"https://www.google.com/maps/place/California+Botanic+Garden/@34.1107605,-117.713958,17z/data=!3m1!4b1!4m6!3m5!1s0x80c331ca6d3842ff:0x8a008e9e0e1050cc!8m2!3d34.1107605!4d-117.713958!16zL20vMDV0Ym43?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoASAFQAw%3D%3D","icon":"park"},{"time":"15:00","title":"Early Dinner / Last Shopping","description":"","location":"Ontario","mapLink":"","icon":"restaurant"},{"time":"19:30","title":"Return Rental Car","description":" ONT Rental Car Center ","location":"ONT Rental Car Center","mapLink":"","icon":"no_crash"},{"time":"20:30","title":"Airport Check-in","description":"","location":"ONT Airport","mapLink":"","icon":"flight_takeoff"},{"time":"22:50","title":"Flight CI23 Departure","description":" CI23 ","location":"ONT Airport","mapLink":"","icon":"airplanemode_active"}]}]`),$E=H.createContext();function vd(){return H.useContext($E)}function rL({children:s}){const{currentUser:t}=na(),[n,r]=H.useState([]),[l,h]=H.useState(!0);H.useEffect(()=>{const k=localStorage.getItem("cached_schedule");k?(r(JSON.parse(k)),h(!1)):(r(sL),h(!1))},[]),H.useEffect(()=>{if(!t)return;async function k(){try{const q=await rl(ao(Mn,"itinerary"));if(!q.empty){const F=q.docs.map(K=>({id:parseInt(K.id),...K.data()}));F.sort((K,J)=>K.id-J.id),r(F),localStorage.setItem("cached_schedule",JSON.stringify(F))}}catch(q){console.error("Error fetching schedule:",q)}}k()},[t]);const m=k=>n.find(q=>q.id===parseInt(k)),v=async k=>{const q=n.map(F=>F.id===k.id?k:F);if(r(q),localStorage.setItem("cached_schedule",JSON.stringify(q)),t)try{await e_(cr(Mn,"itinerary",k.id.toString()),k)}catch(F){console.error("Error updating day in Firestore:",F)}},I={schedule:n,getDay:m,addEvent:(k,q)=>{const F=m(k);if(!F)return;const K=[...F.events,q];K.sort((rt,ot)=>rt.time.localeCompare(ot.time));const J={...F,events:K};v(J)},updateEvent:(k,q,F)=>{const K=m(k);if(!K)return;const J=[...K.events];J[q]=F,J.sort((ot,xt)=>ot.time.localeCompare(xt.time));const rt={...K,events:J};v(rt)},deleteEvent:(k,q)=>{const F=m(k);if(!F)return;const K=F.events.filter((rt,ot)=>ot!==q),J={...F,events:K};v(J)},syncToFirestore:async()=>{if(!t){alert("You must be logged in to sync.");return}try{const k=YE(Mn);n.forEach(q=>{const F=cr(Mn,"itinerary",q.id.toString());k.set(F,q)}),await k.commit(),alert("Successfully synced schedule to cloud!")}catch(k){console.error("Error syncing to Firestore:",k),alert("Failed to sync. Check console.")}},loading:l};return w.jsx($E.Provider,{value:I,children:s})}function Fr({children:s}){const{currentUser:t}=na();return t?s:w.jsx(NS,{to:"/"})}function aL(){const{login:s,currentUser:t}=na(),n=cs();H.useEffect(()=>{t&&n("/overview")},[t,n]);const r=async()=>{try{const h=(await s()).user;await e_(cr(Mn,"users",h.uid),{uid:h.uid,displayName:h.displayName,email:h.email,photoURL:h.photoURL,lastLogin:new Date},{merge:!0}),n("/overview")}catch(l){console.error("Failed to log in",l)}};return w.jsxs("div",{className:"relative h-[100dvh] w-full flex flex-col bg-background-dark max-w-[430px] mx-auto overflow-hidden text-white antialiased",children:[w.jsx("div",{className:"absolute inset-0 z-0",children:w.jsx("div",{className:"w-full h-full bg-center bg-cover opacity-60",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuCyFS12cE_tdsJCcYWBRFI5_dm4dNftwFwFHYBIONKZS--oHxvHki6fjPcsSzItxp2gr4YdIXhoDMEaUcsmgn373vc9cOULt-X_WDUabdSxzEvu-hC_koF5HudSf_pDLhLH-gWulGmvAVBYrUkDsrJF6_P1OOrhkvFjQRfWVm3rTqC3DatZIQZjAwbA6o7p4DTEs8F4UPEbruOBnGn6dYXWvgvN7reYe2J4AgIoDAaLmr91Eq9tdNk5BZ-D8MT_7Ite6qHXL3RUYOQ")'},children:w.jsx("div",{className:"absolute inset-0 bg-overlay"})})}),w.jsxs("div",{className:"relative z-10 flex flex-col h-full px-6 pt-16 pb-8",children:[" ",w.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center",children:[w.jsx("div",{className:"mb-8 inline-flex p-4 rounded-3xl bg-lakers-gold/10 border border-lakers-gold/30 backdrop-blur-md",children:w.jsx("span",{className:"material-symbols-outlined text-lakers-gold text-5xl",children:"sports_basketball"})}),w.jsxs("h1",{className:"font-display font-bold text-6xl tracking-tight mb-4 text-glow",children:["",w.jsx("br",{}),"LA",w.jsx("span",{className:"text-lakers-gold italic",children:" BRON JAMES"})]})]}),w.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-10",children:[w.jsx("div",{className:"glass-panel rounded-2xl p-6 shadow-2xl",children:w.jsx("div",{className:"space-y-6",children:w.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-4 bg-lakers-gold text-lakers-purple font-bold h-14 rounded-xl active:scale-[0.98] transition-all shadow-[0_0_20px_rgba(253,185,39,0.3)]",children:[w.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[w.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"currentColor",fillOpacity:"0.8"}),w.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"currentColor",fillOpacity:"0.8"}),w.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"currentColor",fillOpacity:"0.8"}),w.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 12-4.53z",fill:"currentColor",fillOpacity:"0.8"})]}),w.jsx("span",{className:"text-base",children:"Continue with Google"})]})})}),w.jsx("div",{className:"pt-4 flex justify-center opacity-20",children:w.jsx("div",{className:"h-1.5 w-32 bg-lakers-gold rounded-full"})})]})]})]})}function uo(){const s=cs(),t=mr(),n=l=>t.pathname.startsWith(l),r=[{id:"dashboard",label:"Dashboard",icon:"space_dashboard",path:"/overview"},{id:"add-expense",label:"Add Expense",icon:"payments",path:"/add-expense"}];return w.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-[#121212] border-t border-white/10 px-10 pb-8 pt-3 flex justify-around items-center z-50 max-w-[430px] mx-auto",children:r.map(l=>w.jsxs("button",{onClick:()=>s(l.path),className:`flex flex-col items-center justify-center w-20 transition-all duration-200 active:scale-90 ${n(l.path)?"text-[#FDB927]":"text-white/30 hover:text-white/60"}`,children:[w.jsx("div",{className:`mb-1 ${n(l.path)?"drop-shadow-[0_0_8px_rgba(253,185,39,0.4)]":""}`,children:w.jsx("span",{className:"material-symbols-outlined text-2xl fill-icon",children:l.icon})}),w.jsx("span",{className:"text-[10px] font-black uppercase italic tracking-widest text-center leading-none",children:l.label}),n(l.path)&&w.jsx("div",{className:"absolute -bottom-1 w-1 h-1 bg-[#FDB927] rounded-full shadow-[0_0_5px_#FDB927]"})]},l.id))})}function tT(s){return s==null?0:Math.round((s-32)*5/9)}function oL(){const s=cs(),{currentUser:t,logout:n}=na(),{schedule:r}=vd(),[l,h]=H.useState(0),[m,v]=H.useState(null),[y,b]=H.useState("Loading..."),A=async()=>{if(window.confirm("Are you sure you want to log out?"))try{await n(),s("/")}catch(C){console.error("Failed to log out",C)}};return H.useEffect(()=>{async function C(){if(t)try{const I=fu(ao(Mn,"expenses"),du("paidBy","==",t.uid)),k=await rl(I),q=fu(ao(Mn,"expenses"),du("splitWith","array-contains",t.uid)),F=await rl(q);let K=0;const J=ot=>{const xt=ot.data(),Ct=parseFloat(xt.amount)||0,Nt=xt.currency||"USD",M=(xt.splitWith||[]).length+1,O=Ct/M;Nt==="TWD"?K+=O/32:K+=O},rt=new Set;k.forEach(ot=>{rt.has(ot.id)||(J(ot),rt.add(ot.id))}),F.forEach(ot=>{rt.has(ot.id)||(J(ot),rt.add(ot.id))}),h(K)}catch(I){console.error("Error fetching expenses:",I)}}C(),C()},[t]),H.useEffect(()=>{async function C(){try{const k=await(await fetch("https://api.open-meteo.com/v1/forecast?latitude=34.0522&longitude=-118.2437&current_weather=true&temperature_unit=fahrenheit&daily=sunset&timezone=America%2FLos_Angeles")).json();if(v(k.current_weather),k.daily&&k.daily.sunset&&k.daily.sunset.length>0){const q=new Date(k.daily.sunset[0]),J=new Date(q.getTime()-3600*1e3)-new Date,rt=Math.floor(J/6e4);if(rt>0){const ot=Math.floor(rt/60),xt=rt%60;b(`Starts in ${ot}h ${xt}m`)}else rt>-60?b("Happening Now!"):b("Ended for today")}}catch(I){console.error("Failed to fetch weather",I),b("Unavailable")}}C()},[]),w.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-28 font-display shadow-2xl",children:[w.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-lakers-purple ios-blur p-4 border-b border-primary/20",children:[w.jsx("div",{className:"flex size-10 items-center justify-center cursor-pointer active:opacity-50 transition-opacity",children:w.jsx("span",{className:"material-symbols-outlined text-primary",children:"chevron_left"})}),w.jsx("h1",{className:"text-primary text-base font-extrabold flex-1 text-center tracking-tight uppercase",children:"LA Trip Overview"}),w.jsx("div",{onClick:A,className:"flex size-10 items-center justify-center cursor-pointer hover:opacity-80 transition-opacity",title:"Click to Logout",children:t?.photoURL?w.jsx("img",{src:t.photoURL,alt:"User",className:"size-8 rounded-full border-2 border-primary shadow-lg"}):w.jsx("button",{className:"size-8 rounded-full bg-primary text-lakers-purple flex items-center justify-center border-2 border-primary shadow-lg",children:w.jsx("span",{className:"material-symbols-outlined text-[20px] fill-icon",children:"person"})})})]}),w.jsxs("main",{className:"flex-1 px-5 pt-6 space-y-6",children:[w.jsx("section",{children:w.jsxs("div",{className:"relative rounded-2xl bg-card-dark border-4 border-primary overflow-hidden shadow-2xl",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 z-20",children:w.jsxs("div",{className:"flex items-center gap-1 bg-lakers-purple/90 px-2 py-1 rounded-full border border-primary/30",children:[w.jsx("span",{className:"material-symbols-outlined text-primary text-[14px]",children:"sync_alt"}),w.jsx("span",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:"USD / TWD"})]})}),w.jsx("div",{className:"relative w-full h-32 bg-center bg-cover",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBbIfNtpxEJBkZ8nYoWabGRJZepciIRWK4jMVZPfjItvYa9li7pRYX8TrXIArgl87Yh5Djf_pEfmr2eoPqW639TGnFeWm1r_ysOIOaQQqGTVrJJjwadrfrB5b95zhiANEEoHRW2FyWshCDf1NoPpUapy6OL41TA8a18js9_Fr-xuM8NOXE1PF8U-6O7Jmwvl0b8Qnj9tgGZxzjVmHu1Bc4Iu4KbnV02UfiX1yKMc3IxFtk8NDEOTFYIUZ86hblVP0Twpk_vhw7yA00")'},children:w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card-dark via-card-dark/20 to-transparent"})}),w.jsxs("div",{className:"px-5 pb-5 -mt-6 relative z-10 flex flex-col",children:[w.jsx("span",{className:"text-lakers-purple text-[11px] font-black tracking-[0.15em] uppercase mb-1 bg-primary/90 self-start px-2 py-0.5 rounded",children:"Total My Expenses"}),w.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[w.jsxs("div",{className:"flex items-baseline gap-2",children:[w.jsxs("p",{className:"text-lakers-purple text-4xl font-black tracking-tighter",children:["$",l.toFixed(2)]}),w.jsx("span",{className:"text-lakers-purple/60 text-sm font-bold",children:"USD"})]}),w.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[w.jsx("span",{className:"material-symbols-outlined text-[16px] text-lakers-purple/50",children:"payments"}),w.jsxs("p",{className:"text-lakers-purple/80 text-xl font-bold leading-none",children:[" NT$ ",(l*32).toLocaleString()]}),w.jsx("span",{className:"text-lakers-purple/40 text-[10px] font-bold uppercase tracking-tighter",children:"TWD"})]})]}),w.jsx("button",{onClick:()=>s("/expenses"),className:"mt-5 w-full bg-primary text-lakers-purple py-4 rounded-xl font-black text-xs uppercase tracking-widest active:scale-[0.98] transition-transform shadow-lg border-b-4 border-yellow-600",children:"View Expense Details"})]})]})}),w.jsx("section",{className:"grid grid-cols-1 gap-4",children:w.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-br from-lakers-purple to-[#3b1a5a] p-5 rounded-2xl border border-primary/20 shadow-xl",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"size-14 bg-primary rounded-2xl flex items-center justify-center shadow-inner",children:w.jsx("span",{className:"material-symbols-outlined text-lakers-purple text-4xl fill-icon",children:"partly_cloudy_day"})}),w.jsxs("div",{children:[w.jsxs("p",{className:"text-white text-xl font-black",children:[m?w.jsxs(w.Fragment,{children:[Math.round(m.temperature),"F ",w.jsxs("span",{className:"text-base font-normal opacity-60",children:["/ ",tT(m.temperature),"C"]})]}):"--",w.jsx("span",{className:"text-primary font-medium ml-1",children:m?"Current":"Loading..."})]}),w.jsxs("p",{className:"text-primary/70 text-[11px] font-bold flex items-center gap-1 uppercase tracking-wider",children:[w.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"location_on"})," Los Angeles, CA"]})]})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-primary text-[10px] font-black uppercase tracking-wider mb-1",children:"Golden Hour"}),w.jsx("p",{className:"text-white/90 text-xs font-bold",children:y})]})]})}),w.jsxs("div",{className:"flex items-center justify-between border-b-2 border-lakers-purple/30 pb-3",children:[w.jsx("h2",{className:"text-white text-xl font-black tracking-tight uppercase",children:"8-Day Itinerary"}),w.jsxs("div",{className:"flex items-center gap-1 bg-lakers-purple px-3 py-1.5 rounded-full border border-primary/30",children:[w.jsx("span",{className:"material-symbols-outlined text-[16px] text-primary fill-icon",children:"calendar_month"}),w.jsx("span",{className:"text-primary text-[10px] font-black uppercase tracking-wider",children:"2/18 - 2/25"})]})]}),w.jsxs("section",{className:"space-y-4 pb-8",children:[r.map((C,I)=>w.jsxs("div",{onClick:()=>s(`/day/${C.id}`),className:`flex items-center gap-4 border p-4 rounded-2xl active:bg-white/5 transition-colors cursor-pointer shadow-md ${C.id===1?"bg-lakers-purple/10 border-l-4 border-primary":"bg-card-dark border-white/5"}`,children:[w.jsxs("div",{className:`flex flex-col items-center justify-center size-14 rounded-xl shadow-md ${C.id===1?"bg-primary text-lakers-purple":"bg-white/5 text-gray-400"}`,children:[w.jsx("span",{className:"text-[10px] font-black uppercase leading-none mb-0.5",children:"2"}),w.jsx("span",{className:`font-black leading-none ${C.id===1?"text-2xl":"text-xl"}`,children:parseInt(C.date.split("-")[2])})]}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[w.jsxs("span",{className:`${C.id===1?"text-primary":"text-gray-500"} text-[10px] font-black uppercase tracking-widest`,children:["Day 0",C.id]}),C.id===1&&w.jsx("span",{className:"size-1.5 bg-primary rounded-full"}),C.id===1&&w.jsx("span",{className:"text-primary text-[10px] font-bold uppercase",children:C.location})]}),w.jsx("p",{className:"text-white text-base font-extrabold leading-snug",children:C.title})]}),w.jsx("span",{className:`material-symbols-outlined ${C.id===1?"text-primary font-bold":"text-gray-700"}`,children:"arrow_forward_ios"})]},C.id)),w.jsxs("button",{className:"w-full py-6 text-primary text-[11px] font-black uppercase tracking-[0.3em] flex items-center justify-center gap-2 bg-lakers-purple/5 rounded-2xl border border-primary/10 mt-2",children:["Expand All 8 Days",w.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"keyboard_double_arrow_down"})]})]})]}),w.jsx(uo,{})]})}function lL(){const s=cs(),{schedule:t}=vd();return w.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-dark min-h-screen pb-24 font-display",children:[w.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-lakers-purple ios-blur p-4 border-b border-primary/20",children:[w.jsx("div",{onClick:()=>s(-1),className:"flex size-10 items-center justify-center cursor-pointer active:opacity-50 transition-opacity",children:w.jsx("span",{className:"material-symbols-outlined text-primary",children:"arrow_back"})}),w.jsx("h1",{className:"text-primary text-base font-black flex-1 text-center tracking-tight uppercase",children:"Full Itinerary"}),w.jsx("div",{className:"size-10"})]}),w.jsx("main",{className:"flex-1 px-5 pt-6 space-y-6",children:t.map(n=>w.jsxs("div",{onClick:()=>s(`/day/${n.id}`),className:"group flex items-start gap-4 p-4 rounded-2xl border border-primary/20 bg-card-dark active:bg-white/5 cursor-pointer shadow-sm",children:[w.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[3rem]",children:[w.jsx("span",{className:"text-primary/60 text-[10px] font-bold uppercase",children:n.weekday.substring(0,3)}),w.jsx("span",{className:"text-2xl font-black text-white",children:parseInt(n.date.split("-")[2])})]}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("p",{className:"text-primary text-xs font-black uppercase tracking-wider mb-1",children:["Day ",n.id,"  ",n.location]}),w.jsx("h3",{className:"text-white text-lg font-bold leading-tight mb-2",children:n.title}),w.jsx("div",{className:"flex flex-wrap gap-2",children:n.events.slice(0,3).map((r,l)=>w.jsx("span",{className:"text-white/60 text-xs bg-lakers-purple/20 px-2 py-1 rounded-md border border-primary/10",children:r.title},l))})]}),w.jsx("span",{className:"material-symbols-outlined text-primary/40 group-active:text-primary self-center",children:"chevron_right"})]},n.id))}),w.jsx(uo,{})]})}var uL={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:dL,fromCents:!1},eT=function(t){return Math.round(t)},i_=function(t){return Math.pow(10,t)},cL=function(t,n){return eT(t/n)*n},hL=/(\d)(?=(\d{3})+\b)/g,fL=/(\d)(?=(\d\d)+\d\b)/g;function Sn(s,t){var n=this;if(!(n instanceof Sn))return new Sn(s,t);var r=Object.assign({},uL,t),l=i_(r.precision),h=wf(s,r);n.intValue=h,n.value=h/l,r.increment=r.increment||1/l,r.useVedic?r.groups=fL:r.groups=hL,this.s=r,this.p=l}function wf(s,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=0,l=t.decimal,h=t.errorOnInvalid,m=t.precision,v=t.fromCents,y=i_(m),b=typeof s=="number",A=s instanceof Sn;if(A&&v)return s.intValue;if(b||A)r=A?s.value:s;else if(typeof s=="string"){var C=new RegExp("[^-\\d"+l+"]","g"),I=new RegExp("\\"+l,"g");r=s.replace(/\((.*)\)/,"-$1").replace(C,"").replace(I,"."),r=r||0}else{if(h)throw Error("Invalid Input");r=0}return v||(r*=y,r=r.toFixed(4)),n?eT(r):r}function dL(s,t){var n=t.pattern,r=t.negativePattern,l=t.symbol,h=t.separator,m=t.decimal,v=t.groups,y=(""+s).replace(/^-/,"").split("."),b=y[0],A=y[1];return(s.value>=0?n:r).replace("!",l).replace("#",b.replace(v,"$1"+h)+(A?m+A:""))}Sn.prototype={add:function(t){var n=this.intValue,r=this.s,l=this.p;return Sn((n+=wf(t,r))/(r.fromCents?1:l),r)},subtract:function(t){var n=this.intValue,r=this.s,l=this.p;return Sn((n-=wf(t,r))/(r.fromCents?1:l),r)},multiply:function(t){var n=this.intValue,r=this.s;return Sn((n*=t)/(r.fromCents?1:i_(r.precision)),r)},divide:function(t){var n=this.intValue,r=this.s;return Sn(n/=wf(t,r,!1),r)},distribute:function(t){for(var n=this.intValue,r=this.p,l=this.s,h=[],m=Math[n>=0?"floor":"ceil"](n/t),v=Math.abs(n-m*t),y=l.fromCents?1:r;t!==0;t--){var b=Sn(m/y,l);v-- >0&&(b=b[n>=0?"add":"subtract"](1/y)),h.push(b)}return h},dollars:function(){return~~this.value},cents:function(){var t=this.intValue,n=this.p;return~~(t%n)},format:function(t){var n=this.s;return typeof t=="function"?t(this,n):n.format(this,Object.assign({},n,t))},toString:function(){var t=this.intValue,n=this.p,r=this.s;return cL(t/n,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};function nT(s,t){const n=H.useRef(t);H.useEffect(function(){t!==n.current&&s.attributionControl!=null&&(n.current!=null&&s.attributionControl.removeAttribution(n.current),t!=null&&s.attributionControl.addAttribution(t)),n.current=t},[s,t])}const mL=1;function pL(s){return Object.freeze({__version:mL,map:s})}function gL(s,t){return Object.freeze({...s,...t})}const s_=H.createContext(null);function iT(){const s=H.use(s_);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function _L(s){function t(n,r){const{instance:l,context:h}=s(n).current;H.useImperativeHandle(r,()=>l);const{children:m}=n;return m==null?null:Sp.createElement(s_,{value:h},m)}return H.forwardRef(t)}function yL(s){function t(n,r){const[l,h]=H.useState(!1),{instance:m}=s(n,h).current;H.useImperativeHandle(r,()=>m),H.useEffect(function(){l&&m.update()},[m,l,n.children]);const v=m._contentNode;return v?hA.createPortal(n.children,v):null}return H.forwardRef(t)}function vL(s){function t(n,r){const{instance:l}=s(n).current;return H.useImperativeHandle(r,()=>l),null}return H.forwardRef(t)}function sT(s,t){const n=H.useRef(void 0);H.useEffect(function(){return t!=null&&s.instance.on(t),n.current=t,function(){n.current!=null&&s.instance.off(n.current),n.current=null}},[s,t])}function r_(s,t){const n=s.pane??t.pane;return n?{...s,pane:n}:s}function bL(s,t){return function(r,l){const h=iT(),m=s(r_(r,h),h);return nT(h.map,r.attribution),sT(m.current,r.eventHandlers),t(m.current,h,r,l),m}}var yc={exports:{}};var xL=yc.exports,Kb;function wL(){return Kb||(Kb=1,(function(s,t){(function(n,r){r(t)})(xL,(function(n){var r="1.9.4";function l(a){var u,d,_,E;for(d=1,_=arguments.length;d<_;d++){E=arguments[d];for(u in E)a[u]=E[u]}return a}var h=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function m(a,u){var d=Array.prototype.slice;if(a.bind)return a.bind.apply(a,d.call(arguments,1));var _=d.call(arguments,2);return function(){return a.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var v=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++v),a._leaflet_id}function b(a,u,d){var _,E,R,V;return V=function(){_=!1,E&&(R.apply(d,E),E=!1)},R=function(){_?E=arguments:(a.apply(d,arguments),setTimeout(V,u),_=!0)},R}function A(a,u,d){var _=u[1],E=u[0],R=_-E;return a===_&&d?a:((a-E)%R+R)%R+E}function C(){return!1}function I(a,u){if(u===!1)return a;var d=Math.pow(10,u===void 0?6:u);return Math.round(a*d)/d}function k(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function q(a){return k(a).split(/\s+/)}function F(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var d in u)a.options[d]=u[d];return a.options}function K(a,u,d){var _=[];for(var E in a)_.push(encodeURIComponent(d?E.toUpperCase():E)+"="+encodeURIComponent(a[E]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var J=/\{ *([\w_ -]+) *\}/g;function rt(a,u){return a.replace(J,function(d,_){var E=u[_];if(E===void 0)throw new Error("No value provided for variable "+d);return typeof E=="function"&&(E=E(u)),E})}var ot=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function xt(a,u){for(var d=0;d<a.length;d++)if(a[d]===u)return d;return-1}var Ct="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Nt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var P=0;function M(a){var u=+new Date,d=Math.max(0,16-(u-P));return P=u+d,window.setTimeout(a,d)}var O=window.requestAnimationFrame||Nt("RequestAnimationFrame")||M,G=window.cancelAnimationFrame||Nt("CancelAnimationFrame")||Nt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function B(a,u,d){if(d&&O===M)a.call(u);else return O.call(window,m(a,u))}function Q(a){a&&G.call(window,a)}var j={__proto__:null,extend:l,create:h,bind:m,get lastId(){return v},stamp:y,throttle:b,wrapNum:A,falseFn:C,formatNum:I,trim:k,splitWords:q,setOptions:F,getParamString:K,template:rt,isArray:ot,indexOf:xt,emptyImageUrl:Ct,requestFn:O,cancelFn:G,requestAnimFrame:B,cancelAnimFrame:Q};function St(){}St.extend=function(a){var u=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(u[E]=this[E]);return a.statics&&l(u,a.statics),a.includes&&(jt(a.includes),l.apply(null,[_].concat(a.includes))),l(_,a),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,V=_._initHooks.length;R<V;R++)_._initHooks[R].call(this)}},u},St.include=function(a){var u=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},St.mergeOptions=function(a){return l(this.prototype.options,a),this},St.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),d=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function jt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=ot(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var et={on:function(a,u,d){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u);else{a=q(a);for(var E=0,R=a.length;E<R;E++)this._on(a[E],u,d)}return this},off:function(a,u,d){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],u);else{a=q(a);for(var E=arguments.length===1,R=0,V=a.length;R<V;R++)E?this._off(a[R]):this._off(a[R],u,d)}return this},_on:function(a,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,d)===!1){d===this&&(d=void 0);var E={fn:u,ctx:d};_&&(E.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(E)}},_off:function(a,u,d){var _,E,R;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(E=0,R=_.length;E<R;E++)_[E].fn=C;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var V=this._listens(a,u,d);if(V!==!1){var X=_[V];this._firingCount&&(X.fn=C,this._events[a]=_=_.slice()),_.splice(V,1)}}},fire:function(a,u,d){if(!this.listens(a,d))return this;var _=l({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var E=this._events[a];if(E){this._firingCount=this._firingCount+1||1;for(var R=0,V=E.length;R<V;R++){var X=E[R],nt=X.fn;X.once&&this.off(a,nt,X.ctx),nt.call(X.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(a,u,d,_){typeof a!="string"&&console.warn('"string" type argument expected');var E=u;typeof u!="function"&&(_=!!u,E=void 0,d=void 0);var R=this._events&&this._events[a];if(R&&R.length&&this._listens(a,E,d)!==!1)return!0;if(_){for(var V in this._eventParents)if(this._eventParents[V].listens(a,u,d,_))return!0}return!1},_listens:function(a,u,d){if(!this._events)return!1;var _=this._events[a]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var E=0,R=_.length;E<R;E++)if(_[E].fn===u&&_[E].ctx===d)return E;return!1},once:function(a,u,d){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u,!0);else{a=q(a);for(var E=0,R=a.length;E<R;E++)this._on(a[E],u,d,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};et.addEventListener=et.on,et.removeEventListener=et.clearAllEventListeners=et.off,et.addOneTimeEventListener=et.once,et.fireEvent=et.fire,et.hasEventListeners=et.listens;var yt=St.extend(et);function mt(a,u,d){this.x=d?Math.round(a):a,this.y=d?Math.round(u):u}var Et=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};mt.prototype={clone:function(){return new mt(this.x,this.y)},add:function(a){return this.clone()._add(vt(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(vt(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new mt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new mt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Et(this.x),this.y=Et(this.y),this},distanceTo:function(a){a=vt(a);var u=a.x-this.x,d=a.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(a){return a=vt(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=vt(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function vt(a,u,d){return a instanceof mt?a:ot(a)?new mt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new mt(a.x,a.y):new mt(a,u,d)}function z(a,u){if(a)for(var d=u?[a,u]:a,_=0,E=d.length;_<E;_++)this.extend(d[_])}z.prototype={extend:function(a){var u,d;if(!a)return this;if(a instanceof mt||typeof a[0]=="number"||"x"in a)u=d=vt(a);else if(a=lt(a),u=a.min,d=a.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(a){return vt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return vt(this.min.x,this.max.y)},getTopRight:function(){return vt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,d;return typeof a[0]=="number"||a instanceof mt?a=vt(a):a=lt(a),a instanceof z?(u=a.min,d=a.max):u=d=a,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(a){a=lt(a);var u=this.min,d=this.max,_=a.min,E=a.max,R=E.x>=u.x&&_.x<=d.x,V=E.y>=u.y&&_.y<=d.y;return R&&V},overlaps:function(a){a=lt(a);var u=this.min,d=this.max,_=a.min,E=a.max,R=E.x>u.x&&_.x<d.x,V=E.y>u.y&&_.y<d.y;return R&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*a,E=Math.abs(u.y-d.y)*a;return lt(vt(u.x-_,u.y-E),vt(d.x+_,d.y+E))},equals:function(a){return a?(a=lt(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function lt(a,u){return!a||a instanceof z?a:new z(a,u)}function _t(a,u){if(a)for(var d=u?[a,u]:a,_=0,E=d.length;_<E;_++)this.extend(d[_])}_t.prototype={extend:function(a){var u=this._southWest,d=this._northEast,_,E;if(a instanceof bt)_=a,E=a;else if(a instanceof _t){if(_=a._southWest,E=a._northEast,!_||!E)return this}else return a?this.extend(Tt(a)||gt(a)):this;return!u&&!d?(this._southWest=new bt(_.lat,_.lng),this._northEast=new bt(E.lat,E.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(E.lat,d.lat),d.lng=Math.max(E.lng,d.lng)),this},pad:function(a){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*a,E=Math.abs(u.lng-d.lng)*a;return new _t(new bt(u.lat-_,u.lng-E),new bt(d.lat+_,d.lng+E))},getCenter:function(){return new bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof bt||"lat"in a?a=Tt(a):a=gt(a);var u=this._southWest,d=this._northEast,_,E;return a instanceof _t?(_=a.getSouthWest(),E=a.getNorthEast()):_=E=a,_.lat>=u.lat&&E.lat<=d.lat&&_.lng>=u.lng&&E.lng<=d.lng},intersects:function(a){a=gt(a);var u=this._southWest,d=this._northEast,_=a.getSouthWest(),E=a.getNorthEast(),R=E.lat>=u.lat&&_.lat<=d.lat,V=E.lng>=u.lng&&_.lng<=d.lng;return R&&V},overlaps:function(a){a=gt(a);var u=this._southWest,d=this._northEast,_=a.getSouthWest(),E=a.getNorthEast(),R=E.lat>u.lat&&_.lat<d.lat,V=E.lng>u.lng&&_.lng<d.lng;return R&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=gt(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function gt(a,u){return a instanceof _t?a:new _t(a,u)}function bt(a,u,d){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,d!==void 0&&(this.alt=+d)}bt.prototype={equals:function(a,u){if(!a)return!1;a=Tt(a);var d=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return d<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+I(this.lat,a)+", "+I(this.lng,a)+")"},distanceTo:function(a){return Ee.distance(this,Tt(a))},wrap:function(){return Ee.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,d=u/Math.cos(Math.PI/180*this.lat);return gt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new bt(this.lat,this.lng,this.alt)}};function Tt(a,u,d){return a instanceof bt?a:ot(a)&&typeof a[0]!="object"?a.length===3?new bt(a[0],a[1],a[2]):a.length===2?new bt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new bt(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new bt(a,u,d)}var qt={latLngToPoint:function(a,u){var d=this.projection.project(a),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(a,u){var d=this.scale(u),_=this.transformation.untransform(a,d);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(a),_=this.transformation.transform(u.min,d),E=this.transformation.transform(u.max,d);return new z(_,E)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?A(a.lng,this.wrapLng,!0):a.lng,d=this.wrapLat?A(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new bt(d,u,_)},wrapLatLngBounds:function(a){var u=a.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,E=u.lng-d.lng;if(_===0&&E===0)return a;var R=a.getSouthWest(),V=a.getNorthEast(),X=new bt(R.lat-_,R.lng-E),nt=new bt(V.lat-_,V.lng-E);return new _t(X,nt)}},Ee=l({},qt,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var d=Math.PI/180,_=a.lat*d,E=u.lat*d,R=Math.sin((u.lat-a.lat)*d/2),V=Math.sin((u.lng-a.lng)*d/2),X=R*R+Math.cos(_)*Math.cos(E)*V*V,nt=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*nt}}),Re=6378137,fs={R:Re,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,a.lat),-d),E=Math.sin(_*u);return new mt(this.R*a.lng*u,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(a){var u=180/Math.PI;return new bt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Re*Math.PI;return new z([-a,-a],[a,a])})()};function Vs(a,u,d,_){if(ot(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=d,this._d=_}Vs.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new mt((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function Bi(a,u,d,_){return new Vs(a,u,d,_)}var js=l({},Ee,{code:"EPSG:3857",projection:fs,transformation:(function(){var a=.5/(Math.PI*fs.R);return Bi(a,.5,-a,.5)})()}),Fi=l({},js,{code:"EPSG:900913"});function ia(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function zs(a,u){var d="",_,E,R,V,X,nt;for(_=0,R=a.length;_<R;_++){for(X=a[_],E=0,V=X.length;E<V;E++)nt=X[E],d+=(E?"L":"M")+nt.x+" "+nt.y;d+=u?Lt.svg?"z":"x":""}return d||"M0 0"}var pr=document.documentElement.style,Us="ActiveXObject"in window,Ge=Us&&!document.addEventListener,Ze="msLaunchUri"in navigator&&!("documentMode"in document),Hi=gn("webkit"),ll=gn("android"),co=gn("android 2")||gn("android 3"),Rn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),gr=ll&&gn("Google")&&Rn<537&&!("AudioNode"in window),_r=!!window.opera,sa=!Ze&&gn("chrome"),ds=gn("gecko")&&!Hi&&!_r&&!Us,Cu=!sa&&gn("safari"),ho=gn("phantom"),fo="OTransition"in pr,ul=navigator.platform.indexOf("Win")===0,$n=Us&&"transition"in pr,Je="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!co,Gn="MozPerspective"in pr,ze=!window.L_DISABLE_3D&&($n||Je||Gn)&&!fo&&!ho,Bs=typeof orientation<"u"||gn("mobile"),ra=Bs&&Hi,cl=Bs&&Je,bi=!window.PointerEvent&&window.MSPointerEvent,Fs=!!(window.PointerEvent||bi),Ue="ontouchstart"in window||!!window.TouchEvent,qi=!window.L_NO_TOUCH&&(Ue||Fs),Gi=Bs&&_r,xi=Bs&&ds,Ru=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,hl=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",C,u),window.removeEventListener("testPassiveEventSupport",C,u)}catch{}return a})(),Zi=(function(){return!!document.createElement("canvas").getContext})(),ms=!!(document.createElementNS&&ia("svg").createSVGRect),Nu=!!ms&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),yr=!ms&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),mo=navigator.platform.indexOf("Mac")===0,po=navigator.platform.indexOf("Linux")===0;function gn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Lt={ie:Us,ielt9:Ge,edge:Ze,webkit:Hi,android:ll,android23:co,androidStock:gr,opera:_r,chrome:sa,gecko:ds,safari:Cu,phantom:ho,opera12:fo,win:ul,ie3d:$n,webkit3d:Je,gecko3d:Gn,any3d:ze,mobile:Bs,mobileWebkit:ra,mobileWebkit3d:cl,msPointer:bi,pointer:Fs,touch:qi,touchNative:Ue,mobileOpera:Gi,mobileGecko:xi,retina:Ru,passiveEvents:hl,canvas:Zi,svg:ms,vml:yr,inlineSvg:Nu,mac:mo,linux:po},go=Lt.msPointer?"MSPointerDown":"pointerdown",ti=Lt.msPointer?"MSPointerMove":"pointermove",ei=Lt.msPointer?"MSPointerUp":"pointerup",Be=Lt.msPointer?"MSPointerCancel":"pointercancel",Ke={touchstart:go,touchmove:ti,touchend:ei,touchcancel:Be},wi={touchstart:Qi,touchmove:_n,touchend:_n,touchcancel:_n},Ei={},fl=!1;function dl(a,u,d){return u==="touchstart"&&ni(),wi[u]?(d=wi[u].bind(this,d),a.addEventListener(Ke[u],d,!1),d):(console.warn("wrong event specified:",u),C)}function ml(a,u,d){if(!Ke[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(Ke[u],d,!1)}function Ki(a){Ei[a.pointerId]=a}function aa(a){Ei[a.pointerId]&&(Ei[a.pointerId]=a)}function Ti(a){delete Ei[a.pointerId]}function ni(){fl||(document.addEventListener(go,Ki,!0),document.addEventListener(ti,aa,!0),document.addEventListener(ei,Ti,!0),document.addEventListener(Be,Ti,!0),fl=!0)}function _n(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in Ei)u.touches.push(Ei[d]);u.changedTouches=[u],a(u)}}function Qi(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Oe(u),_n(a,u)}function Qe(a){var u={},d,_;for(_ in a)d=a[_],u[_]=d&&d.bind?d.bind(a):d;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var _o=200;function yo(a,u){a.addEventListener("dblclick",u);var d=0,_;function E(R){if(R.detail!==1){_=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var V=Ks(R);if(!(V.some(function(nt){return nt instanceof HTMLLabelElement&&nt.attributes.for})&&!V.some(function(nt){return nt instanceof HTMLInputElement||nt instanceof HTMLSelectElement}))){var X=Date.now();X-d<=_o?(_++,_===2&&u(Qe(R))):_=1,d=X}}}return a.addEventListener("click",E),{dblclick:u,simDblclick:E}}function Yi(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var ii=br(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ps=br(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),oa=ps==="webkitTransition"||ps==="OTransition"?ps+"End":"transitionend";function la(a){return typeof a=="string"?document.getElementById(a):a}function Hs(a,u){var d=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);d=_?_[u]:null}return d==="auto"?null:d}function Jt(a,u,d){var _=document.createElement(a);return _.className=u||"",d&&d.appendChild(_),_}function $t(a){var u=a.parentNode;u&&u.removeChild(a)}function Me(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function ke(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function Zn(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function vr(a,u){if(a.classList!==void 0)return a.classList.contains(u);var d=Xi(a);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function It(a,u){if(a.classList!==void 0)for(var d=q(u),_=0,E=d.length;_<E;_++)a.classList.add(d[_]);else if(!vr(a,u)){var R=Xi(a);si(a,(R?R+" ":"")+u)}}function ve(a,u){a.classList!==void 0?a.classList.remove(u):si(a,k((" "+Xi(a)+" ").replace(" "+u+" "," ")))}function si(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Xi(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Ne(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&ua(a,u)}function ua(a,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=a.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):a.style.filter+=" progid:"+_+"(opacity="+u+")"}function br(a){for(var u=document.documentElement.style,d=0;d<a.length;d++)if(a[d]in u)return a[d];return!1}function Si(a,u,d){var _=u||new mt(0,0);a.style[ii]=(Lt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function be(a,u){a._leaflet_pos=u,Lt.any3d?Si(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Wi(a){return a._leaflet_pos||new mt(0,0)}var ri,nn,ca;if("onselectstart"in document)ri=function(){zt(window,"selectstart",Oe)},nn=function(){fe(window,"selectstart",Oe)};else{var gs=br(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ri=function(){if(gs){var a=document.documentElement.style;ca=a[gs],a[gs]="none"}},nn=function(){gs&&(document.documentElement.style[gs]=ca,ca=void 0)}}function xr(){zt(window,"dragstart",Oe)}function qs(){fe(window,"dragstart",Oe)}var wr,Ji;function Gs(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(kn(),wr=a,Ji=a.style.outlineStyle,a.style.outlineStyle="none",zt(window,"keydown",kn))}function kn(){wr&&(wr.style.outlineStyle=Ji,wr=void 0,Ji=void 0,fe(window,"keydown",kn))}function ha(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function On(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Zs={__proto__:null,TRANSFORM:ii,TRANSITION:ps,TRANSITION_END:oa,get:la,getStyle:Hs,create:Jt,remove:$t,empty:Me,toFront:ke,toBack:Zn,hasClass:vr,addClass:It,removeClass:ve,setClass:si,getClass:Xi,setOpacity:Ne,testProp:br,setTransform:Si,setPosition:be,getPosition:Wi,get disableTextSelection(){return ri},get enableTextSelection(){return nn},disableImageDrag:xr,enableImageDrag:qs,preventOutline:Gs,restoreOutline:kn,getSizedParentNode:ha,getScale:On};function zt(a,u,d,_){if(u&&typeof u=="object")for(var E in u)Pn(a,E,u[E],d);else{u=q(u);for(var R=0,V=u.length;R<V;R++)Pn(a,u[R],d,_)}return this}var yn="_leaflet_events";function fe(a,u,d,_){if(arguments.length===1)_s(a),delete a[yn];else if(u&&typeof u=="object")for(var E in u)ys(a,E,u[E],d);else if(u=q(u),arguments.length===2)_s(a,function(X){return xt(u,X)!==-1});else for(var R=0,V=u.length;R<V;R++)ys(a,u[R],d,_);return this}function _s(a,u){for(var d in a[yn]){var _=d.split(/\d/)[0];(!u||u(_))&&ys(a,_,null,null,d)}}var Kn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pn(a,u,d,_){var E=u+y(d)+(_?"_"+y(_):"");if(a[yn]&&a[yn][E])return this;var R=function(X){return d.call(_||a,X||window.event)},V=R;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?R=dl(a,u,R):Lt.touch&&u==="dblclick"?R=yo(a,R):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Kn[u]||u,R,Lt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(R=function(X){X=X||window.event,Ri(a,X)&&V(X)},a.addEventListener(Kn[u],R,!1)):a.addEventListener(u,V,!1):a.attachEvent("on"+u,R),a[yn]=a[yn]||{},a[yn][E]=R}function ys(a,u,d,_,E){E=E||u+y(d)+(_?"_"+y(_):"");var R=a[yn]&&a[yn][E];if(!R)return this;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?ml(a,u,R):Lt.touch&&u==="dblclick"?Yi(a,R):"removeEventListener"in a?a.removeEventListener(Kn[u]||u,R,!1):a.detachEvent("on"+u,R),a[yn][E]=null}function ie(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function ai(a){return Pn(a,"wheel",ie),this}function vs(a){return zt(a,"mousedown touchstart dblclick contextmenu",ie),a._leaflet_disable_click=!0,this}function Oe(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ai(a){return Oe(a),ie(a),this}function Ks(a){if(a.composedPath)return a.composedPath();for(var u=[],d=a.target;d;)u.push(d),d=d.parentNode;return u}function $i(a,u){if(!u)return new mt(a.clientX,a.clientY);var d=On(u),_=d.boundingClientRect;return new mt((a.clientX-_.left)/d.x-u.clientLeft,(a.clientY-_.top)/d.y-u.clientTop)}var Ci=Lt.linux&&Lt.chrome?window.devicePixelRatio:Lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function sn(a){return Lt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Ci:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ri(a,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==a;)d=d.parentNode}catch{return!1}return d!==a}var ts={__proto__:null,on:zt,off:fe,stopPropagation:ie,disableScrollPropagation:ai,disableClickPropagation:vs,preventDefault:Oe,stop:Ai,getPropagationPath:Ks,getMousePosition:$i,getWheelDelta:sn,isExternalTarget:Ri,addListener:zt,removeListener:fe},bs=yt.extend({run:function(a,u,d,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Wi(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var d=this._startPos.add(this._offset.multiplyBy(a));u&&d._round(),be(this._el,d),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Wt=yt.extend({options:{crs:js,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=F(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Tt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ps&&Lt.any3d&&!Lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,oa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Tt(a),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,d.zoom):this._tryAnimatedPan(a,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,d){var _=this.getZoomScale(u),E=this.getSize().divideBy(2),R=a instanceof mt?a:this.latLngToContainerPoint(a),V=R.subtract(E).multiplyBy(1-1/_),X=this.containerPointToLatLng(E.add(V));return this.setView(X,u,{zoom:d})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():gt(a);var d=vt(u.paddingTopLeft||u.padding||[0,0]),_=vt(u.paddingBottomRight||u.padding||[0,0]),E=this.getBoundsZoom(a,!1,d.add(_));if(E=typeof u.maxZoom=="number"?Math.min(u.maxZoom,E):E,E===1/0)return{center:a.getCenter(),zoom:E};var R=_.subtract(d).divideBy(2),V=this.project(a.getSouthWest(),E),X=this.project(a.getNorthEast(),E),nt=this.unproject(V.add(X).divideBy(2).add(R),E);return{center:nt,zoom:E}},fitBounds:function(a,u){if(a=gt(a),!a.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(a,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=vt(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new bs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){It(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,d){if(d=d||{},d.animate===!1||!Lt.any3d)return this.setView(a,u,d);this._stop();var _=this.project(this.getCenter()),E=this.project(a),R=this.getSize(),V=this._zoom;a=Tt(a),u=u===void 0?V:u;var X=Math.max(R.x,R.y),nt=X*this.getZoomScale(V,u),ft=E.distanceTo(_)||1,At=1.42,Ot=At*At;function Yt(Fe){var Ss=Fe?-1:1,Nr=Fe?nt:X,Ou=nt*nt-X*X+Ss*Ot*Ot*ft*ft,jo=2*Nr*Ot*ft,zo=Ou/jo,ir=Math.sqrt(zo*zo+1)-zo,As=ir<1e-9?-18:Math.log(ir);return As}function dn(Fe){return(Math.exp(Fe)-Math.exp(-Fe))/2}function Ye(Fe){return(Math.exp(Fe)+Math.exp(-Fe))/2}function Xn(Fe){return dn(Fe)/Ye(Fe)}var de=Yt(0);function me(Fe){return X*(Ye(de)/Ye(de+At*Fe))}function te(Fe){return X*(Ye(de)*Xn(de+At*Fe)-dn(de))/Ot}function er(Fe){return 1-Math.pow(1-Fe,1.5)}var hi=Date.now(),Cl=(Yt(1)-de)/At,nr=d.duration?1e3*d.duration:1e3*Cl*.8;function ku(){var Fe=(Date.now()-hi)/nr,Ss=er(Fe)*Cl;Fe<=1?(this._flyToFrame=B(ku,this),this._move(this.unproject(_.add(E.subtract(_).multiplyBy(te(Ss)/ft)),V),this.getScaleZoom(X/me(Ss),V),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),ku.call(this),this},flyToBounds:function(a,u){var d=this._getBoundsCenterZoom(a,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(a){return a=gt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,gt(a));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var d=vt(u.paddingTopLeft||u.padding||[0,0]),_=vt(u.paddingBottomRight||u.padding||[0,0]),E=this.project(this.getCenter()),R=this.project(a),V=this.getPixelBounds(),X=lt([V.min.add(d),V.max.subtract(_)]),nt=X.getSize();if(!X.contains(R)){this._enforcingBounds=!0;var ft=R.subtract(X.getCenter()),At=X.extend(R).getSize().subtract(nt);E.x+=ft.x<0?-At.x:At.x,E.y+=ft.y<0?-At.y:At.y,this.panTo(this.unproject(E),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),E=d.divideBy(2).round(),R=_.subtract(E);return!R.x&&!R.y?this:(a.animate&&a.pan?this.panBy(R):(a.pan&&this._rawPanBy(R),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,a):navigator.geolocation.getCurrentPosition(u,d,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,d=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,d=a.coords.longitude,_=new bt(u,d),E=_.toBounds(a.coords.accuracy*2),R=this._locateOptions;if(R.setView){var V=this.getBoundsZoom(E);this.setView(_,R.maxZoom?Math.min(V,R.maxZoom):V)}var X={latlng:_,bounds:E,timestamp:a.timestamp};for(var nt in a.coords)typeof a.coords[nt]=="number"&&(X[nt]=a.coords[nt]);this.fire("locationfound",X)}},addHandler:function(a,u){if(!u)return this;var d=this[a]=new u(this);return this._handlers.push(d),this.options[a]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)$t(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var d="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=Jt("div",d,u||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),d=this.unproject(a.getTopRight());return new _t(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,d){a=gt(a),d=vt(d||[0,0]);var _=this.getZoom()||0,E=this.getMinZoom(),R=this.getMaxZoom(),V=a.getNorthWest(),X=a.getSouthEast(),nt=this.getSize().subtract(d),ft=lt(this.project(X,_),this.project(V,_)).getSize(),At=Lt.any3d?this.options.zoomSnap:1,Ot=nt.x/ft.x,Yt=nt.y/ft.y,dn=u?Math.max(Ot,Yt):Math.min(Ot,Yt);return _=this.getScaleZoom(dn,_),At&&(_=Math.round(_/(At/100))*(At/100),_=u?Math.ceil(_/At)*At:Math.floor(_/At)*At),Math.max(E,Math.min(R,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new mt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var d=this._getTopLeftPoint(a,u);return new z(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(a)/d.scale(u)},getScaleZoom:function(a,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(a*d.scale(u));return isNaN(_)?1/0:_},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Tt(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(vt(a),u)},layerPointToLatLng:function(a){var u=vt(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Tt(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Tt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(gt(a))},distance:function(a,u){return this.options.crs.distance(Tt(a),Tt(u))},containerPointToLayerPoint:function(a){return vt(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return vt(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(vt(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Tt(a)))},mouseEventToContainerPoint:function(a){return $i(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=la(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");zt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt.any3d,It(a,"leaflet-container"+(Lt.touch?" leaflet-touch":"")+(Lt.retina?" leaflet-retina":"")+(Lt.ielt9?" leaflet-oldie":"")+(Lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Hs(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),be(this._mapPane,new mt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(It(a.markerPane,"leaflet-zoom-hide"),It(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,d){be(this._mapPane,new mt(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var E=this._zoom!==u;this._moveStart(E,d)._move(a,u)._moveEnd(E),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,d,_){u===void 0&&(u=this._zoom);var E=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?d&&d.pinch&&this.fire("zoom",d):((E||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){be(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var u=a?fe:zt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Lt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var d=[],_,E=u==="mouseout"||u==="mouseover",R=a.target||a.srcElement,V=!1;R;){if(_=this._targets[y(R)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){V=!0;break}if(_&&_.listens(u,!0)&&(E&&!Ri(R,a)||(d.push(_),E))||R===this._container)break;R=R.parentNode}return!d.length&&!V&&!E&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var d=a.type;d==="mousedown"&&Gs(u),this._fireDOMEvent(a,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,d){if(a.type==="click"){var _=l({},a);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var E=this._findEventTargets(a,u);if(d){for(var R=[],V=0;V<d.length;V++)d[V].listens(u,!0)&&R.push(d[V]);E=R.concat(E)}if(E.length){u==="contextmenu"&&Oe(a);var X=E[0],nt={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ft=X.getLatLng&&(!X._radius||X._radius<=10);nt.containerPoint=ft?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(a),nt.layerPoint=this.containerPointToLayerPoint(nt.containerPoint),nt.latlng=ft?X.getLatLng():this.layerPointToLatLng(nt.layerPoint)}for(V=0;V<E.length;V++)if(E[V].fire(u,nt,!0),nt.originalEvent._stopped||E[V].options.bubblingMouseEvents===!1&&xt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Wi(this._mapPane)||new mt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var d=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var d=this.getSize()._divideBy(2);return this.project(a,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(a,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,u,d){var _=this._getNewPixelOrigin(d,u);return lt([this.project(a.getSouthWest(),u)._subtract(_),this.project(a.getNorthWest(),u)._subtract(_),this.project(a.getSouthEast(),u)._subtract(_),this.project(a.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,d){if(!d)return a;var _=this.project(a,u),E=this.getSize().divideBy(2),R=new z(_.subtract(E),_.add(E)),V=this._getBoundsOffset(R,d,u);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?a:this.unproject(_.add(V),u)},_limitOffset:function(a,u){if(!u)return a;var d=this.getPixelBounds(),_=new z(d.min.add(a),d.max.add(a));return a.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(a,u,d){var _=lt(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),E=_.min.subtract(a.min),R=_.max.subtract(a.max),V=this._rebound(E.x,-R.x),X=this._rebound(E.y,-R.y);return new mt(V,X)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),d=this.getMaxZoom(),_=Lt.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(u,Math.min(d,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ve(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var d=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var a=this._proxy=Jt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var d=ii,_=this._proxy.style[d];Si(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Si(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),E=this._getCenterOffset(a)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(E)?!1:(B(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,It(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ve(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qs(a,u){return new Wt(a,u)}var vn=St.extend({options:{position:"topright"},initialize:function(a){F(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),d=this.getPosition(),_=a._controlCorners[d];return It(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Vn=function(a){return new vn(a)};Wt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",d=this._controlContainer=Jt("div",u+"control-container",this._container);function _(E,R){var V=u+E+" "+u+R;a[E+R]=Jt("div",V,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)$t(this._controlCorners[a]);$t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Er=vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(a,u,d){F(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return vn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){It(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(It(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ve(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ve(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Jt("div",a),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),vs(u),ai(u);var _=this._section=Jt("section",a+"-list");d&&(this._map.on("click",this.collapse,this),zt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Jt("a",a+"-toggle",u);E.href="#",E.title="Layers",E.setAttribute("role","button"),zt(E,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Oe(R),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Jt("div",a+"-base",_),this._separator=Jt("div",a+"-separator",_),this._overlaysList=Jt("div",a+"-overlays",_),u.appendChild(_)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,d){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(_,E){return this.options.sortFunction(_.layer,E.layer,_.name,E.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Me(this._baseLayersList),Me(this._overlaysList),this._layerControlInputs=[];var a,u,d,_,E=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,a=a||!_.overlay,E+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&E>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(y(a.target)),d=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(a,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(a){var u=document.createElement("label"),d=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(_),_.layerId=y(a.layer),zt(_,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+a.name;var R=document.createElement("span");u.appendChild(R),R.appendChild(_),R.appendChild(E);var V=a.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,d,_=[],E=[];this._handlingClick=!0;for(var R=a.length-1;R>=0;R--)u=a[R],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||E.push(d);for(R=0;R<E.length;R++)this._map.hasLayer(E[R])&&this._map.removeLayer(E[R]);for(R=0;R<_.length;R++)this._map.hasLayer(_[R])||this._map.addLayer(_[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,d,_=this._map.getZoom(),E=a.length-1;E>=0;E--)u=a[E],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,zt(a,"click",Oe),this.expand();var u=this;setTimeout(function(){fe(a,"click",Oe),u._preventClick=!1})}}),vo=function(a,u,d){return new Er(a,u,d)},xs=vn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",d=Jt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,d,_,E){var R=Jt("a",d,_);return R.innerHTML=a,R.href="#",R.title=u,R.setAttribute("role","button"),R.setAttribute("aria-label",u),vs(R),zt(R,"click",Ai),zt(R,"click",E,this),zt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";ve(this._zoomInButton,u),ve(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(It(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(It(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Wt.mergeOptions({zoomControl:!0}),Wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xs,this.addControl(this.zoomControl))});var pl=function(a){return new xs(a)},bo=vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",d=Jt("div",u),_=this.options;return this._addScales(_,u+"-line",d),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),d},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,d){a.metric&&(this._mScale=Jt("div",u,d)),a.imperial&&(this._iScale=Jt("div",u,d))},_update:function(){var a=this._map,u=a.getSize().y/2,d=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/a)},_updateImperial:function(a){var u=a*3.2808399,d,_,E;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(E=this._getRoundNum(u),this._updateScale(this._iScale,E+" ft",E/u))},_updateScale:function(a,u,d){a.style.width=Math.round(this.options.maxWidth*d)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),d=a/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),Tr=function(a){return new bo(a)},xo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fa=vn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Lt.inlineSvg?xo+" ":"")+"Leaflet</a>"},initialize:function(a){F(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Jt("div","leaflet-control-attribution"),vs(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),a.length&&d.push(a.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Wt.mergeOptions({attributionControl:!0}),Wt.addInitHook(function(){this.options.attributionControl&&new fa().addTo(this)});var da=function(a){return new fa(a)};vn.Layers=Er,vn.Zoom=xs,vn.Scale=bo,vn.Attribution=fa,Vn.layers=vo,Vn.zoom=pl,Vn.scale=Tr,Vn.attribution=da;var Qn=St.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qn.addTo=function(a,u){return a.addHandler(u,this),this};var gl={Events:et},Ni=Lt.touch?"touchstart mousedown":"mousedown",Ii=yt.extend({options:{clickTolerance:3},initialize:function(a,u,d,_){F(this,_),this._element=a,this._dragStartTarget=u||a,this._preventOutline=d},enable:function(){this._enabled||(zt(this._dragStartTarget,Ni,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ii._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,Ni,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!vr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ii._dragging===this&&this.finishDrag();return}if(!(Ii._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ii._dragging=this,this._preventOutline&&Gs(this._element),xr(),ri(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,d=ha(this._element);this._startPoint=new mt(u.clientX,u.clientY),this._startPos=Wi(this._element),this._parentScale=On(d);var _=a.type==="mousedown";zt(document,_?"mousemove":"touchmove",this._onMove,this),zt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,d=new mt(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Oe(a),this._moved||(this.fire("dragstart"),this._moved=!0,It(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),It(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),be(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ve(document.body,"leaflet-dragging"),this._lastTarget&&(ve(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),qs(),nn();var u=this._moved&&this._moving;this._moving=!1,Ii._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function wo(a,u,d){var _,E=[1,4,2,8],R,V,X,nt,ft,At,Ot,Yt;for(R=0,At=a.length;R<At;R++)a[R]._code=st(a[R],u);for(X=0;X<4;X++){for(Ot=E[X],_=[],R=0,At=a.length,V=At-1;R<At;V=R++)nt=a[R],ft=a[V],nt._code&Ot?ft._code&Ot||(Yt=W(ft,nt,Ot,u,d),Yt._code=st(Yt,u),_.push(Yt)):(ft._code&Ot&&(Yt=W(ft,nt,Ot,u,d),Yt._code=st(Yt,u),_.push(Yt)),_.push(nt));a=_}return a}function Eo(a,u){var d,_,E,R,V,X,nt,ft,At;if(!a||a.length===0)throw new Error("latlngs not passed");ue(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ot=Tt([0,0]),Yt=gt(a),dn=Yt.getNorthWest().distanceTo(Yt.getSouthWest())*Yt.getNorthEast().distanceTo(Yt.getNorthWest());dn<1700&&(Ot=ma(a));var Ye=a.length,Xn=[];for(d=0;d<Ye;d++){var de=Tt(a[d]);Xn.push(u.project(Tt([de.lat-Ot.lat,de.lng-Ot.lng])))}for(X=nt=ft=0,d=0,_=Ye-1;d<Ye;_=d++)E=Xn[d],R=Xn[_],V=E.y*R.x-R.y*E.x,nt+=(E.x+R.x)*V,ft+=(E.y+R.y)*V,X+=V*3;X===0?At=Xn[0]:At=[nt/X,ft/X];var me=u.unproject(vt(At));return Tt([me.lat+Ot.lat,me.lng+Ot.lng])}function ma(a){for(var u=0,d=0,_=0,E=0;E<a.length;E++){var R=Tt(a[E]);u+=R.lat,d+=R.lng,_++}return Tt([u/_,d/_])}var Ys={__proto__:null,clipPolygon:wo,polygonCenter:Eo,centroid:ma};function bn(a,u){if(!u||!a.length)return a.slice();var d=u*u;return a=x(a,d),a=ws(a,d),a}function To(a,u,d){return Math.sqrt(Ft(a,u,d,!0))}function _l(a,u,d){return Ft(a,u,d)}function ws(a,u){var d=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,E=new _(d);E[0]=E[d-1]=1,f(a,E,u,0,d-1);var R,V=[];for(R=0;R<d;R++)E[R]&&V.push(a[R]);return V}function f(a,u,d,_,E){var R=0,V,X,nt;for(X=_+1;X<=E-1;X++)nt=Ft(a[X],a[_],a[E],!0),nt>R&&(V=X,R=nt);R>d&&(u[V]=1,f(a,u,d,_,V),f(a,u,d,V,E))}function x(a,u){for(var d=[a[0]],_=1,E=0,R=a.length;_<R;_++)wt(a[_],a[E])>u&&(d.push(a[_]),E=_);return E<R-1&&d.push(a[R-1]),d}var S;function D(a,u,d,_,E){var R=_?S:st(a,d),V=st(u,d),X,nt,ft;for(S=V;;){if(!(R|V))return[a,u];if(R&V)return!1;X=R||V,nt=W(a,u,X,d,E),ft=st(nt,d),X===R?(a=nt,R=ft):(u=nt,V=ft)}}function W(a,u,d,_,E){var R=u.x-a.x,V=u.y-a.y,X=_.min,nt=_.max,ft,At;return d&8?(ft=a.x+R*(nt.y-a.y)/V,At=nt.y):d&4?(ft=a.x+R*(X.y-a.y)/V,At=X.y):d&2?(ft=nt.x,At=a.y+V*(nt.x-a.x)/R):d&1&&(ft=X.x,At=a.y+V*(X.x-a.x)/R),new mt(ft,At,E)}function st(a,u){var d=0;return a.x<u.min.x?d|=1:a.x>u.max.x&&(d|=2),a.y<u.min.y?d|=4:a.y>u.max.y&&(d|=8),d}function wt(a,u){var d=u.x-a.x,_=u.y-a.y;return d*d+_*_}function Ft(a,u,d,_){var E=u.x,R=u.y,V=d.x-E,X=d.y-R,nt=V*V+X*X,ft;return nt>0&&(ft=((a.x-E)*V+(a.y-R)*X)/nt,ft>1?(E=d.x,R=d.y):ft>0&&(E+=V*ft,R+=X*ft)),V=a.x-E,X=a.y-R,_?V*V+X*X:new mt(E,R)}function ue(a){return!ot(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function ce(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ue(a)}function Ie(a,u){var d,_,E,R,V,X,nt,ft;if(!a||a.length===0)throw new Error("latlngs not passed");ue(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var At=Tt([0,0]),Ot=gt(a),Yt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Yt<1700&&(At=ma(a));var dn=a.length,Ye=[];for(d=0;d<dn;d++){var Xn=Tt(a[d]);Ye.push(u.project(Tt([Xn.lat-At.lat,Xn.lng-At.lng])))}for(d=0,_=0;d<dn-1;d++)_+=Ye[d].distanceTo(Ye[d+1])/2;if(_===0)ft=Ye[0];else for(d=0,R=0;d<dn-1;d++)if(V=Ye[d],X=Ye[d+1],E=V.distanceTo(X),R+=E,R>_){nt=(R-_)/E,ft=[X.x-nt*(X.x-V.x),X.y-nt*(X.y-V.y)];break}var de=u.unproject(vt(ft));return Tt([de.lat+At.lat,de.lng+At.lng])}var oi={__proto__:null,simplify:bn,pointToSegmentDistance:To,closestPointOnSegment:_l,clipSegment:D,_getEdgeIntersection:W,_getBitCode:st,_sqClosestPointOnSegment:Ft,isFlat:ue,_flat:ce,polylineCenter:Ie},li={project:function(a){return new mt(a.lng,a.lat)},unproject:function(a){return new bt(a.y,a.x)},bounds:new z([-180,-90],[180,90])},Yn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,d=this.R,_=a.lat*u,E=this.R_MINOR/d,R=Math.sqrt(1-E*E),V=R*Math.sin(_),X=Math.tan(Math.PI/4-_/2)/Math.pow((1-V)/(1+V),R/2);return _=-d*Math.log(Math.max(X,1e-10)),new mt(a.lng*u*d,_)},unproject:function(a){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,E=Math.sqrt(1-_*_),R=Math.exp(-a.y/d),V=Math.PI/2-2*Math.atan(R),X=0,nt=.1,ft;X<15&&Math.abs(nt)>1e-7;X++)ft=E*Math.sin(V),ft=Math.pow((1-ft)/(1+ft),E/2),nt=Math.PI/2-2*Math.atan(R*ft)-V,V+=nt;return new bt(V*u,a.x*u/d)}},Di={__proto__:null,LonLat:li,Mercator:Yn,SphericalMercator:fs},Sr=l({},Ee,{code:"EPSG:3395",projection:Yn,transformation:(function(){var a=.5/(Math.PI*Yn.R);return Bi(a,.5,-a,.5)})()}),Ar=l({},Ee,{code:"EPSG:4326",projection:li,transformation:Bi(1/180,1,-1/180,.5)}),pa=l({},qt,{projection:li,transformation:Bi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var d=u.lng-a.lng,_=u.lat-a.lat;return Math.sqrt(d*d+_*_)},infinite:!0});qt.Earth=Ee,qt.EPSG3395=Sr,qt.EPSG3857=js,qt.EPSG900913=Fi,qt.EPSG4326=Ar,qt.Simple=pa;var Li=yt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Wt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=y(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,u){for(var d in this._layers)a.call(u,this._layers[d]);return this},_addLayers:function(a){a=a?ot(a)?a:[a]:[];for(var u=0,d=a.length;u<d;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=y(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var E=this._zoomBoundLayers[_].options;a=E.minZoom===void 0?a:Math.min(a,E.minZoom),u=E.maxZoom===void 0?u:Math.max(u,E.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ga=Li.extend({initialize:function(a,u){F(this,u),this._layers={};var d,_;if(a)for(d=0,_=a.length;d<_;d++)this.addLayer(a[d])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[a]&&_[a].apply(_,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var d in this._layers)a.call(u,this._layers[d]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),bd=function(a,u){return new ga(a,u)},es=ga.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ga.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ga.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new _t;for(var u in this._layers){var d=this._layers[u];a.extend(d.getBounds?d.getBounds():d.getLatLng())}return a}}),Jc=function(a,u){return new es(a,u)},ns=St.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){F(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var d=this._getIconUrl(a);if(!d){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var E=vt(_),R=vt(u==="shadow"&&d.shadowAnchor||d.iconAnchor||E&&E.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(d.className||""),R&&(a.style.marginLeft=-R.x+"px",a.style.marginTop=-R.y+"px"),E&&(a.style.width=E.x+"px",a.style.height=E.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Lt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function So(a){return new ns(a)}var Ao=ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ao.imagePath!="string"&&(Ao.imagePath=this._detectIconPath()),(this.options.imagePath||Ao.imagePath)+ns.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(d,_,E){var R=_.exec(d);return R&&R[E]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Jt("div","leaflet-default-icon-path",document.body),u=Hs(a,"background-image")||Hs(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Co=Qn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ii(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),It(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ve(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,R=Wi(u._icon),V=d.getPixelBounds(),X=d.getPixelOrigin(),nt=lt(V.min._subtract(X).add(E),V.max._subtract(X).subtract(E));if(!nt.contains(R)){var ft=vt((Math.max(nt.max.x,R.x)-nt.max.x)/(V.max.x-nt.max.x)-(Math.min(nt.min.x,R.x)-nt.min.x)/(V.min.x-nt.min.x),(Math.max(nt.max.y,R.y)-nt.max.y)/(V.max.y-nt.max.y)-(Math.min(nt.min.y,R.y)-nt.min.y)/(V.min.y-nt.min.y)).multiplyBy(_);d.panBy(ft,{animate:!1}),this._draggable._newPos._add(ft),this._draggable._startPos._add(ft),be(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=B(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,d=u._shadow,_=Wi(u._icon),E=u._map.layerPointToLatLng(_);d&&be(d,_),u._latlng=E,a.latlng=E,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Ro=Li.extend({options:{icon:new Ao,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){F(this,u),this._latlng=Tt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Tt(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=a.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(d.title=a.title),d.tagName==="IMG"&&(d.alt=a.alt||"")),It(d,u),a.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(d,"focus",this._panOnFocus,this);var E=a.icon.createShadow(this._shadow),R=!1;E!==this._shadow&&(this._removeShadow(),R=!0),E&&(It(E,u),E.alt=""),this._shadow=E,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&R&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),$t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$t(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&be(this._icon,a),this._shadow&&be(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(It(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Co)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Co(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Ne(this._icon,a),this._shadow&&Ne(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,d=u.iconSize?vt(u.iconSize):vt(0,0),_=u.iconAnchor?vt(u.iconAnchor):vt(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $c(a,u){return new Ro(a,u)}var is=Li.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return F(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),_a=is.extend({options:{fill:!0,radius:10},initialize:function(a,u){F(this,u),this._latlng=Tt(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Tt(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return is.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,d=this._clickTolerance(),_=[a+d,u+d];this._pxBounds=new z(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function th(a,u){return new _a(a,u)}var yl=_a.extend({initialize:function(a,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),F(this,u),this._latlng=Tt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new _t(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:is.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===Ee.distance){var E=Math.PI/180,R=this._mRadius/Ee.R/E,V=d.project([u+R,a]),X=d.project([u-R,a]),nt=V.add(X).divideBy(2),ft=d.unproject(nt).lat,At=Math.acos((Math.cos(R*E)-Math.sin(u*E)*Math.sin(ft*E))/(Math.cos(u*E)*Math.cos(ft*E)))/E;(isNaN(At)||At===0)&&(At=R/Math.cos(Math.PI/180*u)),this._point=nt.subtract(d.getPixelOrigin()),this._radius=isNaN(At)?0:nt.x-d.project([ft,a-At]).x,this._radiusY=nt.y-V.y}else{var Ot=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ot).x}this._updateBounds()}});function eh(a,u,d){return new yl(a,u,d)}var Es=is.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){F(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,d=null,_=Ft,E,R,V=0,X=this._parts.length;V<X;V++)for(var nt=this._parts[V],ft=1,At=nt.length;ft<At;ft++){E=nt[ft-1],R=nt[ft];var Ot=_(a,E,R,!0);Ot<u&&(u=Ot,d=_(a,E,R))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ie(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Tt(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new _t,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ue(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],d=ue(a),_=0,E=a.length;_<E;_++)d?(u[_]=Tt(a[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(a[_]);return u},_project:function(){var a=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new mt(a,a);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,d){var _=a[0]instanceof bt,E=a.length,R,V;if(_){for(V=[],R=0;R<E;R++)V[R]=this._map.latLngToLayerPoint(a[R]),d.extend(V[R]);u.push(V)}else for(R=0;R<E;R++)this._projectLatlngs(a[R],u,d)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,E,R,V,X,nt;for(d=0,E=0,R=this._rings.length;d<R;d++)for(nt=this._rings[d],_=0,V=nt.length;_<V-1;_++)X=D(nt[_],nt[_+1],a,_,!0),X&&(u[E]=u[E]||[],u[E].push(X[0]),(X[1]!==nt[_+1]||_===V-2)&&(u[E].push(X[1]),E++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,d=0,_=a.length;d<_;d++)a[d]=bn(a[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var d,_,E,R,V,X,nt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(d=0,R=this._parts.length;d<R;d++)for(X=this._parts[d],_=0,V=X.length,E=V-1;_<V;E=_++)if(!(!u&&_===0)&&To(a,X[E],X[_])<=nt)return!0;return!1}});function xd(a,u){return new Es(a,u)}Es._flat=ce;var ya=Es.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Eo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Es.prototype._convertLatLngs.call(this,a),d=u.length;return d>=2&&u[0]instanceof bt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(a){Es.prototype._setLatLngs.call(this,a),ue(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ue(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,d=new mt(u,u);if(a=new z(a.min.subtract(d),a.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,E=this._rings.length,R;_<E;_++)R=wo(this._rings[_],a,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,d,_,E,R,V,X,nt,ft;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(R=0,nt=this._parts.length;R<nt;R++)for(d=this._parts[R],V=0,ft=d.length,X=ft-1;V<ft;X=V++)_=d[V],E=d[X],_.y>a.y!=E.y>a.y&&a.x<(E.x-_.x)*(a.y-_.y)/(E.y-_.y)+_.x&&(u=!u);return u||Es.prototype._containsPoint.call(this,a,!0)}});function wd(a,u){return new ya(a,u)}var Ts=es.extend({initialize:function(a,u){F(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=ot(a)?a:a.features,d,_,E;if(u){for(d=0,_=u.length;d<_;d++)E=u[d],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var R=this.options;if(R.filter&&!R.filter(a))return this;var V=xn(a,R);return V?(V.feature=xl(a),V.defaultOptions=V.options,this.resetStyle(V),R.onEachFeature&&R.onEachFeature(a,V),this.addLayer(V)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function xn(a,u){var d=a.type==="Feature"?a.geometry:a,_=d?d.coordinates:null,E=[],R=u&&u.pointToLayer,V=u&&u.coordsToLatLng||vl,X,nt,ft,At;if(!_&&!d)return null;switch(d.type){case"Point":return X=V(_),va(R,a,X,u);case"MultiPoint":for(ft=0,At=_.length;ft<At;ft++)X=V(_[ft]),E.push(va(R,a,X,u));return new es(E);case"LineString":case"MultiLineString":return nt=No(_,d.type==="LineString"?0:1,V),new Es(nt,u);case"Polygon":case"MultiPolygon":return nt=No(_,d.type==="Polygon"?1:2,V),new ya(nt,u);case"GeometryCollection":for(ft=0,At=d.geometries.length;ft<At;ft++){var Ot=xn({geometry:d.geometries[ft],type:"Feature",properties:a.properties},u);Ot&&E.push(Ot)}return new es(E);case"FeatureCollection":for(ft=0,At=d.features.length;ft<At;ft++){var Yt=xn(d.features[ft],u);Yt&&E.push(Yt)}return new es(E);default:throw new Error("Invalid GeoJSON object.")}}function va(a,u,d,_){return a?a(u,d):new Ro(d,_&&_.markersInheritOptions&&_)}function vl(a){return new bt(a[1],a[0],a[2])}function No(a,u,d){for(var _=[],E=0,R=a.length,V;E<R;E++)V=u?No(a[E],u-1,d):(d||vl)(a[E]),_.push(V);return _}function bl(a,u){return a=Tt(a),a.alt!==void 0?[I(a.lng,u),I(a.lat,u),I(a.alt,u)]:[I(a.lng,u),I(a.lat,u)]}function Io(a,u,d,_){for(var E=[],R=0,V=a.length;R<V;R++)E.push(u?Io(a[R],ue(a[R])?0:u-1,d,_):bl(a[R],_));return!u&&d&&E.length>0&&E.push(E[0].slice()),E}function Xs(a,u){return a.feature?l({},a.feature,{geometry:u}):xl(u)}function xl(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ws={toGeoJSON:function(a){return Xs(this,{type:"Point",coordinates:bl(this.getLatLng(),a)})}};Ro.include(Ws),yl.include(Ws),_a.include(Ws),Es.include({toGeoJSON:function(a){var u=!ue(this._latlngs),d=Io(this._latlngs,u?1:0,!1,a);return Xs(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),ya.include({toGeoJSON:function(a){var u=!ue(this._latlngs),d=u&&!ue(this._latlngs[0]),_=Io(this._latlngs,d?2:u?1:0,!0,a);return u||(_=[_]),Xs(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),ga.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(a).geometry.coordinates)}),Xs(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(E){if(E.toGeoJSON){var R=E.toGeoJSON(a);if(d)_.push(R.geometry);else{var V=xl(R);V.type==="FeatureCollection"?_.push.apply(_,V.features):_.push(V)}}}),d?Xs(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function wl(a,u){return new Ts(a,u)}var Do=wl,ba=Li.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,d){this._url=a,this._bounds=gt(u),F(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(It(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&ke(this._image),this},bringToBack:function(){return this._map&&Zn(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=gt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:Jt("img");if(It(u,"leaflet-image-layer"),this._zoomAnimated&&It(u,"leaflet-zoom-animated"),this.options.className&&It(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onload=m(this.fire,this,"load"),u.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Si(this._image,d,u)},_reset:function(){var a=this._image,u=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();be(a,u.min),a.style.width=d.x+"px",a.style.height=d.y+"px"},_updateOpacity:function(){Ne(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),nh=function(a,u,d){return new ba(a,u,d)},Js=ba.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:Jt("video");if(It(u,"leaflet-image-layer"),this._zoomAnimated&&It(u,"leaflet-zoom-animated"),this.options.className&&It(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onloadeddata=m(this.fire,this,"load"),a){for(var d=u.getElementsByTagName("source"),_=[],E=0;E<d.length;E++)_.push(d[E].src);this._url=d.length>0?_:[u.src];return}ot(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var V=Jt("source");V.src=this._url[R],u.appendChild(V)}}});function xa(a,u,d){return new Js(a,u,d)}var El=ba.extend({_initImage:function(){var a=this._image=this._url;It(a,"leaflet-image-layer"),this._zoomAnimated&&It(a,"leaflet-zoom-animated"),this.options.className&&It(a,this.options.className),a.onselectstart=C,a.onmousemove=C}});function ih(a,u,d){return new El(a,u,d)}var wn=Li.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof bt||ot(a))?(this._latlng=Tt(a),F(this,u)):(F(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Ne(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Ne(this._container,1),this.bringToFront(),this.options.interactive&&(It(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Ne(this._container,0),this._removeTimeout=setTimeout(m($t,void 0,this._container),200)):$t(this._container),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Tt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ke(this._container),this},bringToBack:function(){return this._map&&Zn(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof es){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=vt(this.options.offset),d=this._getAnchor();this._zoomAnimated?be(this._container,a.add(d)):u=u.add(a).add(d);var _=this._containerBottom=-u.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Wt.include({_initOverlay:function(a,u,d,_){var E=u;return E instanceof a||(E=new a(_).setContent(u)),d&&E.setLatLng(d),E}}),Li.include({_initOverlay:function(a,u,d,_){var E=d;return E instanceof a?(F(E,_),E._source=this):(E=u&&!_?u:new a(_,this),E.setContent(d)),E}});var Lo=wn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,wn.prototype.openOn.call(this,a)},onAdd:function(a){wn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof is||this._source.on("preclick",ie))},onRemove:function(a){wn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof is||this._source.off("preclick",ie))},getEvents:function(){var a=wn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Jt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Jt("div",a+"-content-wrapper",u);if(this._contentNode=Jt("div",a+"-content",d),vs(u),ai(this._contentNode),zt(u,"contextmenu",ie),this._tipContainer=Jt("div",a+"-tip-container",u),this._tip=Jt("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Jt("a",a+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',zt(_,"click",function(E){Oe(E),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var d=a.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=a.offsetHeight,E=this.options.maxHeight,R="leaflet-popup-scrolled";E&&_>E?(u.height=E+"px",It(a,R)):ve(a,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),d=this._getAnchor();be(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Hs(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,E=new mt(this._containerLeft,-d-this._containerBottom);E._add(Wi(this._container));var R=a.layerPointToContainerPoint(E),V=vt(this.options.autoPanPadding),X=vt(this.options.autoPanPaddingTopLeft||V),nt=vt(this.options.autoPanPaddingBottomRight||V),ft=a.getSize(),At=0,Ot=0;R.x+_+nt.x>ft.x&&(At=R.x+_-ft.x+nt.x),R.x-At-X.x<0&&(At=R.x-X.x),R.y+d+nt.y>ft.y&&(Ot=R.y+d-ft.y+nt.y),R.y-Ot-X.y<0&&(Ot=R.y-X.y),(At||Ot)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([At,Ot]))}},_getAnchor:function(){return vt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),sh=function(a,u){return new Lo(a,u)};Wt.mergeOptions({closePopupOnClick:!0}),Wt.include({openPopup:function(a,u,d){return this._initOverlay(Lo,a,u,d).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Li.include({bindPopup:function(a,u){return this._popup=this._initOverlay(Lo,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof es||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ai(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof is)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Mo=wn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){wn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){wn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=wn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Jt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,d,_=this._map,E=this._container,R=_.latLngToContainerPoint(_.getCenter()),V=_.layerPointToContainerPoint(a),X=this.options.direction,nt=E.offsetWidth,ft=E.offsetHeight,At=vt(this.options.offset),Ot=this._getAnchor();X==="top"?(u=nt/2,d=ft):X==="bottom"?(u=nt/2,d=0):X==="center"?(u=nt/2,d=ft/2):X==="right"?(u=0,d=ft/2):X==="left"?(u=nt,d=ft/2):V.x<R.x?(X="right",u=0,d=ft/2):(X="left",u=nt+(At.x+Ot.x)*2,d=ft/2),a=a.subtract(vt(u,d,!0)).add(At).add(Ot),ve(E,"leaflet-tooltip-right"),ve(E,"leaflet-tooltip-left"),ve(E,"leaflet-tooltip-top"),ve(E,"leaflet-tooltip-bottom"),It(E,"leaflet-tooltip-"+X),be(E,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Ne(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return vt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ed=function(a,u){return new Mo(a,u)};Wt.include({openTooltip:function(a,u,d){return this._initOverlay(Mo,a,u,d).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Li.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mo,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof es||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(zt(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),zt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,d,_;this._tooltip.options.sticky&&a.originalEvent&&(d=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var rh=ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Me(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=vt(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Td(a){return new rh(a)}ns.Default=Ao;var wa=Li.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){F(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),$t(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ke(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof mt?a:new mt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,d=-a(-1/0,1/0),_=0,E=u.length,R;_<E;_++)R=u[_].style.zIndex,u[_]!==this._container&&R&&(d=a(d,+R));isFinite(d)&&(this.options.zIndex=d+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Lt.ielt9){Ne(this._container,this.options.opacity);var a=+new Date,u=!1,d=!1;for(var _ in this._tiles){var E=this._tiles[_];if(!(!E.current||!E.loaded)){var R=Math.min(1,(a-E.loaded)/200);Ne(E.el,R),R<1?u=!0:(E.active?d=!0:this._onOpaqueTile(E),E.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(Q(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=Jt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===a?(this._levels[d].el.style.zIndex=u-Math.abs(a-d),this._onUpdateLevel(d)):($t(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[a],E=this._map;return _||(_=this._levels[a]={},_.el=Jt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=E.project(E.unproject(E.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,E.getCenter(),E.getZoom()),C(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var a,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)$t(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,d,_){var E=Math.floor(a/2),R=Math.floor(u/2),V=d-1,X=new mt(+E,+R);X.z=+V;var nt=this._tileCoordsToKey(X),ft=this._tiles[nt];return ft&&ft.active?(ft.retain=!0,!0):(ft&&ft.loaded&&(ft.retain=!0),V>_?this._retainParent(E,R,V,_):!1)},_retainChildren:function(a,u,d,_){for(var E=2*a;E<2*a+2;E++)for(var R=2*u;R<2*u+2;R++){var V=new mt(E,R);V.z=d+1;var X=this._tileCoordsToKey(V),nt=this._tiles[X];if(nt&&nt.active){nt.retain=!0;continue}else nt&&nt.loaded&&(nt.retain=!0);d+1<_&&this._retainChildren(E,R,d+1,_)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,d,_){var E=Math.round(u);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var R=this.options.updateWhenZooming&&E!==this._tileZoom;(!_||R)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(a),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],a,u)},_setZoomTransform:function(a,u,d){var _=this._map.getZoomScale(d,a.zoom),E=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();Lt.any3d?Si(a.el,E,_):be(a.el,E)},_resetGrid:function(){var a=this._map,u=a.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(a.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(a.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),E=u.project(a,this._tileZoom).floor(),R=u.getSize().divideBy(_*2);return new z(E.subtract(R),E.add(R))},_update:function(a){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),E=this._pxBoundsToTileRange(_),R=E.getCenter(),V=[],X=this.options.keepBuffer,nt=new z(E.getBottomLeft().subtract([X,-X]),E.getTopRight().add([X,-X]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ft in this._tiles){var At=this._tiles[ft].coords;(At.z!==this._tileZoom||!nt.contains(new mt(At.x,At.y)))&&(this._tiles[ft].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(a,d);return}for(var Ot=E.min.y;Ot<=E.max.y;Ot++)for(var Yt=E.min.x;Yt<=E.max.x;Yt++){var dn=new mt(Yt,Ot);if(dn.z=this._tileZoom,!!this._isValidTile(dn)){var Ye=this._tiles[this._tileCoordsToKey(dn)];Ye?Ye.current=!0:V.push(dn)}}if(V.sort(function(de,me){return de.distanceTo(R)-me.distanceTo(R)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Xn=document.createDocumentFragment();for(Yt=0;Yt<V.length;Yt++)this._addTile(V[Yt],Xn);this._level.el.appendChild(Xn)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(a.x<d.min.x||a.x>d.max.x)||!u.wrapLat&&(a.y<d.min.y||a.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return gt(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,d=this.getTileSize(),_=a.scaleBy(d),E=_.add(d),R=u.unproject(_,a.z),V=u.unproject(E,a.z);return[R,V]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),d=new _t(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),d=new mt(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(a){var u=this._tiles[a];u&&($t(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){It(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=C,a.onmousemove=C,Lt.ielt9&&this.options.opacity<1&&Ne(a,this.options.opacity)},_addTile:function(a,u){var d=this._getTilePos(a),_=this._tileCoordsToKey(a),E=this.createTile(this._wrapCoords(a),m(this._tileReady,this,a));this._initTile(E),this.createTile.length<2&&B(m(this._tileReady,this,a,null,E)),be(E,d),this._tiles[_]={el:E,coords:a,current:!0},u.appendChild(E),this.fire("tileloadstart",{tile:E,coords:a})},_tileReady:function(a,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:a});var _=this._tileCoordsToKey(a);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ne(d.el,0),Q(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(It(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Lt.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new mt(this._wrapX?A(a.x,this._wrapX):a.x,this._wrapY?A(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new z(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function ah(a){return new wa(a)}var $s=wa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=F(this,u),u.detectRetina&&Lt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var d=document.createElement("img");return zt(d,"load",m(this._tileOnLoad,this,u,d)),zt(d,"error",m(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(a),d},getTileUrl:function(a){var u={r:Lt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=d),u["-y"]=d}return rt(this._url,l(u,this.options))},_tileOnLoad:function(a,u){Lt.ielt9?setTimeout(m(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),a(d,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(a=u-a),a+_},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=C,u.onerror=C,!u.complete)){u.src=Ct;var d=this._tiles[a].coords;$t(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",Ct),wa.prototype._removeTile.call(this,a)},_tileReady:function(a,u,d){if(!(!this._map||d&&d.getAttribute("src")===Ct))return wa.prototype._tileReady.call(this,a,u,d)}});function ui(a,u){return new $s(a,u)}var ko=$s.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=F(this,u);var E=u.detectRetina&&Lt.retina?2:1,R=this.getTileSize();d.width=R.x*E,d.height=R.y*E,this.wmsParams=d},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,$s.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),d=this._crs,_=lt(d.project(u[0]),d.project(u[1])),E=_.min,R=_.max,V=(this._wmsVersion>=1.3&&this._crs===Ar?[E.y,E.x,R.y,R.x]:[E.x,E.y,R.x,R.y]).join(","),X=$s.prototype.getTileUrl.call(this,a);return X+K(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(a,u){return l(this.wmsParams,a),u||this.redraw(),this}});function ci(a,u){return new ko(a,u)}$s.WMS=ko,ui.wms=ci;var jn=Li.extend({options:{padding:.1},initialize:function(a){F(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),It(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,u),R=_.multiplyBy(-d).add(E).subtract(this._map._getNewPixelOrigin(a,u));Lt.any3d?Si(this._container,R,d):be(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new z(d,d.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Tl=jn.extend({options:{tolerance:0},getEvents:function(){var a=jn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){jn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");zt(a,"mousemove",this._onMouseMove,this),zt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,$t(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){jn.prototype._update.call(this);var a=this._bounds,u=this._container,d=a.getSize(),_=Lt.retina?2:1;be(u,a.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){jn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),d=[],_,E;for(E=0;E<u.length;E++){if(_=Number(u[E]),isNaN(_))return;d.push(_)}a.options._dashArray=d}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var d,_,E,R,V=a._parts,X=V.length,nt=this._ctx;if(X){for(nt.beginPath(),d=0;d<X;d++){for(_=0,E=V[d].length;_<E;_++)R=V[d][_],nt[_?"lineTo":"moveTo"](R.x,R.y);u&&nt.closePath()}this._fillStroke(nt,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,d=this._ctx,_=Math.max(Math.round(a._radius),1),E=(Math.max(Math.round(a._radiusY),1)||_)/_;E!==1&&(d.save(),d.scale(1,E)),d.beginPath(),d.arc(u.x,u.y/E,_,0,Math.PI*2,!1),E!==1&&d.restore(),this._fillStroke(d,a)}},_fillStroke:function(a,u){var d=u.options;d.fill&&(a.globalAlpha=d.fillOpacity,a.fillStyle=d.fillColor||d.color,a.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=d.opacity,a.lineWidth=d.weight,a.strokeStyle=d.color,a.lineCap=d.lineCap,a.lineJoin=d.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),d,_,E=this._drawFirst;E;E=E.next)d=E.layer,d.options.interactive&&d._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(ve(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var d,_,E=this._drawFirst;E;E=E.next)d=E.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(It(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,d){this._map._fireDOMEvent(u,d||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function Oo(a){return Lt.canvas?new Tl(a):null}var tr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Iu={_initContainer:function(){this._container=Jt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(jn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=tr("shape");It(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=tr("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;$t(u),a.removeInteractiveTarget(u),delete this._layers[y(a)]},_updateStyle:function(a){var u=a._stroke,d=a._fill,_=a.options,E=a._container;E.stroked=!!_.stroke,E.filled=!!_.fill,_.stroke?(u||(u=a._stroke=tr("stroke")),E.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=ot(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(E.removeChild(u),a._stroke=null),_.fill?(d||(d=a._fill=tr("fill")),E.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(E.removeChild(d),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),d=Math.round(a._radius),_=Math.round(a._radiusY||d);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){ke(a._container)},_bringToBack:function(a){Zn(a._container)}},ss=Lt.vml?tr:ia,Ea=jn.extend({_initContainer:function(){this._container=ss("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ss("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$t(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){jn.prototype._update.call(this);var a=this._bounds,u=a.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),be(d,a.min),d.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=ss("path");a.options.className&&It(u,a.options.className),a.options.interactive&&It(u,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){$t(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,d=a.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,zs(a._parts,u))},_updateCircle:function(a){var u=a._point,d=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||d,E="a"+d+","+_+" 0 1,0 ",R=a._empty()?"M0 0":"M"+(u.x-d)+","+u.y+E+d*2+",0 "+E+-d*2+",0 ";this._setPath(a,R)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){ke(a._path)},_bringToBack:function(a){Zn(a._path)}});Lt.vml&&Ea.include(Iu);function Po(a){return Lt.svg||Lt.vml?new Ea(a):null}Wt.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&Oo(a)||Po(a)}});var Cr=ya.extend({initialize:function(a,u){ya.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=gt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Sd(a,u){return new Cr(a,u)}Ea.create=ss,Ea.pointsToPath=zs,Ts.geometryToLayer=xn,Ts.coordsToLatLng=vl,Ts.coordsToLatLngs=No,Ts.latLngToCoords=bl,Ts.latLngsToCoords=Io,Ts.getFeature=Xs,Ts.asFeature=xl,Wt.mergeOptions({boxZoom:!0});var zn=Qn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ri(),xr(),this._startPoint=this._map.mouseEventToContainerPoint(a),zt(document,{contextmenu:Ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Jt("div","leaflet-zoom-box",this._container),It(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new z(this._point,this._startPoint),d=u.getSize();be(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&($t(this._box),ve(this._container,"leaflet-crosshair")),nn(),qs(),fe(document,{contextmenu:Ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var u=new _t(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Wt.addInitHook("addHandler","boxZoom",zn),Wt.mergeOptions({doubleClickZoom:!0});var Sl=Qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,E=a.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(E):u.setZoomAround(a.containerPoint,E)}});Wt.addInitHook("addHandler","doubleClickZoom",Sl),Wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rs=Qn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ii(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}It(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ve(this._map._container,"leaflet-grab"),ve(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=gt(this._map.options.maxBounds);this._offsetLimit=lt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,E=(_-u+d)%a+u-d,R=(_+u+d)%a-u-d,V=Math.abs(E+d)<Math.abs(R+d)?E:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(a){var u=this._map,d=u.options,_=!d.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),_)u.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,V=d.easeLinearity,X=E.multiplyBy(V/R),nt=X.distanceTo([0,0]),ft=Math.min(d.inertiaMaxSpeed,nt),At=X.multiplyBy(ft/nt),Ot=ft/(d.inertiaDeceleration*V),Yt=At.multiplyBy(-Ot/2).round();!Yt.x&&!Yt.y?u.fire("moveend"):(Yt=u._limitOffset(Yt,u.options.maxBounds),B(function(){u.panBy(Yt,{duration:Ot,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});Wt.addInitHook("addHandler","dragging",rs),Wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Du=Qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),zt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,d=a.scrollTop||u.scrollTop,_=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},d=this.keyCodes,_,E;for(_=0,E=d.left.length;_<E;_++)u[d.left[_]]=[-1*a,0];for(_=0,E=d.right.length;_<E;_++)u[d.right[_]]=[a,0];for(_=0,E=d.down.length;_<E;_++)u[d.down[_]]=[0,a];for(_=0,E=d.up.length;_<E;_++)u[d.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},d=this.keyCodes,_,E;for(_=0,E=d.zoomIn.length;_<E;_++)u[d.zoomIn[_]]=a;for(_=0,E=d.zoomOut.length;_<E;_++)u[d.zoomOut[_]]=-a},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],a.shiftKey&&(_=vt(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(vt(_),d.options.maxBounds)),d.options.worldCopyJump){var E=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(E)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Ai(a)}}});Wt.addInitHook("addHandler","keyboard",Du),Wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vo=Qn.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=sn(a),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),_),Ai(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),d=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,R=d?Math.ceil(E/d)*d:E,V=a._limitZoom(u+(this._delta>0?R:-R))-u;this._delta=0,this._startTime=null,V&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+V):a.setZoomAround(this._lastMousePos,u+V))}});Wt.addInitHook("addHandler","scrollWheelZoom",Vo);var Rr=600;Wt.mergeOptions({tapHold:Lt.touchNative&&Lt.safari&&Lt.mobile,tapTolerance:15});var Al=Qn.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new mt(u.clientX,u.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",Oe),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Rr),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){fe(document,"touchend",Oe),fe(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new mt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var d=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Wt.addInitHook("addHandler","tapHold",Al),Wt.mergeOptions({touchZoom:Lt.touch,bounceAtZoomLimits:!0});var Lu=Qn.extend({addHooks:function(){It(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),Oe(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]),E=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(E,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&E<1||this._zoom>u.getMaxZoom()&&E>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var R=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(E===1&&R.x===0&&R.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var V=m(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(V,this,!0),Oe(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Q(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Wt.addInitHook("addHandler","touchZoom",Lu),Wt.BoxZoom=zn,Wt.DoubleClickZoom=Sl,Wt.Drag=rs,Wt.Keyboard=Du,Wt.ScrollWheelZoom=Vo,Wt.TapHold=Al,Wt.TouchZoom=Lu,n.Bounds=z,n.Browser=Lt,n.CRS=qt,n.Canvas=Tl,n.Circle=yl,n.CircleMarker=_a,n.Class=St,n.Control=vn,n.DivIcon=rh,n.DivOverlay=wn,n.DomEvent=ts,n.DomUtil=Zs,n.Draggable=Ii,n.Evented=yt,n.FeatureGroup=es,n.GeoJSON=Ts,n.GridLayer=wa,n.Handler=Qn,n.Icon=ns,n.ImageOverlay=ba,n.LatLng=bt,n.LatLngBounds=_t,n.Layer=Li,n.LayerGroup=ga,n.LineUtil=oi,n.Map=Wt,n.Marker=Ro,n.Mixin=gl,n.Path=is,n.Point=mt,n.PolyUtil=Ys,n.Polygon=ya,n.Polyline=Es,n.Popup=Lo,n.PosAnimation=bs,n.Projection=Di,n.Rectangle=Cr,n.Renderer=jn,n.SVG=Ea,n.SVGOverlay=El,n.TileLayer=$s,n.Tooltip=Mo,n.Transformation=Vs,n.Util=j,n.VideoOverlay=Js,n.bind=m,n.bounds=lt,n.canvas=Oo,n.circle=eh,n.circleMarker=th,n.control=Vn,n.divIcon=Td,n.extend=l,n.featureGroup=Jc,n.geoJSON=wl,n.geoJson=Do,n.gridLayer=ah,n.icon=So,n.imageOverlay=nh,n.latLng=Tt,n.latLngBounds=gt,n.layerGroup=bd,n.map=Qs,n.marker=$c,n.point=vt,n.polygon=wd,n.polyline=xd,n.popup=sh,n.rectangle=Sd,n.setOptions=F,n.stamp=y,n.svg=Po,n.svgOverlay=ih,n.tileLayer=ui,n.tooltip=Ed,n.transformation=Bi,n.version=r,n.videoOverlay=xa;var Mu=window.L;n.noConflict=function(){return window.L=Mu,this},window.L=n}))})(yc,yc.exports)),yc.exports}var Wc=wL();const rT=Wb(Wc);function a_(s,t,n){return Object.freeze({instance:s,context:t,container:n})}function o_(s,t){return t==null?function(r,l){const h=H.useRef(void 0);return h.current||(h.current=s(r,l)),h}:function(r,l){const h=H.useRef(void 0);h.current||(h.current=s(r,l));const m=H.useRef(r),{instance:v}=h.current;return H.useEffect(function(){m.current!==r&&(t(v,r,m.current),m.current=r)},[v,r,t]),h}}function EL(s,t){H.useEffect(function(){return(t.layerContainer??t.map).addLayer(s.instance),function(){t.layerContainer?.removeLayer(s.instance),t.map.removeLayer(s.instance)}},[t,s])}function aT(s){return function(n){const r=iT(),l=s(r_(n,r),r);return nT(r.map,n.attribution),sT(l.current,n.eventHandlers),EL(l.current,r),l}}function TL(s,t){const n=o_(s,t),r=aT(n);return _L(r)}function SL(s,t){const n=o_(s),r=bL(n,t);return yL(r)}function AL(s,t){const n=o_(s,t),r=aT(n);return vL(r)}function CL(s,t,n){const{opacity:r,zIndex:l}=t;r!=null&&r!==n.opacity&&s.setOpacity(r),l!=null&&l!==n.zIndex&&s.setZIndex(l)}function RL({bounds:s,boundsOptions:t,center:n,children:r,className:l,id:h,placeholder:m,style:v,whenReady:y,zoom:b,...A},C){const[I]=H.useState({className:l,id:h,style:v}),[k,q]=H.useState(null),F=H.useRef(void 0);H.useImperativeHandle(C,()=>k?.map??null,[k]);const K=H.useCallback(rt=>{if(rt!==null&&!F.current){const ot=new Wc.Map(rt,A);F.current=ot,n!=null&&b!=null?ot.setView(n,b):s!=null&&ot.fitBounds(s,t),y!=null&&ot.whenReady(y),q(pL(ot))}},[]);H.useEffect(()=>()=>{k?.map.remove()},[k]);const J=k?Sp.createElement(s_,{value:k},r):m??null;return Sp.createElement("div",{...I,ref:K},J)}const NL=H.forwardRef(RL),IL=TL(function({position:t,...n},r){const l=new Wc.Marker(t,n);return a_(l,gL(r,{overlayContainer:l}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),DL=SL(function(t,n){const r=new Wc.Popup(t,n.overlayContainer);return a_(r,n)},function(t,n,{position:r},l){H.useEffect(function(){const{instance:m}=t;function v(b){b.popup===m&&(m.update(),l(!0))}function y(b){b.popup===m&&l(!1)}return n.map.on({popupopen:v,popupclose:y}),n.overlayContainer==null?(r!=null&&m.setLatLng(r),m.openOn(n.map)):n.overlayContainer.bindPopup(m),function(){n.map.off({popupopen:v,popupclose:y}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(m)}},[t,n,l,r])}),LL=AL(function({url:t,...n},r){const l=new Wc.TileLayer(t,r_(n,r));return a_(l,r)},function(t,n,r){CL(t,n,r);const{url:l}=n;l!=null&&l!==r.url&&t.setUrl(l)}),ML="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",kL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let OL=rT.icon({iconUrl:ML,shadowUrl:kL,iconSize:[25,41],iconAnchor:[12,41]});rT.Marker.prototype.options.icon=OL;function PL({mapLink:s}){const[t,n]=H.useState(null);return H.useEffect(()=>{if(s)try{const r=s.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(r){n([parseFloat(r[1]),parseFloat(r[2])]);return}const l=s.match(/q=(-?\d+\.\d+),(-?\d+\.\d+)/);if(l){n([parseFloat(l[1]),parseFloat(l[2])]);return}}catch(r){console.error("Failed to parse map coords",r)}},[s]),t?w.jsx("div",{className:"h-48 w-full relative z-0",children:w.jsxs(NL,{center:t,zoom:15,scrollWheelZoom:!1,className:"h-full w-full",attributionControl:!1,children:[w.jsx(LL,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),w.jsx(IL,{position:t,children:w.jsx(DL,{children:w.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:"Open in Google Maps"})})})]})}):w.jsx("div",{className:"h-32 bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400 text-xs",children:"Map not available"})}const Qb={"San Gabriel":{lat:34.0961,lng:-118.1058},Pasadena:{lat:34.1478,lng:-118.1445},"DTLA / Hollywood":{lat:34.0522,lng:-118.2437},"Universal City":{lat:34.1381,lng:-118.3534},"Las Vegas":{lat:36.1699,lng:-115.1398},"Grand Canyon / Las Vegas":{lat:36.0544,lng:-112.1401},Ontario:{lat:34.0633,lng:-117.6509},"ONT Airport":{lat:34.056,lng:-117.6012}};function VL(){const{id:s}=Gf(),t=cs(),{getDay:n}=vd(),r=n(s),[l,h]=H.useState(null),[m,v]=H.useState(0);return H.useEffect(()=>{if(!r)return;const y=Qb[r.location]||Qb["San Gabriel"];async function b(){try{const C=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${y.lat}&longitude=${y.lng}&current_weather=true&temperature_unit=fahrenheit`)).json();h(C.current_weather)}catch(A){console.error("Failed to fetch weather",A)}}b()},[r]),H.useEffect(()=>{if(!r)return;const y=new Date(r.date+"T00:00:00"),b=new Date(r.date+"T23:59:59"),A=fu(ao(Mn,"expenses"),du("createdAt",">=",Ce.fromDate(y)),du("createdAt","<=",Ce.fromDate(b))),C=ZE(A,I=>{let k=Sn(0);I.docs.forEach(q=>{const F=q.data();F.amount&&(k=k.add(F.amount))}),v(k.value)},I=>{console.error("Error fetching available expenses: ",I)});return()=>C()},[r]),r?w.jsxs("div",{className:"relative w-full max-w-[430px] mx-auto flex flex-col bg-background-light dark:bg-background-dark min-h-screen pb-24 font-display text-slate-900 dark:text-white",children:[w.jsx("nav",{className:"sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md px-4 py-4",children:w.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[w.jsx("button",{onClick:()=>t("/overview"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-slate-200 dark:bg-card-dark text-slate-900 dark:text-white shadow-sm active:scale-95 transition-transform",children:w.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_back_ios_new"})}),w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest",children:r.date}),w.jsxs("p",{className:"text-lg font-extrabold text-primary",children:["Day ",r.id,": ",r.location]})]}),w.jsxs("button",{onClick:()=>t(`/manage/${r.id}`),className:"w-auto px-4 h-10 flex items-center justify-center rounded-full bg-accent text-primary shadow-sm font-bold text-xs uppercase gap-1 hover:bg-accent/80 transition-colors",children:[w.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"edit"}),"Edit"]})]})}),w.jsxs("main",{className:"max-w-md mx-auto px-4 space-y-6",children:[w.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.jsxs("div",{className:"col-span-2 lakers-gradient p-5 rounded-xl shadow-lg text-white",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/20 backdrop-blur-sm flex items-center justify-center",children:w.jsx("span",{className:"material-symbols-outlined text-white text-[20px]",children:"cloudy_snowing"})}),w.jsx("span",{className:"text-xs font-bold opacity-80 uppercase tracking-wider",children:"Local Forecast"})]}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-4xl font-black",children:l?w.jsxs(w.Fragment,{children:[Math.round(l.temperature),"F ",w.jsxs("span",{className:"text-xl font-normal opacity-60",children:["/ ",tT(l.temperature),"C"]})]}):"Loading..."}),w.jsx("span",{className:"text-xs text-white/80 font-bold uppercase tracking-widest mt-1",children:l?"Current Temp":r.weather})]})]})}),w.jsxs("div",{className:"relative space-y-8",children:[w.jsx("div",{className:"absolute left-[19px] top-6 bottom-0 w-0.5 bg-slate-200 dark:bg-white/10"}),r.events.map((y,b)=>w.jsxs("div",{className:"relative pl-12",children:[w.jsx("div",{className:`absolute left-0 top-1 w-10 h-10 flex items-center justify-center rounded-full z-10 shadow-lg ${b===0?"bg-primary text-white shadow-primary/20":"bg-white dark:bg-card-dark border-2 border-primary text-primary"}`,children:w.jsx("span",{className:"material-symbols-outlined text-sm",children:y.icon})}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-baseline justify-between",children:[w.jsx("h3",{className:"text-lg font-bold leading-tight",children:y.title}),w.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded whitespace-nowrap ${b===0?"text-primary bg-primary/10":"opacity-40 bg-slate-200 dark:bg-white/5"}`,children:y.time})]}),y.description&&w.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm leading-relaxed",children:y.description}),y.mapLink&&w.jsxs("div",{className:"rounded-xl overflow-hidden bg-white dark:bg-card-dark border border-slate-100 dark:border-white/5 shadow-sm",children:[w.jsx(PL,{mapLink:y.mapLink}),w.jsxs("div",{className:"p-3 flex items-center justify-between",children:[w.jsx("span",{className:"text-xs font-medium opacity-60 truncate max-w-[180px]",children:y.location}),w.jsxs("a",{href:y.mapLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary text-xs font-bold uppercase tracking-tight hover:underline",children:[w.jsx("span",{className:"material-symbols-outlined text-sm",children:"directions"}),"Open Maps"]})]})]})]})]},b))]}),w.jsxs("div",{className:"bg-primary p-6 rounded-2xl text-white shadow-xl shadow-primary/20 mt-8 mb-24",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h4",{className:"font-bold text-lg",children:"Daily Summary"}),w.jsxs("span",{className:"text-xs font-bold bg-white/20 px-3 py-1 rounded-full uppercase",children:["Day ",r.id]})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex justify-between text-sm",children:[w.jsx("span",{className:"opacity-80",children:"Accommodation"}),w.jsx("span",{className:"font-semibold",children:"$0.00 (Prepaid)"})]}),w.jsxs("div",{className:"flex justify-between text-sm",children:[w.jsx("span",{className:"opacity-80",children:"Activities & Dining"}),w.jsxs("span",{className:"font-semibold",children:["$",m.toFixed(2)]})]}),w.jsxs("div",{className:"pt-3 border-t border-white/20 flex justify-between items-end",children:[w.jsx("span",{className:"text-sm opacity-80 font-medium uppercase tracking-wider",children:"Total Spent"}),w.jsxs("span",{className:"text-2xl font-black",children:["$",m.toFixed(2)]})]})]})]})]}),w.jsx("button",{onClick:()=>t(`/manage/${r.id}`),className:"fixed bottom-24 right-6 bg-accent text-primary p-4 rounded-full shadow-[0_10px_30px_rgba(253,185,39,0.3)] border-4 border-background-dark active:scale-90 transition-transform z-40 hover:brightness-110",children:w.jsx("span",{className:"material-symbols-outlined text-3xl font-bold",children:"add"})}),w.jsx(uo,{})]}):w.jsx("div",{className:"text-white text-center pt-20",children:"Day not found"})}function jL(){const s=useNavigate(),{currentUser:t}=useAuth(),{usersList:n,loading:r}=n_(),[l,h]=useState(""),[m,v]=useState("USD"),[y,b]=useState(""),[A,C]=useState([]),[I,k]=useState(!1),q=n.filter(J=>J.id!==t?.uid),F=J=>{A.includes(J)?C(A.filter(rt=>rt!==J)):C([...A,J])},K=async()=>{if(!l||!y){alert("");return}k(!0);try{const J=currencyJs(l),rt=[t.uid,...A],ot=J.distribute(rt.length),xt=rt.map((Ct,Nt)=>({userId:Ct,amount:ot[Nt].value}));await addDoc(collection(db,"expenses"),{item:y,amount:J.value,currency:m,paidBy:t.uid,createdAt:serverTimestamp(),splits:xt,splitWith:rt}),s("/overview")}catch(J){console.error("Error adding document: ",J),alert("")}finally{k(!1)}};return w.jsxs("div",{className:"relative flex h-full min-h-screen w-full max-w-[430px] mx-auto flex-col bg-background-dark overflow-x-hidden shadow-2xl font-display text-white",children:[w.jsxs("header",{className:"sticky top-0 z-20 flex items-center bg-lakers-purple px-4 pt-4 pb-4 justify-between border-b border-white/10",children:[w.jsx("button",{onClick:()=>s(-1),className:"text-primary text-base font-medium",children:""}),w.jsx("h1",{className:"text-primary text-[17px] font-bold uppercase tracking-wide",children:""}),w.jsx("div",{className:"flex w-12 items-center justify-end",children:w.jsx("button",{onClick:K,disabled:I,className:"text-primary text-base font-bold disabled:opacity-50",children:""})})]}),w.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar px-4 pt-6 pb-32",children:[w.jsx("div",{className:"bg-card-dark rounded-xl p-5 mb-6 shadow-sm border border-primary/20",children:w.jsxs("div",{className:"flex flex-col gap-6",children:[w.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx("p",{className:"text-primary/70 text-[10px] font-bold uppercase tracking-widest",children:""}),w.jsxs("div",{className:"flex bg-black/20 p-0.5 rounded-full",children:[w.jsx("button",{onClick:()=>v("USD"),className:`px-2 py-0.5 rounded-full text-[9px] font-bold transition-all ${m==="USD"?"bg-primary text-lakers-purple shadow-sm":"text-white/40"}`,children:"USD"}),w.jsx("button",{onClick:()=>v("TWD"),className:`px-2 py-0.5 rounded-full text-[9px] font-bold transition-all ${m==="TWD"?"bg-primary text-lakers-purple shadow-sm":"text-white/40"}`,children:"TWD"})]})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("span",{className:"text-primary text-3xl font-bold leading-none",children:m==="USD"?"$":"NT$"}),w.jsx("input",{value:l,onChange:J=>{const rt=J.target.value;(rt===""||/^\d*\.?\d{0,2}$/.test(rt))&&h(rt)},className:"bg-transparent border-none text-primary text-5xl font-bold p-0 focus:ring-0 w-48 text-center placeholder:text-white/30 placeholder:font-bold",placeholder:"0.00",type:"text",inputMode:"decimal"})]})]}),w.jsx("div",{className:"h-px bg-white/10 w-full"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("label",{className:"text-primary/70 text-[10px] font-bold uppercase tracking-widest mb-2",children:""}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"material-symbols-outlined text-primary text-xl",children:"receipt_long"}),w.jsx("input",{value:y,onChange:J=>b(J.target.value),className:"bg-transparent border-none text-white text-lg font-medium p-0 focus:ring-0 flex-1 placeholder:text-white/30",placeholder:": ",type:"text"})]})]})]})}),w.jsxs("div",{className:"bg-card-dark rounded-xl p-5 mb-6 shadow-sm border border-primary/20",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsx("h3",{className:"text-white text-base font-bold leading-tight",children:""}),w.jsxs("div",{className:"flex items-center gap-1 text-primary/70",children:[w.jsx("span",{className:"material-symbols-outlined text-sm",children:"group"}),w.jsx("span",{className:"text-[11px] font-medium italic",children:""})]})]}),w.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 custom-scrollbar",children:q.length===0?w.jsx("p",{className:"text-sm text-gray-500 italic",children:" ()"}):q.map(J=>w.jsxs("button",{onClick:()=>F(J.uid),className:`flex flex-col items-center gap-2 min-w-[64px] transition-opacity ${A.includes(J.uid)?"opacity-100":"opacity-40"}`,children:[w.jsxs("div",{className:`relative p-0.5 rounded-full ring-2 ${A.includes(J.uid)?"ring-primary":"ring-transparent"} ring-offset-2 ring-offset-card-dark`,children:[J.photoURL?w.jsx("img",{alt:J.displayName,className:"w-12 h-12 rounded-full object-cover bg-slate-200",src:J.photoURL}):w.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-600 flex items-center justify-center text-white font-bold",children:J.displayName?J.displayName[0]:"?"}),A.includes(J.uid)&&w.jsx("div",{className:"absolute -bottom-1 -right-1 bg-primary text-white rounded-full p-0.5 border-2 border-card-dark",children:w.jsx("span",{className:"material-symbols-outlined text-[12px] block font-bold text-lakers-purple",children:"check"})})]}),w.jsx("p",{className:"text-white text-[11px] font-bold truncate w-16 text-center",children:J.displayName||"User"})]},J.uid))}),w.jsxs("div",{className:"mt-6 p-1 bg-black/20 rounded-lg flex",children:[w.jsx("button",{className:"flex-1 py-2 px-4 rounded-md text-xs font-bold transition-all bg-primary text-lakers-purple shadow-sm",children:""}),w.jsx("button",{className:"flex-1 py-2 px-4 rounded-md text-xs font-bold transition-all text-white/40",children:""})]})]}),w.jsx("div",{className:"bg-card-dark rounded-xl p-5 shadow-sm border border-primary/20",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("p",{className:"text-primary/70 text-[10px] font-bold uppercase tracking-wider",children:""}),w.jsxs("p",{className:"text-primary text-2xl font-bold",children:[m==="USD"?"$":"NT$",l&&A.length+1>0?currencyJs(l).divide(A.length+1).toString():"0.00"]})]}),w.jsxs("div",{className:"bg-primary/20 text-primary px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-tight",children:[A.length+1," "]})]})})]}),w.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 w-full max-w-[430px] p-6 bg-gradient-to-t from-background-dark via-background-dark to-transparent pt-10 z-30",children:w.jsxs("button",{onClick:K,disabled:I,className:"w-full bg-primary hover:bg-primary/90 text-lakers-purple font-bold py-4 rounded-xl shadow-lg shadow-primary/20 transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[w.jsx("span",{className:"material-symbols-outlined",children:"add"}),""]})}),w.jsx(BottomNav,{})]})}const oT=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();const zL=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const UL=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());const Yb=s=>{const t=UL(s);return t.charAt(0).toUpperCase()+t.slice(1)};var BL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FL=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const HL=H.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:h,iconNode:m,...v},y)=>H.createElement("svg",{ref:y,...BL,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:oT("lucide",l),...!h&&!FL(v)&&{"aria-hidden":"true"},...v},[...m.map(([b,A])=>H.createElement(b,A)),...Array.isArray(h)?h:[h]]));const hs=(s,t)=>{const n=H.forwardRef(({className:r,...l},h)=>H.createElement(HL,{ref:h,iconNode:t,className:oT(`lucide-${zL(Yb(s))}`,`lucide-${s}`,r),...l}));return n.displayName=Yb(s),n};const qL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],GL=hs("calendar",qL);const ZL=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],KL=hs("chart-no-axes-column-increasing",ZL);const QL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tg=hs("check",QL);const YL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lT=hs("chevron-left",YL);const XL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],WL=hs("chevron-right",XL);const JL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$L=hs("circle-alert",JL);const tM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eM=hs("clock",tM);const nM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],iM=hs("pencil",nM);const sM=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],rM=hs("receipt",sM);const aM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],oM=hs("share-2",aM);const lM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uM=hs("trash-2",lM);const cM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],hM=hs("wallet",cM);function fM(){const s=cs(),{currentUser:t}=na(),{users:n}=n_(),[r,l]=H.useState("USD"),[h,m]=H.useState([]),[v,y]=H.useState(!0);H.useEffect(()=>{async function k(){try{const q=fu(ao(Mn,"expenses"),UE("createdAt","desc")),F=await rl(q),K=[];F.forEach(J=>{K.push({id:J.id,...J.data()})}),m(K)}catch(q){console.error("Error fetching data:",q)}finally{y(!1)}}k()},[]);const b=(k,q)=>{const F=parseFloat(k);return r==="USD"?q==="TWD"?F/32:F:q==="USD"?F*32:F},A=k=>{if(!k)return"";const q=k.toDate(),F=new Date;return(q.getDate()===F.getDate()&&q.getMonth()===F.getMonth()&&q.getFullYear()===F.getFullYear()?"Today, ":q.toLocaleDateString()+", ")+q.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})},C=k=>k?k.toDate().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):"Unknown Date",I=h.reduce((k,q)=>{const F=C(q.createdAt);return k[F]||(k[F]=[]),k[F].push(q),k},{});return w.jsxs("div",{className:"min-h-screen bg-[#19141e] text-white font-sans max-w-[430px] mx-auto flex flex-col relative shadow-2xl border-x border-[#592e7f]/10",children:[w.jsxs("header",{className:"sticky top-0 z-50 bg-[#19141e]/80 backdrop-blur-md pt-6 px-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("button",{onClick:()=>s(-1),className:"text-[#FDB927]",children:w.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios"})}),w.jsx("h1",{className:"text-xl font-extrabold tracking-tight uppercase italic text-white",children:"Expenses"}),w.jsx("div",{className:"text-[#FDB927]",children:w.jsx("span",{className:"material-symbols-outlined text-3xl",children:"more_horiz"})})]}),w.jsxs("button",{onClick:()=>s("/expense-summary"),className:"w-full mb-6 bg-lakers-gold p-5 rounded-3xl flex items-center justify-between shadow-[0_10px_20px_rgba(253,185,39,0.3)] active:scale-[0.98] transition-transform",children:[w.jsxs("div",{className:"flex items-center gap-4 text-lakers-purple",children:[w.jsx("div",{className:"bg-lakers-purple/10 p-2 rounded-xl",children:w.jsx(KL,{size:20,className:"stroke-[3px]"})}),w.jsxs("div",{className:"text-left",children:[w.jsx("p",{className:"font-black text-sm uppercase tracking-[-0.02em] italic",children:"View My Summary"}),w.jsx("p",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest",children:"Settlement"})]})]}),w.jsx(WL,{size:20,className:"text-lakers-purple"})]}),w.jsxs("div",{className:"flex bg-[#362b40] p-1 rounded-xl mb-6 shadow-inner",children:[w.jsxs("label",{className:`flex cursor-pointer h-10 grow items-center justify-center overflow-hidden rounded-lg px-2 text-sm font-bold transition-all duration-200 ${r==="USD"?"bg-[#592e7f] text-white":"text-[#ae9ebd]"}`,children:[w.jsx("span",{className:"truncate",children:"USD"}),w.jsx("input",{className:"hidden",type:"radio",name:"currency",value:"USD",checked:r==="USD",onChange:()=>l("USD")})]}),w.jsxs("label",{className:`flex cursor-pointer h-10 grow items-center justify-center overflow-hidden rounded-lg px-2 text-sm font-bold transition-all duration-200 ${r==="TWD"?"bg-[#592e7f] text-white":"text-[#ae9ebd]"}`,children:[w.jsx("span",{className:"truncate",children:"TWD"}),w.jsx("input",{className:"hidden",type:"radio",name:"currency",value:"TWD",checked:r==="TWD",onChange:()=>l("TWD")})]})]}),w.jsxs("div",{className:"flex flex-col gap-3 pb-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("div",{className:"relative flex-1",children:[w.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[#ae9ebd]",children:"search"}),w.jsx("input",{type:"text",placeholder:"Search (e.g. Dinner, Tickets)",className:"w-full h-12 pl-10 pr-4 bg-[#362b40] border-none rounded-xl focus:ring-2 focus:ring-[#592e7f] text-sm placeholder:text-[#ae9ebd] text-white outline-none"})]}),w.jsx("button",{className:"w-12 h-12 flex items-center justify-center bg-[#592e7f] rounded-xl text-[#FDB927] shadow-lg",children:w.jsx("span",{className:"material-symbols-outlined",children:"tune"})})]}),w.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-2",children:[w.jsx("button",{className:"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#592e7f] px-5 text-white shadow-md",children:w.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"All"})}),w.jsxs("button",{className:"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#362b40] px-5 text-[#ae9ebd]",children:[w.jsx("span",{className:"material-symbols-outlined text-lg",children:"restaurant"}),w.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Food"})]}),w.jsxs("button",{className:"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#362b40] px-5 text-[#ae9ebd]",children:[w.jsx("span",{className:"material-symbols-outlined text-lg",children:"local_taxi"}),w.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Transit"})]}),w.jsxs("button",{className:"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#362b40] px-5 text-[#ae9ebd]",children:[w.jsx("span",{className:"material-symbols-outlined text-lg",children:"confirmation_number"}),w.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Tickets"})]})]})]})]}),w.jsx("main",{className:"flex-1 px-4 py-2 space-y-4 pb-32 overflow-y-auto",children:Object.keys(I).map(k=>w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-3 py-2",children:[w.jsx("div",{className:"h-[1px] flex-1 bg-[#592e7f]/20"}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-[#592e7f]",children:k}),w.jsx("div",{className:"h-[1px] flex-1 bg-[#592e7f]/20"})]}),w.jsx("div",{className:"space-y-4",children:I[k].map(q=>{let F=n[q.paidBy];!F&&t&&t.uid===q.paidBy&&(F={displayName:t.displayName,photoURL:t.photoURL}),F||(F={displayName:"Unknown"});const K=F.displayName?F.displayName[0].toUpperCase():"?",J=b(q.amount,q.currency),ot=(q.splitWith||[]).filter(xt=>xt!==q.paidBy);return w.jsxs("div",{className:"bg-[#2D2935] rounded-xl overflow-hidden shadow-xl border-l-4 border-[#FDB927]",children:[w.jsxs("div",{className:"p-5",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsxs("div",{className:"max-w-[70%]",children:[w.jsx("h3",{className:"text-lg font-bold leading-tight text-white",children:q.item}),w.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[w.jsx("span",{className:"material-symbols-outlined text-sm text-[#592e7f]",children:"sell"}),w.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase tracking-tighter",children:q.category||"General"})]})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("p",{className:"text-xl font-black text-[#FDB927] drop-shadow-[0_0_12px_rgba(253,185,39,0.3)]",children:[r==="USD"?"$":"NT$",J.toFixed(2)]}),w.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:["Total ",r]})]})]}),w.jsxs("div",{className:"flex items-center justify-between mt-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("div",{className:"relative",children:[F.photoURL?w.jsx("div",{className:"size-10 rounded-full border-2 border-[#FDB927] overflow-hidden",children:w.jsx("img",{src:F.photoURL,alt:F.displayName,className:"w-full h-full object-cover"})}):w.jsx("div",{className:"size-10 rounded-full border-2 border-[#FDB927] overflow-hidden bg-[#592e7f] flex items-center justify-center text-white font-bold text-xs",children:K}),w.jsx("div",{className:"absolute -bottom-1 -right-1 size-5 bg-[#FDB927] rounded-full flex items-center justify-center text-[10px] border-2 border-[#2D2935] font-bold text-[#592e7f]",children:""})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none mb-1",children:"Paid by"}),w.jsx("p",{className:"text-sm font-bold text-white",children:F.displayName})]})]}),w.jsxs("div",{className:"flex flex-col items-end",children:[w.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase leading-none mb-2",children:"Split with"}),w.jsxs("div",{className:"flex -space-x-3",children:[ot.slice(0,3).map((xt,Ct)=>{let Nt=n[xt];return!Nt&&t&&t.uid===xt&&(Nt=t),w.jsx("div",{className:"size-8 rounded-full ring-2 ring-[#2D2935] bg-slate-700 flex items-center justify-center text-[10px] font-bold text-white shadow-md overflow-hidden",children:Nt?.photoURL?w.jsx("img",{src:Nt.photoURL,className:"w-full h-full object-cover"}):Nt?.displayName?.[0]||"?"},Ct)}),ot.length>3&&w.jsxs("div",{className:"size-8 rounded-full ring-2 ring-[#2D2935] bg-slate-700 flex items-center justify-center text-[10px] font-bold text-white shadow-md",children:["+",ot.length-3]})]})]})]})]}),w.jsxs("div",{className:"px-5 py-3 bg-black/20 flex justify-between items-center border-t border-white/5",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"material-symbols-outlined text-lg text-slate-400",children:"schedule"}),w.jsx("span",{className:"text-xs font-medium text-slate-400",children:A(q.createdAt)})]}),w.jsxs("button",{onClick:()=>s(`/expense/${q.id}`),className:"text-xs font-bold uppercase tracking-widest text-[#FDB927] flex items-center gap-1",children:["Details ",w.jsx("span",{className:"material-symbols-outlined text-base",children:"chevron_right"})]})]})]},q.id)})})]},k))}),w.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-50",children:w.jsx("button",{onClick:()=>s("/add-expense"),className:"bg-[#592e7f] text-[#FDB927] w-16 h-16 rounded-full shadow-[0_8px_30px_rgba(89,46,127,0.4)] flex items-center justify-center active:scale-90 transition-all border-4 border-[#19141e]",children:w.jsx("span",{className:"material-symbols-outlined text-3xl font-black",children:"add"})})}),w.jsx(uo,{})]})}const dM=()=>{const s=cs(),{currentUser:t}=na(),[n,r]=H.useState([]),[l,h]=H.useState(0),[m,v]=H.useState(!0);H.useEffect(()=>{if(!t)return;async function C(){try{const I=fu(ao(Mn,"expenses"),du("splitWith","array-contains",t.uid)),k=await rl(I),q={};k.forEach(xt=>{const Ct=xt.data(),P=Ct.currency==="USD"?32:1;if(Ct.paidBy===t.uid)Ct.splits&&Ct.splits.forEach(M=>{if(M.userId!==t.uid){let O=Sn(M.amount).multiply(P).value;q[M.userId]||(q[M.userId]={amount:0,items:[]}),q[M.userId].amount=Sn(q[M.userId].amount).add(O).value,q[M.userId].items.push({name:Ct.item,amount:O,type:"owe_me",originalCurrency:Ct.currency})}});else if(Ct.splits){const M=Ct.splits.find(O=>O.userId===t.uid);if(M){let O=Sn(M.amount).multiply(P).value;const G=Ct.paidBy;q[G]||(q[G]={amount:0,items:[]}),q[G].amount=Sn(q[G].amount).subtract(O).value,q[G].items.push({name:Ct.item,amount:O,type:"i_owe",originalCurrency:Ct.currency})}}});const F=Object.keys(q),K=await Promise.all(F.map(xt=>Oc(cr(Mn,"users",xt)))),J={};K.forEach(xt=>{xt.exists()&&(J[xt.id]=xt.data())});let rt=Sn(0);const ot=F.map(xt=>{const Ct=q[xt];rt=rt.add(Ct.amount);const Nt=J[xt]||{displayName:"Unknown",photoURL:null};return{uid:xt,name:Nt.displayName||"Unknown",initial:(Nt.displayName?Nt.displayName[0]:"?").toUpperCase(),photoURL:Nt.photoURL,amount:Ct.amount,items:Ct.items}});r(ot),h(rt.value)}catch(I){console.error("Error calculating settlements:",I)}finally{v(!1)}}C()},[t]);const y=l<0,b=Math.abs(l),A=Sn(b).divide(32).value;return w.jsxs("div",{className:"min-h-screen bg-[#121212] text-white pb-24 font-sans max-w-[430px] mx-auto",children:[w.jsxs("header",{className:"p-6 flex justify-between items-center",children:[w.jsx("button",{onClick:()=>s(-1),children:w.jsx("span",{className:"material-symbols-outlined rotate-180 text-[#FDB927]",children:"chevron_right"})}),w.jsx("h1",{className:"text-xl font-black italic tracking-tighter uppercase",children:"My Expense Summary"}),w.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#FDB927]/10 flex items-center justify-center",children:w.jsx("span",{className:"material-symbols-outlined text-[#FDB927] text-lg",children:"attach_money"})})]}),w.jsx("div",{className:"px-4 mb-8",children:w.jsxs("div",{className:"bg-gradient-to-br from-[#552583] to-[#3a1958] p-8 rounded-[40px] shadow-2xl relative overflow-hidden border-b-4 border-[#FDB927]",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsx("p",{className:"text-[#FDB927] text-xs font-black uppercase tracking-widest",children:y?"My Total Debt":"My Total Credit"}),w.jsx("span",{className:"material-symbols-outlined text-white/40 text-xl",children:"info"})]}),w.jsxs("h2",{className:"text-5xl font-black italic mb-2 tracking-tighter",children:[y?"-":"+","NT$",b.toFixed(0)]}),w.jsxs("p",{className:"text-white/50 text-sm font-bold tracking-tight",children:[" $",A.toFixed(2)," USD"]}),w.jsx("div",{className:"mt-8 h-1 w-full bg-white/10 rounded-full overflow-hidden",children:w.jsx("div",{className:`h-full ${y?"bg-red-500":"bg-[#FDB927]"} w-[65%] rounded-full shadow-[0_0_10px_#FDB927]`})})]})}),w.jsxs("div",{className:"px-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 px-2",children:[w.jsx("h3",{className:"text-xs font-black uppercase tracking-[0.2em] text-[#FDB927]",children:"Settlement Breakdown"}),w.jsxs("span",{className:"text-[10px] font-bold text-white/30 uppercase",children:[n.length," People"]})]}),m?w.jsx("div",{className:"text-center text-white/50 py-10",children:"Loading..."}):w.jsxs("div",{className:"space-y-4",children:[n.map((C,I)=>{const k=C.amount>0,q=Math.abs(C.amount);return w.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl overflow-hidden",children:[w.jsxs("div",{className:"p-5 flex items-center justify-between bg-white/[0.02]",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("div",{className:"w-12 h-12 rounded-full bg-purple-900 border-2 border-[#FDB927] flex items-center justify-center text-xs font-black relative overflow-hidden",children:[C.photoURL?w.jsx("img",{src:C.photoURL,alt:C.name,className:"w-full h-full object-cover"}):C.initial,w.jsx("div",{className:"absolute -bottom-1 -right-1 bg-[#FDB927] p-1 rounded-full shadow-lg flex items-center justify-center",children:w.jsx("div",{className:"w-2 h-2 rounded-full border border-[#552583]"})})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-black text-lg",children:C.name}),w.jsxs("p",{className:`${k?"text-[#FDB927]":"text-red-400"} text-[10px] font-black uppercase italic`,children:[k?"Owes You":"You Owe",": $",q.toFixed(2)]})]})]}),w.jsx("button",{className:"bg-white/10 hover:bg-[#FDB927] hover:text-[#552583] px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all tracking-widest cursor-pointer",children:"Settle"})]}),w.jsx("div",{className:"p-5 pt-2 space-y-3",children:C.items.map((F,K)=>w.jsxs("div",{className:"flex justify-between items-center text-sm",children:[w.jsxs("span",{className:"text-white/50 font-medium",children:[F.name,w.jsxs("span",{className:"text-[9px] opacity-50 ml-1",children:["(",F.type==="owe_me"?"Split":"Covered",")"]})]}),w.jsxs("span",{className:"font-black",children:["$",F.amount.toFixed(2)]})]},K))})]},I)}),n.length===0&&w.jsx("div",{className:"text-center text-white/30 py-8 text-sm italic",children:"No expenses to settle."})]})]}),w.jsx(uo,{})]})};function mM(){const{dayId:s}=Gf(),t=cs(),{getDay:n,addEvent:r,updateEvent:l,deleteEvent:h,schedule:m,syncToFirestore:v}=vd(),[y,b]=H.useState(null),[A,C]=H.useState(null),I=H.useRef(null),k=H.useRef(!1),q=H.useRef(0),F=H.useRef(0),K=Et=>{k.current=!0,q.current=Et.pageX-I.current.offsetLeft,F.current=I.current.scrollLeft,I.current.style.cursor="grabbing",I.current.style.userSelect="none"},J=()=>{k.current=!1,I.current&&(I.current.style.cursor="grab",I.current.style.removeProperty("user-select"))},rt=()=>{k.current=!1,I.current&&(I.current.style.cursor="grab",I.current.style.removeProperty("user-select"))},ot=Et=>{if(!k.current)return;Et.preventDefault();const z=(Et.pageX-I.current.offsetLeft-q.current)*2;I.current.scrollLeft=F.current-z};H.useEffect(()=>{if(I.current&&s){const Et=I.current.querySelector(`[data-day-id="${s}"]`);Et&&Et.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[s,m]);const[xt,Ct]=H.useState(""),[Nt,P]=H.useState(""),[M,O]=H.useState(""),[G,B]=H.useState(""),[Q,j]=H.useState("calendar_today");H.useEffect(()=>{const Et=n(s);Et&&b(Et)},[s,m]);const St=()=>{if(!xt||!Nt||!M){alert("Please fill in all required fields (When, What, Details)");return}const Et={time:xt,title:Nt,description:M,location:Nt,mapLink:G,icon:Q};A!==null?(l(s,A,Et),alert("Event updated!")):(r(s,Et),alert("Event added!")),Ct(""),P(""),O(""),B(""),j("calendar_today"),C(null)},jt=Et=>{const vt=y.events[Et];Ct(vt.time),P(vt.title),O(vt.description),B(vt.mapLink||""),j(vt.icon||"calendar_today"),C(Et),window.scrollTo({top:0,behavior:"smooth"})},et=()=>{Ct(""),P(""),O(""),B(""),j("calendar_today"),C(null)},yt=Et=>{window.confirm("Are you sure you want to delete this event?")&&h(s,Et)};if(!y)return w.jsxs("div",{className:"text-white text-center pt-20",children:["Loading Day ",s,"..."]});const mt=Et=>{const vt=Et.split("-");return vt.length===3?`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(vt[1])-1]} ${parseInt(vt[2])}`:Et};return w.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-white min-h-screen pb-32 font-display w-full max-w-[430px] mx-auto",children:[w.jsxs("div",{className:"sticky top-0 z-50 bg-background-light dark:bg-background-dark/95 backdrop-blur-md border-b border-white/10",children:[w.jsxs("div",{className:"flex items-center p-4 justify-between",children:[w.jsx("button",{onClick:()=>t(`/day/${s}`),className:"text-primary dark:text-accent flex size-10 shrink-0 items-center justify-center rounded-full hover:bg-primary/10 cursor-pointer",children:w.jsx("span",{className:"material-symbols-outlined",children:"arrow_back_ios_new"})}),w.jsx("h2",{className:"text-primary dark:text-white text-lg font-extrabold uppercase tracking-widest flex-1 text-center",children:"Manage Schedule"}),w.jsx("div",{className:"flex w-10 items-center justify-end",children:w.jsx("button",{onClick:v,className:"flex items-center justify-center size-10 rounded-full hover:bg-primary/10",title:"Sync to Cloud",children:w.jsx("span",{className:"material-symbols-outlined text-primary dark:text-accent text-[20px]",children:"cloud_upload"})})})]}),w.jsx("div",{ref:I,className:"flex overflow-x-auto custom-scrollbar px-4 gap-6 border-b border-white/10 pb-1 snap-x cursor-grab active:cursor-grabbing",onMouseDown:K,onMouseLeave:J,onMouseUp:rt,onMouseMove:ot,children:m.map(Et=>w.jsxs("button",{"data-day-id":Et.id,onClick:()=>t(`/manage/${Et.id}`),className:`flex flex-col items-center justify-center border-b-4 pb-3 pt-2 shrink-0 min-w-[60px] snap-center transition-colors ${Et.id===parseInt(s)?"border-accent text-accent":"border-transparent text-white/40"}`,children:[w.jsxs("p",{className:"text-xs font-black uppercase",children:["Day ",Et.id]}),w.jsx("p",{className:"text-[10px] font-bold opacity-70",children:mt(Et.date)})]},Et.id))})]}),w.jsxs("main",{className:"p-4 space-y-8",children:[w.jsxs("section",{className:"bg-surface-dark rounded-xl p-5 border border-white/10 shadow-2xl relative overflow-hidden bg-[#2b2533]",children:[w.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/20 blur-[60px] rounded-full -mr-16 -mt-16"}),w.jsxs("h3",{className:"text-accent text-sm font-black uppercase tracking-tighter mb-4 flex items-center gap-2",children:[w.jsx("span",{className:"material-symbols-outlined text-sm",children:A!==null?"edit":"add_circle"}),A!==null?"Edit Event":"Add New Event"]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex flex-col gap-1.5 gold-glow",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/60 px-1",children:"When? (Required)"}),w.jsxs("div",{className:"flex items-stretch rounded-lg bg-black/20 border border-white/10",children:[w.jsx("input",{value:xt,onChange:Et=>Ct(Et.target.value),className:"flex-1 bg-transparent border-0 text-white p-3 text-sm font-bold focus:ring-0 placeholder:text-white/20",placeholder:"e.g. 19:30",type:"time"}),w.jsx("div",{className:"flex items-center px-3 border-l border-white/10",children:w.jsx("span",{className:"material-symbols-outlined text-accent text-xl",children:"schedule"})})]})]}),w.jsxs("div",{className:"flex flex-col gap-1.5 gold-glow",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/60 px-1",children:"What are we doing? (Required)"}),w.jsx("input",{value:Nt,onChange:Et=>P(Et.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-sm font-bold focus:ring-0 focus:border-accent text-white placeholder:text-white/20",placeholder:"e.g. Game Tip-off",type:"text"})]}),w.jsxs("div",{className:"flex flex-col gap-1.5 gold-glow",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/60 px-1",children:"Details (Required)"}),w.jsx("textarea",{value:M,onChange:Et=>O(Et.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-sm font-bold focus:ring-0 focus:border-accent text-white placeholder:text-white/20",placeholder:"e.g. Section 112, Entrance B.",rows:"2"})]}),w.jsxs("div",{className:"flex flex-col gap-1.5 gold-glow",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/60 px-1",children:"Location Link (Optional)"}),w.jsxs("div",{className:"flex items-stretch rounded-lg bg-black/20 border border-white/10 overflow-hidden",children:[w.jsx("div",{className:"flex items-center px-3 bg-primary/20 border-r border-white/10",children:w.jsx("span",{className:"material-symbols-outlined text-accent text-xl",children:"map"})}),w.jsx("input",{value:G,onChange:Et=>B(Et.target.value),className:"flex-1 bg-transparent border-0 text-white p-3 text-sm font-bold focus:ring-0 placeholder:text-white/20",placeholder:"Paste Google Maps URL",type:"text"})]})]}),w.jsx("div",{className:"flex flex-col gap-3 mt-4",children:A!==null?w.jsxs("div",{className:"flex gap-3 w-full",children:[w.jsxs("button",{onClick:et,className:"flex-1 bg-white/5 border border-white/10 hover:bg-white/10 text-white font-black py-4 rounded-xl flex items-center justify-center gap-2 transition-all active:scale-95 uppercase tracking-widest text-[10px]",children:[w.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"}),"CANCEL"]}),w.jsxs("button",{onClick:St,className:"flex-[2] bg-[#FDB927] text-[#552583] py-4 rounded-xl font-black text-[10px] uppercase tracking-widest active:scale-[0.98] transition-all shadow-[0_4px_0_#b8861b] flex items-center justify-center gap-2",children:["UPDATE EVENT",w.jsx("span",{className:"material-symbols-outlined text-sm",children:"update"})]})]}):w.jsxs("button",{onClick:St,className:"w-full bg-[#FDB927] text-[#552583] py-4 rounded-xl font-black text-[10px] uppercase tracking-widest active:scale-[0.98] transition-all shadow-[0_4px_0_#b8861b] flex items-center justify-center gap-2",children:["ADD TO SCHEDULE",w.jsx("span",{className:"material-symbols-outlined text-sm",children:"celebration"})]})})]})]}),w.jsxs("section",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-between px-1",children:[w.jsx("h3",{className:"text-white text-lg font-black uppercase tracking-tight",children:"Existing Plans"}),w.jsxs("span",{className:"text-[10px] font-black text-accent px-2 py-0.5 border border-accent/30 rounded-full bg-accent/5",children:[y.events.length," EVENTS"]})]}),y.events.map((Et,vt)=>w.jsxs("div",{className:"group relative bg-[#2b2533] border border-white/10 rounded-xl p-4 flex gap-4 transition-all hover:border-accent/40 shadow-lg",children:[w.jsxs("div",{className:"flex flex-col items-center justify-start pt-1 border-r border-white/10 pr-4 min-w-[75px]",children:[w.jsx("span",{className:"text-accent font-black text-sm",children:Et.time}),w.jsx("span",{className:"text-[9px] uppercase font-black text-white/40",children:"TIME"})]}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h4",{className:"font-black text-white text-base",children:Et.title}),w.jsx("p",{className:"text-white/60 text-xs font-medium line-clamp-2 mt-1",children:Et.description})]}),w.jsxs("div",{className:"flex flex-col gap-4",children:[w.jsx("button",{onClick:()=>jt(vt),className:`size-8 rounded-full flex items-center justify-center text-white/40 hover:text-accent hover:bg-accent/10 transition-colors ${A===vt?"text-accent bg-accent/10":""}`,children:w.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),w.jsx("button",{onClick:()=>yt(vt),className:"size-8 rounded-full flex items-center justify-center text-white/40 hover:text-red-400 hover:bg-red-400/10 transition-colors",children:w.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]},vt)),y.events.length===0&&w.jsx("p",{className:"text-white/30 text-center text-sm italic py-4",children:"No events scheduled."})]})]}),w.jsx(uo,{})]})}const pM=()=>{const{id:s}=Gf(),t=cs(),{currentUser:n}=na(),[r,l]=H.useState(null),[h,m]=H.useState(!0),[v,y]=H.useState({});if(H.useEffect(()=>{async function K(){try{if(!s)return;const J=cr(Mn,"expenses",s),rt=await Oc(J);if(rt.exists()){const ot=rt.data();l({id:rt.id,...ot});const xt=new Set;ot.paidBy&&xt.add(ot.paidBy),ot.splits&&ot.splits.forEach(Nt=>xt.add(Nt.userId)),ot.splitWith&&ot.splitWith.forEach(Nt=>xt.add(Nt));const Ct={};await Promise.all(Array.from(xt).map(async Nt=>{const P=await Oc(cr(Mn,"users",Nt));P.exists()&&(Ct[Nt]=P.data())})),y(Ct)}else console.log("No such document!")}catch(J){console.error("Error fetching transaction:",J)}finally{m(!1)}}K()},[s]),h)return w.jsx("div",{className:"min-h-screen bg-[#171717] text-white flex items-center justify-center",children:"Loading..."});if(!r)return w.jsx("div",{className:"min-h-screen bg-[#171717] text-white flex items-center justify-center",children:"Transaction not found"});const b=K=>v[K]?v[K]:n&&n.uid===K?n:{displayName:"Unknown",photoURL:null},A=b(r.paidBy),C=r.createdAt?r.createdAt.toDate():new Date,I=C.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),k=C.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});let q=[];r.splits&&(q=r.splits.map(K=>{const J=b(K.userId);return{name:J.displayName||"Unknown",photoURL:J.photoURL,amount:K.amount,status:K.userId===r.paidBy?"Paid":"Owed"}}));const F=r.currency==="USD"?"$":"NT$";return w.jsxs("div",{className:"min-h-screen flex flex-col bg-[#171717] text-white font-sans max-w-[430px] mx-auto",children:[w.jsxs("header",{className:"sticky top-0 z-50 bg-[#171717]/90 backdrop-blur-md px-4 py-4 flex items-center justify-between border-b border-[#262626]",children:[w.jsx("button",{onClick:()=>t(-1),className:"size-10 flex items-center justify-center rounded-full bg-[#262626] text-[#FDB927]",children:w.jsx(lT,{size:20})}),w.jsx("h1",{className:"font-extrabold uppercase tracking-widest text-[11px] text-neutral-400",children:"Transaction Details"}),w.jsx("button",{className:"size-10 flex items-center justify-center rounded-full bg-[#262626] text-[#FDB927]",children:w.jsx(oM,{size:20})})]}),w.jsx("main",{className:"flex-1 pb-32",children:w.jsxs("div",{className:"px-5 pt-6",children:[w.jsxs("div",{className:"relative overflow-hidden rounded-xl p-8 mb-6 border-b-4 border-[#FDB927] shadow-2xl bg-gradient-to-br from-[#552583] to-[#3a195a]",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:w.jsx(rM,{size:96})}),w.jsxs("div",{className:"relative z-10 text-center",children:[w.jsx("p",{className:"font-extrabold uppercase tracking-widest text-[10px] text-[#FDB927]/80 mb-2",children:"Total Amount"}),w.jsxs("h2",{className:"text-5xl font-extrabold text-white tracking-tighter mb-4",children:[F,parseFloat(r.amount).toFixed(2)]}),w.jsxs("div",{className:"flex flex-col items-center gap-1",children:[w.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-wider",children:r.item}),w.jsxs("span",{className:"text-[11px] font-medium text-white/50",children:[I,"  ",k]})]})]})]}),w.jsxs("div",{className:"space-y-8",children:[w.jsxs("section",{children:[w.jsx("h3",{className:"font-extrabold uppercase tracking-widest text-[10px] text-neutral-500 mb-3 px-1",children:"Paid By"}),w.jsxs("div",{className:"bg-[#262626]/40 rounded-2xl p-4 flex items-center gap-4 border border-white/5",children:[w.jsxs("div",{className:"relative",children:[A.photoURL?w.jsx("img",{src:A.photoURL,alt:A.displayName,className:"size-12 rounded-full border-2 border-[#FDB927] object-cover"}):w.jsx("div",{className:"size-12 rounded-full border-2 border-[#FDB927] bg-[#552583] flex items-center justify-center font-bold text-white",children:A.displayName?A.displayName[0]:"?"}),w.jsx("div",{className:"absolute -bottom-1 -right-1 bg-[#552583] rounded-full p-1 border border-[#262626]",children:w.jsx(tg,{size:10,className:"text-[#FDB927]"})})]}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"font-extrabold text-base uppercase tracking-tight",children:A.displayName}),w.jsx("span",{className:"text-[9px] font-extrabold uppercase tracking-widest text-neutral-500",children:"Primary Payer"})]})]})]}),w.jsxs("section",{children:[w.jsx("h3",{className:"font-extrabold uppercase tracking-widest text-[10px] text-neutral-500 mb-3 px-1",children:"Split Breakdown"}),w.jsx("div",{className:"space-y-2",children:q.length>0?q.map((K,J)=>w.jsxs("div",{className:"bg-[#262626]/20 rounded-2xl p-4 flex items-center justify-between border border-white/5",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[K.photoURL?w.jsx("img",{src:K.photoURL,alt:K.name,className:"size-9 rounded-full object-cover"}):w.jsx("div",{className:"size-9 rounded-full bg-white/10 flex items-center justify-center font-bold text-xs",children:K.name[0]}),w.jsx("span",{className:"font-bold uppercase text-xs tracking-wide",children:K.name})]}),w.jsxs("span",{className:"font-extrabold text-sm text-[#FDB927]",children:[F,parseFloat(K.amount).toFixed(2)]})]},J)):w.jsx("div",{className:"text-center text-white/30 text-xs italic py-4",children:"No split details available"})})]}),w.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[w.jsxs("button",{onClick:()=>t(`/edit-expense/${s}`,{state:{expense:r}}),className:"w-full h-16 bg-[#552583] text-white rounded-2xl font-extrabold uppercase tracking-[0.2em] flex items-center justify-center gap-3 active:scale-95 transition-all border-b-4 border-[#3a195a] shadow-lg",children:[w.jsx(iM,{size:20})," Edit Expense"]}),w.jsxs("button",{className:"w-full h-16 bg-[#262626] text-red-500 rounded-2xl font-extrabold uppercase tracking-[0.2em] flex items-center justify-center gap-3 active:scale-95 transition-all border border-red-500/10 hover:bg-red-500/5",children:[w.jsx(uM,{size:20})," Delete"]})]})]})]})}),w.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:w.jsx(uo,{})})]})},gM="modulepreload",_M=function(s){return"/la-nba/"+s},Xb={},yM=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){let b=function(A){return Promise.all(A.map(C=>Promise.resolve(C).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};var m=b;document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),y=v?.nonce||v?.getAttribute("nonce");l=b(n.map(A=>{if(A=_M(A),A in Xb)return;Xb[A]=!0;const C=A.endsWith(".css"),I=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${I}`))return;const k=document.createElement("link");if(k.rel=C?"stylesheet":gM,C||(k.as="script"),k.crossOrigin="",k.href=A,y&&k.setAttribute("nonce",y),document.head.appendChild(k),C)return new Promise((q,F)=>{k.addEventListener("load",q),k.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${A}`)))})}))}function h(v){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=v,window.dispatchEvent(y),!y.defaultPrevented)throw v}return l.then(v=>{for(const y of v||[])y.status==="rejected"&&h(y.reason);return t().catch(h)})};function vM(){const{id:s}=Gf(),t=cs(),n=mr(),{currentUser:r}=na(),{usersList:l}=n_(),[h,m]=H.useState(!0),[v,y]=H.useState(0),[b,A]=H.useState(""),[C,I]=H.useState(""),[k,q]=H.useState(""),[F,K]=H.useState("USD"),[J,rt]=H.useState(""),[ot,xt]=H.useState([]),[Ct,Nt]=H.useState(null);H.useEffect(()=>{async function St(){try{let jt=null;if(n.state?.expense)jt=n.state.expense;else{const bt=cr(Mn,"expenses",s),Tt=await Oc(bt);if(!Tt.exists()){console.error("Expense not found"),t("/expenses");return}jt=Tt.data()}Nt(jt),y(jt.amount),A(jt.item),K(jt.currency||"USD"),rt(jt.paidBy);const et=jt.createdAt?.toDate?jt.createdAt.toDate():new Date,yt=et.getFullYear(),mt=String(et.getMonth()+1).padStart(2,"0"),Et=String(et.getDate()).padStart(2,"0");I(`${yt}-${mt}-${Et}`);const vt=String(et.getHours()).padStart(2,"0"),z=String(et.getMinutes()).padStart(2,"0");q(`${vt}:${z}`);const lt=l.map(bt=>({id:bt.id,name:bt.displayName||"Unknown",photoURL:bt.photoURL,selected:!1,amount:0})),_t={};if(jt.splits&&Array.isArray(jt.splits))jt.splits.forEach(bt=>{_t[bt.userId]=bt.amount});else if(jt.splitWith&&Array.isArray(jt.splitWith)){const bt=jt.splitWith.length,Tt=Sn(jt.amount).divide(bt).value;jt.splitWith.forEach(qt=>{_t[qt]=Tt})}const gt=lt.map(bt=>{const Tt=!!_t[bt.id];return{...bt,selected:Tt,amount:Tt?_t[bt.id]:0}});xt(gt)}catch(jt){console.error("Error fetching data:",jt)}finally{m(!1)}}s&&l.length>0&&St()},[s,t,n.state,l]);const P=ot.reduce((St,jt)=>St+(jt.selected&&parseFloat(jt.amount)||0),0),M=Math.abs(P-v)<.05,O=St=>{xt(jt=>{const et=jt.map(mt=>mt.id===St?{...mt,selected:!mt.selected}:mt),yt=et.filter(mt=>mt.selected).length;if(yt>0){const mt=Sn(v).divide(yt).value;return et.map(Et=>({...Et,amount:Et.selected?mt:0}))}else return et.map(mt=>({...mt,amount:0}))})},G=(St,jt)=>{xt(et=>et.map(yt=>yt.id===St?{...yt,amount:jt}:yt))},B=async()=>{if(!M){alert("Total amount does not match split sum!");return}if(!b||!v||!J){alert("Please fill in all required fields.");return}try{const St=cr(Mn,"expenses",s),[jt,et,yt]=C.split("-").map(Number),[mt,Et]=k.split(":").map(Number),vt=new Date(jt,et-1,yt,mt,Et),z=ot.filter(gt=>gt.selected).map(gt=>({userId:gt.id,amount:parseFloat(gt.amount)})),lt=z.map(gt=>gt.userId),{Timestamp:_t}=await yM(async()=>{const{Timestamp:gt}=await Promise.resolve().then(()=>$D);return{Timestamp:gt}},[]);await qE(St,{amount:parseFloat(v),item:b,createdAt:_t.fromDate(vt),paidBy:J,splits:z,splitWith:lt,currency:F}),t(-1)}catch(St){console.error("Error updating expense:",St),alert("Failed to update expense")}},Q=async()=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await GE(cr(Mn,"expenses",s)),t("/expenses")}catch(St){console.error("Error deleting:",St),alert("Failed to delete")}};if(h)return w.jsx("div",{className:"min-h-screen bg-[#0F0F0F] text-white flex items-center justify-center",children:"Loading..."});const j=F==="USD"?"$":"NT$";return w.jsxs("div",{className:"min-h-screen bg-[#0F0F0F] text-white font-sans pb-32 max-w-[430px] mx-auto relative shadow-2xl border-x border-[#592e7f]/10",children:[w.jsxs("header",{className:"p-4 flex items-center justify-between border-b border-white/5 sticky top-0 bg-[#0F0F0F]/90 backdrop-blur-md z-40",children:[w.jsx("button",{onClick:()=>t(-1),className:"bg-white/5 p-2 rounded-full text-[#FDB927]",children:w.jsx(lT,{size:20})}),w.jsx("h1",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-white/60",children:"Edit Expense"}),w.jsx("div",{className:"w-10"})]}),w.jsxs("main",{className:"p-4 space-y-6",children:[w.jsxs("section",{className:"bg-gradient-to-br from-[#552583] to-[#2D1345] p-8 rounded-[40px] shadow-2xl relative overflow-hidden border-b-4 border-[#FDB927]",children:[w.jsxs("div",{className:"relative z-10",children:[w.jsx("p",{className:"text-[#FDB927] text-[10px] font-black uppercase tracking-widest text-center mb-1",children:"Total Amount"}),w.jsxs("div",{className:"flex items-center justify-center gap-2",children:[w.jsx("span",{className:"text-[#FDB927] text-3xl font-black italic",children:j}),w.jsx("input",{type:"number",value:v,onChange:St=>y(parseFloat(St.target.value)||0),className:"bg-transparent text-6xl font-black italic tracking-tighter w-48 text-center outline-none"})]})]}),w.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 opacity-10",children:w.jsx(hM,{size:100,className:"text-white",strokeWidth:1})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-2 mb-2 block",children:"Item Title"}),w.jsx("input",{value:b,onChange:St=>A(St.target.value),className:"w-full bg-white/5 border border-white/10 rounded-3xl p-4 font-bold outline-none focus:border-[#FDB927]/50"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-2 mb-2 block",children:"Date"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"date",value:C,onChange:St=>I(St.target.value),className:"w-full bg-white/5 border border-white/10 rounded-3xl p-4 font-bold outline-none [color-scheme:dark] [&::-webkit-calendar-picker-indicator]:hidden"}),w.jsx(GL,{className:"absolute right-4 top-4 text-white/20 pointer-events-none",size:18})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-2 mb-2 block",children:"Time"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"time",value:k,onChange:St=>q(St.target.value),className:"w-full bg-white/5 border border-white/10 rounded-3xl p-4 font-bold outline-none [color-scheme:dark] [&::-webkit-calendar-picker-indicator]:hidden"}),w.jsx(eM,{className:"absolute right-4 top-4 text-white/20 pointer-events-none",size:18})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-2 mb-2 block",children:"Paid By"}),w.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:ot.map(St=>w.jsxs("button",{onClick:()=>rt(St.id),className:`flex items-center gap-2 px-4 py-3 rounded-2xl whitespace-nowrap transition-all border ${J===St.id?"bg-[#552583] border-[#FDB927] shadow-lg":"bg-white/5 border-transparent opacity-60"}`,children:[w.jsx("div",{className:"w-6 h-6 rounded-full overflow-hidden bg-white/10",children:St.photoURL?w.jsx("img",{src:St.photoURL,alt:St.name,className:"w-full h-full object-cover"}):w.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-[10px]",children:St.name[0]})}),w.jsx("span",{className:"text-xs font-black uppercase tracking-wide",children:St.name})]},St.id))})]})]}),w.jsxs("section",{className:"space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-end px-2",children:[w.jsx("h4",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Split Details"}),w.jsxs("p",{className:"text-[10px] font-black uppercase",children:["Current Total: ",w.jsxs("span",{className:M?"text-[#FDB927]":"text-red-500",children:[j,P.toFixed(2)]})]})]}),w.jsx("div",{className:"space-y-3",children:ot.map(St=>w.jsxs("div",{className:`flex items-center justify-between p-4 rounded-3xl border transition-all ${St.selected?"bg-white/5 border-white/20":"bg-white/[0.02] border-white/5 opacity-40"}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:()=>O(St.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${St.selected?"bg-[#552583] border-[#FDB927]":"border-white/20"}`,children:St.selected&&w.jsx(tg,{size:14,className:"text-[#FDB927]",strokeWidth:4})}),w.jsx("div",{className:"w-10 h-10 rounded-full border border-white/10 bg-black overflow-hidden flex items-center justify-center",children:St.photoURL?w.jsx("img",{src:St.photoURL,alt:St.name,className:"w-full h-full object-cover"}):w.jsx("span",{className:"font-bold text-xs",children:St.name[0]})}),w.jsx("span",{className:"text-xs font-black italic tracking-tight",children:St.name})]}),w.jsxs("div",{className:"relative w-28",children:[w.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[10px] font-black text-[#FDB927]",children:j}),w.jsx("input",{type:"number",disabled:!St.selected,value:St.amount,onChange:jt=>G(St.id,jt.target.value),className:"w-full bg-black/40 border border-white/10 rounded-2xl py-2 pl-7 pr-3 text-right text-sm font-black outline-none focus:border-[#FDB927]"})]})]},St.id))}),w.jsx("div",{className:`flex items-center gap-2 p-3 rounded-2xl text-[10px] font-black uppercase tracking-widest justify-center transition-colors ${M?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:M?w.jsxs(w.Fragment,{children:[w.jsx(tg,{size:14,strokeWidth:4})," Matches ($",v.toFixed(2),")"]}):w.jsxs(w.Fragment,{children:[w.jsx($L,{size:14,strokeWidth:4})," Diff: $",(v-P).toFixed(2)]})})]}),w.jsxs("div",{className:"space-y-3 pt-4",children:[w.jsx("button",{onClick:B,className:"w-full bg-[#FDB927] text-[#552583] py-5 rounded-[32px] font-['Inter'] font-black italic text-sm uppercase tracking-[0.2em] shadow-[0_4px_0_#b8861b] active:translate-y-[2px] active:shadow-[0_2px_0_#b8861b] transition-all duration-75 flex items-center justify-center gap-2",children:"Update Expense"}),w.jsx("button",{onClick:()=>t(-1),className:"w-full bg-[#552583]/20 text-white/40 py-5 rounded-3xl font-black text-xs uppercase tracking-[0.2em] hover:bg-white/5 active:scale-[0.98] transition-all",children:"Cancel"}),w.jsx("button",{onClick:Q,className:"w-full border border-red-500/20 text-red-500/60 hover:bg-red-500/10 hover:text-red-500 py-3 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] mt-2 transition-all",children:"Delete Expense"})]})]}),w.jsx(uo,{})]})}function bM(){return w.jsx(eA,{basename:"/la-nba/",children:w.jsx(nL,{children:w.jsx(rL,{children:w.jsx(iL,{children:w.jsxs(DS,{children:[w.jsx(Ns,{path:"/",element:w.jsx(aL,{})}),w.jsx(Ns,{path:"/overview",element:w.jsx(Fr,{children:w.jsx(oL,{})})}),w.jsx(Ns,{path:"/itinerary",element:w.jsx(Fr,{children:w.jsx(lL,{})})}),w.jsx(Ns,{path:"/day/:id",element:w.jsx(Fr,{children:w.jsx(VL,{})})}),w.jsx(Ns,{path:"/manage/:dayId",element:w.jsx(Fr,{children:w.jsx(mM,{})})}),w.jsx(Ns,{path:"/add-expense",element:w.jsx(Fr,{children:w.jsx(jL,{})})}),w.jsx(Ns,{path:"/expenses",element:w.jsx(Fr,{children:w.jsx(fM,{})})}),w.jsx(Ns,{path:"/expense/:id",element:w.jsx(Fr,{children:w.jsx(pM,{})})}),w.jsx(Ns,{path:"/edit-expense/:id",element:w.jsx(Fr,{children:w.jsx(vM,{})})}),w.jsx(Ns,{path:"/expense-summary",element:w.jsx(Fr,{children:w.jsx(dM,{})})})]})})})})})}M1.createRoot(document.getElementById("root")).render(w.jsx(H.StrictMode,{children:w.jsx(bM,{})}));
